"use strict";var GL=Object.defineProperty;var JL=(e,t,n)=>t in e?GL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Se=(e,t,n)=>(JL(e,typeof t!="symbol"?t+"":t,n),n);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const x=require("obsidian"),wS=require("@codemirror/language"),Jg=require("@codemirror/state"),$l=require("@codemirror/view");function KL(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $N={exports:{}},gg={},ZN={exports:{}},gn={},xC;function QL(){if(xC)return gn;xC=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function y(X){return X===null||typeof X!="object"?null:(X=g&&X[g]||X["@@iterator"],typeof X=="function"?X:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,D={};function I(X,oe,De){this.props=X,this.context=oe,this.refs=D,this.updater=De||w}I.prototype.isReactComponent={},I.prototype.setState=function(X,oe){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,oe,"setState")},I.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function M(){}M.prototype=I.prototype;function N(X,oe,De){this.props=X,this.context=oe,this.refs=D,this.updater=De||w}var B=N.prototype=new M;B.constructor=N,S(B,I.prototype),B.isPureReactComponent=!0;var k=Array.isArray,R=Object.prototype.hasOwnProperty,L={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function V(X,oe,De){var je,Re={},Fe=null,Be=null;if(oe!=null)for(je in oe.ref!==void 0&&(Be=oe.ref),oe.key!==void 0&&(Fe=""+oe.key),oe)R.call(oe,je)&&!_.hasOwnProperty(je)&&(Re[je]=oe[je]);var Xe=arguments.length-2;if(Xe===1)Re.children=De;else if(1<Xe){for(var Ze=Array(Xe),st=0;st<Xe;st++)Ze[st]=arguments[st+2];Re.children=Ze}if(X&&X.defaultProps)for(je in Xe=X.defaultProps,Xe)Re[je]===void 0&&(Re[je]=Xe[je]);return{$$typeof:e,type:X,key:Fe,ref:Be,props:Re,_owner:L.current}}function U(X,oe){return{$$typeof:e,type:X.type,key:oe,ref:X.ref,props:X.props,_owner:X._owner}}function Z(X){return typeof X=="object"&&X!==null&&X.$$typeof===e}function Q(X){var oe={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(De){return oe[De]})}var G=/\/+/g;function re(X,oe){return typeof X=="object"&&X!==null&&X.key!=null?Q(""+X.key):oe.toString(36)}function de(X,oe,De,je,Re){var Fe=typeof X;(Fe==="undefined"||Fe==="boolean")&&(X=null);var Be=!1;if(X===null)Be=!0;else switch(Fe){case"string":case"number":Be=!0;break;case"object":switch(X.$$typeof){case e:case t:Be=!0}}if(Be)return Be=X,Re=Re(Be),X=je===""?"."+re(Be,0):je,k(Re)?(De="",X!=null&&(De=X.replace(G,"$&/")+"/"),de(Re,oe,De,"",function(st){return st})):Re!=null&&(Z(Re)&&(Re=U(Re,De+(!Re.key||Be&&Be.key===Re.key?"":(""+Re.key).replace(G,"$&/")+"/")+X)),oe.push(Re)),1;if(Be=0,je=je===""?".":je+":",k(X))for(var Xe=0;Xe<X.length;Xe++){Fe=X[Xe];var Ze=je+re(Fe,Xe);Be+=de(Fe,oe,De,Ze,Re)}else if(Ze=y(X),typeof Ze=="function")for(X=Ze.call(X),Xe=0;!(Fe=X.next()).done;)Fe=Fe.value,Ze=je+re(Fe,Xe++),Be+=de(Fe,oe,De,Ze,Re);else if(Fe==="object")throw oe=String(X),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return Be}function fe(X,oe,De){if(X==null)return X;var je=[],Re=0;return de(X,je,"","",function(Fe){return oe.call(De,Fe,Re++)}),je}function $(X){if(X._status===-1){var oe=X._result;oe=oe(),oe.then(function(De){(X._status===0||X._status===-1)&&(X._status=1,X._result=De)},function(De){(X._status===0||X._status===-1)&&(X._status=2,X._result=De)}),X._status===-1&&(X._status=0,X._result=oe)}if(X._status===1)return X._result.default;throw X._result}var he={current:null},se={transition:null},ue={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:se,ReactCurrentOwner:L};return gn.Children={map:fe,forEach:function(X,oe,De){fe(X,function(){oe.apply(this,arguments)},De)},count:function(X){var oe=0;return fe(X,function(){oe++}),oe},toArray:function(X){return fe(X,function(oe){return oe})||[]},only:function(X){if(!Z(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},gn.Component=I,gn.Fragment=n,gn.Profiler=a,gn.PureComponent=N,gn.StrictMode=r,gn.Suspense=c,gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,gn.cloneElement=function(X,oe,De){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var je=S({},X.props),Re=X.key,Fe=X.ref,Be=X._owner;if(oe!=null){if(oe.ref!==void 0&&(Fe=oe.ref,Be=L.current),oe.key!==void 0&&(Re=""+oe.key),X.type&&X.type.defaultProps)var Xe=X.type.defaultProps;for(Ze in oe)R.call(oe,Ze)&&!_.hasOwnProperty(Ze)&&(je[Ze]=oe[Ze]===void 0&&Xe!==void 0?Xe[Ze]:oe[Ze])}var Ze=arguments.length-2;if(Ze===1)je.children=De;else if(1<Ze){Xe=Array(Ze);for(var st=0;st<Ze;st++)Xe[st]=arguments[st+2];je.children=Xe}return{$$typeof:e,type:X.type,key:Re,ref:Fe,props:je,_owner:Be}},gn.createContext=function(X){return X={$$typeof:i,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:o,_context:X},X.Consumer=X},gn.createElement=V,gn.createFactory=function(X){var oe=V.bind(null,X);return oe.type=X,oe},gn.createRef=function(){return{current:null}},gn.forwardRef=function(X){return{$$typeof:l,render:X}},gn.isValidElement=Z,gn.lazy=function(X){return{$$typeof:h,_payload:{_status:-1,_result:X},_init:$}},gn.memo=function(X,oe){return{$$typeof:f,type:X,compare:oe===void 0?null:oe}},gn.startTransition=function(X){var oe=se.transition;se.transition={};try{X()}finally{se.transition=oe}},gn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},gn.useCallback=function(X,oe){return he.current.useCallback(X,oe)},gn.useContext=function(X){return he.current.useContext(X)},gn.useDebugValue=function(){},gn.useDeferredValue=function(X){return he.current.useDeferredValue(X)},gn.useEffect=function(X,oe){return he.current.useEffect(X,oe)},gn.useId=function(){return he.current.useId()},gn.useImperativeHandle=function(X,oe,De){return he.current.useImperativeHandle(X,oe,De)},gn.useInsertionEffect=function(X,oe){return he.current.useInsertionEffect(X,oe)},gn.useLayoutEffect=function(X,oe){return he.current.useLayoutEffect(X,oe)},gn.useMemo=function(X,oe){return he.current.useMemo(X,oe)},gn.useReducer=function(X,oe,De){return he.current.useReducer(X,oe,De)},gn.useRef=function(X){return he.current.useRef(X)},gn.useState=function(X){return he.current.useState(X)},gn.useSyncExternalStore=function(X,oe,De){return he.current.useSyncExternalStore(X,oe,De)},gn.useTransition=function(){return he.current.useTransition()},gn.version="18.2.0",gn}ZN.exports=QL();var P=ZN.exports;const ne=qt(P),XL=KL({__proto__:null,default:ne},[P]);var MC;function e7(){if(MC)return gg;MC=1;var e=P,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(l,c,f){var h,g={},y=null,w=null;f!==void 0&&(y=""+f),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(w=c.ref);for(h in c)r.call(c,h)&&!o.hasOwnProperty(h)&&(g[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)g[h]===void 0&&(g[h]=c[h]);return{$$typeof:t,type:l,key:y,ref:w,props:g,_owner:a.current}}return gg.Fragment=n,gg.jsx=i,gg.jsxs=i,gg}$N.exports=e7();var v=$N.exports;const is=e=>{const{children:t,store:n,context:r}=e,[a,o]=P.useState(n.getState());return P.useEffect(()=>{const i=n.subscribe(l=>{o(l)});return()=>{i()}},[]),v.jsx(r.Provider,{value:a,children:t})};function t7(e){const t=Object.keys(e),n={};for(const r of t)typeof e[r]=="function"&&(n[r]=e[r]);return(r={},a)=>{let o=!1;const i={};for(const l of t){const c=r[l],f=n[l](c,a);i[l]=f,o=o||f!==c}return o?i:r}}function n7(e,t){const n=[];let r=e;return{dispatch:l=>{const c=t(r,l),f=r;r=c;for(const h of n)h(r,f)},getState:()=>r,subscribe:l=>{let c=!0;return n.push(l),()=>{if(!c)return;const f=n.indexOf(l);n.splice(f,1),c=!1}}}}function r7(e,t){switch(t.type){case"SET_MARK_MEMO_ID":return t.payload.markMemoId===e.markMemoId?e:{...e,markMemoId:t.payload.markMemoId};case"SET_EDIT_MEMO_ID":return t.payload.editMemoId===e.editMemoId?e:{...e,editMemoId:t.payload.editMemoId};case"SET_GLOBAL_EDITOR_SHOWN":return t.payload.globalEditorShown===e.globalEditorShown?e:{...e,globalEditorShown:t.payload.globalEditorShown};case"SET_COMMENT_MEMO_ID":return t.payload.commentMemoId===e.commentMemoId?e:{...e,commentMemoId:t.payload.commentMemoId};case"SET_MOBILE_VIEW":return t.payload.isMobileView===e.isMobileView?e:{...e,isMobileView:t.payload.isMobileView};case"SET_CHANGED_BY_MEMOS":return t.payload.changedByMemos===e.changedByMemos?e:{...e,changedByMemos:t.payload.changedByMemos};case"SET_REFRESH":return t.payload.refresh===e.refresh?e:{...e,refresh:t.payload.refresh};case"SET_INSTANCE":return{...e,instanceList:e.instanceList.set(t.payload.id,t.payload.instance)};case"SET_SHOW_SIDEBAR_IN_MOBILE_VIEW":return t.payload.showSiderbarInMobileView===e.showSiderbarInMobileView?e:{...e,showSiderbarInMobileView:t.payload.showSiderbarInMobileView};case"SET_MEMO_LIST_VIEW":return t.payload.memoListView===e.memoListView?e:{...e,memoListView:t.payload.memoListView};case"SET_MEMO_PLUGIN_MANIFEST":return{...e,manifest:t.payload.manifest};case"SET_LOADED":return{...e,loaded:t.payload.loaded};case"SET_EXIT_STEPS":return{...e,exited:t.payload.exited};case"SET_LOCKED":return{...e,locked:t.payload.locked};case"SET_APP_SETTING":return{...e,...t.payload};default:return e}}const a7={markMemoId:"",editMemoId:"",commentMemoId:"",shouldSplitMemoWord:!0,shouldHideImageUrl:!0,shouldUseMarkdownParser:!0,useTinyUndoHistoryCache:!1,isMobileView:!1,showSiderbarInMobileView:!1,changedByMemos:!1,memoListView:null,manifest:null,refresh:!1,loaded:!1,globalEditorShown:!1,instanceList:new Map,locked:!1,exited:!1};function o7(e,t){switch(t.type){case"RELOAD":return qN;case"SET_LOCATION":return t.payload;case"SET_PATHNAME":return t.payload.pathname===e.pathname?e:{...e,pathname:t.payload.pathname};case"SET_HASH":return t.payload.hash===e.hash?e:{...e,hash:t.payload.hash};case"SET_QUERY":return{...e,query:{...t.payload}};case"SET_TAG_QUERY":return t.payload.tag===e.query.tag?e:{...e,query:{...e.query,tag:t.payload.tag}};case"SET_DURATION_QUERY":return t.payload.duration===e.query.duration?e:{...e,query:{...e.query,duration:{...e.query.duration,...t.payload.duration}}};case"SET_PATH_QUERY":return t.payload.path===e.query.path?e:{...e,query:{...e.query,path:t.payload.path}};case"SET_TYPE":return t.payload.type===e.query.type?e:{...e,query:{...e.query,type:t.payload.type}};case"SET_TEXT":return t.payload.text===e.query.text?e:{...e,query:{...e.query,text:t.payload.text}};case"SET_QUERY_FILTER":return t.payload===e.query.filter?e:{...e,query:{...e.query,filter:t.payload}};default:return e}}const qN={pathname:"/",hash:"",query:{tag:"",duration:null,type:"",path:"",metadata:{},text:"",filter:""}};var vn={};Object.defineProperty(vn,"__esModule",{value:!0});var Tr=x;const sT="YYYY-MM-DD",lT="gggg-[W]ww",GN="YYYY-MM",JN="YYYY-[Q]Q",KN="YYYY";function Iv(e){var n,r;const t=window.app.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n[e])==null?void 0:r.enabled)}function Ev(){var e,t,n,r;try{const{internalPlugins:a,plugins:o}=window.app;if(Iv("daily")){const{format:f,folder:h,template:g}=((t=(e=o.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:t.daily)||{};return{format:f||sT,folder:(h==null?void 0:h.trim())||"",template:(g==null?void 0:g.trim())||""}}const{folder:i,format:l,template:c}=((r=(n=a.getPluginById("daily-notes"))==null?void 0:n.instance)==null?void 0:r.options)||{};return{format:l||sT,folder:(i==null?void 0:i.trim())||"",template:(c==null?void 0:c.trim())||""}}catch{}}function Cv(){var e,t,n,r,a,o,i;try{const l=window.app.plugins,c=(e=l.getPlugin("calendar"))==null?void 0:e.options,f=(n=(t=l.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.weekly;if(Iv("weekly"))return{format:f.format||lT,folder:((r=f.folder)==null?void 0:r.trim())||"",template:((a=f.template)==null?void 0:a.trim())||""};const h=c||{};return{format:h.weeklyNoteFormat||lT,folder:((o=h.weeklyNoteFolder)==null?void 0:o.trim())||"",template:((i=h.weeklyNoteTemplate)==null?void 0:i.trim())||""}}catch{}}function xv(){var t,n,r,a;const e=window.app.plugins;try{const o=Iv("monthly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.monthly)||{};return{format:o.format||GN,folder:((r=o.folder)==null?void 0:r.trim())||"",template:((a=o.template)==null?void 0:a.trim())||""}}catch{}}function Mv(){var t,n,r,a;const e=window.app.plugins;try{const o=Iv("quarterly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.quarterly)||{};return{format:o.format||JN,folder:((r=o.folder)==null?void 0:r.trim())||"",template:((a=o.template)==null?void 0:a.trim())||""}}catch{}}function kv(){var t,n,r,a;const e=window.app.plugins;try{const o=Iv("yearly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.yearly)||{};return{format:o.format||KN,folder:((r=o.folder)==null?void 0:r.trim())||"",template:((a=o.template)==null?void 0:a.trim())||""}}catch{}}function QN(...e){let t=[];for(let r=0,a=e.length;r<a;r++)t=t.concat(e[r].split("/"));const n=[];for(let r=0,a=t.length;r<a;r++){const o=t[r];!o||o==="."||n.push(o)}return t[0]===""&&n.unshift(""),n.join("/")}function i7(e){let t=e.substring(e.lastIndexOf("/")+1);return t.lastIndexOf(".")!=-1&&(t=t.substring(0,t.lastIndexOf("."))),t}async function s7(e){const t=e.replace(/\\/g,"/").split("/");if(t.pop(),t.length){const n=QN(...t);window.app.vault.getAbstractFileByPath(n)||await window.app.vault.createFolder(n)}}async function Nv(e,t){t.endsWith(".md")||(t+=".md");const n=Tr.normalizePath(QN(e,t));return await s7(n),n}async function jp(e){const{metadataCache:t,vault:n}=window.app,r=Tr.normalizePath(e);if(r==="/")return Promise.resolve(["",null]);try{const a=t.getFirstLinkpathDest(r,""),o=await n.cachedRead(a),i=window.app.foldManager.load(a);return[o,i]}catch(a){return console.error(`Failed to read the daily note template '${r}'`,a),new Tr.Notice("Failed to read the daily note template"),["",null]}}function Ws(e,t="day"){const n=e.clone().startOf(t).format();return`${t}-${n}`}function XN(e){return e.replace(/\[[^\]]*\]/g,"")}function l7(e,t){if(t==="week"){const n=XN(e);return/w{1,2}/i.test(n)&&(/M{1,4}/.test(n)||/D{1,4}/.test(n))}return!1}function Lp(e,t){return eA(e.basename,t)}function u7(e,t){return eA(i7(e),t)}function eA(e,t){const r={day:Ev,week:Cv,month:xv,quarter:Mv,year:kv}[t]().format.split("/").pop(),a=window.moment(e,r,!0);if(!a.isValid())return null;if(l7(r,t)&&t==="week"){const o=XN(r);if(/w{1,2}/i.test(o))return window.moment(e,r.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return a}class c7 extends Error{}async function tA(e){const t=window.app,{vault:n}=t,r=window.moment,{template:a,format:o,folder:i}=Ev(),[l,c]=await jp(a),f=e.format(o),h=await Nv(i,f);try{const g=await n.create(h,l.replace(/{{\s*date\s*}}/gi,f).replace(/{{\s*time\s*}}/gi,r().format("HH:mm")).replace(/{{\s*title\s*}}/gi,f).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(y,w,S,D,I,M)=>{const N=r(),B=e.clone().set({hour:N.get("hour"),minute:N.get("minute"),second:N.get("second")});return S&&B.add(parseInt(D,10),I),M?B.format(M.substring(1).trim()):B.format(o)}).replace(/{{\s*yesterday\s*}}/gi,e.clone().subtract(1,"day").format(o)).replace(/{{\s*tomorrow\s*}}/gi,e.clone().add(1,"d").format(o)));return t.foldManager.save(g,c),g}catch(g){console.error(`Failed to create file: '${h}'`,g),new Tr.Notice("Unable to create new file.")}}function d7(e,t){return t[Ws(e,"day")]??null}function f7(){const{vault:e}=window.app,{folder:t}=Ev(),n=e.getAbstractFileByPath(Tr.normalizePath(t));if(!n)throw new c7("Failed to find daily notes folder");const r={};return Tr.Vault.recurseChildren(n,a=>{if(a instanceof Tr.TFile){const o=Lp(a,"day");if(o){const i=Ws(o,"day");r[i]=a}}}),r}class h7 extends Error{}function p7(){const{moment:e}=window;let t=e.localeData()._week.dow;const n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;t;)n.push(n.shift()),t--;return n}function m7(e){return p7().indexOf(e.toLowerCase())}async function nA(e){const{vault:t}=window.app,{template:n,format:r,folder:a}=Cv(),[o,i]=await jp(n),l=e.format(r),c=await Nv(a,l);try{const f=await t.create(c,o.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(h,g,y,w,S,D)=>{const I=window.moment(),M=e.clone().set({hour:I.get("hour"),minute:I.get("minute"),second:I.get("second")});return y&&M.add(parseInt(w,10),S),D?M.format(D.substring(1).trim()):M.format(r)}).replace(/{{\s*title\s*}}/gi,l).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(h,g,y)=>{const w=m7(g);return e.weekday(w).format(y.trim())}));return window.app.foldManager.save(f,i),f}catch(f){console.error(`Failed to create file: '${c}'`,f),new Tr.Notice("Unable to create new file.")}}function g7(e,t){return t[Ws(e,"week")]??null}function v7(){const e={};if(!aA())return e;const{vault:t}=window.app,{folder:n}=Cv(),r=t.getAbstractFileByPath(Tr.normalizePath(n));if(!r)throw new h7("Failed to find weekly notes folder");return Tr.Vault.recurseChildren(r,a=>{if(a instanceof Tr.TFile){const o=Lp(a,"week");if(o){const i=Ws(o,"week");e[i]=a}}}),e}class y7 extends Error{}async function rA(e){const{vault:t}=window.app,{template:n,format:r,folder:a}=xv(),[o,i]=await jp(n),l=e.format(r),c=await Nv(a,l);try{const f=await t.create(c,o.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(h,g,y,w,S,D)=>{const I=window.moment(),M=e.clone().set({hour:I.get("hour"),minute:I.get("minute"),second:I.get("second")});return y&&M.add(parseInt(w,10),S),D?M.format(D.substring(1).trim()):M.format(r)}).replace(/{{\s*date\s*}}/gi,l).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,l));return window.app.foldManager.save(f,i),f}catch(f){console.error(`Failed to create file: '${c}'`,f),new Tr.Notice("Unable to create new file.")}}function w7(e,t){return t[Ws(e,"month")]??null}function b7(){const e={};if(!oA())return e;const{vault:t}=window.app,{folder:n}=xv(),r=t.getAbstractFileByPath(Tr.normalizePath(n));if(!r)throw new y7("Failed to find monthly notes folder");return Tr.Vault.recurseChildren(r,a=>{if(a instanceof Tr.TFile){const o=Lp(a,"month");if(o){const i=Ws(o,"month");e[i]=a}}}),e}class S7 extends Error{}async function D7(e){const{vault:t}=window.app,{template:n,format:r,folder:a}=Mv(),[o,i]=await jp(n),l=e.format(r),c=await Nv(a,l);try{const f=await t.create(c,o.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(h,g,y,w,S,D)=>{const I=window.moment(),M=e.clone().set({hour:I.get("hour"),minute:I.get("minute"),second:I.get("second")});return y&&M.add(parseInt(w,10),S),D?M.format(D.substring(1).trim()):M.format(r)}).replace(/{{\s*date\s*}}/gi,l).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,l));return window.app.foldManager.save(f,i),f}catch(f){console.error(`Failed to create file: '${c}'`,f),new Tr.Notice("Unable to create new file.")}}function T7(e,t){return t[Ws(e,"quarter")]??null}function I7(){const e={};if(!iA())return e;const{vault:t}=window.app,{folder:n}=Mv(),r=t.getAbstractFileByPath(Tr.normalizePath(n));if(!r)throw new S7("Failed to find quarterly notes folder");return Tr.Vault.recurseChildren(r,a=>{if(a instanceof Tr.TFile){const o=Lp(a,"quarter");if(o){const i=Ws(o,"quarter");e[i]=a}}}),e}class E7 extends Error{}async function C7(e){const{vault:t}=window.app,{template:n,format:r,folder:a}=kv(),[o,i]=await jp(n),l=e.format(r),c=await Nv(a,l);try{const f=await t.create(c,o.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(h,g,y,w,S,D)=>{const I=window.moment(),M=e.clone().set({hour:I.get("hour"),minute:I.get("minute"),second:I.get("second")});return y&&M.add(parseInt(w,10),S),D?M.format(D.substring(1).trim()):M.format(r)}).replace(/{{\s*date\s*}}/gi,l).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,l));return window.app.foldManager.save(f,i),f}catch(f){console.error(`Failed to create file: '${c}'`,f),new Tr.Notice("Unable to create new file.")}}function x7(e,t){return t[Ws(e,"year")]??null}function M7(){const e={};if(!sA())return e;const{vault:t}=window.app,{folder:n}=kv(),r=t.getAbstractFileByPath(Tr.normalizePath(n));if(!r)throw new E7("Failed to find yearly notes folder");return Tr.Vault.recurseChildren(r,a=>{if(a instanceof Tr.TFile){const o=Lp(a,"year");if(o){const i=Ws(o,"year");e[i]=a}}}),e}function k7(){var r,a;const{app:e}=window,t=e.internalPlugins.plugins["daily-notes"];if(t&&t.enabled)return!0;const n=e.plugins.getPlugin("periodic-notes");return n&&((a=(r=n.settings)==null?void 0:r.daily)==null?void 0:a.enabled)}function aA(){var n,r;const{app:e}=window;if(e.plugins.getPlugin("calendar"))return!0;const t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.weekly)==null?void 0:r.enabled)}function oA(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.monthly)==null?void 0:r.enabled)}function iA(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.quarterly)==null?void 0:r.enabled)}function sA(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.yearly)==null?void 0:r.enabled)}function N7(e){const t={day:Ev,week:Cv,month:xv,quarter:Mv,year:kv}[e];return t()}function A7(e,t){return{day:tA,month:rA,week:nA}[e](t)}vn.DEFAULT_DAILY_NOTE_FORMAT=sT;vn.DEFAULT_MONTHLY_NOTE_FORMAT=GN;vn.DEFAULT_QUARTERLY_NOTE_FORMAT=JN;vn.DEFAULT_WEEKLY_NOTE_FORMAT=lT;vn.DEFAULT_YEARLY_NOTE_FORMAT=KN;var Kg=vn.appHasDailyNotesPluginLoaded=k7;vn.appHasMonthlyNotesPluginLoaded=oA;vn.appHasQuarterlyNotesPluginLoaded=iA;vn.appHasWeeklyNotesPluginLoaded=aA;vn.appHasYearlyNotesPluginLoaded=sA;var lA=vn.createDailyNote=tA;vn.createMonthlyNote=rA;vn.createPeriodicNote=A7;vn.createQuarterlyNote=D7;vn.createWeeklyNote=nA;vn.createYearlyNote=C7;var Ju=vn.getAllDailyNotes=f7;vn.getAllMonthlyNotes=b7;vn.getAllQuarterlyNotes=I7;vn.getAllWeeklyNotes=v7;vn.getAllYearlyNotes=M7;var pb=vn.getDailyNote=d7,Jc=vn.getDailyNoteSettings=Ev,hp=vn.getDateFromFile=Lp;vn.getDateFromPath=u7;vn.getDateUID=Ws;vn.getMonthlyNote=w7;vn.getMonthlyNoteSettings=xv;vn.getPeriodicNoteSettings=N7;vn.getQuarterlyNote=T7;vn.getQuarterlyNoteSettings=Mv;vn.getTemplateInfo=jp;vn.getWeeklyNote=g7;vn.getWeeklyNoteSettings=Cv;vn.getYearlyNote=x7;vn.getYearlyNoteSettings=kv;const F7={},O7={},P7={},j7={},uA={welcome:"Welcome to Thino",ribbonIconTitle:"Thino",to:"to",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],weekDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekDaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],year:null,month:null,"Basic Options":"Basic options","User name":"User name","Set your user name here. 'Memos üòè' By default":"Set your user name here. 'Thino üòè' By default",'You can set target heading like "# Heading" to control data location':'You can set target heading like "# Heading" to control data location',"Insert after heading":"Insert after heading","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"You should set the same heading below if you want to insert and process thino below the same heading.","Allows admonitions to be created using ":"Allows admonitions to be created using ","Process Memos below":"Process thino below","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.","Save Memo button label":"Save thino button label","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"The text shown on the save Thino button in the UI. 'NOTEIT' by default.","Focus on editor when open memos":"Focus on editor when open thino","Focus on editor when open memos. Focus by default.":"Focus on editor when open thino. Focus by default.","Open daily memos with open memos":"Open daily thino with open thino","Open daily memos with open memos. Open by default.":"Open daily thino with open thino. Open by default.","Open Memos when obsidian opens":"Open Thino when obsidian opens","When enable this, Memos will open when Obsidian opens. False by default.":"When enable this, Thino will open when Obsidian opens. False by default.","Hide done tasks in Memo list":"Hide done tasks in Thino list","Hide all done tasks in Memo list. Show done tasks by default.":"Hide all done tasks in Thino list. Show done tasks by default.","Advanced Options":"Advanced Options","UI language for date":"UI language for date","Translates the date UI language. Only 'en' and 'zh' are available.":"Translates the date UI language. Only 'en' and 'zh' are available.","Default prefix when save thino":"Default prefix when save thino","Set the default prefix when create memo, 'List' by default.":"Set the default prefix when create thino, 'List' by default.","Default insert date format":"Default insert date format","Set the default date format when insert date by @, 'Tasks' by default.":"Set the default date format when insert date by @, 'Tasks' by default.","Default editor position on mobile":"Default editor position on mobile","Set the default editor position on Mobile, 'Top' by default.":"Set the default editor position on Mobile, 'Top' by default.","Use button to show editor on mobile":"Use button to show editor on mobile","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Set a float button to call editor on mobile. Only when editor located at the bottom works.","Show Time When Copy Results":"Show Time When Copy Results","Show time when you copy results, like 12:00. Copy time by default.":"Show time when you copy results, like 12:00. Copy time by default.","Show Date When Copy Results":"Show Date When Copy Results","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"Show date when you copy results, like [[2022-01-01]]. Copy date by default.","Add Blank Line Between Different Date":"Add Blank Line Between Different Date","Add blank line when copy result with date. No blank line by default.":"Add blank line when copy result with date. No blank line by default.","Share Options":"Share Options","Share Memos Image Footer Start":"Share Thino Image Footer Start","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default","Share Memos Image Footer End":"Share Thino Image Footer End","Set anything you want here, use {UserName} as your username. '‚úçÔ∏è By {UserName}' By default":"Set anything you want here, use {UserName} as your username. '‚úçÔ∏è By {UserName}' By default","Save Shared Image To Folder For Mobile":"Save Shared Image To Folder For Mobile","Save image to folder for mobile. False by Default":"Save image to folder for mobile. False by Default","Say Thank You":"Say Thank You",Donate:"Donate","If you like this plugin, consider donating to support continued development:":"If you like this plugin, consider donating to support continued development:","File Name of Recycle Bin":"File Name of Recycle Bin","Set the filename for recycle bin. 'delete' By default":"Set the filename for recycle bin. 'delete' By default","File Name of Query File":"File Name of Query File","Set the filename for query file. 'query' By default":"Set the filename for query file. 'query' By default","Use Tags In Vault":"Use Tags In Vault","Use tags in vault rather than only in Memos. False by default.":"Use tags in vault rather than only in Thino. False by default.","Ready to convert image into background":"Ready to convert image into background",List:"List",Task:"Task",Top:"Top",Bottom:"Bottom",TAG:"TAG",DAY:"DAY",QUERY:"Query",EDIT:"EDIT",PIN:"PIN",UNPIN:"UNPIN",DELETE:"DELETE","CONFIRMÔºÅ":"CONFIRMÔºÅ","CREATE FILTER":"CREATE FILTER","Comment it...":"Comment it...",Settings:"Settings","Recycle bin":"Recycle bin","About Me":"About Me","Fetching data...":"Fetching data...","Here is No Memos.":"Here is No Thino.","Frequently Used Tags":"Frequently Used Tags","What do you think now...":"What do you think now...",READ:"READ",MARK:"MARK",SHARE:"SHARE",SOURCE:"SOURCE",RESTORE:"RESTORE",ARCHIVE:"Archive","DELETE AT":"DELETE AT","Noooop!":"Noooop!","All Data is Loaded üéâ":"All Data is Loaded üéâ","Quick filter":"Quick filter",TYPE:"TYPE",LINKED:"LINKED","NO TAGS":"NO TAGS","HAS LINKS":"HAS LINKS","HAS IMAGES":"HAS IMAGES",INCLUDE:"INCLUDE",EXCLUDE:"EXCLUDE",TEXT:"TEXT",IS:"IS",AND:"AND",OR:"OR",LIST:"LIST",ISNOT:"ISNOT",PATH:"PATH",METADATA:"METADATA",SELECT:"SELECT","ADD FILTER TERMS":"ADD FILTER TERMS",FILTER:"FILTER",Filter:"Filter",TITLE:"TITLE","CREATE QUERY":"CREATE QUERY","EDIT QUERY":"EDIT QUERY",MATCH:"MATCH",TIMES:"TIMES","Share Memo Image":"Share Thino Image","‚ÜóClick the button to save":"‚ÜóClick the button to save","Image is generating...":"Image is generating...","Image is loading...":"Image is loading...","Loading...":"Loading...","üòü Cannot load image, image link maybe broken":"üòü Cannot load image, image link maybe broken","Daily Memos":"Daily Thino","CANCEL EDIT":"CANCEL EDIT","LINK TO THE":"LINK TO THE","Mobile Options":"Mobile Options","Experimental Options":"Experimental Options","Don't support web image yet, please input image path in vault":"Don't support web image yet, please input image path in vault","Background Image in Dark Theme":"Background Image in Dark Theme","Background Image in Light Theme":"Background Image in Light Theme",'Set background image in dark theme. Set something like "Daily/one.png"':'Set background image in dark theme. Set something like "Daily/one.png"','Set background image in light theme. Set something like "Daily/one.png"':'Set background image in light theme. Set something like "Daily/one.png"','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Set default thino composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default',"Default Memo Composition":"[Deprecated] Default Thino Composition","Show Tasks Label":"Show Tasks Label","Show tasks label near the time text. False by default":"Show tasks label near the time text. False by default","Please Open Memos First":"Please Open Thino First",DATE:"DATE",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"BEFORE",AFTER:"AFTER","Allow Comments On Memos":"Allow Comments On Thino","You can comment on memos. False by default":"You can comment on thino. False by default",Import:"Import","TITLE CANNOT BE NULL!":"TITLE CANNOT BE NULL!","FILTER CANNOT BE NULL!":"FILTER CANNOT BE NULL!","Comments In Original DailyNotes/Notes":"Comments In Original DailyNotes/Notes","You should install Dataview Plugin ver 0.5.9 or later to use this feature.":"You should install Dataview Plugin ver 0.5.9 or later to use this feature.","Open Memos Successfully":"Open Thino Successfully","Fetch Memos Error":"üò≠ Fetch Error","Copied to clipboard Successfully":"Copied to clipboard Successfully","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Check if you opened Daily Notes Plugin Or Periodic Notes Plugin","Please finish the last filter setting first":"Please finish the last filter setting first","Close Memos Successfully":"Close Thino Successfully","Insert as Memo":"Insert as Thino","Insert file as memo content":"Insert file as thino content","Image load failed":"Image load failed","Content cannot be empty":"Content cannot be empty","Unable to create new file.":"Unable to create new file.","Failed to fetch deleted memos: ":"Failed to fetch deleted thino: ","RESTORE SUCCEED":"RESTORE SUCCEED","DELETE SUCCEED":"DELETE SUCCEED","Save Memo button icon":"Save Thino button icon","The icon shown on the save Memo button in the UI.":"The icon shown on the save Thino button in the UI.","Fetch Memos From Particular Notes":"Fetch Thino From Particular Notes",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'You can set any Dataview Query for thino to fetch it. All thino in those notes will show on list. "#memo" by default',"Allow Memos to Fetch Memo from Notes":"Allow Thino to Fetch Thino from Notes","Use Memos to manage all memos in your notes, not only in daily notes. False by default":"Use Thino to manage all thino in your notes, not only in daily notes. False by default","Always Show Memo Comments":"Always Show Thino Comments","Always show memo comments on memos. False by default":"Always show thino comments on thino. False by default","You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.","Please check your daily note plugin OR periodic notes plugin settings":"Please check your daily note plugin OR periodic notes plugin settings","Use which plugin's default configuration":"Use which plugin's default configuration","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"Thino use the plugin's default configuration to fetch thino from daily, 'Daily' by default.",Daily:"Daily","Always Show Leaf Sidebar on PC":"Always Show Leaf Sidebar on PC","Show left sidebar on PC/Tablet even when the leaf width is less than 875px. False by default.":"Show left sidebar on PC/Tablet even when the leaf width is less than 875px. False by default.","You didn't set format for daily notes in both periodic-notes and daily-notes plugins.":"You didn't set format for daily notes in both periodic-notes and daily-notes plugins.","fetch more":"fetch more","Search all settings":"Search all settings",General:"General",Theme:"Theme",Share:"Share",Advanced:"Advanced",Thino:"Thino","Random Review":"Random Review","ARCHIVED AT":"ARCHIVED AT","Failed to get memos from daily notes":"Failed to get thino from daily notes","Failed to delete memo":"Failed to delete thino","CTRL + ENTER to save":"CTRL + ENTER to save","Started from":"Started from","Custom Background Image":"Custom Background Image","Set custom background image.":"Set custom background image.","Custom Memo Footer":"Custom Thino Footer","Set custom memo footer.":"Set custom thino footer.","Heatmap Color Scheme":"Heatmap Color Scheme","Set different color scheme for heatmap.":"Set different color scheme for heatmap.","Enable Local Http Server":"Enable Local Http Server","Memos Http Server Port":"Thino Http Server Port","Set memos http server port to listen. '43999' by default":"Set thino http server port to listen. '43999' by default","Default Editor Mode":"Default Editor Mode","Live-Preview Mode OR Source Mode.":"Live-Preview Mode/Source Mode.","Save type for Thino":"Save type for Thino",DAILY:"DAILY",MULTI:"MULTI",CANVAS:"CANVAS",ALL:"ALL",FILE:"FILE",TODO:"TODO",DONE:"DONE",JOURNAL:"JOURNAL",OTHER:"OTHER","Failed to create daily note, check if it exists.":"Failed to create daily note, check if it exists.","Failed to create daily note. Please check if you created a folder for daily notes.":"Failed to create daily note. Please check if you created a folder for daily notes.","After you verify your account, please refresh this page.":"After you verify your account, please refresh this page.",Verify:"Verify","Oops! You forget to verify insider account":"Oops! You forget to verify insider account","If you have any questions, please contact us.":"If you have any questions, please contact us.","Delete Thino Directly":"Delete Thino Directly","When delete thino directly, it will not be moved to trash. False by default.":"When delete thino directly, it will not be moved to trash. False by default.","Enable opening thino globally":"Enable opening thino globally","Enable opening thino globally. False by default.":"Enable opening thino globally. False by default.","Key for opening thino globally":"Key for opening thino globally","Set key for opening thino globally. CTRL + SHIFT + T by default.":"Set key for opening thino globally. CTRL + SHIFT + T by default.","Key for showing thino globally":"Key for showing thino globally","Set key for showing thino globally. CTRL + SHIFT + E by default.":"Set key for showing thino globally. CTRL + SHIFT + E by default.","Get activation code":"Get activation code","Input activation code here":"Input activation code here","Copy Thino id":"Copy Thino id","Activate Pro Version":"Activate Pro Version","Please copy Thino id first":"Please copy Thino id first",'You can set folder name with file name like "folder/file"':'You can set folder name with file name like "folder/file"','You can set folder name like "folder1/folder2/folder3" to create sub-folder':'You can set folder name like "folder1/folder2/folder3" to create sub-folder',"Default save type":"Default save location",'Set the default save type for thino. "DAILY" by default':'Set the default save type for thino. "DAILY" by default',"Sync Thino via PKMer":"Sync Thino via PKMer",Unlink:"Unlink",Link:"Link","Connect to PKMer Sync, you can check it in ":"Connect to PKMer Sync, you can check it in ","PKMer Sync":"PKMer Sync","Remove successfully":"Remove successfully",Deactivate:"Deactivate",Remove:"Remove","Confirm?":"Confirm?","Sync Status":"Sync Status","Start or stop sync":"Start or stop sync","Stop sync successfully":"Stop sync successfully","Start sync successfully":"Start sync successfully",Stop:"Stop",Start:"Start","Show thino near mouse":"Show thino near mouse","Query not found":"Query not found","Send to clipboard successfully":"Send to clipboard successfully","Thino - Failed to start HTTP server, please check the port is available.":"Thino - Failed to start HTTP server, please check the port is available.","Thino - Started HTTP server on port":"Thino - Started HTTP server on port","Thino - Terminated HTTP server":"Thino - Terminated HTTP server","File not exist":"File not exist","Thino not found":"Thino not found","File not found for the given thino path, is creating a new file":"File not found for the given thino path, is creating a new file","Saved sync token successfully":"Saved sync token successfully","Failed to find daily notes folder":"Failed to find daily notes folder","Please install obsidian-hover-editor plugin first":"Please install obsidian-hover-editor plugin first","Copied app id successfully":"Copied app id successfully","Please input token first":"Please input token first","Please enable sync first":"Please enable sync first","Init Failed":"Init Failed","Verify successfully":"Verify successfully","Failed to verify":"Failed to verify","Folder not found for the given thino path, is creating a new folder":"Folder not found for the given thino path, is creating a new folder","File not found for the given thino path":"File not found for the given thino path","Failed to read current daily note, check if it exists.":"Failed to read current daily note, check if it exists.","Failed to save":"Failed to save","Failed to login, please login again":"Failed to login, please login again","COPY FAILED":"COPY FAILED","COPY SUCCEED":"COPY SUCCEED","Copy selected text":"Copy selected text","Copy thino":"Copy thino",COPY:"COPY","This is a pro feature, please upgrade to pro version to use it.":"This is a pro feature, please upgrade to pro version to use it.","You can get pro version from: ":"You can get pro version from: ",Save:"Save",Cancel:"Cancel","Thino Daily Target":"Thino Daily Target",Input:"Input","#Tag":"#Tag","to create tag":"to create tag","You have verified your account. Congrats!":"You have verified your account. Congrats!","Pro features":"Pro features","Target Thino Count":"Target Thino Count",on:"on","Switch waterfall view":"Switch waterfall view","Switch view":"Switch view","Switch list view":"Switch list view","Set daily target":"Set daily target","Thino Save To: ":"Thino Save To: ","Enter fullscreen mode":"Enter fullscreen mode","Exit fullscreen mode":"Exit fullscreen mode",words:"words","Return To Home Page":"Return Home","Open thino in center window":"Open thino in center window","Open thino in float window":"Open thino in float window","Open thino in right sidebar":"Open thino in right sidebar","Open thino in left sidebar":"Open thino in left sidebar","Show thino editor":"Show thino editor","Toggle minimal mode":"Toggle minimal mode","Focus on thino editor":"Focus on thino editor","ReSync web thinos to local":"ReSync web thinos to local","Sync local thinos to web":"Sync local thinos to web","Show daily thino":"Show daily thino","Focus on search bar":"Focus on search bar","Show-thino in popover(Hover editor)":"Show-thino in popover(Hover editor)","Center window":"Center window","Float window":"Float window","Right sidebar":"Right sidebar","Left sidebar":"Left sidebar","Save thino type when sync local":"Save thino type when sync local","Set the default save thino type when sync local, FILE by default.":"Set the default save thino type when sync local, FILE by default.","Sync service":"Sync service","Pro verification status":"Pro verification status","Live-preview":"Live-preview",Source:"Source","Global copy":"Global copy","Set the folder name":"Set the folder name","Set the filename":"Set the filename","Set the filename for current location file":"Set the filename for current location file","Switch calendar type":"Switch calendar type",alphabetical:"alphabetical",alphabeticalReverse:"alphabeticalReverse",byCount:"byCount",byCountReverse:"byCountReverse","Type here":"Type here",Today:"Today",Yesterday:"Yesterday","Last 7 days":"Last 7 days","Last 30 days":"Last 30 days","Last 90 days":"Last 90 days","Last 180 days":"Last 180 days","Last 365 days":"Last 365 days",Found:"Found","Copy filtered thinos":"Copy filtered thinos","Bulk delete":"Bulk delete","Bulk archive":"Bulk archive","Bulk tag operation":"Bulk tag operation","Bulk restore":"Bulk restore","If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.":"If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.",Preview:"Preview","Set and save":"Set and save","Show day mark in thino list":"Show day mark in thino list","Show day mark on the top of daily range thino. False by default.":"Show day mark on the top of daily range thino. False by default.","Click to expand or fold, Cmd+Click to show all thinos of the day":"Click to expand or fold, Cmd+Click to show all thinos of the day","You can buy a license from":"You can buy a license from","No thinos in range":"No thinos in range",Month:"Month",Week:"Week",Day:"Day",Agenda:"Agenda",Tomorrow:"Tomorrow",Previous:"Previous",Next:"Next","Search all columns...":"Search all columns...","Basic Info":"Basic Info","Additional Info":"Additional Info","Created At":"Created At",Content:"Content","Thino Type":"Thino Type","Source Type":"Source Type","Row status":"Row status",Path:"Path","Pinned Status":"Pinned Status",Table:"Table",Chat:"Chat",Moments:"Moments",Waterfall:"Waterfall",Calendar:"Calendar","Go to page":"Go to page",Page:"Page",Show:"Show",rows:"rows","Temp Filter":"Temp Filter","Open link directly in Thino view":"Open link directly in Thino view","Day mark range":"Day mark range","Set the range of day mark. Day by default.":"Set the range of day mark. Day by default.","Thino is locked":"Thino is locked","Please unlock Thino by input password":"Please unlock Thino by input password","Auto Download Image":"Auto Download Image","Auto download image when save to thino. 'false' by default":"Auto download image when save to thino. 'false' by default","Thino Http IP Type":"Thino Http IP Type","Set Thino http server ip to listen. 'localhost' by default":"Set Thino http server ip to listen. 'localhost' by default","Password to lock Thino":"Password to lock Thino",Unlock:"Unlock",Locked:"Locked","Password is incorrect":"Password is incorrect",Lock:"Lock","Need password to unlock Thino":"Need password to unlock Thino","You have not set a password or enable this feature yet":"You have not set a password or enable this feature yet",Password:"Password","Password for Thino":"Password for Thino","Please input your password to change password settings":"Please input your password to change password settings","Please input your password":"Please input your password","Lock thino":"Lock thino",date:"date",time:"time",event:"event","Add tag position":"Add tag position","Set the position of the tag when adding tag automatically":"Set the position of the tag when adding tag automatically","Add tag automatically":"Add tag automatically","Add tag to the end or beginning of the thino content when creating a thino and filtering tags":"Add tag to the end or beginning of the thino content when creating a thino and filtering tags","Add tag with new line":"Add tag with new line","Add tag with new line when adding tag automatically":"Add tag with new line when adding tag automatically","Input to select more tags":"Input to select more tags","Tag Bulk Edit":"Tag Bulk Edit","Tag Bulk Select":"Tag Bulk Select","Exist Tags":"Exist Tags","Selected Tags":"Selected Tags","Click to remove exist tag":"Click to remove exist tag","Click to remove selected tag":"Click to remove selected tag","Select tags":"Select tags","Input to select exist tag":"Input to select exist tag",Beginning:"Beginning",End:"End","Set the heading for saving thino":"Set the heading for saving thino","# Heading":"# Heading","Chat view style":"Chat view style","Set the style of chat view":"Set the style of chat view","Background image for moments view":"Background image for moments view","Set the background image for moments view":"Set the background image for moments view","Icon for moments/chat view/share image":"Icon for moments/chat view/share image","Set the icon for moments/chat view/share image":"Set the icon for moments/chat view/share image","Quote for moments view/share image":"Quote for moments view/share image","Set the quote for moments view/share image":"Set the quote for moments view/share image","Theme for Thino":"Theme for Thino","Set the theme for Thino":"Set the theme for Thino","Interface Details":"Interface Details","Task amount":"Task amount","Thino status":"Thino status","Used tags":"Used tags","Used days":"Used days","Most active day":"Most active day","Most active hour":"Most active hour","Thino amount":"Thino amount","No content to generate.":"No content to generate.","Image generated successfully.":"Image generated successfully.","Failed to generate image.":"Failed to generate image.","Share filtered thinos as image":"Share filtered thinos as image","Latest version":"Latest version","Previous version":"Previous version","Thino update info":"Thino update info","Debug info copied to clipboard":"Debug info copied to clipboard","Copy debug info":"Copy debug info","Failed to load changelog":"Failed to load changelog","View online":"View online",ChangeLog:"ChangeLog","Please open thino first":"Please open thino first","Insert editor":"Insert editor","Please set different save locations for multi-file settings in Thino. The diary folder overlaps with the multi-file save location, or there is a risk of it being read repeatedly.":"Please set different save locations for multi-file settings in Thino. The diary folder overlaps with the multi-file save location, or there is a risk of it being read repeatedly.","Default time prefix for thino in daily notes":"Default time prefix for thino in daily notes","Set default time prefix for thino in daily notes.":"Set default time prefix for thino in daily notes.","Save image successfully":"Save image successfully","User quote":"User quote","Set user quote for thino":"Set user quote for thino","User icon":"User icon","Set user icon for thino. You can input http/https link or file path in vault.":"Set user icon for thino. You can input http/https link or file path in vault.","User info":"User info","Copy filtered results":"Copy filtered results","Share image":"Share image",Default:"Default",Gray:"Gray",Grass:"Grass",Flame:"Flame",Olive:"Olive",Ice:"Ice",Magenta:"Magenta","Daily notes":"Daily notes",Editor:"Editor","Append/prepend text when share to Thino":"Append/prepend text when share to Thino","Append text when share to Thino":"Append text when share to Thino","Prepend text when share to Thino":"Prepend text when share to Thino","Add newline when append/prepend text":"Add newline when append/prepend text","Input anything here":"Input anything here",Prepend:"Prepend",Append:"Append",Both:"Both",None:"None","Hide pinned group":"Hide pinned group","Hide pinned group in thino list. False by default.":"Hide pinned group in thino list. False by default.","Set the heading for the task type of thino, by default the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Set the heading for the task type of thino, by default the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.","Different insert target for different type":"Different insert target for different type","Toggle this to set different insert target for different type of thino, like task or list type of thino":"Toggle this to set different insert target for different type of thino, like task or list type of thino","You can set whole diary or only part of it":"You can set whole diary or only part of it","Set process target":"Set process target",Custom:"Custom","Whole diary":"Whole Diary","Set thino insert place":"Set thino insert place","Set where to insert thino content":"Set where to insert thino content","End of the diary":"End of the diary","Custom location":"Custom location","Setting guide":"User setting guide","Details settings":"Details settings","Start Thino":"Start Thino","About Thino Pro":"About Thino Pro",Enabled:"Enabled",Enable:"Enable","Daily notes folder":"Daily notes folder","Set daily notes folder":"Set daily notes folder","Daily note name format":"Daily note name format","Set daily note name format":"Set daily note name format","Daily note plugin":"Daily note plugin","Enable daily note plugin":"Enable daily note plugin",Selected:"Selected",Select:"Select","A classic theme for Thino with a two-column layout":"A classic theme for Thino with a two-column layout",Classic:"Classic","A modern theme for Thino with a three-column layout and some unique features.":"A modern theme for Thino with a three-column layout and some unique features.",Modern:"Modern","Go and enjoy Thino":"Go and enjoy Thino","Congrats! All settings done":"Congrats! All settings done","Adjust settings that influence your user experience with Thino.":"Adjust settings that influence your user experience with Thino.","Set preferences for using Thino":"Set preferences for using Thino","If you are using the Thino basic version, enabling the daily note plugin is required. Configure its settings to work effectively with it.":"If you are using the Thino basic version, enabling the daily note plugin is required. Configure its settings to work effectively with it.","Go with daily note plugin":"Go with daily note plugin","Choose a theme for Thino.":"Choose a theme for Thino.","Set theme for Thino":"Set theme for Thino","Set up your user info for Thino.":"Set up your user info for Thino.","Get started with Thino":"Get started with Thino","Skip and start Thino":"Skip and start Thino","Next step":"Next step","Back to previous step":"Back to previous step","Click to enable =>":"Click to enable =>","This is Thino's sidebar. Navigate to different path or select query filter.":"This is Thino's sidebar. Navigate to different path or select query filter.","Click here and go to settings page.":"Click here and go to settings page.","Click here and go to different path.":"Click here and go to different path.","Select or create query filter here.":"Select or create query filter here.","See the status of Thinos here.":"See the status of Thinos here.","Search your thino quickly here.":"Search your thino quickly here.","Edit or create your thino here.":"Edit or create your thino here.","See your thinos here.":"See your thinos here.","See your time status of thinos here.":"See your time status of thinos here.","See your tags here. Tags will be shown when thino contains tags.":"See your tags here. Tags will be shown when thino contains tags.",Done:"Done","Thino is ready to use. ":"Thino is ready to use. ","You can start using Thino now. If you want to know more about Thino Pro, click the button below.":"You can start using Thino now. If you want to know more about Thino Pro, click the button below.","Default time prefix":"Default time prefix","Append Text Action":"Append Text Action","Prepend Text Action":"Prepend Text Action",Preset:"Preset","Select Tags":"Select Tags","It is not available on small view":"It is not available on small view","Append text":"Append text","Prepend text":"Prepend text","Your daily note folder is not set correctly, please check your settings":"Your daily note folder is not set correctly, please check your settings","Default sharing style":"Default sharing style","Set the default style for sharing thino, 'Modern' by default.":'Set the default style for sharing thino, "Modern" by default.',Clean:"Clean",Minimal:"Minimal",Gradient:"Gradient","Thino share":"Thino share","Copy to clipboard failed":"Copy to clipboard failed","Copy to clipboard successfully":"Copy to clipboard successfully","Your content has been copied to clipboard, and inserted into the editor. Please try it again":"Your content has been copied to clipboard, and inserted into the editor. Please try it again","Share thino":"Share thino","Set file name after create thino":"Set file name after create thino","You can set file name after create thino. A input box will show when you create thino.":"You can set file name after create thino. A input box will show when you create thino.",SPLIT:"SPLIT","Split by Heading 1":"Split by Heading 1","Split by Heading 2":"Split by Heading 2","Split by Heading 3":"Split by Heading 3","Insert task":"Insert task","All settings have been reset to default.":"All settings have been reset to default.","Reset all Thino settings":"Reset all Thino settings","Reset settings":"Reset settings","Reset Thino settings to default settings.":"Reset Thino settings to default settings.","Task Management":"Task Management","Append completed date when task done in thino":"Append completed date when task done in thino","Append completed date when task done in thino. False by default":"Append completed date when task done in thino. False by default","Set tag for single file that Thino indexes":"Set tag for single file that Thino indexes","When you set a tag here, Thino will index this file contains this tag and show it in the list. Don't need to add `#`.":"When you set a tag here, Thino will index this file contains this tag and show it in the list. Don't need to add `#`.","Set tag for file type file":"Set tag for file type file","Set tag for multi type file":"Set tag for multi type file","Please input the tag":"Please input the tag","Merge thinos in to thino share image":"Merge thinos in to thino share image","Custom height for Thino content":"Custom height for Thino content","Set custom height for Thino content. Like 200px or 20rem":"Set custom height for Thino content. Like 200px or 20rem","Input height":"Input height","Submit issue":"Submit issue","Current version":"Current version","Bug report":"Bug report","Click the button to copy debug info and open the issue page":"Click the button to copy debug info and open the issue page","Copy and go":"Copy and go","Debug info copied":"Debug info copied","Feature request":"Feature request","Submit your feature request to the issue page":"Submit your feature request to the issue page",Go:"Go","Toggle query list visibility":"Toggle query list visibility","Toggle tags visibility":"Toggle tags visibility","Toggle sidebar visibility":"Toggle sidebar visibility",Collapse:"Collapse",Expand:"Expand","Max height for collapse":"Max height for collapse","The max height for thino collapse, when set 0, thino would not collapse. 0 by default. (This is not lines count, it is height in px.)":"The max height for thino collapse, when set 0, thino would not collapse. 0 by default. (This is not lines count, it is height in px.)","Render content":"Render content","Optimize for Callout":"Optimize for Callout","Won't render content contains more than 3 callouts automatically. True by default":"Won't render content contains more than 3 callouts automatically. True by default","The value should be greater than":"The value should be greater than","Append Text":"Append Text","Prepend Text":"Prepend Text","Thino height when collapsed":"Thino height when collapsed","The height for thino when it is collapsed, when set 0, thino would not collapse. 100 by default. (This is not lines count, it is height in px.)":"The height for thino when it is collapsed, when set 0, thino would not collapse  . 100 by default. (This is not lines count, it is height in px.)","This option will allow you use other views when leaf width is not enough. False by default.":"This option will allow you use other views when leaf width is not enough. False by default.","Can select other views when leaf width is not enough":"Can select other views when leaf width is not enough","TRASH BOX":"TRASH BOX","Wait templater to finish parse before insert thino":"Wait templater to finish parse before insert thino","This option will allow you to wait for templater to finish parse before insert thino, which may casue you need to confirm twice between insert thino. False by default.":"This option will allow you to wait for templater to finish parse before insert thino, which may casue you need to confirm twice between insert thino. False by default.","Get thino capture extension":"Get thino capture extension","You can capture idea/text from chrome now.":"You can capture idea/text from chrome now.","Open File":"Open File","Exported CSV file":"Exported CSV file","Updated At":"Updated At","Export to CSV":"Export to CSV","Quick add button on mobile navbar":"Quick add button on mobile navbar","Always show status text":"Always show status text","Support filter by metadata from file":"Support filter by metadata from file","When enable this, you can filter via metadata from file, like tags in file. But thinos from canvas is not supported. False by default.":"When enable this, you can filter via metadata from file, like tags in file. But thinos from canvas is not supported. False by default.","Show source near timestamp in thino":"Show source near timestamp in thino","When enable this, you can see the source near timestamp in thino. You can set title in metadata to overwrite this. False by default.":"When enable this, you can see the source near timestamp in thino. You can set title in metadata to overwrite this. False by default.","Show Update Message":"Show Update Message","Show update message when Thino is updated. True by default":"Show update message when Thino is updated. True by default","Sync manually":"Sync manually","Show all scrollbars":"Show all scrollbars","TIME RANGE":"TIME RANGE",WITHIN:"WITHIN","7 days":"7 days","14 days":"14 days","30 days":"30 days","3 months":"3 months","6 months":"6 months","1 year":"1 year","This week":"This week","Last week":"Last week","This month":"This month","Last month":"Last month","This year":"This year","Last year":"Last year"},L7={},R7={},_7={welcome:"Bienvenue dans M√©mo !",ribbonIconTitle:"M√©mos",months:["Janvier","F√©vrier","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","D√©cembre"],monthsShort:["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],weekDays:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],weekDaysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],to:"√†",year:null,month:null,"Basic Options":"Options basique","User name":"Username","Set your user name here. 'Memos üòè' By default":"D√©finissez votre username ici. D√©faut : 'Memo üòè'","Insert after heading":"Ins√©rer apr√®s le titre","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Vous devez d√©finir le m√™me titre en-dessous si vous voulez ins√©rer et traiter des m√©mos sous le m√™me titre.","Allows admonitions to be created using ":"Permet de cr√©er des admonitions en utilisant","Process Memos below":"Ins√©rer M√©mo sous","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"Seulement les entr√©e sous cette section/phrase dans vos notes seront consid√©r√©s. S'il n'existe pas, aucune notes ne sera trait√© pour ce fichier.","Save Memo button label":"Titre du bouton de sauvegarde","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"Le texte affich√© sur le bouton de sauvegarde dans l'UI. D√©faut : 'NOTEIT'","Focus on editor when open memos":"Focus sur l'√©diteur lors de l'ouverture du m√©mo.","Focus on editor when open memos. Focus by default.":"Focus sur l'√©diteur lors de l'ouverture du m√©mo. Focus par d√©faut.","Open daily memos with open memos":"Ouvrir les m√©mos quotidiens quand m√©mo est ouvert.","Open daily memos with open memos. Open by default.":"Ouvrir les m√©mos quotidiens quand m√©mo est ouvert.","Open Memos when obsidian opens":"Ouvrir M√©mo quand Obsidian est ouvert.","When enable this, Memos will open when Obsidian opens. False by default.":"Quand activ√©, Memo sera ouvert quand Obsidian √† l'ouverture d'Obsidian. D√©sactiv√© par d√©faut.","Hide done tasks in Memo list":"Masquer les t√¢ches accomplies dans la liste des m√©mos.","Hide all done tasks in Memo list. Show done tasks by default.":"Masquer les t√¢ches accomplies dans les m√©mos. Affiche les t√¢ches accomplies par d√©faut.","Advanced Options":"Options avanc√©es","UI language for date":"Langue de l'UI pour la date","Translates the date UI language. Only 'en' and 'zh' are available.":"Traduit la langue des dates dans l'UI. Seuls 'en', 'fr' et 'zh' sont disponibles. ","Default prefix":"Pr√©fix par d√©faut.","Set the default prefix when create memo, 'List' by default.":"D√©finit le pr√©fix par d√©faut lors de la cr√©ation d'un m√©mo. D√©fault : 'Liste'","Default insert date format":"Format de la date ins√©r√©e par d√©faut.","Default editor position on mobile":"Position par d√©faut de l'√©diteur sur mobile.","Set the default date format when insert date by @, 'Tasks' by default.":"D√©finit le format de la date par d√©faut lors de l'insertion de la date par @. D√©faut : 'T√¢ches'.","Set the default editor position on Mobile, 'Top' by default.":"Position par d√©faut de l'√©diteur sur le mobile. D√©faut : 'Haut'.","Use button to show editor on mobile":"Utilisation du bouton pour afficher l'√©diteur sur le mobile.","Show Time When Copy Results":"Aficher l'heure quand les r√©sultats sont copi√©s","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Place un bouton flottant pour appeler l'√©diteur sur mobile. Fonctionne uniquement quand l'√©diteur est plac√© en bas.","Show time when you copy results, like 12:00. Copy time by default.":"Affiche l'heure quand les r√©sultats sont copi√©s, comme '12:00'. Copie l'heure par d√©faut","Show Date When Copy Results":"Affiche la date quand les r√©sultats sont copi√©s","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"Affiche la date quand les r√©sultats sont copi√©s, comme [[2022-01-01]]. Par d√©faut, copie la date.","Add Blank Line Between Different Date":"Ajoute une ligne entre les diff√©rentes dates.","Add blank line when copy result with date. No blank line by default.":"Ajoute une ligne lors de la copie du r√©sultat avec la date. Pas de ligne par d√©faut.","Share Options":"Options de partage","Share Memos Image Footer Start":"D√©but du pied de page ‚Äî Partage de m√©mo de m√©mos","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"D√©finissez ce que vous voulez ici, utilisez {ThinoNum} pour afficher le nombre de thino, {UsedDay} pour les jours. Par d√©faut : '{ThinoNum} Thino {UsedDay} Days.","Share Memos Image Footer End":"Fin du pied de page ‚Äî Partage de m√©mo","Set anything you want here, use {UserName} as your username. '‚úçÔ∏è By {UserName}' By default":"D√©finissez ce que vous voulez ici. Utilisez {UserName} comme username. Par d√©faut : '‚úçÔ∏è By {UserName}'","Save Shared Image To Folder For Mobile":"Sauvegarde des images partag√©s dans un dossier sur mobile.","Save image to folder for mobile. False by Default":"Sauvegarder les images dans un dossier sur mobile. D√©sactiv√© par d√©faut.","Say Thank You":"Dites Merci",Donate:"Faire un don","If you like this plugin, consider donating to support continued development:":"Si vous aimez ce plugin, envisagez de faire un don pour soutenir le d√©veloppement continu :","File Name of Recycle Bin":"Nom de la corbeille","Set the filename for recycle bin. 'delete' By default":"D√©finition du nom de la poubelle. D√©faut : 'Delete'","Set the filename for query file. 'query' By default":"D√©finit le nom de fichier pour les requ√™te. D√©faut : 'Query'","Use Tags In Vault":"Utiliser des tags dans le Coffre","Use tags in vault rather than only in Memos. False by default.":"Utiliser des tags du coffre plut√¥t que ceux que seulement dans M√©mo. D√©sactiv√© par d√©faut.","Ready to convert image into background":"Pr√™t pour convertir des image en arri√®re-plan.",List:"Liste",Task:"T√¢che",Top:"Haut",Bottom:"Bas",TAG:"TAG",DAY:"JOUR",QUERY:"RECHERCHE",EDIT:"EDITER",PIN:"PIN",UNPIN:"√âPINGLER",DELETE:"DES√âPINGLER","CONFIRMÔºÅ":"CONFIRMER ÔºÅ","CREATE FILTER":"CR√âER FILTRE",Settings:"Param√®tres","Recycle bin":"Corbeille","About Me":"√Ä propos de moi","Fetching data...":"R√©cup√©ration des donn√©es...","Here is No Memos.":"Il n'y a pas de Memos.","Frequently Used Tags":"Tags fr√©quemment utilis√©s","What do you think now...":"Que pensez-vous maintenant...",READ:"LU",MARK:"MARQUER",SHARE:"PARTAGER",SOURCE:"SOURCE",RESTORE:"RESTAURER","DELETE AT":"SUPPRIMER","Noooop!":"Noooop!","All Data is Loaded üéâ":"Toutes les donn√©es sont charg√©es üéâ","Quick filter":"Filtre rapide",TYPE:"TYPE",LINKED:"LIEN","NO TAGS":"PAS DE TAGS","HAS LINKS":"A DES LIENS","HAS IMAGES":"A DES IMAGES",INCLUDE:"INCLUS",EXCLUDE:"EXCLUS",TEXT:"TEXTE",IS:"EST",ISNOT:"N'EST PAS",SELECT:"SELECTION","ADD FILTER TERMS":"AJOUTER DES TERMES FILTR√â",FILTER:"FILTRE",TITLE:"TITRE","CREATE QUERY":"CR√âER UNE RECHERCHE","EDIT QUERY":"√âDITER UNE RECHERCHE",MATCH:"MATCH",TIMES:"HEURE","Share Memo Image":"Partager un m√©mo image","‚ÜóClick the button to save":"‚ÜóClique pour sauvegarder","Image is generating...":"G√©n√©ration de l'image...","Image is loading...":"Image en chargement...","Loading...":"Chargement...","üòü Cannot load image, image link maybe broken":"üòü Impossible de charger l'image, le lien peut √™tre bris√©","Daily Memos":"M√©mo quotidien","CANCEL EDIT":"ANNULER L'√âDITION","LINK TO THE":"LIENS √Ä","Mobile Options":"Options mobile","Don't support web image yet, please input image path in vault":"Ne supporte pas les images webs. Merci d'ins√©rer le chemin de l'image depuis le coffre.","Background Image in Dark Theme":"Image de fond en th√®me sombre","Background Image in Light Theme":"Image de fond en th√®me clair",'Set background image in dark theme. Set something like "Daily/one.png"':"D√©finir l'image de fond en th√®me sombre. D√©finir 'Daily/one.png' par exemple.",'Set background image in light theme. Set something like "Daily/one.png"':"D√©finir l'image de fond en th√®me clair. D√©finir 'Daily/one.png' par exemple.",'Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'D√©finir la composition par d√©faut du m√©mo, vous devez utiliser {TIME} comme "HH:mm" et {CONTENT} comme contenu. "{TIME} {CONTENT}" par d√©faut',"Default Memo Composition":"Composition par d√©faut du m√©mo","Show Tasks Label":"Afficher les √©tiquettes des t√¢ches","Show tasks label near the time text. False by default":"Afficher les √©tiquettes des t√¢ches √† c√¥t√© du texte horaire. D√©sactiv√© par d√©faut.","Please Open Memos First":"Merci d'ouvrir les m√©mos en premier"},B7={},H7={},U7={},Y7={},z7={},V7={},W7={},$7={},Z7={welcome:"Bem-vindo ao Thino!",ribbonIconTitle:"Thino",months:["Janeiro","Fevereiro","Mar√ßo","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan.","Fev.","Mar.","Abr.","Maio","Jun.","Jul.","Ago.","Set.","Out.","Nov.","Dez."],weekDays:["Domingo","Segunda","Ter√ßa","Quarta","Quinta","Sexta","S√°bado"],weekDaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","S√°b"],to:"para",year:null,month:null,"Basic Options":"Op√ß√µes B√°sicas","User name":"Nome de Usu√°rio","Set your user name here. 'Memos üòè' By default":"Defina o nome de usu√°rio. Padr√£o: 'Thino üòè'.","Insert after heading":"Inserir ap√≥s o cabe√ßalho","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Deve definir o mesmo cabe√ßalho na configura√ß√£o posterior se pretende inserir e processar memorandos abaixo do cabe√ßalho aqui definido.","Allows admonitions to be created using ":"Permitir que Admonitions sejam criadas usando ","Process Memos below":"Processar Memorandos abaixo do Cabe√ßalho","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"Somente as entradas abaixo deste cabe√ßalho ser√£o processadas nas suas notas. Se n√£o configurar esta funcionalidade, nenhuma nota ser√° processada para o ficheiro respetivo.","Save Memo button label":"Legenda do Bot√£o de Guardar Memorandos","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":'Define o texto apresentado na UI do bot√£o guardar memorandos. Padr√£o: "NOTEIT".',"Focus on editor when open memos":"Focar no Editor ao iniciar o Thino","Focus on Editor when open memos. Focus by default.":'Focar no editor ao iniciar o Thino. Padr√£o: "Focar".',"Open daily memos with open memos":"Abrir memorandos di√°rios ao iniciar o Thino","Open daily memos with open memos. Open by default.":'Abrir memorandos di√°rios ao iniciar o Thino. Padr√£o: "Abrir".',"Open Memos when obsidian opens":"Abrir Thino quando o Obsidian inicia","When enable this, Memos will open when Obsidian opens. False by default.":'Quando esta op√ß√£o est√° activa, o Memos abrir√° quando o Obsidian inicia. Padr√£o: "Falso".',"Hide done tasks in Memo list":"Ocultar tarefas conclu√≠das na lista de memorandos","Hide all done tasks in Memo list. Show done tasks by default.":'Ocultar todas as tarefas conclu√≠das na lista de memorandos. Padr√£o: "Mostrar tarefas conclu√≠das".',"Advanced Options":"Op√ß√µes Avan√ßadas","UI language for date":"Idioma na UI da Data ","Translates the date UI language. Only 'en' and 'zh' are available.":"Define o idioma na UI da Data. De momento, apenas 'en', 'fr', 'pt' e 'zh' est√£o dispon√≠veis.","Default prefix when save thino":"Prefixo Padr√£o","Set the default prefix when create memo, 'List' by default.":"Define o prefixo padr√£o quando um memorando √© criado. Padr√£o: 'Lista'.","Default insert date format":"Formato Padr√£o para Inser√ß√£o de Data","Set the default date format when insert date by @, 'Tasks' by default.":"Define o formato de Data padr√£o ao inserir a data usando '@'. Padr√£o: 'Tarefas'.","Default editor position on mobile":"Posi√ß√£o Padr√£o do Editor de Memorandos na Vers√£o M√≥vel","Set the default editor position on Mobile, 'Top' by default.":"Define a posi√ß√£o padr√£o do editor de memorandos na vers√£o m√≥vel. Padr√£o: 'Topo'.","Use button to show editor on mobile":"Usar Bot√£o para Mostrar o Editor na Vers√£o M√≥vel","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Define um bot√£o flutuante para abrir o editor na vers√£o m√≥vel. Op√ß√£o dispon√≠vel somente quando a posi√ß√£o do editor est√° definida para 'Fundo'.","Show Time When Copy Results":"Mostrar a Hora ao Copiar os Resultados","Show time when you copy results, like 12:00. Copy time by default.":"Mostrar a Hora, no formato '12:00', ao copiar os resultados. Padr√£o: 'Copiar a hora'.","Show Date When Copy Results":"Mostrar a Data ao Copiar os Resultados","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":'Mostrar a Data, no formato [[2022-01-01]], ao copiar os resultados. Padr√£o: "Copiar a hora".',"Add Blank Line Between Different Date":"Adicionar Linha em Branco entre Datas Diferentes.","Add blank line when copy result with date. No blank line by default.":'Adicionar linha em branco ao copiar resultados com Data. Padr√£o: "N√£o adicionar linha."',"Share Options":"Op√ß√µes de Partilha","Share Memos Image Footer Start":"Partilhar a Imagem de um memorando - In√≠cio do Rodap√©","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Defina como preferir, use {ThinoNum} para mostrar o n√∫mero de thinorandos e use {UsedDay} para dias. 'Padr√£o: {ThinoNum} Thinorandos {UsedDay} Dias'.","Share Memos Image Footer End":"Partilhar a Imagem de um memorando - Fim do Rodap√©","Set anything you want here, use {UserName} as your username. '‚úçÔ∏è By {UserName}' By default":"Defina como preferir, use {UserName} como o seu nome de usu√°rio. Padr√£o: '‚úçÔ∏è Por {UserName}'.","Save Shared Image To Folder For Mobile":"Guardar a Imagem Partilhada para Pasta na Vers√£o M√≥vel","Save image to folder for mobile. False by Default":'Guardar a imagem partilhada para pasta na vers√£o m√≥vel. Padr√£o: "Falso".',"Say Thank You":"Agrade√ßa",Donate:"Doar","If you like this plugin, consider donating to support continued development:":"Se gosta deste plugin, considere doar para apoiar o seu desenvolvimento cont√≠nuo:","File Name of Recycle Bin":"Nome da Reciclagem","Set the filename for recycle bin. 'delete' By default":"Define o nome do ficheiro para a Reciclagem. Padr√£o: 'delete'.","File Name of Query File":"Nome do Ficheiro de Query","Set the filename for query file. 'query' By default":"Define o nome do ficheiro de Query. Padr√£o: 'Query'.","Use Tags In Vault":"Usar Tags no Vault","Use tags in vault rather than only in Memos. False by default.":'Usar as Tags do Vault e n√£o somente dos memorandos. Padr√£o: "Falso".',"Ready to convert image into background":"Pronto para converter imagem em fundo",List:"Lista",Task:"Tarefa",Top:"Topo",Bottom:"Fundo",TAG:"TAG",DAY:"DIA",QUERY:"QUERY",EDIT:"EDITAR",PIN:"FIXAR",UNPIN:"DESAFIXAR",DELETE:"ELIMINAR","CONFIRMÔºÅ":"CONFIRMARÔºÅ","CREATE FILTER":"CRIAR FILTRO",Settings:"Defini√ß√µes","Recycle bin":"Reciclagem","About Me":"Acerca de mim","Fetching data...":"A obter dados...","Here is No Memos.":"N√£o existem Thino.","Frequently Used Tags":"Tags Usadas Frequentemente","What do you think now...":"Em que est√° a pensar...",READ:"LER",MARK:"ASSINALAR",SHARE:"PARTILHAR",SOURCE:"ORIGEM",RESTORE:"RESTAURAR","DELETE AT":"ELIMINADO EM","Noooop!":"Noooop!","All Data is Loaded üéâ":"Todos os Dados foram Carregados üéâ","Quick filter":"Filtro r√°pido",TYPE:"TIPO",LINKED:"LINKED","NO TAGS":"SEM TAGS","HAS LINKS":"TEM LINKS","HAS IMAGES":"TEM IMAGENS",INCLUDE:"INCLUIR",EXCLUDE:"EXCLUIR",TEXT:"TEXTO",IS:"√â",ISNOT:"N√ÉO √â",SELECT:"SELECCIONAR","ADD FILTER TERMS":"ADICIONAR TERMOS DE FILTRAGEM",FILTER:"FILTRAR",TITLE:"T√çTULO","CREATE QUERY":"CRIAR QUERY","EDIT QUERY":"EDITAR QUERY",MATCH:"IGUALA",TIMES:"VEZES","Share Memo Image":"Partilhar Imagem de Memo","‚ÜóClick the button to save":"‚ÜóClique no bot√£o para guardar","Image is generating...":"A gerar Imagem..","Image is loading...":"A carregar Imagem...","Loading...":"Carregando...","üòü Cannot load image, image link maybe broken":"üòü N√£o √© poss√≠vel carregar a imagem, o link da imagem pode estar incorrecto","Daily Memos":"Thino Di√°rios","CANCEL EDIT":"CANCELAR EDI√á√ÉO","LINK TO THE":"LINK PARA O","Mobile Options":"Op√ß√µes M√≥veis","Don't support web image yet, please input image path in vault":"Ainda n√£o existe suporte para imagens de web. Por favor, insira o link para uma imagem do vault","Experimental Options":"Op√ß√µes Experimentais","Background Image in Dark Theme":"Imagem de Fundo no Tema Escuro","Background Image in Light Theme":"Imagem de Fundo no Tema Claro",'Set background image in dark theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema escuro. Defina da seguinte forma: "Daily/one.png".','Set background image in light theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema claro. Defina da seguinte forma: "Daily/one.png".','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Defina a composi√ß√£o padr√£o do memorando, deve usar {TIME} como "HH:mm" e {CONTENT} como conte√∫do. Padr√£o: "{TIME} {CONTENT}".',"Default Memo Composition":"Composi√ß√£o Padr√£o de um Memorando","Show Tasks Label":"Mostrar Etiquetas de Tarefas","Show tasks label near the time text. False by default":'Mostrar etiquetas de tarefas pr√≥ximas do texto de tempo. Padr√£o: "Falso".',"Please Open Memos First":"Por favor, abra o Thino primeiro",DATE:"DATA",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"ANTES",AFTER:"DEPOIS","Allow Comments On Memos":"Permitir Coment√°rios nos Memorandos","You can comment on memos. False by default":'Permite que comente os memorandos. Padr√£o: "Falso".',Import:"Importar","TITLE CANNOT BE NULL!":"O T√çTULO N√ÉO PODE SER NULO!","FILTER CANNOT BE NULL!":"O FILTRO N√ÉO PODE SER NULO!","Comments In Original DailyNotes/Notes":"Coment√°rios nas Notas/Notas Di√°rias Originais","You should install Dataview Plug-in ver 0.5.9 or later to use this feature.":"Deve instalar a vers√£o 0.5.9 ou posterior do plugin Dataview para usar esta funcionalidade.","Open Memos Successfully":"Thino Iniciado com Sucesso","Fetch Memos Error":"üò≠ Erro de Fetch","Copied to clipboard Successfully":"Copiado para a √°rea de transfer√™ncia com sucesso","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Verifique se abriu o plugin de Notas Di√°rias ou de Notas Peri√≥dicas","Please finish the last filter setting first":"Por favor, termine  primeiro a configura√ß√£o do √∫ltimo filtro","Close Memos Successfully":"Thino Fechado com Sucesso","Insert as Memo":"Inserir como um Memorando","Insert file as memo content":"Inserir ficheiro como conte√∫do de um memorando","Image load failed":"Falha no carregamento da imagem","Content cannot be empty":"O Conte√∫do n√£o pode estar vazio","Unable to create new file.":"N√£o foi poss√≠vel criar um novo ficheiro.","Failed to fetch deleted memos: ":"Falha no fetch dos memorandos removidos: ","RESTORE SUCCEED":"RESTAURO BEM SUCEDIDO","Save Memo button icon":"√çcone do Bot√£o para Guardar Memorandos","The icon shown on the save Memo button in the UI.":"O √≠cone exibido na UI do bot√£o para guardar memorandos.","Fetch Memos From Particular Notes":"Obter Memorandos de Notas Espec√≠ficas",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'Pode definir qualquer Query de Dataview para o Memos procurar. Todos os memorandos nessas notas ser√£o mostrados na lista. Padr√£o: "#memo".',"Allow Memos to Fetch Memo from Notes":"Permitir que o Thino Obtenha memorandos das Notas","Use Memos to manage all memos in your notes, not only in daily notes. False by default":'Use o Memos para gerir todos os memorandos nas suas notas e n√£o apenas nas notas di√°rias. Padr√£o: "Falso".',"Always Show Memo Comments":"Mostrar Coment√°rios dos Memorandos","Always show memo comments on memos. False by default":'Mostrar sempre os coment√°rios dos memorandos. Padr√£o: "Falso".',"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"N√£o definiu a pasta para as notas di√°rias, quer no plugin the Notas Peri√≥dicas ou de Notas Di√°rias.","Please check your daily note plugin OR periodic notes plugin settings":"Por favor, verifique as configura√ß√µes dos plugins de Notas Di√°rias OU de Notas Peri√≥dicas","Use Which Plugin's Default Configuration":"Usar a Configura√ß√£o Padr√£o do Plugin","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"O Memos usa a configura√ß√£o padr√£o do plugin seleccionado para obter memorandos diariamente. Padr√£o: 'Notas Di√°rias'.",Daily:"Di√°rio"},q7={welcome:"Bem-vindo ao Memos!",ribbonIconTitle:"Thino",months:["Janeiro","Fevereiro","Mar√ßo","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan.","Fev.","Mar.","Abr.","Maio","Jun.","Jul.","Ago.","Set.","Out.","Nov.","Dez."],weekDays:["Domingo","Segunda","Ter√ßa","Quarta","Quinta","Sexta","S√°bado"],weekDaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","S√°b"],to:"para",year:null,month:null,"Basic Options":"Op√ß√µes B√°sicas","User name":"Nome de Usu√°rio","Set your user name here. 'Memos üòè' By default":"Defina o nome de usu√°rio. Padr√£o: 'Thino üòè'.","Insert after heading":"Inserir ap√≥s o cabe√ßalho","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Deve definir o mesmo cabe√ßalho na configura√ß√£o posterior se pretende inserir e processar memorandos abaixo do cabe√ßalho aqui definido.","Allows admonitions to be created using ":"Permitir que Admonitions sejam criadas usando ","Process Memos below":"Processar Memorandos abaixo do Cabe√ßalho","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"Somente as entradas abaixo deste cabe√ßalho ser√£o processadas nas suas notas. Se n√£o configurar esta funcionalidade, nenhuma nota ser√° processada para o ficheiro respetivo.","Save Memo button label":"Legenda do Bot√£o de Guardar Memorandos","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":'Define o texto apresentado na UI do bot√£o guardar memorandos. Padr√£o: "NOTEIT".',"Focus on editor when open memos":"Focar no Editor ao iniciar o Thino","Focus on Editor when open memos. Focus by default.":'Focar no editor ao iniciar o Thino. Padr√£o: "Focar".',"Open daily memos with open memos":"Abrir memorandos di√°rios ao iniciar o Thino","Open daily memos with open memos. Open by default.":'Abrir memorandos di√°rios ao iniciar o Thino. Padr√£o: "Abrir".',"Open Memos when obsidian opens":"Abrir Thino quando o Obsidian inicia","When enable this, Memos will open when Obsidian opens. False by default.":'Quando esta op√ß√£o est√° activa, o Memos abrir√° quando o Obsidian inicia. Padr√£o: "Falso".',"Hide done tasks in Memo list":"Ocultar tarefas conclu√≠das na lista de memorandos","Hide all done tasks in Memo list. Show done tasks by default.":'Ocultar todas as tarefas conclu√≠das na lista de memorandos. Padr√£o: "Mostrar tarefas conclu√≠das".',"Advanced Options":"Op√ß√µes Avan√ßadas","UI language for date":"Idioma na UI da Data ","Translates the date UI language. Only 'en' and 'zh' are available.":"Define o idioma na UI da Data. De momento, apenas 'en', 'fr', 'pt' e 'zh' est√£o dispon√≠veis.","Default prefix when save thino":"Prefixo Padr√£o","Set the default prefix when create memo, 'List' by default.":"Define o prefixo padr√£o quando um memorando √© criado. Padr√£o: 'Lista'.","Default insert date format":"Formato Padr√£o para Inser√ß√£o de Data","Set the default date format when insert date by @, 'Tasks' by default.":"Define o formato de Data padr√£o ao inserir a data usando '@'. Padr√£o: 'Tarefas'.","Default editor position on mobile":"Posi√ß√£o Padr√£o do Editor de Memorandos na Vers√£o M√≥vel","Set the default editor position on Mobile, 'Top' by default.":"Define a posi√ß√£o padr√£o do editor de memorandos na vers√£o m√≥vel. Padr√£o: 'Topo'.","Use button to show editor on mobile":"Usar Bot√£o para Mostrar o Editor na Vers√£o M√≥vel","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Define um bot√£o flutuante para abrir o editor na vers√£o m√≥vel. Op√ß√£o dispon√≠vel somente quando a posi√ß√£o do editor est√° definida para 'Fundo'.","Show Time When Copy Results":"Mostrar a Hora ao Copiar os Resultados","Show time when you copy results, like 12:00. Copy time by default.":"Mostrar a Hora, no formato '12:00', ao copiar os resultados. Padr√£o: 'Copiar a hora'.","Show Date When Copy Results":"Mostrar a Data ao Copiar os Resultados","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":'Mostrar a Data, no formato [[2022-01-01]], ao copiar os resultados. Padr√£o: "Copiar a hora".',"Add Blank Line Between Different Date":"Adicionar Linha em Branco entre Datas Diferentes.","Add blank line when copy result with date. No blank line by default.":'Adicionar linha em branco ao copiar resultados com Data. Padr√£o: "N√£o adicionar linha."',"Share Options":"Op√ß√µes de Partilha","Share Memos Image Footer Start":"Partilhar a Imagem de um memorando - In√≠cio do Rodap√©","Set anything you want here, use {ThinoNum} to display Number of memos, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Defina como preferir, use {ThinoNum} para mostrar o n√∫mero de thinorandos e use {UsedDay} para dias. 'Padr√£o: {ThinoNum} Thinorandos {UsedDay} Dias'.","Share Memos Image Footer End":"Partilhar a Imagem de um memorando - Fim do Rodap√©","Set anything you want here, use {UserName} as your username. '‚úçÔ∏è By {UserName}' By default":"Defina como preferir, use {UserName} como o seu nome de usu√°rio. Padr√£o: '‚úçÔ∏è Por {UserName}'.","Save Shared Image To Folder For Mobile":"Guardar a Imagem Partilhada para Pasta na Vers√£o M√≥vel","Save image to folder for mobile. False by Default":'Guardar a imagem partilhada para pasta na vers√£o m√≥vel. Padr√£o: "Falso".',"Say Thank You":"Agrade√ßa",Donate:"Doar","If you like this plugin, consider donating to support continued development:":"Se gosta deste plugin, considere doar para apoiar o seu desenvolvimento cont√≠nuo:","File Name of Recycle Bin":"Nome da Reciclagem","Set the filename for recycle bin. 'delete' By default":"Define o nome do ficheiro para a Reciclagem. Padr√£o: 'delete'.","File Name of Query File":"Nome do Ficheiro de Query","Set the filename for query file. 'query' By default":"Define o nome do ficheiro de Query. Padr√£o: 'Query'.","Use Tags In Vault":"Usar Tags no Vault","Use tags in vault rather than only in Memos. False by default.":'Usar as Tags do Vault e n√£o somente dos memorandos. Padr√£o: "Falso".',"Ready to convert image into background":"Pronto para converter imagem em fundo",List:"Lista",Task:"Tarefa",Top:"Topo",Bottom:"Fundo",TAG:"TAG",DAY:"DIA",QUERY:"QUERY",EDIT:"EDITAR",PIN:"FIXAR",UNPIN:"DESAFIXAR",DELETE:"ELIMINAR","CONFIRMÔºÅ":"CONFIRMARÔºÅ","CREATE FILTER":"CRIAR FILTRO",Settings:"Defini√ß√µes","Recycle bin":"Reciclagem","About Me":"Acerca de mim","Fetching data...":"A obter dados...","Here is No Memos.":"N√£o existem Thino.","Frequently Used Tags":"Tags Usadas Frequentemente","What do you think now...":"Em que est√° a pensar...",READ:"LER",MARK:"ASSINALAR",SHARE:"PARTILHAR",SOURCE:"ORIGEM",RESTORE:"RESTAURAR","DELETE AT":"ELIMINADO EM","Noooop!":"Noooop!","All Data is Loaded üéâ":"Todos os Dados foram Carregados üéâ","Quick filter":"Filtro r√°pido",TYPE:"TIPO",LINKED:"LINKED","NO TAGS":"SEM TAGS","HAS LINKS":"TEM LINKS","HAS IMAGES":"TEM IMAGENS",INCLUDE:"INCLUIR",EXCLUDE:"EXCLUIR",TEXT:"TEXTO",IS:"√â",ISNOT:"N√ÉO √â",SELECT:"SELECCIONAR","ADD FILTER TERMS":"ADICIONAR TERMOS DE FILTRAGEM",FILTER:"FILTRAR",TITLE:"T√çTULO","CREATE QUERY":"CRIAR QUERY","EDIT QUERY":"EDITAR QUERY",MATCH:"IGUALA",TIMES:"VEZES","Share Memo Image":"Partilhar Imagem de Memo","‚ÜóClick the button to save":"‚ÜóClique no bot√£o para guardar","Image is generating...":"A gerar Imagem..","Image is loading...":"A carregar Imagem...","Loading...":"Carregando...","üòü Cannot load image, image link maybe broken":"üòü N√£o √© poss√≠vel carregar a imagem, o link da imagem pode estar incorrecto","Daily Memos":"Thino Di√°rios","CANCEL EDIT":"CANCELAR EDI√á√ÉO","LINK TO THE":"LINK PARA O","Mobile Options":"Op√ß√µes M√≥veis","Don't support web image yet, please input image path in vault":"Ainda n√£o existe suporte para imagens de web. Por favor, insira o link para uma imagem do vault","Experimental Options":"Op√ß√µes Experimentais","Background Image in Dark Theme":"Imagem de Fundo no Tema Escuro","Background Image in Light Theme":"Imagem de Fundo no Tema Claro",'Set background image in dark theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema escuro. Defina da seguinte forma: "Daily/one.png".','Set background image in light theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema claro. Defina da seguinte forma: "Daily/one.png".','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Defina a composi√ß√£o padr√£o do memorando, deve usar {TIME} como "HH:mm" e {CONTENT} como conte√∫do. Padr√£o: "{TIME} {CONTENT}".',"Default Memo Composition":"Composi√ß√£o Padr√£o de um Memorando","Show Tasks Label":"Mostrar Etiquetas de Tarefas","Show tasks label near the time text. False by default":'Mostrar etiquetas de tarefas pr√≥ximas do texto de tempo. Padr√£o: "Falso".',"Please Open Memos First":"Por favor, abra o Thino primeiro",DATE:"DATA",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"ANTES",AFTER:"DEPOIS","Allow Comments On Memos":"Permitir Coment√°rios nos Memorandos","You can comment on memos. False by default":'Permite que comente os memorandos. Padr√£o: "Falso".',Import:"Importar","TITLE CANNOT BE NULL!":"O T√çTULO N√ÉO PODE SER NULO!","FILTER CANNOT BE NULL!":"O FILTRO N√ÉO PODE SER NULO!","Comments In Original DailyNotes/Notes":"Coment√°rios nas Notas/Notas Di√°rias Originais","You should install Dataview Plug-in ver 0.5.9 or later to use this feature.":"Deve instalar a vers√£o 0.5.9 ou posterior do plugin Dataview para usar esta funcionalidade.","Open Memos Successfully":"Thino Iniciado com Sucesso","Fetch Memos Error":"üò≠ Erro de Fetch","Copied to clipboard Successfully":"Copiado para a √°rea de transfer√™ncia com sucesso","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Verifique se abriu o plugin de Notas Di√°rias ou de Notas Peri√≥dicas","Please finish the last filter setting first":"Por favor, termine  primeiro a configura√ß√£o do √∫ltimo filtro","Close Memos Successfully":"Thino Fechado com Sucesso","Insert as Memo":"Inserir como um Memorando","Insert file as memo content":"Inserir ficheiro como conte√∫do de um memorando","Image load failed":"Falha no carregamento da imagem","Content cannot be empty":"O Conte√∫do n√£o pode estar vazio","Unable to create new file.":"N√£o foi poss√≠vel criar um novo ficheiro.","Failed to fetch deleted memos: ":"Falha no fetch dos memorandos removidos: ","RESTORE SUCCEED":"RESTAURO BEM SUCEDIDO","Save Memo button icon":"√çcone do Bot√£o para Guardar Memorandos","The icon shown on the save Memo button in the UI.":"O √≠cone exibido na UI do bot√£o para guardar memorandos.","Fetch Memos From Particular Notes":"Obter Memorandos de Notas Espec√≠ficas",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'Pode definir qualquer Query de Dataview para o Memos procurar. Todos os memorandos nessas notas ser√£o mostrados na lista. Padr√£o: "#memo".',"Allow Memos to Fetch Memo from Notes":"Permitir que o Thino Obtenha memorandos das Notas","Use Memos to manage all memos in your notes, not only in daily notes. False by default":'Use o Memos para gerir todos os memorandos nas suas notas e n√£o apenas nas notas di√°rias. Padr√£o: "Falso".',"Always Show Memo Comments":"Mostrar Coment√°rios dos Memorandos","Always show memo comments on memos. False by default":'Mostrar sempre os coment√°rios dos memorandos. Padr√£o: "Falso".',"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"N√£o definiu a pasta para as notas di√°rias, quer no plugin the Notas Peri√≥dicas ou de Notas Di√°rias.","Please check your daily note plugin OR periodic notes plugin settings":"Por favor, verifique as configura√ß√µes dos plugins de Notas Di√°rias OU de Notas Peri√≥dicas","Use Which Plugin's Default Configuration":"Usar a Configura√ß√£o Padr√£o do Plugin","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"O Memos usa a configura√ß√£o padr√£o do plugin seleccionado para obter memorandos diariamente. Padr√£o: 'Notas Di√°rias'.",Daily:"Di√°rio"},G7={},J7={},K7={},Q7={welcome:"Ê¨¢Ëøé‰ΩøÁî® Thino ",ribbonIconTitle:"Thino",months:["‰∏ÄÊúà","‰∫åÊúà","‰∏âÊúà","ÂõõÊúà","‰∫îÊúà","ÂÖ≠Êúà","‰∏ÉÊúà","ÂÖ´Êúà","‰πùÊúà","ÂçÅÊúà","ÂçÅ‰∏ÄÊúà","ÂçÅ‰∫åÊúà"],monthsShort:[null,null,null,null,null,null,null,null,null,null,null,null],weekDays:["Âë®Êó•","Âë®‰∏Ä","Âë®‰∫å","Âë®‰∏â","Âë®Âõõ","Âë®‰∫î","Âë®ÂÖ≠"],weekDaysShort:["Âë®Êó•","Âë®‰∏Ä","Âë®‰∫å","Âë®‰∏â","Âë®Âõõ","Âë®‰∫î","Âë®ÂÖ≠"],to:"Ëá≥",year:"Âπ¥",month:"Êúà","Basic Options":"Âü∫Á°ÄÈÄâÈ°π","User name":"Áî®Êà∑Âêç","Set your user name here. 'Memos üòè' By default":"Âú®ËøôÈáåËÆæÁΩÆ‰Ω†ÂñúÊ¨¢ÁöÑÁî®Êà∑Âêç„ÄÇ ÈªòËÆ§‰∏∫ 'Thino üòè'",'You can set target heading like "# Heading" to control data location':'‰Ω†ÂèØ‰ª•ËÆæÁΩÆÁõÆÊ†áÊ†áÈ¢òÔºå‰æãÂ¶Ç "# Heading" Êù•ÊéßÂà∂Êï∞ÊçÆÁöÑ‰ΩçÁΩÆ',"Insert after heading":"Âú®ÊåáÂÆöÊ†áÈ¢òÂêéÊèíÂÖ• Thino","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Ëã•ÁïôÁ©∫ÔºåÂàôËÆ∞ÂΩïÁöÑ thino ÂÜÖÂÆπÂú®Êó•ËÆ∞Êú´Â∞æÊèíÂÖ•ÔºåËã•Â°´ÂÜôÊ†áÈ¢òÔºåÂàôËÆ∞ÂΩïÁöÑ thino ÂÜÖÂÆπÁªü‰∏ÄÈÉΩËÆ∞ÂΩïÂú®ËØ•Ê†áÈ¢ò‰∏ã","Process Memos below":"Ëß£ÊûêÊåáÂÆöÊ†áÈ¢òÂêéÁöÑ Thino","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"Ëã•ÁïôÁ©∫ÔºåÂàôÂú®ThinoÁïåÈù¢‰ºöÊòæÁ§∫ÊâÄÊúâthinoËÆ∞ÂΩïÂÜÖÂÆπÔºåËã•Â°´ÂÜôÊ†áÈ¢òÔºåÂàôThinoÁïåÈù¢Âè™ÊòæÁ§∫ËØ•Ê†áÈ¢ò‰∏ãÁöÑÂÜÖÂÆπÔºåÂÜôÂÖ•ÂÖ∂‰ªñ‰ΩçÁΩÆÁöÑÂÜÖÂÆπ‰∏çÊòæÁ§∫","Save Memo button label":"‰øùÂ≠òÊåâÈíÆ‰∏äÁöÑÊñáÊú¨","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"Âú®‰øùÂ≠òÊåâÈíÆ‰∏äÂ±ïÁ§∫ÁöÑÊñáÊú¨„ÄÇÈªòËÆ§‰∏∫ 'NOTEIT'","Focus on editor when open memos":"Ëá™Âä®ËÅöÁÑ¶Âà∞ Thino ËæìÂÖ•Ê°Ü","Focus on editor when open memos. Focus by default.":"ÂΩìÊâìÂºÄ Thino ÁöÑÊó∂ÂÄôËá™Âä®ËÅöÁÑ¶Âà∞ Thino ËæìÂÖ•Ê°Ü„ÄÇÈªòËÆ§ÂºÄÂêØ","Open daily memos with open memos":"ÊâìÂºÄÊØèÊó• Thino ÁöÑÊó∂ÂÄôÊâìÂºÄ Thino ÁïåÈù¢","Open daily memos with open memos. Open by default.":"ÊâìÂºÄÊØèÊó• Thino ÁöÑÊó∂ÂÄôÊâìÂºÄ Thino ÁïåÈù¢„ÄÇÈªòËÆ§ÂºÄÂêØ","Open Memos when obsidian opens":"ÂΩìÂºÄÂêØ Obsidian ÁöÑÊó∂ÂÄôËá™Âä®ÊâìÂºÄ Thino","When enable this, Memos will open when Obsidian opens. False by default.":"ÂΩìÂºÄÂêØËØ•ÈÄâÈ°π, Thino ‰ºöÂú® Obsidian ÊâìÂºÄÊó∂Ëá™Âä®ÊâìÂºÄ„ÄÇÈªòËÆ§‰∏çÂºÄÂêØ„ÄÇ","Hide done tasks in Memo list":"Âú® Thino ÂàóË°®‰∏≠ÈöêËóèÂ∑≤ÂÆåÊàê Thino","Hide all done tasks in Memo list. Show done tasks by default.":"Âú® Thino ÂàóË°®‰∏≠ÈöêËóèÂ∑≤ÂÆåÊàê Thino„ÄÇÈªòËÆ§‰∏çÂºÄÂêØ","Advanced Options":"ËøõÈò∂ÈÄâÈ°π","UI language for date":"ÈíàÂØπÊó•ÊúüÂ±ïÁ§∫ÁöÑËØ≠Ë®ÄÁïåÈù¢","Translates the date UI language. Only 'en' and 'zh' are available.":"ÂØπÊó•ÊúüÁöÑ‰∏çÂêåÁøªËØë„ÄÇÁõÆÂâçÂè™ËÉΩÈÄâÊã© 'en' Âíå 'zh'ÔºàÊú™Êù•‰ºöÂ∫üÁΩÆÔºâ","Default prefix when save thino":"‰øùÂ≠ò Thino Êó∂ÁöÑÈªòËÆ§ÂâçÁºÄ","Set the default prefix when create memo, 'List' by default.":"ËÆæÁΩÆÈªòËÆ§ÁöÑÂâçÁºÄÊ†∑Âºè„ÄÇÈªòËÆ§‰∏∫ÂàóË°®","Default insert date format":"ÊèíÂÖ•Êó•ÊúüÈôÑÂ∏¶ÁöÑÊ†∑Âºè","Set the default date format when insert date by @, 'Tasks' by default.":"ÂΩì‰ΩøÁî® @ Êù•Âø´ÈÄüÊèíÂÖ•Êó•ÊúüÊó∂ÔºåÊèíÂÖ•Êó•ÊúüÈôÑÂ∏¶ÁöÑÊ†∑ÂºèÔºåÈªòËÆ§‰∏∫ 'Tasks' Ê†∑Âºè","Default editor position on mobile":"Âú®ÁßªÂä®Á´Ø‰∏äÁöÑÈªòËÆ§ÁºñËæëÂô®‰ΩçÁΩÆ","Set the default editor position on Mobile, 'Top' by default.":"ËÆæÁΩÆÂú®ÁßªÂä®Á´Ø‰∏äÁöÑÈªòËÆ§ÁºñËæëÂô®‰ΩçÁΩÆÔºåÈªòËÆ§Âú®È°∂ÈÉ®„ÄÇ","Use button to show editor on mobile":"ÂΩìÁºñËæëÂô®‰ΩçÁΩÆÂú®Â∫ïÈÉ®Êó∂ÔºåÁî®ÊåâÈíÆÊù•Âî§Âá∫ÁºñËæëÂô®","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"ËÆæÁΩÆ‰∏Ä‰∏™ÊµÆÂä®ÊåâÈíÆÊù•Âî§Âá∫ÁºñËæëÂô®„ÄÇÂΩìÂú®ÁßªÂä®Á´Ø‰∏äÂêØÁî®ËØ•ÈÄâÈ°πÊâç‰ºöÁîüÊïà","Show Time When Copy Results":"ÂΩìÂ§çÂà∂Ê£ÄÁ¥¢ÁªìÊûúÊó∂ÈôÑÂ∏¶Êó∂Èó¥","Show time when you copy results, like 12:00. Copy time by default.":"Âú®Â§çÂà∂Ê£ÄÁ¥¢ÁªìÊûúÊó∂ÈôÑÂ∏¶ÂÖ∂Êó∂Èó¥Ôºå‰æãÂ¶Ç 12:00 „ÄÇÈªòËÆ§ÂºÄÂêØ","Show Date When Copy Results":"ÂΩìÂ§çÂà∂Ê£ÄÁ¥¢ÁªìÊûúÊó∂ÈôÑÂ∏¶Êó•Êúü","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"Âú®Â§çÂà∂Ê£ÄÁ¥¢ÁªìÊûúÊó∂ÈôÑÂ∏¶ÂÖ∂Êó•ÊúüÔºå‰æãÂ¶Ç [[2022-01-01]]„ÄÇÈªòËÆ§ÂºÄÂêØ","Add Blank Line Between Different Date":"Âú®Â§çÂà∂Êó•ÊúüÁöÑÊó∂ÂÄôÂä†‰∏äÁ©∫Ë°å","Add blank line when copy result with date. No blank line by default.":"Âú®Â§çÂà∂Êó•ÊúüÁöÑÊó∂ÂÄôÂú®Áõ∏ÈÇªÁöÑÊó•Êúü‰πãÈó¥Âä†‰∏äÁ©∫Ë°å„ÄÇÈªòËÆ§Êó†Á©∫Ë°å","Share Options":"ÂàÜ‰∫´ÈÄâÈ°π","Share Memos Image Footer Start":"ÂàÜ‰∫´ Thino ÂõæÁâáÁöÑÂ∑¶ËæπÈ°µËÑö","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"‰Ω†ÂèØ‰ª•Âú®ËøôÈáåËÆæÁΩÆ‰Ω†ÊÉ≥Ë¶ÅÁöÑ‰ªªÊÑèÊñáÊú¨ÔºåÁî® {ThinoNum} Êù•Â±ïÁ§∫‰Ω†ËÆ∞ÂΩïÁöÑ thino Êï∞ÈáèÔºå{UsedDay} Êù•Â±ïÁ§∫‰ΩøÁî®Êó•Êúü„ÄÇÈªòËÆ§‰∏∫'{ThinoNum} Thino {UsedDay} Days'","Share Memos Image Footer End":"ÂàÜ‰∫´ Thino ÂõæÁâáÁöÑÂè≥ËæπÈ°µËÑö","Set anything you want here, use {UserName} as your username. '‚úçÔ∏è By {UserName}' By default":"‰Ω†ÂèØ‰ª•Âú®ËøôÈáåËÆæÁΩÆ‰Ω†ÊÉ≥Ë¶ÅÁöÑ‰ªªÊÑèÊñáÊú¨ÔºåÁî® {UserName} Êù•Â±ïÁ§∫‰Ω†ÁöÑÁî®Êà∑Âêç„ÄÇÈªòËÆ§‰∏∫ '‚úçÔ∏è By {UserName}'","Save Shared Image To Folder For Mobile":"ÂΩìÂú®ÁßªÂä®Á´Ø‰∏äÊó∂‰øùÂ≠òÂõæÁâáÂà∞Êñá‰ª∂Â§π","Save image to folder for mobile. False by Default":"ÂΩìÂú®ÁßªÂä®Á´Ø‰∏äÊó∂Ôºå‰øùÂ≠òÁîüÊàêÁöÑÂõæÁâáÂà∞Êñá‰ª∂Â§π","Say Thank You":"ÊÑüË∞¢ÂºÄÂèë",Donate:"ÊçêËµ†","If you like this plugin, consider donating to support continued development:":"Â¶ÇÊûú‰Ω†ÂñúÊ¨¢Ëøô‰∏™Êèí‰ª∂ÔºåËÄå‰∏î‰πüÂ∏åÊúõÁªôÊàë‰π∞È∏°ËÖøÔºåÈÇ£‰πàÂèØ‰ª•ËÄÉËôë Github È°µÈù¢Âè≥ËæπÁöÑ Sponsor~","File Name of Recycle Bin":"ÂõûÊî∂Á´ôÁöÑÊñá‰ª∂Âêç","Set the filename for recycle bin. 'delete' By default":"ÁªôÂõûÊî∂Á´ôËÆæÁΩÆ‰∏Ä‰∏™Êñá‰ª∂Âêç„ÄÇÈªòËÆ§‰∏∫'delete'","File Name of Query File":"Ê£ÄÁ¥¢Êñá‰ª∂ÁöÑÊñá‰ª∂Âêç","Set the filename for query file. 'query' By default":"ËÆæÁΩÆÂ≠òÊîæÊ£ÄÁ¥¢ÂºèÁöÑÊñá‰ª∂ÁöÑÊñá‰ª∂Âêç„ÄÇÈªòËÆ§‰∏∫'query'","Use Tags In Vault":"‰ΩøÁî®Âú®Â∫ìÂÜÖÁöÑÊâÄÊúâÊ†áÁ≠æ","Use tags in vault rather than only in Memos. False by default.":"‰ΩøÁî®Âú®Â∫ìÂÜÖÁöÑËÄå‰∏çÊòØ Thino ÂÜÖÁöÑÊ†áÁ≠æ„ÄÇÈªòËÆ§ÂÖ≥Èó≠","Don't support web image yet, please input image path in vault":"ÊöÇ‰∏çÊîØÊåÅÁΩëÁªúÂõæÁâáÔºåËØ∑‰ΩøÁî®Êú¨Âú∞ÂõæÁâá","Ready to convert image into background":"Ê≠£Âú®Â∞ÜÂõæÁâáËΩ¨Êç¢‰∏∫ËÉåÊôØÂõæ",List:"ÂàóË°®",Task:"‰ªªÂä°",Top:"È°∂ÈÉ®",Bottom:"Â∫ïÈÉ®",TAG:"Ê†áÁ≠æ",DAY:"Â§©",QUERY:"Ê£ÄÁ¥¢Âºè",EDIT:"ÁºñËæë",PIN:"ÁΩÆÈ°∂",UNPIN:"ÂèñÊ∂àÁΩÆÈ°∂",DELETE:"Âà†Èô§","CONFIRMÔºÅ":"Á°ÆÂÆöÂà†Èô§","CREATE FILTER":"ÂàõÂª∫Ê£ÄÁ¥¢Âºè",Filter:"Á≠õÈÄâ",Settings:"ËÆæÁΩÆ","Recycle bin":"ÂõûÊî∂Á´ô","About Me":"ÂÖ≥‰∫é","Fetching data...":"Ëé∑ÂèñÊï∞ÊçÆ‰∏≠...","Here is No Memos.":"Ê≤°ÊúâÊâæÂà∞ Thino","Frequently Used Tags":"Â∏∏Áî®Ê†áÁ≠æ","What do you think now...":"‰Ω†Áé∞Âú®Âú®ÊÉ≥‰ªÄ‰πàÔºü",READ:"ÈòÖËØª",MARK:"ÂºïÁî®",SHARE:"ÂàÜ‰∫´",SOURCE:"Êù•Ê∫ê",RESTORE:"ÊÅ¢Â§ç",ARCHIVE:"ÂΩíÊ°£","DELETE AT":"Âà†Èô§‰∫é","Noooop!":"Âï•ÈÉΩÊ≤°ÊúâÔºÅ","All Data is Loaded üéâ":"ÊâÄÊúâÊï∞ÊçÆÈÉΩÂä†ËΩΩÂ•ΩÂï¶ üéâ","Quick filter":"Âø´ÈÄüÁ≠õÈÄâ",TYPE:"Á±ªÂûã",LINKED:"ÊúâÈìæÊé•","NO TAGS":"Êó†Ê†áÁ≠æ","HAS LINKS":"ÊúâË∂ÖÈìæÊé•","HAS IMAGES":"ÊúâÂõæÁâá",INCLUDE:"ÂåÖÊã¨",EXCLUDE:"ÊéíÈô§",TEXT:"ÊñáÊú¨",IS:"ÊòØ",AND:"Âíå",OR:"Êàñ",LIST:"Áä∂ÊÄÅ",ISNOT:"‰∏çÊòØ",SELECT:"ÈÄâÊã©",PATH:"Ë∑ØÂæÑ",METADATA:"ÂÖÉÊï∞ÊçÆ","ADD FILTER TERMS":"Ê∑ªÂä†Ê£ÄÁ¥¢Êù°‰ª∂",FILTER:"Á≠õÈÄâÂô®",TITLE:"Ê†áÈ¢ò","CREATE QUERY":"ÂàõÂª∫Ê£ÄÁ¥¢Âºè","EDIT QUERY":"ÁºñËæëÊ£ÄÁ¥¢Âºè",MATCH:"ÂåπÈÖç",TIMES:"Ê¨°","Share Memo Image":"ÂàÜ‰∫´ Thino ÂõæÁâá","‚ÜóClick the button to save":"‚ÜóÁÇπÂáªÂè≥‰∏äËßíÁöÑÊåâÈíÆÊù•‰øùÂ≠ò","Image is generating...":"ÂõæÁâáÊ≠£Âú®ÁîüÊàê‰∏≠...","Image is loading...":"ÂõæÁâáÊ≠£Âú®Âä†ËΩΩ‰∏≠...","üòü Cannot load image, image link maybe broken":"üòü Êó†Ê≥ïÂä†ËΩΩÂõæÁâáÔºåÂõæÁâáÈìæÊé•‰πüËÆ∏‰∏çÂ≠òÂú®","Loading...":"Âä™ÂäõÂä†ËΩΩ‰∏≠...","Daily Memos":"ÊØèÊó• Thino","CANCEL EDIT":"ÂèñÊ∂àÁºñËæë","LINK TO THE":"ÈìæÊé•Âà∞","Mobile Options":"ÁßªÂä®Á´ØÈÄâÈ°π","Experimental Options":"ÂÆûÈ™åÊÄßÈÄâÈ°π","Background Image in Dark Theme":"Ê∑±Ëâ≤‰∏ªÈ¢òÁöÑËÉåÊôØÂõæ","Background Image in Light Theme":"ÊµÖËâ≤‰∏ªÈ¢òÁöÑËÉåÊôØÂõæ",'Set background image in dark theme. Set something like "Daily/one.png"':'ËÆæÁΩÆÊ∑±Ëâ≤‰∏ªÈ¢òÁöÑËÉåÊôØÂõæ„ÄÇËØ∑ËÆæÁΩÆÁ±ª‰ºº"Daily/one.png"ÁöÑË∑ØÂæÑ','Set background image in light theme. Set something like "Daily/one.png"':'ËÆæÁΩÆÊµÖËâ≤‰∏ªÈ¢òÁöÑËÉåÊôØÂõæ„ÄÇËØ∑ËÆæÁΩÆÁ±ª‰ºº"Daily/one.png"ÁöÑË∑ØÂæÑ','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'ËÆæÁΩÆÈªòËÆ§ Thino ÁªÑÊàêÔºå‰Ω†ÂøÖÈ°ªË¶Å‰ΩøÁî® {TIME} ‰Ωú‰∏∫ "HH:mm" ËÄå‰∏îË¶ÅËÆæÁΩÆ {CONTENT} ‰Ωú‰∏∫ÂÜÖÂÆπËØÜÂà´„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå Thino Âü∫‰∫é "{TIME} {CONTENT}" ËØÜÂà´',"Default Memo Composition":"„ÄêÂ∑≤ÂºÉÁΩÆ„ÄëÈªòËÆ§ Thino ÁªÑÊàê","Show Tasks Label":"Â±ïÁ§∫‰ªªÂä°Ê†áÁ≠æ","Show tasks label near the time text. False by default":"Âú® Thino ÁöÑÊó∂Èó¥ÊóÅÂ±ïÁ§∫‰ªªÂä°Ê†áÁ≠æ„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰∏çÂ±ïÁ§∫","Please Open Memos First":"ËØ∑ÂÖàÊâìÂºÄ Thino","Comment it...":"ËØÑËÆ∫...",DATE:"Êó•Êúü",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"Obsidian Natrual DATES language Êèí‰ª∂Ê≤°ÂêØÂä®",BEFORE:"Âú®‰πãÂâç",AFTER:"Âú®‰πãÂêé","Allow Comments On Memos":"ÂÖÅËÆ∏Âú® Thino ‰∏äËØÑËÆ∫","You can comment on memos. False by default":"‰Ω†ÂèØ‰ª•Âú® Thino ÁÇπÂáªÂõæÊ†áËøõË°åËØÑËÆ∫‰∫Ü„ÄÇÈªòËÆ§‰∏çÂºÄÂêØ",Import:"ÂØºÂÖ•","TITLE CANNOT BE NULL!":"Ê†áÈ¢ò‰∏çÂèØ‰ª•‰∏∫Á©∫ÔºÅ","FILTER CANNOT BE NULL!":"Á≠õÈÄâÂô®‰∏çÂèØ‰ª•‰∏∫Á©∫ÔºÅ","Comments In Original DailyNotes/Notes":"Âú®ÂéüÊñá‰ª∂‰∏≠ËøõË°åËØÑËÆ∫","You should install Dataview Plugin ver 0.5.9 or later to use this feature.":"‰Ω†ÈúÄË¶ÅÂÆâË£Ö 0.5.9 ÁâàÊú¨‰ª•‰∏äÁöÑ Dataview Êèí‰ª∂Êù•‰ΩøÁî®ËØ•ÂäüËÉΩ","Open Memos Successfully":"ÊàêÂäüÊâìÂºÄ Thino ","Fetch Memos Error":"üò≠ Thino Ëé∑ÂèñÂ§±Ë¥•","Copied to clipboard Successfully":"Â§çÂà∂ÊàêÂäü","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"ËØ∑Ê£ÄÊü•‰Ω†ÊúâÊ≤°ÊúâÂºÄÂêØÊó•ËÆ∞Êèí‰ª∂ÊàñËÄÖ Periodic Notes Êèí‰ª∂‰∏îÂêØÁî®‰∫ÜÊó•ËÆ∞Ê®°Âºè","Please finish the last filter setting first":"ÂÖàÂÆåÂñÑ‰∏ä‰∏Ä‰∏™ËøáÊª§Âô®Âêß","Close Memos Successfully":"ÊàêÂäüÂÖ≥Èó≠ Thino ","Insert as Memo":"ÊèíÂÖ•ÂÜÖÂÆπ‰∏∫ Thino","Insert file as memo content":"ÊèíÂÖ•Êñá‰ª∂‰∏∫ Thino","Image load failed":"Êúâ‰∏™ÂõæÁâáÂä†ËΩΩÂ§±Ë¥•‰∫Üüòü","Content cannot be empty":"ÂÜÖÂÆπ‰∏çËÉΩ‰∏∫Á©∫ÂëÄ","Unable to create new file.":"Êó†Ê≥ïÊñ∞Âª∫Êñá‰ª∂","Failed to fetch deleted memos: ":"Êó†Ê≥ïËé∑ÂèñÂ∑≤Âà†Èô§ÁöÑ Thino Ôºö","RESTORE SUCCEED":"ÊàêÂäüÊÅ¢Â§ç Thino","DELETE SUCCEED":"Âà†Èô§ÊàêÂäü","Save Memo button icon":"‰øùÂ≠òÊåâÈíÆ‰∏äÁöÑÂõæÊ†á","The icon shown on the save Memo button in the UI.":"‰Ω†ÂèØ‰ª•ËÆæÁΩÆ‰øùÂ≠òÊåâÈíÆ‰∏äÁöÑÂõæÊ†á","Fetch Memos From Particular Notes":"‰ªéÊåáÂÆöÁöÑÊñá‰ª∂‰∏≠Ëé∑Âèñ Thino",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'‰Ω†ÂèØ‰ª•ÁªôÁ¨îËÆ∞ËÆæÁΩÆÊåáÂÆöÊ£ÄÁ¥¢ÂºèÊù•ËÆ© Memos ÂèØ‰ª•Á¥¢ÂºïÂà∞ÂÆÉ„ÄÇÈªòËÆ§‰∏∫ "#memo" ',"Allow Memos to Fetch Memo from Notes":"ÂÖÅËÆ∏ Thino ‰ªéÁ¨îËÆ∞‰∏≠Ëé∑Âèñ Thino","Use Memos to manage all memos in your notes, not only in daily notes. False by default":"‰ΩøÁî® Memos Êù•ÁÆ°ÁêÜ‰Ω†Á¨îËÆ∞‰∏≠ÁöÑ MemosÔºå‰∏çÂçïÂè™ DailyNotes ‰∏≠ÁöÑÂÜÖÂÆπ„ÄÇÈªòËÆ§‰∏∫ÂÖ≥Èó≠","Always Show Memo Comments":"ËØÑËÆ∫Â∞ÜÊÄªÊòØÂèØËßÅ","Always show memo comments on memos. False by default":"ÂΩìÂºÄÂêØÂêéËØÑËÆ∫ÊÄªÊòØ‰ºöÂú® Thino ÁöÑ‰∏ãÊñπÂ±ïÁ§∫„ÄÇÈªòËÆ§‰∏∫ÂÖ≥Èó≠","You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"‰Ω†Âú® Periodic Notes Êèí‰ª∂ÂíåÊó•ËÆ∞Êèí‰ª∂ÈÉΩÊ≤°ËÆæÁΩÆÊó•ËÆ∞ÁöÑÊâÄÂú®Êñá‰ª∂Â§π","Please check your daily note plugin OR periodic notes plugin settings":"ËØ∑Ê£ÄÊü•‰Ω†ÁöÑÊó•ËÆ∞Êèí‰ª∂Âíå/Êàñ Periodic Notes Êèí‰ª∂ÁöÑËÆæÁΩÆ","Use which plugin's default configuration":"‰ΩøÁî®Âì™‰∏™Êèí‰ª∂ÁöÑÈªòËÆ§Êó•ËÆ∞ÈÖçÁΩÆ","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"Thino ÈááÁî®ÊåáÂÆöÊèí‰ª∂ÁöÑÈªòËÆ§ÈÖçÁΩÆÊù•Ëé∑Âèñ Thino„ÄÇÈªòËÆ§‰∏∫Êó•ËÆ∞Êèí‰ª∂„ÄÇ",Daily:"Êó•ËÆ∞Êèí‰ª∂","Always Show Leaf Sidebar on PC":"Âú® PC ‰∏äÊÄªÊòØÂ±ïÁ§∫Â∑¶‰æßÊ†è","Show left sidebar on PC/Tablet even when the leaf width is less than 875px. False by default.":"Âú® PC ÊàñÂπ≥Êùø‰∏äÂç≥‰ΩøÈ°µÈù¢ÂÆΩÂ∫¶Â∞è‰∫é 875px Êó∂ÈÉΩÂ±ïÁ§∫Â∑¶‰æßÊ†è„ÄÇÈªòËÆ§‰∏∫ÂÖ≥Èó≠","You didn't set format for daily notes in both periodic-notes and daily-notes plugins.":"‰Ω†Âú® Periodic Notes Êèí‰ª∂ÂíåÊó•ËÆ∞Êèí‰ª∂ÈÉΩÊ≤°ËÆæÁΩÆÊó•ËÆ∞ÁöÑÊ†ºÂºè","fetch more":"Âä†ËΩΩÊõ¥Â§ö","Search all settings":"ÊêúÁ¥¢ÊâÄÊúâËÆæÁΩÆ","Random Review":"ÈöèÊú∫ÂõûÈ°æ","ARCHIVED AT":"ÂΩíÊ°£‰∫é","Failed to get memos from daily notes":"Êó†Ê≥ï‰ªéÊó•ËÆ∞‰∏≠Ëé∑Âèñ Thino","Failed to delete memo":"Êó†Ê≥ïÂà†Èô§ Thino","CTRL + ENTER to save":"CTRL + ENTER ‰øùÂ≠ò","Started from":"ÂºÄÂßã‰∫é","Custom Background Image":"Ëá™ÂÆö‰πâËÉåÊôØÂõæ","Set custom background image.":"ËÆæÁΩÆËá™ÂÆö‰πâËÉåÊôØÂõæ","Custom Memo Footer":"Ëá™ÂÆö‰πâ Thino È°µËÑö","Set custom memo footer.":"ËÆæÁΩÆËá™ÂÆö‰πâ Thino È°µËÑö","Heatmap Color Scheme":"ÁÉ≠ÂäõÂõæÈ¢úËâ≤","Set different color scheme for heatmap.":"ËÆæÁΩÆÁÉ≠ÂäõÂõæÁöÑÈ¢úËâ≤","Enable Local Http Server":"ÂêØÁî®Êú¨Âú∞ HTTP ÊúçÂä°Âô®","Memos Http Server Port":"Thino HTTP ÊúçÂä°Âô®Á´ØÂè£","Set memos http server port to listen. '43999' by default":"ËÆæÁΩÆ Thino HTTP ÊúçÂä°Âô®Á´ØÂè£„ÄÇÈªòËÆ§‰∏∫ '43999'","Live-Preview Mode OR Source Mode.":"Âü∫‰∫é Thino ÁöÑÊâÄËßÅÂç≥ÊâÄÂæóÊ®°ÂºèÔºàÈªòËÆ§Ôºâ ÊàñËÄÖ Ê∫êÁ†ÅÊ®°ÂºèÔºå‰Ω†ÂèØ‰ª•Ëá™Â∑±ÈÄâÊã©ÈÄÇÂêàËá™Â∑±ÁöÑËæìÂÖ•‰ΩìÈ™å„ÄÇ","Default Editor Mode":"ÈªòËÆ§ÁºñËæëÂô®Ê®°Âºè","Save type for Thino":"Thino ‰øùÂ≠òÁ±ªÂûã",DAILY:"Êó•ËÆ∞",MULTI:"Â§öÊñá‰ª∂",CANVAS:"ÁîªÂ∏É",FILE:"ÂçïÊñá‰ª∂",ALL:"ÊâÄÊúâ","Failed to create daily note, check if it exists.":"Êó†Ê≥ïÂàõÂª∫Êó•ËÆ∞ÔºåËØ∑Ê£ÄÊü•ÊòØÂê¶Â≠òÂú®Êñá‰ª∂Â§π","Failed to create daily note. Please check if you created a folder for daily notes.":"Êó†Ê≥ïÂàõÂª∫Êó•ËÆ∞ÔºåËØ∑Ê£ÄÊü•ÊòØÂê¶Â≠òÂú®Êó•ËÆ∞Êñá‰ª∂Â§π","After you verify your account, please refresh this page.":"È™åËØÅÊàêÂäüÂêéÔºåËØ∑Âà∑Êñ∞È°µÈù¢„ÄÇ",Verify:"ÂéªÈ™åËØÅ","Oops! You forget to verify insider account":"ÂÜÖÊµãË¥¶Êà∑È™åËØÅÂ§±Ë¥•","If you have any questions, please contact us.":"Â¶ÇÊûú‰Ω†Êúâ‰ªª‰ΩïÈóÆÈ¢òÔºåËØ∑ËÅîÁ≥ªÊàë‰ª¨„ÄÇ","Delete Thino Directly":"Áõ¥Êé•Âà†Èô§ Thino","When delete thino directly, it will not be moved to trash. False by default.":"ÂΩìÁõ¥Êé•Âà†Èô§ Thino Êó∂Ôºå‰∏ç‰ºöÁßªÂä®Âà∞ÂõûÊî∂Á´ô„ÄÇÈªòËÆ§‰∏∫ÂÖ≥Èó≠","Get activation code":"Ëé∑ÂèñÊøÄÊ¥ªÁ†Å","Input activation code here":"Âú®ËøôÈáåËæìÂÖ•ÊøÄÊ¥ªÁ†Å","Copy Thino id":"Ëé∑Âèñ Thino id","Activate Pro Version":"ÊøÄÊ¥ª‰∏ì‰∏öÁâà","Please copy Thino id first":"ËØ∑ÂÖàËé∑Âèñ Thino id",'You can set folder name with file name like "folder/file"':'‰Ω†ÂèØ‰ª•ËÆæÁΩÆ‰æãÂ¶Ç "folder/file" ÁöÑÊñá‰ª∂Â§πÂêç+Êñá‰ª∂ÂêçÁöÑÊê≠ÈÖçÊù•Â≠òÊîæÂú®ÊåáÂÆöÊñá‰ª∂Â§π','You can set folder name like "folder1/folder2/folder3" to create sub-folder':'‰Ω†ÂèØ‰ª•ËÆæÁΩÆ‰æãÂ¶Ç "folder1/folder2/folder3" ÁöÑÊñá‰ª∂Â§πÂêçÊù•ÂàõÂª∫Â≠êÊñá‰ª∂Â§π',"Default save type":"ÈªòËÆ§‰øùÂ≠òÁ±ªÂûã",'Set the default save type for thino. "DAILY" by default':'ËÆæÁΩÆ Thino ÁöÑÈªòËÆ§‰øùÂ≠òÁ±ªÂûã„ÄÇÈªòËÆ§‰∏∫ "Êó•ËÆ∞"',"Enable opening thino globally":"ÂÖ®Â±ÄÂî§ÈÜí Thino","Enable opening thino globally. False by default.":"ÂÖ®Â±ÄÂî§ÈÜí Thino„ÄÇÈªòËÆ§‰∏∫ÂÖ≥Èó≠","Key for opening thino globally":"ÂÖ®Â±ÄÂî§ÈÜí Thino ÁöÑÂø´Êç∑ÈîÆ","Set key for opening thino globally. CTRL + SHIFT + T by default.":"ËÆæÁΩÆÂÖ®Â±ÄÂî§ÈÜí Thino ÁöÑÂø´Êç∑ÈîÆ„ÄÇÈªòËÆ§‰∏∫ CTRL + SHIFT + T","Sync Thino via PKMer":"ÈÄöËøá PKMer ÂêåÊ≠• Thino",Unlink:"ÂèñÊ∂àÈìæÊé•",Link:"ÈìæÊé•","Connect to PKMer Sync, you can check it in ":"ËøûÊé•Âà∞ PKMer ÂêåÊ≠•Ôºå‰Ω†ÂèØ‰ª•Âú®ËØ•ÈìæÊé•‰∏≠Êü•ÁúãÔºö","PKMer Sync":"PKMer ÂêåÊ≠•","Remove successfully":"ÁßªÈô§ÊàêÂäü",Deactivate:"ÂèñÊ∂àÊøÄÊ¥ª",Remove:"ÁßªÈô§","Confirm?":"Á°ÆËÆ§Ôºü","Sync Status":"ÂêåÊ≠•Áä∂ÊÄÅ","Start or stop sync":"ÂºÄÂßãÊàñÂÅúÊ≠¢ÂêåÊ≠•","Stop sync successfully":"ÂÅúÊ≠¢ÂêåÊ≠•ÊàêÂäü","Start sync successfully":"ÂºÄÂßãÂêåÊ≠•ÊàêÂäü",Stop:"ÂÅúÊ≠¢",Start:"ÂºÄÂßã","Show thino near mouse":"Âú®Èº†Ê†áÈôÑËøëÂ±ïÁ§∫ Thino","Query not found":"Ê£ÄÁ¥¢ÂºèÊú™ÊâæÂà∞","Send to clipboard successfully":"ÂèëÈÄÅÂà∞Ââ™Ë¥¥ÊùøÊàêÂäü","Thino - Failed to start HTTP server, please check the port is available.":"Thino - ÂêØÂä® HTTP ÊúçÂä°Âô®Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•Á´ØÂè£ÊòØÂê¶ÂèØÁî®„ÄÇ","Thino - Started HTTP server on port":"Thino - ÂêØÂä® HTTP ÊúçÂä°Âô®ÊàêÂäüÔºåÁ´ØÂè£‰∏∫","Thino - Terminated HTTP server":"Thino - ÁªàÊ≠¢ HTTP ÊúçÂä°Âô®","File not exist":"Êñá‰ª∂‰∏çÂ≠òÂú®","Thino not found":"Thino Êú™ÊâæÂà∞","File not found for the given thino path, is creating a new file":"Êú™ÊâæÂà∞ÊâøËΩΩÊåáÂÆö Thino ÁöÑÊñá‰ª∂ÔºåÊ≠£Âú®ÂàõÂª∫Êñ∞Êñá‰ª∂","Saved sync token successfully":"‰øùÂ≠òÂêåÊ≠•‰ª§ÁâåÊàêÂäü","Failed to find daily notes folder":"Êú™ÊâæÂà∞Êó•ËÆ∞Êñá‰ª∂Â§π","Please install obsidian-hover-editor plugin first":"ËØ∑ÂÖàÂÆâË£Ö obsidian-hover-editor Êèí‰ª∂","Copied app id successfully":"Â§çÂà∂ app id ÊàêÂäü","Please input token first":"ËØ∑ÂÖàËæìÂÖ• token","Please enable sync first":"ËØ∑ÂÖàÂêØÁî®ÂêåÊ≠•","Init Failed":"ÂàùÂßãÂåñÂ§±Ë¥•","Folder not found for the given thino path, is creating a new folder":"Êú™ÊâæÂà∞ÊâøËΩΩÊåáÂÆö Thino ÁöÑÊñá‰ª∂Â§πÔºåÊ≠£Âú®ÂàõÂª∫Êñ∞Êñá‰ª∂Â§π","File not found for the given thino path":"Êú™ÊâæÂà∞ÊâøËΩΩÊåáÂÆö Thino ÁöÑÊñá‰ª∂","Failed to read current daily note, check if it exists.":"Êó†Ê≥ïËØªÂèñÊó•ËÆ∞Êñá‰ª∂ÔºåËØ∑Ê£ÄÊü•ÊòØÂê¶Â≠òÂú®","Verify successfully":"È™åËØÅÊàêÂäü","Failed to verify":"È™åËØÅÂ§±Ë¥•","Failed to save":"‰øùÂ≠òÂ§±Ë¥•","Failed to login, please login again":"ÁôªÂΩïÂ∑≤ËøáÊúüÔºåËØ∑ÈáçÊñ∞ÁôªÂΩï","COPY FAILED":"Â§çÂà∂Â§±Ë¥•","COPY SUCCEED":"Â§çÂà∂ÊàêÂäü","Copy selected text":"Â§çÂà∂ÈÄâ‰∏≠ÊñáÊú¨","Copy thino":"Â§çÂà∂",COPY:"Â§çÂà∂","This is a pro feature, please upgrade to pro version to use it.":"ËøôÊòØ‰∏ì‰∏öÁâàÂäüËÉΩÔºåËØ∑ÂçáÁ∫ßÂà∞‰∏ì‰∏öÁâàÊù•‰ΩøÁî®ÂÆÉ„ÄÇ","You can get pro version from: ":"‰Ω†ÂèØ‰ª•‰ªéËøôÈáåËé∑Âèñ‰∏ì‰∏öÁâàÔºö",Save:"‰øùÂ≠ò",Cancel:"ÂèñÊ∂à","Thino Daily Target":"Thino ÊØèÊó•ÁõÆÊ†á",Input:"ËæìÂÖ•","#Tag":"#Ê†áÁ≠æ","to create tag":"Êù•ÂàõÂª∫Ê†áÁ≠æ","You have verified your account. Congrats!":"‰Ω†Â∑≤ÁªèÈ™åËØÅ‰∫Ü‰Ω†ÁöÑË¥¶Êà∑„ÄÇÊÅ≠ÂñúÔºÅ","Pro features":"‰∏ì‰∏öÁâàÂäüËÉΩ","Target Thino Count":"ÁõÆÊ†á Thino Êï∞Èáè",on:"Âú®","Switch waterfall view":"ÂàáÊç¢ÁÄëÂ∏ÉÊµÅËßÜÂõæ","Switch view":"ÂàáÊç¢ËßÜÂõæ","Switch list view":"ÂàáÊç¢ÂàóË°®ËßÜÂõæ","Set daily target":"ËÆæÁΩÆÊØèÊó•ÁõÆÊ†á","Thino Save To: ":"Thino ‰øùÂ≠òÂà∞Ôºö","Enter fullscreen mode":"ËøõÂÖ•ÂÖ®Â±èÊ®°Âºè","Exit fullscreen mode":"ÈÄÄÂá∫ÂÖ®Â±èÊ®°Âºè",words:"Â≠óËØç","Return To Home Page":"ËøîÂõûÈ¶ñÈ°µ","Open thino in center window":"Âú®‰∏≠ÂøÉÁ™óÂè£ÊâìÂºÄ thino","Open thino in float window":"Âú®ÊµÆÂä®Á™óÂè£ÊâìÂºÄ thino","Open thino in right sidebar":"Âú®Âè≥‰æßËæπÊ†èÊâìÂºÄ thino","Open thino in left sidebar":"Âú®Â∑¶‰æßËæπÊ†èÊâìÂºÄ thino","Show thino editor":"ÊòæÁ§∫ thino ÁºñËæëÂô®","Toggle minimal mode":"ÂàáÊç¢ Minimal Ê®°Âºè","Focus on thino editor":"ËÅöÁÑ¶Âà∞ thino ÁºñËæëÂô®","ReSync web thinos to local":"ÈáçÊñ∞ÂêåÊ≠• web ‰∏äÁöÑ thino Âà∞Êú¨Âú∞","Sync local thinos to web":"ÂêåÊ≠•Êú¨Âú∞ÁöÑ thino Âà∞ web","Show daily thino":"ÊòæÁ§∫ÊØèÊó• thino ËßÜÂõæ","Focus on search bar":"ËÅöÁÑ¶Âà∞ÊêúÁ¥¢Ê†è","Show-thino in popover(Hover editor)":"Âú®ÂºπÂá∫Ê°Ü‰∏≠ÊòæÁ§∫ thino","Center window":"‰∏≠ÂøÉÁ™óÂè£","Float window":"ÊµÆÂä®Á™óÂè£","Right sidebar":"Âè≥‰æßËæπÊ†è","Left sidebar":"Â∑¶‰æßËæπÊ†è","Save thino type when sync local":"ÂêåÊ≠•Êú¨Âú∞Êó∂‰øùÂ≠òÁöÑ thino Á±ªÂûã","Set the default save thino type when sync local, FILE by default.":"ËÆæÁΩÆÂêåÊ≠•Êú¨Âú∞Êó∂‰øùÂ≠òÁöÑ thino Á±ªÂûãÔºåÈªòËÆ§‰∏∫ÂçïÊñá‰ª∂„ÄÇ","Sync service":"ÂêåÊ≠•ÊúçÂä°","Pro verification status":"‰∏ì‰∏öÁâàÊøÄÊ¥ªÁä∂ÊÄÅ","Live-preview":"ÊâÄËßÅÂç≥ÊâÄÂæó",Source:"Ê∫êÁ†Å",General:"ÈÄöÁî®",Thino:"Thino",Theme:"‰∏ªÈ¢ò",Share:"ÂàÜ‰∫´",Interface:"ÁïåÈù¢",Advanced:"ËøõÈò∂","Global copy":"ÂÖ®Â±ÄÂ§çÂà∂","Set the folder name":"ËÆæÁΩÆÊñá‰ª∂Â§πÂêç","Set the filename":"ËÆæÁΩÆÊñá‰ª∂Âêç","Set the filename for current location file":"ËÆæÁΩÆÂΩìÂâç‰ΩçÁΩÆÊñá‰ª∂ÁöÑÊñá‰ª∂Âêç","Switch calendar type":"ÂàáÊç¢Êó•ÂéÜÁ±ªÂûã",alphabetical:"Ê†áÁ≠æÂêçÁß∞ÔºàA-ZÔºâ",alphabeticalReverse:"Ê†áÁ≠æÂêçÁß∞ÔºàZ-AÔºâ",byCount:"Êåâ‰ΩøÁî®Ê¨°Êï∞Ôºà‰ªéÈ´òÂà∞‰ΩéÔºâ",byCountReverse:"Êåâ‰ΩøÁî®Ê¨°Êï∞Ôºà‰ªé‰ΩéÂà∞È´òÔºâ","Type here":"Âú®ËøôÈáåËæìÂÖ•",Today:"‰ªäÂ§©",Yesterday:"Êò®Â§©","Last 7 days":"ÊúÄËøë 7 Â§©","Last 30 days":"ÊúÄËøë 30 Â§©","Last 90 days":"ÊúÄËøë 90 Â§©","Last 180 days":"ÊúÄËøë 180 Â§©","Last 365 days":"ÊúÄËøë 365 Â§©",Found:"Ë¢´ÊâæÂà∞","Copy filtered thinos":"Â§çÂà∂Á≠õÈÄâÁöÑ thino","Bulk delete":"ÊâπÈáèÂà†Èô§","Bulk archive":"ÊâπÈáèÂΩíÊ°£","Bulk tag operation":"Ê†áÁ≠æÁºñËæë","Bulk restore":"ÊâπÈáèÊÅ¢Â§ç","If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.":"Â¶ÇÊûú‰Ω†Á¶ÅÁî®‰∫ÜÊó•ËÆ∞Êèí‰ª∂ÔºåÂèØËÉΩ‰ºöÂØºËá¥ thino Êó†Ê≥ïË¢´Ê≠£Á°ÆÂà†Èô§„ÄÇËØ∑ÂêØÁî®Êèí‰ª∂ÂêéÂÜçËØï‰∏ÄÊ¨°„ÄÇ",Preview:"È¢ÑËßà","Set and save":"ËÆæÁΩÆÂπ∂‰øùÂ≠ò","Show day mark in thino list":"Âú® Thino Âàó‰∏≠Â±ïÁ§∫Êó•ÊúüÊ†áËÆ∞","Show day mark on the top of daily range thino. False by default.":"Âú® Thino Âàó‰∏≠Â±ïÁ§∫Êó•ÊúüÊ†áËÆ∞„ÄÇÈªòËÆ§‰∏∫ÂÖ≥Èó≠","Click to expand or fold, Cmd+Click to show all thinos of the day":"ÁÇπÂáªÂ±ïÂºÄÊàñÊäòÂè†ÔºåCmd+ÁÇπÂáªÂ±ïÁ§∫ÂΩìÂ§©ÊâÄÊúâ thino","You can buy a license from":"‰Ω†ÂèØ‰ª•‰ªéËøôÈáåË¥≠‰π∞ËÆ∏ÂèØËØÅ","No thinos in range":"ËØ•ËåÉÂõ¥ÂÜÖÊ≤°Êúâ thino",Month:"ÊúàËßÜÂõæ",Week:"Âë®ËßÜÂõæ",Day:"Êó•ËßÜÂõæ",Agenda:"Êó•Á®ãËßÜÂõæ",Tomorrow:"ÊòéÂ§©",Previous:"ÂæÄÂâç",Next:"ÂæÄÂêé","Search all columns...":"ÊêúÁ¥¢ÊâÄÊúâÁöÑÂàó...","Basic Info":"Âü∫Á°Ä‰ø°ÊÅØ","Additional Info":"ÈôÑÂä†‰ø°ÊÅØ","Created At":"ÂàõÂª∫‰∫é",Content:"ÂÜÖÂÆπ","Thino Type":"Thino Á±ªÂûã","Source Type":"Êù•Ê∫êÁ±ªÂûã","Row status":"ÂΩíÊ°£Áä∂ÊÄÅ",Path:"Ë∑ØÂæÑ","Pinned Status":"ÁΩÆÈ°∂Áä∂ÊÄÅ",Table:"Ë°®Ê†º",Chat:"ËÅäÂ§©",Moments:"Âä®ÊÄÅ",Waterfall:"ÁÄëÂ∏ÉÊµÅ",Calendar:"Êó•ÂéÜ","Go to page":"Ë∑≥ËΩ¨Âà∞È°µ",Page:"È°µ",Show:"Â±ïÁ§∫",rows:"Ë°å","Temp Filter":"‰∏¥Êó∂Á≠õÈÄâÂô®","Set the heading for saving thino":"ËÆæÁΩÆ‰øùÂ≠ò Thino ÁöÑÊ†áÈ¢ò","# Heading":"# Ê†áÈ¢ò","Open link directly in Thino view":"Thino ËßÜÂõæÂÜÖÁõ¥Êé•ÊâìÂºÄÂèåÈìæ","Day mark range":"Êó•ÊúüÊ†áËÆ∞ËåÉÂõ¥","Set the range of day mark. Day by default.":"ËÆæÁΩÆÊó•ÊúüÊ†áËÆ∞ÁöÑËåÉÂõ¥ÔºåÈªòËÆ§‰∏∫Â§©","Thino is locked":"Thino Â∑≤ÈîÅÂÆö","Please unlock Thino by input password":"ËØ∑ËæìÂÖ•ÂØÜÁ†ÅÊù•Ëß£ÈîÅ Thino","Auto Download Image":"Ëá™Âä®‰∏ãËΩΩÂõæÁâá","Auto download image when save to thino. 'false' by default":"ÂΩì‰øùÂ≠òÂà∞ Thino Êó∂Ëá™Âä®‰∏ãËΩΩÂõæÁâá„ÄÇÈªòËÆ§‰∏∫ 'false'","Thino Http IP Type":"Thino HTTP ÊúçÂä°Âô® IP Á±ªÂûã","Set Thino http server ip to listen. 'localhost' by default":"ËÆæÁΩÆ Thino HTTP ÊúçÂä°Âô® IP„ÄÇÈªòËÆ§‰∏∫ 'localhost'","Password to lock Thino":"ÈîÅÂÆö Thino ÁöÑÂØÜÁ†Å",Unlock:"Ëß£ÈîÅ",Locked:"Â∑≤ÈîÅÂÆö","Password is incorrect":"ÂØÜÁ†ÅÈîôËØØ",Lock:"ÈîÅÂÆö","Need password to unlock Thino":"ÈúÄË¶ÅÂØÜÁ†ÅÊù•Ëß£ÈîÅ Thino","You have not set a password or enable this feature yet":"‰Ω†ËøòÊ≤°ÊúâËÆæÁΩÆÂØÜÁ†ÅÊàñËÄÖÂêØÁî®ËØ•ÂäüËÉΩ",Password:"ÂØÜÁ†Å","Password for Thino":"Thino ÁöÑÂØÜÁ†Å","Please input your password to change password settings":"ËØ∑ËæìÂÖ•ÂéüÊù•ÁöÑÂØÜÁ†ÅÊù•‰øÆÊîπÂØÜÁ†ÅËÆæÁΩÆ","Please input your password":"ËØ∑ËæìÂÖ•ÂØÜÁ†Å","Lock thino":"ÈîÅÂÆö Thino",date:"Êó•Êúü",time:"Êó∂Èó¥",event:"‰∫ã‰ª∂","Add tag position":"Ê∑ªÂä†Ê†áÁ≠æ‰ΩçÁΩÆ","Set the position of the tag when adding tag automatically":"ËÆæÁΩÆËá™Âä®Ê∑ªÂä†Ê†áÁ≠æÁöÑ‰ΩçÁΩÆ","Add tag automatically":"Ëá™Âä®Ê∑ªÂä†Ê†áÁ≠æ","Add tag to the end or beginning of the thino content when creating a thino and filtering tags":"Âú®ÂàõÂª∫ Thino ÂíåÁ≠õÈÄâÊ†áÁ≠æÊó∂ÔºåÂ∞ÜÊ†áÁ≠æÊ∑ªÂä†Âà∞ Thino ÂÜÖÂÆπÁöÑÊú´Â∞æÊàñÂºÄÂ§¥","Add tag with new line":"Ê∑ªÂä†Ê†áÁ≠æÊó∂Êç¢Ë°å","Add tag with new line when adding tag automatically":"Ëá™Âä®Ê∑ªÂä†Ê†áÁ≠æÊó∂Êç¢Ë°å","Input to select more tags":"ËæìÂÖ•Êù•ÈÄâÊã©Êõ¥Â§öÊ†áÁ≠æ","Tag Bulk Edit":"Ê†áÁ≠æÊâπÈáèÁºñËæë","Tag Bulk Select":"Ê†áÁ≠æÊâπÈáèÈÄâÊã©","Exist Tags":"Â∑≤ÊúâÊ†áÁ≠æ","Selected Tags":"Â∑≤ÈÄâÊ†áÁ≠æ","Click to remove exist tag":"ÁÇπÂáªÁßªÈô§Â∑≤ÊúâÊ†áÁ≠æ","Click to remove selected tag":"ÁÇπÂáªÁßªÈô§Â∑≤ÈÄâÊ†áÁ≠æ","Select tags":"ÈÄâÊã©Ê†áÁ≠æ","Input to select exist tag":"ËæìÂÖ•Êù•ÈÄâÊã©Â∑≤ÊúâÊ†áÁ≠æ",Beginning:"ÂºÄÂ§¥",End:"Êú´Â∞æ","Chat view style":"ËÅäÂ§©ËßÜÂõæÊ†∑Âºè","Set the style of chat view":"ËÆæÁΩÆËÅäÂ§©ËßÜÂõæÁöÑÊ†∑Âºè","Background image for moments view":"Âä®ÊÄÅËßÜÂõæÁöÑËÉåÊôØÂõæ","Set the background image for moments view":"ËÆæÁΩÆÂä®ÊÄÅËßÜÂõæÁöÑËÉåÊôØÂõæ","Icon for moments/chat view/share image":"Âä®ÊÄÅ/ËÅäÂ§©ËßÜÂõæ/ÂàÜ‰∫´ÂõæÁöÑÂ§¥ÂÉè","Set the icon for moments/chat view/share image":"ËÆæÁΩÆÂä®ÊÄÅ/ËÅäÂ§©ËßÜÂõæ/ÂàÜ‰∫´ÂõæÁöÑÂ§¥ÂÉè","Quote for moments view/share image":"Âä®ÊÄÅËßÜÂõæ/ÂàÜ‰∫´ÂõæÁöÑ‰∏™ÊÄßÁ≠æÂêç","Set the quote for moments view/share image":"ËÆæÁΩÆÂä®ÊÄÅËßÜÂõæ/ÂàÜ‰∫´ÂõæÁöÑ‰∏™ÊÄßÁ≠æÂêç","Theme for Thino":"Thino ‰∏ªÈ¢ò","Set the theme for Thino":"ËÆæÁΩÆ Thino ÁöÑ‰∏ªÈ¢ò","Interface Details":"ÁïåÈù¢ËØ¶ÊÉÖ","Task amount":"‰ªªÂä°Êï∞Èáè","Thino status":"Thino Áä∂ÊÄÅ","Used tags":"‰ΩøÁî®ÁöÑÊ†áÁ≠æ","Used days":"‰ΩøÁî®ÁöÑÂ§©Êï∞","Most active day":"ÊúÄÊ¥ªË∑ÉÁöÑ‰∏ÄÂ§©","Most active hour":"ÊúÄÊ¥ªË∑ÉÁöÑ‰∏ÄÂ∞èÊó∂","Thino amount":"Thino Êï∞Èáè","No content to generate.":"Ê≤°ÊúâÂÜÖÂÆπÂèØ‰ª•ÁîüÊàê„ÄÇ","Image generated successfully.":"ÂõæÁâáÁîüÊàêÊàêÂäü„ÄÇ","Failed to generate image.":"ÂõæÁâáÁîüÊàêÂ§±Ë¥•„ÄÇ","Share filtered thinos as image":"ÂàÜ‰∫´Á≠õÈÄâÁöÑ Thino ‰∏∫ÂõæÁâá","Latest version":"ÊúÄÊñ∞ÁâàÊú¨","Previous version":"‰πãÂâçÁâàÊú¨","Thino update info":"Thino Êõ¥Êñ∞‰ø°ÊÅØ","Debug info copied to clipboard":"Ë∞ÉËØï‰ø°ÊÅØÂ∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø","Copy debug info":"Â§çÂà∂Ë∞ÉËØï‰ø°ÊÅØ","Failed to load changelog":"Êó†Ê≥ïÂä†ËΩΩÊõ¥Êñ∞Êó•Âøó","View online":"Âú®Á∫øÊü•Áúã",ChangeLog:"Êõ¥Êñ∞Êó•Âøó","Please open thino first":"ËØ∑ÂÖàÊâìÂºÄ Thino","Insert editor":"ÊèíÂÖ•ÁºñËæëÂô®","Please set different save locations for multi-file settings in Thino. The diary folder overlaps with the multi-file save location, or there is a risk of it being read repeatedly.":"ËØ∑Âú® Thino ËÆæÁΩÆ‰∏≠‰∏∫Â§öÊñá‰ª∂ËÆæÁΩÆ‰∏çÂêåÁöÑË∑ØÂæÑÔºåÊó•ËÆ∞Êñá‰ª∂Â§π‰∏éÂ§öÊñá‰ª∂‰øùÂ≠òË∑ØÂæÑÈáçÂ§çÔºåÊàñËÄÖÂ≠òÂú®Ë¢´ÈáçÂ§çËØªÂèñÂèØËÉΩ","Default time prefix for thino in daily notes":"Êó•ËÆ∞‰∏≠ Thino ÁöÑÈªòËÆ§Êó∂Èó¥ÂâçÁºÄ","Set default time prefix for thino in daily notes.":"ËÆæÁΩÆÊó•ËÆ∞‰∏≠ Thino ÁöÑÈªòËÆ§Êó∂Èó¥ÂâçÁºÄ","Save image successfully":"‰øùÂ≠òÂõæÁâáÊàêÂäü","User quote":"Áî®Êà∑Á≠æÂêç","Set user quote for thino":"ËÆæÁΩÆÁî®Êà∑Á≠æÂêç","User icon":"Áî®Êà∑Â§¥ÂÉè","Set user icon for thino. You can input http/https link or file path in vault.":"ËÆæÁΩÆÁî®Êà∑Â§¥ÂÉè„ÄÇ‰Ω†ÂèØ‰ª•ËÆæÁΩÆ http/https ÈìæÊé•ÊàñËÄÖ vault ‰∏≠ÁöÑÊñá‰ª∂Ë∑ØÂæÑ„ÄÇ","User info":"Áî®Êà∑‰ø°ÊÅØ","Copy filtered results":"Â§çÂà∂Á≠õÈÄâÁªìÊûú","Share image":"ÂàÜ‰∫´ÂõæÁâá",Default:"ÈªòËÆ§",Gray:"ÁÅ∞Ëâ≤",Grass:"ËçâÁªø",Flame:"ÁÅ´ÁÑ∞",Olive:"Ê©ÑÊ¶Ñ",Ice:"ÂÜ∞",Magenta:"ÂìÅÁ∫¢","Daily notes":"Êó•ËÆ∞Áõ∏ÂÖ≥",Editor:"ÁºñËæëÂô®","Append/prepend text when share to Thino":"ÂàÜ‰∫´Âà∞ Thino Êó∂Ê∑ªÂä†/ÂâçÁΩÆÊñáÊú¨","Append text when share to Thino":"ÂàÜ‰∫´Âà∞ Thino Êó∂Ê∑ªÂä†ÊñáÊú¨","Prepend text when share to Thino":"ÂàÜ‰∫´Âà∞ Thino Êó∂ÂâçÁΩÆÊñáÊú¨","Add newline when append/prepend text":"Ê∑ªÂä†Êç¢Ë°åÁ¨¶",Prepend:"ÂâçÁΩÆ",Append:"ÂêéÁΩÆ",Both:"‰∏§ËÄÖ",None:"Êó†","Hide pinned group":"ÈöêËóèÁΩÆÈ°∂ÂàÜÁªÑ","Hide pinned group in thino list. False by default.":"ÈöêËóèÁΩÆÈ°∂ÁöÑ Thino ÂàÜÁªÑ„ÄÇÈªòËÆ§‰∏∫ÂÖ≥Èó≠","Set the heading for the task type of thino, by default the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"ËÆæÁΩÆ Thino ‰ªªÂä°Á±ªÂûãÁöÑÊ†áÈ¢òÔºåÂ¶ÇÊûúÊèê‰æõ‰∫ÜÊ†áÈ¢òÔºåÊâÄÊúâËÆ∞ÂΩïÁöÑ Thino ÂÜÖÂÆπÂ∞ÜÁªü‰∏ÄÂΩíÁ±ªÂà∞ËØ•Ê†áÈ¢ò‰∏ã„ÄÇ","Different insert target for different type":"‰∏çÂêåÁ±ªÂûãÁöÑ Thino Êúâ‰∏çÂêåÁöÑÊèíÂÖ•ÁõÆÊ†á","Toggle this to set different insert target for different type of thino, like task or list type of thino":"ÂàáÊç¢Ê≠§ÈÄâÈ°π‰ª•‰∏∫‰∏çÂêåÁ±ªÂûãÁöÑ Thino ËÆæÁΩÆ‰∏çÂêåÁöÑÊèíÂÖ•ÁõÆÊ†áÔºå‰æãÂ¶Ç‰ªªÂä°ÊàñÂàóË°®Á±ªÂûãÁöÑ Thino","Set process target":"ËÆæÁΩÆÂ§ÑÁêÜÁõÆÊ†á","You can set whole diary or only part of it":"‰Ω†ÂèØ‰ª•ËÆæÁΩÆÊï¥‰∏™Êó•ËÆ∞ÊàñËÄÖÂÖ∂‰∏≠ÁöÑ‰∏ÄÈÉ®ÂàÜ",Custom:"Ëá™ÂÆö‰πâ","Whole diary":"Êï¥‰∏™Êó•ËÆ∞","Set thino insert place":"ËÆæÁΩÆ Thino ÊèíÂÖ•‰ΩçÁΩÆ","Set where to insert thino content":"ËÆæÁΩÆ Thino ÂÜÖÂÆπÊèíÂÖ•‰ΩçÁΩÆ","End of the diary":"Êó•ËÆ∞ÁöÑÊú´Â∞æ","Custom location":"Ëá™ÂÆö‰πâ‰ΩçÁΩÆ","Setting guide":"ËÆæÁΩÆÊµÅÁ®ã","Details settings":"ËØ¶ÁªÜËÆæÁΩÆ","Start Thino":"ÂºÄÂßã Thino","About Thino Pro":"ÂÖ≥‰∫é Thino ‰∏ì‰∏öÁâà",Enabled:"Â∑≤ÂêØÁî®",Enable:"ÂêØÁî®","Daily notes folder":"Êó•ËÆ∞Êñá‰ª∂Â§π","Set daily notes folder":"ËÆæÁΩÆÊó•ËÆ∞Êñá‰ª∂Â§π","Daily note name format":"Êó•ËÆ∞Êñá‰ª∂ÂêçÊ†ºÂºè","Set daily note name format":"ËÆæÁΩÆÊó•ËÆ∞Êñá‰ª∂ÂêçÊ†ºÂºè","Daily note plugin":"Êó•ËÆ∞Êèí‰ª∂","Enable daily note plugin":"ÂêØÁî®Êó•ËÆ∞Êèí‰ª∂",Selected:"Â∑≤ÈÄâÊã©",Select:"ÈÄâÊã©","A classic theme for Thino with a two-column layout":"Thino ÁöÑÁªèÂÖ∏‰∏ªÈ¢òÔºåÈááÁî®‰∏§ÂàóÂ∏ÉÂ±Ä",Classic:"ÁªèÂÖ∏","A modern theme for Thino with a three-column layout and some unique features.":"Thino ÁöÑÁé∞‰ª£‰∏ªÈ¢òÔºåÈááÁî®‰∏âÂàóÂ∏ÉÂ±ÄÂíå‰∏Ä‰∫õÁã¨ÁâπÁöÑÂäüËÉΩ„ÄÇ",Modern:"Áé∞‰ª£","Go and enjoy Thino":"Âéª‰∫´Âèó Thino Âêß","Congrats! All settings done":"ÊÅ≠ÂñúÔºÅÊâÄÊúâËÆæÁΩÆÂ∑≤ÂÆåÊàê","Adjust settings that influence your user experience with Thino.":"Ë∞ÉÊï¥ÂΩ±Âìç‰Ω†‰ΩøÁî® Thino ÁöÑËÆæÁΩÆ„ÄÇ","Set preferences for using Thino":"ËÆæÁΩÆ‰ΩøÁî® Thino ÁöÑÂÅèÂ•Ω","If you are using the Thino basic version, enabling the daily note plugin is required. Configure its settings to work effectively with it.":"Â¶ÇÊûú‰Ω†‰ΩøÁî®ÁöÑÊòØ Thino Âü∫Á°ÄÁâàÔºåÂêØÁî®Êó•ËÆ∞Êèí‰ª∂ÊòØÂøÖÈ°ªÁöÑ„ÄÇÈÖçÁΩÆÂÖ∂ËÆæÁΩÆ‰ª•ÊúâÊïàÂú∞‰ΩøÁî®ÂÆÉ„ÄÇ","Go with daily note plugin":"‰ΩøÁî®Êó•ËÆ∞Êèí‰ª∂","Choose a theme for Thino.":"ÈÄâÊã© Thino ÁöÑ‰∏ªÈ¢ò„ÄÇ","Set theme for Thino":"ËÆæÁΩÆ Thino ÁöÑ‰∏ªÈ¢ò","Set up your user info for Thino.":"ËÆæÁΩÆ‰Ω†ÁöÑÁî®Êà∑‰ø°ÊÅØ„ÄÇ","Get started with Thino":"ÂºÄÂßã‰ΩøÁî® Thino","Skip and start Thino":"Ë∑≥ËøáÂπ∂ÂºÄÂßã Thino","Next step":"‰∏ã‰∏ÄÊ≠•","Back to previous step":"ËøîÂõû‰∏ä‰∏ÄÊ≠•","Click to enable =>":"ÁÇπÂáªÂêØÁî® =>","This is Thino's sidebar. Navigate to different path or select query filter.":"ËøôÊòØ Thino ÁöÑ‰æßËæπÊ†è„ÄÇ‰Ω†ÂèØ‰ª•ÂØºËà™Âà∞‰∏çÂêåÁöÑË∑ØÂæÑÊàñÈÄâÊã©Êü•ËØ¢ËøáÊª§Âô®„ÄÇ","Click here and go to settings page.":"ÁÇπÂáªËøôÈáåÂπ∂ËΩ¨Âà∞ËÆæÁΩÆÈ°µÈù¢„ÄÇ","Click here and go to different path.":"ÁÇπÂáªËøôÈáåÂπ∂ËΩ¨Âà∞‰∏çÂêåÁöÑË∑ØÂæÑ„ÄÇ","Select or create query filter here.":"Âú®ËøôÈáåÈÄâÊã©ÊàñÂàõÂª∫Êü•ËØ¢ËøáÊª§Âô®„ÄÇ","See the status of Thinos here.":"Âú®ËøôÈáåÁúãÂà∞ Thino ÁöÑÁä∂ÊÄÅ„ÄÇ","Search your thino quickly here.":"Âú®ËøôÈáåÂø´ÈÄüÊêúÁ¥¢‰Ω†ÁöÑ Thino„ÄÇ","Edit or create your thino here.":"Âú®ËøôÈáåÁºñËæëÊàñÂàõÂª∫‰Ω†ÁöÑ Thino„ÄÇ","See your thinos here.":"Âú®ËøôÈáåÁúãÂà∞‰Ω†ÁöÑ Thino„ÄÇ","See your time status of thinos here.":"Âú®ËøôÈáåÁúãÂà∞‰Ω†ÁöÑ Thino Êó∂Èó¥Áä∂ÊÄÅ„ÄÇ","See your tags here. Tags will be shown when thino contains tags.":"Âú®ËøôÈáåÁúãÂà∞‰Ω†ÁöÑÊ†áÁ≠æ„ÄÇÂΩì Thino ÂåÖÂê´Ê†áÁ≠æÊó∂ÔºåÊ†áÁ≠æÂ∞ÜÊòæÁ§∫„ÄÇ",Done:"ÂÆåÊàê","Thino is ready to use. ":"Thino Â∑≤ÂáÜÂ§áÂ•Ω‰ΩøÁî®„ÄÇ","You can start using Thino now. If you want to know more about Thino Pro, click the button below.":"‰Ω†Áé∞Âú®ÂèØ‰ª•ÂºÄÂßã‰ΩøÁî® Thino ‰∫Ü„ÄÇÂ¶ÇÊûú‰Ω†ÊÉ≥‰∫ÜËß£Êõ¥Â§öÂÖ≥‰∫é Thino ‰∏ì‰∏öÁâàÁöÑ‰ø°ÊÅØÔºåËØ∑ÁÇπÂáª‰∏ãÈù¢ÁöÑÊåâÈíÆ„ÄÇ","Default time prefix":"ÈªòËÆ§Êó∂Èó¥ÂâçÁºÄ","Append Text Action":"ÂàÜ‰∫´Âà∞ Thino Êó∂ÁöÑÂêéÁΩÆÊñáÊú¨Âä®‰Ωú","Prepend Text Action":"ÂàÜ‰∫´Âà∞ Thino Êó∂ÁöÑÂâçÁΩÆÊñáÊú¨Âä®‰Ωú",Preset:"È¢ÑËÆæ","Select Tags":"ÈÄâÊã©Ê†áÁ≠æ","It is not available on small view":"Âú®Á™ÑÁöÑËßÜÂõæ‰∏≠‰∏çÂèØÁî®","Append text":"Âú®Êú´Â∞æÊ∑ªÂä†ÊñáÊú¨","Prepend text":"Âú®ÂºÄÂ§¥Ê∑ªÂä†ÊñáÊú¨","Your daily note folder is not set correctly, please check your settings":"‰Ω†ÁöÑÊó•ËÆ∞Êñá‰ª∂Â§πËÆæÁΩÆ‰∏çÊ≠£Á°ÆÔºåËØ∑Ê£ÄÊü•‰Ω†ÁöÑËÆæÁΩÆ","Default sharing style":"ÈªòËÆ§ÂàÜ‰∫´Ê†∑Âºè","Set the default style for sharing thino, 'Modern' by default.":"ËÆæÁΩÆ Thino ÁöÑÈªòËÆ§ÂàÜ‰∫´Ê†∑ÂºèÔºåÈªòËÆ§‰∏∫‚ÄúÁé∞‰ª£‚Äù„ÄÇ",Clean:"Ê∏ÖÁàΩ",Minimal:"ÊûÅÁÆÄ",Gradient:"Ê∏êÂèò","Thino share":"Thino ÂàÜ‰∫´","Copy to clipboard failed":"Â§çÂà∂Âà∞Ââ™Ë¥¥ÊùøÂ§±Ë¥•","Copy to clipboard successfully":"Â§çÂà∂Âà∞Ââ™Ë¥¥ÊùøÊàêÂäü","Your content has been copied to clipboard, and inserted into the editor. Please try it again":"‰Ω†ÁöÑÂÜÖÂÆπÂ∑≤ÁªèÂ§çÂà∂Âà∞Ââ™Ë¥¥ÊùøÔºåÂπ∂ÊèíÂÖ•Âà∞ÁºñËæëÂô®‰∏≠„ÄÇËØ∑ÂÜçËØï‰∏ÄÊ¨°","Share thino":"ÂàÜ‰∫´ Thino","Set file name after create thino":"ÂàõÂª∫ Thino ÂêéËÆæÁΩÆÊñá‰ª∂Âêç","You can set file name after create thino. A input box will show when you create thino.":"‰Ω†ÂèØ‰ª•Âú®ÂàõÂª∫ Thino ÂêéËÆæÁΩÆÊñá‰ª∂Âêç„ÄÇÂΩì‰Ω†ÂàõÂª∫ Thino Êó∂Ôºå‰ºöÊòæÁ§∫‰∏Ä‰∏™ËæìÂÖ•Ê°Ü„ÄÇ",SPLIT:"ÂàÜÂâ≤","Split by Heading 1":"Êåâ‰∏ÄÁ∫ßÊ†áÈ¢òÂàÜÂâ≤","Split by Heading 2":"Êåâ‰∫åÁ∫ßÊ†áÈ¢òÂàÜÂâ≤","Split by Heading 3":"Êåâ‰∏âÁ∫ßÊ†áÈ¢òÂàÜÂâ≤","Insert task":"ÊèíÂÖ•‰ªªÂä°","All settings have been reset to default.":"ÊâÄÊúâËÆæÁΩÆÂ∑≤ÈáçÁΩÆ‰∏∫ÈªòËÆ§ÂÄº„ÄÇ","Reset all Thino settings":"ÈáçÁΩÆÊâÄÊúâ Thino ËÆæÁΩÆ","Reset settings":"ÈáçÁΩÆËÆæÁΩÆ","Reset Thino settings to default settings.":"Â∞Ü Thino ËÆæÁΩÆÈáçÁΩÆ‰∏∫ÈªòËÆ§ËÆæÁΩÆ„ÄÇ","Task Management":"‰ªªÂä°ÁÆ°ÁêÜ","Append completed date when task done in thino":"Âú® Thino ‰∏≠ÁöÑ‰ªªÂä°ÂÆåÊàêÊó∂Ê∑ªÂä†ÂÆåÊàêÊó•Êúü","Append completed date when task done in thino. False by default":"Âú® Thino ‰∏≠ÁöÑ‰ªªÂä°ÂÆåÊàêÊó∂Ê∑ªÂä†ÂÆåÊàêÊó•Êúü„ÄÇÈªòËÆ§‰∏∫ÂÖ≥Èó≠","Set tag for single file that Thino indexes":"Thino ‰ºöÁ¥¢ÂºïË¢´ËÆæÁΩÆÊ†áÁ≠æÁöÑÂçïÊñá‰ª∂","When you set a tag here, Thino will index this file contains this tag and show it in the list. Don't need to add `#`.":"ÂΩì‰Ω†Âú®ËøôÈáåËÆæÁΩÆ‰∏Ä‰∏™Ê†áÁ≠æÊó∂ÔºåThino ‰ºöÁ¥¢ÂºïÂåÖÂê´Ëøô‰∏™Ê†áÁ≠æÁöÑÊñá‰ª∂ÔºåÂπ∂Âú®ÂàóË°®‰∏≠ÊòæÁ§∫„ÄÇ‰∏çÈúÄË¶ÅÊ∑ªÂä† `#`„ÄÇ","Set tag for file type file":"‰∏∫ÂçïÊñá‰ª∂Á±ªÂûãÊñá‰ª∂ËÆæÁΩÆÊ†áÁ≠æ","Set tag for multi type file":"‰∏∫Â§öÊñá‰ª∂Á±ªÂûãÊñá‰ª∂ËÆæÁΩÆÊ†áÁ≠æ","Please input the tag":"ËØ∑ËæìÂÖ•Ê†áÁ≠æ","Merge thinos in to thino share image":"ÂêàÂπ∂ Thino Âà∞ Thino ÂàÜ‰∫´ÂõæÁâá","Custom height for Thino content":"Ëá™ÂÆö‰πâ Thino ÂÜÖÂÆπÈ´òÂ∫¶","Set custom height for Thino content. Like 200px or 20rem":"ËÆæÁΩÆ Thino ÂÜÖÂÆπÁöÑËá™ÂÆö‰πâÈ´òÂ∫¶„ÄÇÂ¶Ç 200px Êàñ 20rem","Input height":"ËæìÂÖ•È´òÂ∫¶","Submit issue":"Êèê‰∫§ÈóÆÈ¢ò","Current version":"ÂΩìÂâçÁâàÊú¨","Bug report":"Bug Êä•Âëä","Click the button to copy debug info and open the issue page":"ÁÇπÂáªÊåâÈíÆÂ§çÂà∂Ë∞ÉËØï‰ø°ÊÅØÂπ∂ÊâìÂºÄÈóÆÈ¢òÈ°µÈù¢","Copy and go":"Â§çÂà∂Âπ∂ÂâçÂæÄ","Debug info copied":"Ë∞ÉËØï‰ø°ÊÅØÂ∑≤Â§çÂà∂","Feature request":"ÂäüËÉΩËØ∑Ê±Ç","Submit your feature request to the issue page":"Êèê‰∫§‰Ω†ÁöÑÂäüËÉΩËØ∑Ê±ÇÂà∞ÈóÆÈ¢òÈ°µÈù¢",Go:"ÂâçÂæÄ","Toggle query list visibility":"ÂàáÊç¢ Query ÂàóË°®ÂèØËßÅÊÄß","Toggle tags visibility":"ÂàáÊç¢Ê†áÁ≠æÂèØËßÅÊÄß","Toggle sidebar visibility":"ÂàáÊç¢‰æßËæπÊ†èÂèØËßÅÊÄß",Collapse:"Êî∂Ëµ∑",Expand:"Â±ïÂºÄ","Max height for collapse":"ÊäòÂè†ÁöÑÊúÄÂ§ßÈ´òÂ∫¶","The max height for thino collapse, when set 0, thino would not collapse. 0 by default. (This is not lines count, it is height in px.)":"Thino ÊäòÂè†ÁöÑÊúÄÂ§ßÈ´òÂ∫¶ÔºåËÆæÁΩÆ‰∏∫ 0 Êó∂ÔºåThino ‰∏ç‰ºöÊäòÂè†„ÄÇÈªòËÆ§‰∏∫ 0„ÄÇÔºàËøô‰∏çÊòØË°åÊï∞ÔºåËÄåÊòØÂÉèÁ¥†È´òÂ∫¶ÂÄºÔºâ","Render content":"Ê∏≤ÊüìÂÜÖÂÆπ","Optimize for Callout":"‰ºòÂåñ Callout Ê∏≤ÊüìÊÄßËÉΩÈóÆÈ¢ò","Won't render content contains more than 3 callouts automatically. True by default":"‰∏ç‰ºöËá™Âä®Ê∏≤ÊüìÂåÖÂê´Ë∂ÖËøá 3 ‰∏™ Callout ÁöÑÂÜÖÂÆπ„ÄÇÈªòËÆ§‰∏∫ÂºÄÂêØ","The value should be greater than":"ÂÄºÂ∫îÂ§ß‰∫é","Append Text":"ÂêéÁΩÆÊñáÊú¨","Prepend Text":"ÂâçÁΩÆÊñáÊú¨","Thino height when collapsed":"Thino ÊäòÂè†Êó∂ÁöÑÈ´òÂ∫¶","The height for thino when it is collapsed, when set 0, thino would not collapse. 100 by default. (This is not lines count, it is height in px.)":"Thino ÊäòÂè†Êó∂ÁöÑÈ´òÂ∫¶ÔºåÂΩìËÆæÁΩÆ‰∏∫ 0 Êó∂ÔºåÂÆåÂÖ®ÊäòÂè†„ÄÇÈªòËÆ§‰∏∫ 100„ÄÇÔºàËøô‰∏çÊòØË°åÊï∞ÔºåËÄåÊòØÂÉèÁ¥†È´òÂ∫¶ÂÄºÔºâ","This option will allow you use other views when leaf width is not enough. False by default.":"ÂΩìÈ°µÈù¢ÂÆΩÂ∫¶‰∏çÂ§üÊó∂ÔºåÂèØ‰ª•ÈÄâÊã©ÂÖ∂‰ªñËßÜÂõæ„ÄÇÈªòËÆ§‰∏∫ÂÖ≥Èó≠„ÄÇ","Can select other views when leaf width is not enough":"ÂΩìÈ°µÈù¢ÂÆΩÂ∫¶‰∏çÂ§üÊó∂ÔºåÂèØ‰ª•ÈÄâÊã©ÂÖ∂‰ªñËßÜÂõæ","TRASH BOX":"ÂõûÊî∂Á´ô","Wait templater to finish parse before insert thino":"Âú®ÊèíÂÖ• Thino ‰πãÂâçÁ≠âÂæÖ Templater ÂÆåÊàêËß£Êûê","This option will allow you to wait for templater to finish parse before insert thino, which may casue you need to confirm twice between insert thino. False by default.":"Ê≠§ÈÄâÈ°πÂ∞ÜÂÖÅËÆ∏ÊÇ®Âú®ÊèíÂÖ• Thino ‰πãÂâçÁ≠âÂæÖ Templater ÂÆåÊàêËß£ÊûêÔºåËøôÂèØËÉΩ‰ºöÂØºËá¥ÊÇ®Âú®ÊèíÂÖ• Thino ‰πãÈó¥ÈúÄË¶ÅÁ°ÆËÆ§‰∏§Ê¨°„ÄÇÈªòËÆ§‰∏∫ÂÖ≥Èó≠„ÄÇ","Get thino capture extension":"Ëé∑Âèñ Thino Ââ™Ë£ÅÊâ©Â±ï","You can capture idea/text from chrome now.":"‰Ω†Áé∞Âú®ÂèØ‰ª•‰ªé Chrome ‰∏≠ÊçïËé∑ÊÉ≥Ê≥ï/ÊñáÊú¨„ÄÇ","Open File":"ÊâìÂºÄÊñá‰ª∂","Exported CSV file":"ÂØºÂá∫ÁöÑ CSV Êñá‰ª∂","Updated At":"Êõ¥Êñ∞‰∫é","Export to CSV":"ÂØºÂá∫‰∏∫ CSV","Quick add button on mobile navbar":"ÁßªÂä®Á´ØÂØºËà™Ê†èÁöÑÂø´ÈÄüÊ∑ªÂä†ÊåâÈíÆ","Always show status text":"ÂßãÁªàÊòæÁ§∫Áä∂ÊÄÅÊñáÊú¨","Support filter by metadata from file":"ÊîØÊåÅÈÄöËøáÊñá‰ª∂‰∏≠ÁöÑÂÖÉÊï∞ÊçÆËøõË°åÁ≠õÈÄâ","When enable this, you can filter via metadata from file, like tags in file. But thinos from canvas is not supported. False by default.":"ÂêØÁî®ÂêéÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáÊñá‰ª∂‰∏≠ÁöÑÂÖÉÊï∞ÊçÆËøõË°åÁ≠õÈÄâÔºå‰æãÂ¶ÇÊñá‰ª∂‰∏≠ÁöÑÊ†áÁ≠æ„ÄÇ‰ΩÜÁîªÂ∏É‰∏≠ÁöÑ Thino ‰∏çÊîØÊåÅ„ÄÇÈªòËÆ§‰∏∫ÂÖ≥Èó≠„ÄÇ","Show source near timestamp in thino":"Âú® Thino Êó∂Èó¥Êà≥ÊóÅÊòæÁ§∫ Thino ÁöÑÊù•Ê∫ê","When enable this, you can see the source near timestamp in thino. You can set title in metadata to overwrite this. False by default.":"ÂêØÁî®ÂêéÔºå‰Ω†ÂèØ‰ª•Âú® Thino Êó∂Èó¥Êà≥ÊóÅÁúãÂà∞ Thino ÁöÑÊù•Ê∫ê„ÄÇ‰Ω†ÂèØ‰ª•Âú®ÂÖÉÊï∞ÊçÆ‰∏≠ËÆæÁΩÆ title Êù•Ë¶ÜÁõñÊñá‰ª∂Âêç„ÄÇÈªòËÆ§‰∏∫ÂÖ≥Èó≠„ÄÇ","Show Update Message":"ÊòæÁ§∫Êõ¥Êñ∞Ê∂àÊÅØ","Show update message when Thino is updated. True by default":"Thino Êõ¥Êñ∞Êó∂ÊòæÁ§∫Êõ¥Êñ∞Ê∂àÊÅØ„ÄÇÈªòËÆ§‰∏∫ÂºÄÂêØ","Sync manually":"ÊâãÂä®ÂêåÊ≠•","Show all scrollbars":"ÊòæÁ§∫ÊâÄÊúâÊªöÂä®Êù°","TIME RANGE":"Êó∂Èó¥ËåÉÂõ¥",WITHIN:"Âú®ÂÜÖ","7 days":"7Â§©","14 days":"14Â§©","30 days":"30Â§©","3 months":"3‰∏™Êúà","6 months":"6‰∏™Êúà","1 year":"1Âπ¥","This week":"Êú¨Âë®","Last week":"‰∏äÂë®","This month":"Êú¨Êúà","Last month":"‰∏äÊúà","This year":"‰ªäÂπ¥","Last year":"ÂéªÂπ¥"},X7={},eR={ar:F7,cs:O7,da:P7,de:j7,en:uA,"en-gb":L7,es:R7,fr:_7,hi:B7,id:H7,it:U7,ja:Y7,ko:z7,nl:V7,nn:W7,pl:$7,pt:Z7,"pt-br":q7,ro:G7,ru:J7,tr:K7,"zh-cn":Q7,"zh-tw":X7},kC=eR[x.moment.locale()];function E(e){const t=kC&&kC[e]||uA[e];return t===null?t:t||e}const tR=/```([\s\S]*?)```/g,nR=/\*\*(.+?)\*\*/g,rR=/\*(.+?)\*/g,aR=/\[ \] /g,oR=/\[.{1}\] /g,iR=/^[*-]/g,sR=/(\d+)\. /g,NC=/\[\[([^\]]+)\]\]/g,uT=/\[([^\]]+)\]\((([^\]]+).md)\)/g,lR=(e,t)=>{const n=e.replace(tR,"<pre lang=''>$1</pre>").replace(iR,"<span class='counter-block'>‚Ä¢</span>").replace(sR,"<span class='counter-block'>$1.</span>").replace(aR,"<span class='todo-block' data-type='todo'>‚¨ú</span>").replace(oR,"<span class='todo-block' data-type='done'>‚úÖ</span>").replace(nR,"<strong>$1</strong>").replace(rR,"<em>$1</em>").replace(/&lt;br&gt;/g,"</p><p>").replace(/&amp;/g,"&");let r=n;if(t){if(NC.test(n)){const a=n.match(NC);for(let o=0;o<a.length;o++)if(!/(jpeg|jpg|gif|png|svg|bmp|wepg)/g.test(a[o])){const i=uR(a[o]);if(/\|/g.test(i)){const[l,c]=i.split("|"),f=bS(l,c);r=n.replace(a[o],f)}else{const f=bS(i,"");r=r.replace(a[o],f)}}}if(uT.test(n)){const a=n.match(uT);for(let o=0;o<a.length;o++)if(!/(jpeg|jpg|gif|png|svg|bmp|wepg)/g.test(a[o])){const i=dR(a[o]),l=cR(a[o]),c=bS(i,l);r=n.replace(a[o],c)}}}return r},bS=(e,t)=>{const{metadataCache:n}=Le.getState().dailyNotesState.app;return n.getFirstLinkpathDest(decodeURIComponent(e),"")instanceof x.TFile?t?`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link">${t}</a>`:`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link">${e}</a>`:t?`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link is-unresolved">${t}</a>`:`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link is-unresolved">${e}</a>`},uR=e=>{var t;return(t=/\[\[([^\]]+)\]\]/g.exec(e))==null?void 0:t[1]},cR=e=>{var t;return(t=uT.exec(e))==null?void 0:t[1]},dR=e=>{var t;return(t=/\[([^\]]+)\]\((([^\]]+).md)\)/g.exec(e))==null?void 0:t[3]},AC=e=>{const t=document.createElement("div");return t.className="memo-content-text",t.innerHTML=e,t.innerText},fR=e=>e.replace(/\n/g,"<br>"),hR=e=>{const t=document.createElement("div");return t.textContent=e,t.innerHTML},FC="mobile-show-sidebar",cA=200,ei=3600*24*1e3,$r=/\s#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/g,Wa=/(<p>|<br>)#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/g,ua=/^#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/gu,Af=/(\s|Ôºö|\(|>|^)((http|ftp|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-]))/g,pR=/\[([\s\S]*?)\]\(([\s\S]*?)\)/gu,Ff=/([^\s<\\*>'(]+\.(jpeg|jpg|gif|png|svg))(\]\])?(\))?/g,ad=/\[@(.+?)\]\((.+?)\)/g,mR=/[#*"\/\\<>:|\[\]\?]/gim,gR=/^(-|\*|\d\.)\s(\[.\]\s)?(\d{1,2}:\d{2}(:\d{2})?)\s(.*)/g,Qg=[{title:"DAILY",icon:"list"},{title:"CANVAS",icon:"layout-dashboard"},{title:"MULTI",icon:"file-text"},{title:"FILE",icon:"edit"}];var cT;(e=>{function t(){return parseInt(x.moment().format("x"))}e.getNowTimeStamp=t;function n(V){const U=/'‚ÄôA-Za-z\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,Z=/\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u4E00-\u9FD5/.source,Q=/[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u4E00-\u9FD5]{1}/.source,G=new RegExp([`(?:[0-9]+(?:(?:,|\\.)[0-9]+)*|[\\-${U}])+`,Z,Q].join("|"),"g");return(V.match(G)||[]).length}e.getWordCount=n;function r(V){Kg()&&(V!=null&&V.EnabledLocationList.some(U=>U.value==="DAILY"))&&(V!=null&&V.EnabledLocationList.some(U=>U.value==="MULTI"))&&mb().contains(V==null?void 0:V.MemoOtherSaveLocation.MemoDefaultMultiFilePath)&&new x.Notice(E("Please set different save locations for multi-file settings in Thino. The diary folder overlaps with the multi-file save location, or there is a risk of it being read repeatedly."),5e3)}e.checkDailyInMulti=r;function a(){const V=navigator.userAgent;let U="Unknown";return V.indexOf("Win")!=-1?U="Windows":V.indexOf("Mac")!=-1?U="MacOS":V.indexOf("Linux")!=-1&&(U="Linux"),U}e.getOSVersion=a;function o(V){return typeof V=="string"&&(V=V.replaceAll("-","/")),new Date(V).getTime()}e.getTimeStampByDate=o;function i(V){const U=new Date(o(V));return new Date(U.getFullYear(),U.getMonth(),U.getDate()).getTime()}e.getDateStampByDate=i;function l(V){const U=new Date(o(V)),Z=U.getFullYear(),Q=U.getMonth()+1,G=U.getDate();return`${Z}/${Q}/${G}`}e.getDateString=l;function c(V){const U=new Date(o(V)),Z=U.getHours(),Q=U.getMinutes(),G=Z<10?"0"+Z:Z,re=Q<10?"0"+Q:Q;return`${G}:${re}`}e.getTimeString=c;function f(V){const U=new Date(o(V)),Z=U.getFullYear(),Q=U.getMonth()+1,G=U.getDate(),re=U.getHours(),de=U.getMinutes(),fe=U.getSeconds(),$=Q<10?"0"+Q:Q,he=G<10?"0"+G:G,se=re<10?"0"+re:re,ue=de<10?"0"+de:de,X=fe<10?"0"+fe:fe;return`${Z}/${$}/${he} ${se}:${ue}:${X}`}e.getDateTimeString=f;function h(V){return Array.from(new Set(V))}e.dedupe=h;function g(V){const U=new Set,Z=[];for(const Q of V)U.has(Q.id)||(U.add(Q.id),Z.push(Q));return Z}e.dedupeObjectWithId=g;function y(V,U){let Z=null;return()=>{Z&&clearTimeout(Z),Z=setTimeout(V,U)}}e.debounce=y;function w(V,U,Z=!1,Q){let G=null,re=!1;function de(...fe){if(G&&clearTimeout(G),Z&&!re){const $=V.apply(this,fe);Q&&typeof Q=="function"&&Q($),re=!0}else G=setTimeout(()=>{const $=V.apply(this,fe);Q&&typeof Q=="function"&&Q($),re=!1,G=null},U)}return de.cancel=function(){G&&clearTimeout(G),G=null,re=!1},de}e.debouncePlus=w;function S(V,U){let Z=!0;return()=>{if(!Z)return!1;Z=!1,setTimeout(()=>{V(),Z=!0},U)}}e.throttle=S;function D(V){const U=[],Z=Object.keys(V).sort();for(const Q of Z){const G=V[Q];G&&(typeof G=="object"?U.push(...D(G).split("&")):U.push(`${Q}=${G}`))}return U.join("&")}e.transformObjectToParamsString=D;function I(V){const U={},Z=V.split("&");for(const Q of Z){const[G,re]=Q.split("=");G&&re&&(U[G]=re)}return U}e.transformParamsStringToObject=I;function M(V){if(!V)return{};const U={},Z=Object.keys(V).sort();for(const Q of Z){const G=V[Q];if(typeof G=="object"){const re=M(JSON.parse(JSON.stringify(G)));re&&Object.keys(re).length>0&&(U[Q]=re)}else G&&(U[Q]=G)}return U}e.filterObjectNullKeys=M;async function N(V){if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(V)}catch(U){console.warn("Copy to clipboard failed.",U)}else console.warn("Copy to clipboard failed, methods not supports.")}e.copyTextToClipboard=N;function B(V){return new Promise(U=>{const Z=new Image;Z.onload=()=>{const{width:Q,height:G}=Z;Q>0&&G>0?U({width:Q,height:G}):U({width:0,height:0})},Z.onerror=()=>{U({width:0,height:0})},Z.className="thino-hidden",Z.src=V,document.body.appendChild(Z),Z.remove()})}e.getImageSize=B;async function k(V){var G,re,de,fe;let U;const Q=app.plugins.getPlugin("obsidian-memos").settings.UseDailyOrPeriodic==="Daily";try{return!Q&&((fe=(de=(re=(G=window.app.plugins)==null?void 0:G.getPlugin("periodic-notes"))==null?void 0:re.calendarSetManager)==null?void 0:de.getActiveConfig("day"))!=null&&fe.enabled)?(U=await window.app.plugins.getPlugin("periodic-notes").createPeriodicNote("day",V),U):(U=await app.internalPlugins.getPluginById("daily-notes").instance.getDailyNote(V)||await lA(V),U)}catch($){return console.error($),new x.Notice(E("Failed to create daily note. Please check if you created a folder for daily notes.")),null}}e.createDailyNoteCheck=k;function R(V){const U=[];let Z=0;for(;Z<V;Z++)U.push((16*Math.random()|0).toString(16));return U.join("")}e.randomId=R;function L(V){return V.replace(/[\p{P}\p{Z}\p{S}]/gu,"").length}e.countWords=L;async function _(V){try{const U=await x.requestUrl(V),Z=new Uint8Array(U.arrayBuffer);return new Blob([Z],{type:"image/png"})}catch(U){return console.error("error in grabImageFromUrl",V,U),new Blob}}e.grabImageFromUrl=_})(cT||(cT={}));const ut=cT;function vR(){var o,i,l,c,f,h;let e="";const t=app.plugins.getPlugin("obsidian-memos").settings;let n="";const r=(l=(i=(o=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:o.calendarSetManager)==null?void 0:i.getActiveConfig("day"))==null?void 0:l.folder,a=(h=(f=(c=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:c.settings)==null?void 0:f.daily)==null?void 0:h.format;switch(r===void 0?n=a:n=r,(t==null?void 0:t.UseDailyOrPeriodic)||"Daily"){case"Daily":e=Jc().format||"YYYY-MM-DD";break;case"Periodic":e=n||"YYYY-MM-DD";break;default:e=Jc().format||"YYYY-MM-DD";break}return e===void 0&&new x.Notice(E("You didn't set format for daily notes in both periodic-notes and daily-notes plugins.")),e}function mb(){var o,i,l,c,f,h;let e="";const t=app.plugins.getPlugin("obsidian-memos").settings;let n="";const r=(l=(i=(o=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:o.calendarSetManager)==null?void 0:i.getActiveConfig("day"))==null?void 0:l.folder,a=(h=(f=(c=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:c.settings)==null?void 0:f.daily)==null?void 0:h.folder;switch(r===void 0?n=a:n=r,(t==null?void 0:t.UseDailyOrPeriodic)||"Daily"){case"Daily":e=Jc().folder||"";break;case"Periodic":e=n||"";break;default:e=Jc().folder||"";break}return e===void 0&&new x.Notice(E("You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.")),e}function yR(){const e=mb();return!(e!==void 0&&!app.vault.getFolderByPath(e))}function dT(e,t){var r;e=hR(e),e=fR(e).split("<br>").map(a=>`<p>${a!==""?a:"<br>"}</p>`).join(""),e=lR(e,t),e=e.replace($r,"<span class='tag-span'>#$1</span>").replace(Wa,"<p><span class='tag-span'>#$2</span>").replace(Af,"$1<a class='link' target='_blank' rel='noreferrer' href='$2'>$2</a>").replace(pR,"<a class='link' target='_blank' rel='noreferrer' href='$2'>$1</a>").replace(ad,"<span class='memo-link-text' data-value='$2'>$1</span>").replace(/\^\S{6}/g,"");const n=document.createElement("div");n.innerHTML=e;for(let a=0;a<n.children.length;a++){const o=n.children[a];if(o.tagName==="P"&&o.textContent===""&&((r=o.firstElementChild)==null?void 0:r.tagName)!=="BR"){o.remove(),a--;continue}}return n.innerHTML}const gb=(e,t)=>{const n=window.atob(e),r=new ArrayBuffer(n.length),a=new Uint8Array(r);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return new Blob([r],{type:t})};function dA(e,t){return Object.keys(t).every(n=>typeof t[n]=="object"&&t[n]!==null&&typeof e[n]=="object"&&e[n]!==null?dA(e[n],t[n]):Object.prototype.hasOwnProperty.call(e,n)&&e[n]===t[n])}function wR(e,t){switch(t.type){case"SET_MEMOS":{const n=t.payload.memos.sort((a,o)=>{const i=ut.getTimeStampByDate(a.createdAt),l=ut.getTimeStampByDate(o.createdAt);return i===l?o.id.localeCompare(a.id):ut.getTimeStampByDate(o.createdAt)-ut.getTimeStampByDate(a.createdAt)}),r=ut.dedupeObjectWithId(n);return{...e,memos:[...r]}}case"SET_COMMENT_MEMOS":{const n=ut.dedupeObjectWithId(t.payload.commentMemos.sort((r,a)=>ut.getTimeStampByDate(a.createdAt)-ut.getTimeStampByDate(r.createdAt)));return{...e,commentMemos:[...n]}}case"SET_TAGS":return{...e,tags:t.payload.tags,tagsNum:t.payload.tagsNum};case"INSERT_MEMO":{const n=ut.dedupeObjectWithId([t.payload.memo,...e.memos].sort((r,a)=>ut.getTimeStampByDate(a.createdAt)-ut.getTimeStampByDate(r.createdAt)));return{...e,memos:n}}case"INSERT_COMMENT_MEMO":{const n=ut.dedupeObjectWithId([t.payload.memo,...e.commentMemos].sort((r,a)=>ut.getTimeStampByDate(a.createdAt)-ut.getTimeStampByDate(r.createdAt)));return{...e,commentMemos:[...n]}}case"DELETE_MEMO_BY_ID":return{...e,memos:[...e.memos].filter(n=>n.id!==t.payload.id)};case"DELETE_MEMO_BY_ID_BATCH":{const n=[...e.memos];return t.payload.ids.forEach(r=>{n.splice(n.findIndex(a=>a.id===r),1)}),{...e,memos:[...n]}}case"REPLACE_MEMO_BY_ID":{const n=e.memos.map(r=>r.id===t.payload.id?t.payload.memo:r);return{...e,memos:[...n]}}case"REMOVE_PREPARE_UPDATE_THINO":return{...e,preparingUpdateMemo:[]};case"REMOVE_PARTICULAR_PREPARE_UPDATE_THINO":return{...e,preparingUpdateMemo:e.preparingUpdateMemo.filter(n=>n.id!==t.payload.id)};case"SET_WAITING_FOR_TEMPLATER":return{...e,preparingUpdateMemo:[...e.preparingUpdateMemo,{origin:t.payload.origin,date:t.payload.date,isList:t.payload.isList,id:t.payload.id,type:t.payload.type}]};case"CLEAR_MEMOS":return{...fA};case"EDIT_MEMO":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"EDIT_MEMO_PATH":{const n=e.memos.map(r=>r.path===t.payload.path?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"UPDATE_MEMO_BATCH":{const n=e.memos.filter(a=>a.path!==t.payload.path),r=ut.dedupeObjectWithId([...t.payload.memos,...n].sort((a,o)=>ut.getTimeStampByDate(o.createdAt)-ut.getTimeStampByDate(a.createdAt)));return{...e,memos:[...r]}}case"ARCHIVE_MEMO_BY_ID":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"ARCHIVE_MEMO_BY_ID_BULK":{const n=e.memos.map(r=>t.payload.some(a=>a.id===r.id)?{...r,...t.payload.filter(a=>a.id===r.id)[0]}:r);return{...e,memos:[...n]}}case"UNARCHIVE_MEMO_BY_ID":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"PIN_MEMO":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,pinned:t.payload.pinned}:r);return{...e,memos:[...n]}}case"EDIT_COMMENT_MEMO":{const n=e.commentMemos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,commentMemos:[...n]}}default:return e}}const fA={memos:[],commentMemos:[],tags:[],tagsNum:{},preparingUpdateMemo:[]};function bR(e,t){switch(t.type){case"SIGN_IN":return{user:t.payload.user};case"SIGN_OUT":return{user:null};default:return e}}const SR={user:null};function DR(e,t){switch(t.type){case"SET_QUERIES":{const n=ut.dedupeObjectWithId(t.payload.queries.sort((r,a)=>ut.getTimeStampByDate(a.createdAt)-ut.getTimeStampByDate(r.createdAt)).sort((r,a)=>ut.getTimeStampByDate(a.pinnedAt??0)-ut.getTimeStampByDate(r.pinnedAt??0)));return{...e,queries:n}}case"INSERT_QUERY":{const n=ut.dedupeObjectWithId([t.payload.query,...e.queries].sort((r,a)=>ut.getTimeStampByDate(a.createdAt)-ut.getTimeStampByDate(r.createdAt)));return{...e,queries:n}}case"DELETE_QUERY_BY_ID":return{...e,queries:[...e.queries].filter(n=>n.id!==t.payload.id)};case"UPDATE_QUERY":{const n=e.queries.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,queries:n}}default:return e}}const TR={queries:[]};function IR(e,t){var n,r,a,o;switch(t.type){case"SET_DAILY_NOTES":return{...e,dailyNotes:t.payload.dailyNotes};case"SET_APP":return e.app?{...e}:{...e,app:t.payload.app};case"SET_PLUGIN":return e.plugin?{...e}:{...e,plugin:t.payload.plugin};case"SET_EDITOR":return e.editor?{...e}:{...e,editor:t.payload.editor};case"SET_SETTINGS":return e.settings&&e.settings===t.payload.settings?{...e}:{...e,settings:t.payload.settings};case"SET_VIEW":return e.view&&((r=(n=e.view)==null?void 0:n.leaf)==null?void 0:r.id)===((o=(a=t.payload.view)==null?void 0:a.leaf)==null?void 0:o.id)?{...e}:{...e,view:t.payload.view};case"CLEAR_VIEW":return e.view&&e.view.unload(),{...e,view:null};case"CLEAR_FILES":return{...e,dailyNotes:null};case"SET_VERIFY_STATE":return{...e,verifyState:t.payload.verifyState};default:return e}}const ER={dailyNotes:null,app:null,view:null,settings:null,editor:null,plugin:null,verifyState:null},Le=n7({globalState:a7,locationState:qN,memoState:fA,userState:SR,queryState:TR,dailyNotesState:ER},t7({globalState:r7,locationState:o7,memoState:wR,userState:bR,queryState:DR,dailyNotesState:IR})),Lt=P.createContext(Le.getState());String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return Object.prototype.toString.call(e).toLowerCase()==="[object regexp]"?this.replace(e,t):this.replace(new RegExp(e,"g"),t)});class CR{constructor(){Se(this,"initialized",!1)}getState(){return Le.getState().dailyNotesState}setApp(t){return Le.dispatch({type:"SET_APP",payload:{app:t}}),t}setPlugin(t){return Le.dispatch({type:"SET_PLUGIN",payload:{plugin:t}}),t}setSettings(t){return Le.dispatch({type:"SET_SETTINGS",payload:{settings:t}}),this.initialized||(this.initialized=!0),t}setView(t){return Le.dispatch({type:"SET_VIEW",payload:{view:t}}),t}setEditor(t){return Le.dispatch({type:"SET_EDITOR",payload:{editor:t}}),t}async updateDailyNotes(t,n){const r=this.getState().dailyNotes,a=hp(t,"day");return n?delete r[`day-${a.format("YYYY-MM-DD")}T00:00:00+08:00}`]:r[`day-${a.format("YYYY-MM-DD")}T00:00:00+08:00}`]=t,Le.dispatch({type:"SET_DAILY_NOTES",payload:{dailyNotes:r}}),r}setVerifyState(t){return Le.dispatch({type:"SET_VERIFY_STATE",payload:{verifyState:t}}),t}async fechLocalDailyNotes(){try{const t=Ju();return Le.dispatch({type:"SET_DAILY_NOTES",payload:{dailyNotes:t}}),t}catch(t){console.error(t)}}}const ft=new CR;var la;(e=>{function t(o){const i={};for(const l of o)try{const c=localStorage.getItem(l);if(c!==null){const f=JSON.parse(c);i[l]=f}}catch(c){console.error("Get storage failed in ",l,c)}return i}e.get=t;function n(o){for(const i in o)try{const l=JSON.stringify(o[i]);localStorage.setItem(i,l)}catch(l){console.error("Save storage failed in ",i,l)}}e.set=n;function r(o){for(const i of o)try{localStorage.removeItem(i)}catch(l){console.error("Remove storage failed in ",i,l)}}e.remove=r;function a(){var i;const o=document.createElement("iframe");o.style.display="none",document.body.appendChild(o),(i=o.contentWindow)==null||i.localStorage.setItem("t",Date.now().toString()),o.remove()}e.emitStorageChangedEvent=a})(la||(la={}));class xR{constructor(){Se(this,"getState",()=>Le.getState().globalState);Se(this,"setEditMemoId",t=>{Le.dispatch({type:"SET_EDIT_MEMO_ID",payload:{editMemoId:t}})});Se(this,"setRefresh",t=>{Le.dispatch({type:"SET_REFRESH",payload:{refresh:t}})});Se(this,"setCommentMemoId",t=>{Le.dispatch({type:"SET_COMMENT_MEMO_ID",payload:{commentMemoId:t}})});Se(this,"setMarkMemoId",t=>{Le.dispatch({type:"SET_MARK_MEMO_ID",payload:{markMemoId:t}})});Se(this,"setLoaded",t=>{Le.dispatch({type:"SET_LOADED",payload:{loaded:t}})});Se(this,"setGlobalEditorShown",t=>{Le.dispatch({type:"SET_GLOBAL_EDITOR_SHOWN",payload:{globalEditorShown:t}})});Se(this,"setIsMobileView",t=>{Le.dispatch({type:"SET_MOBILE_VIEW",payload:{isMobileView:t}})});Se(this,"setChangedByMemos",t=>{Le.dispatch({type:"SET_CHANGED_BY_MEMOS",payload:{changedByMemos:t}})});Se(this,"setShowSiderbarInMobileView",t=>{Le.dispatch({type:"SET_SHOW_SIDEBAR_IN_MOBILE_VIEW",payload:{showSiderbarInMobileView:t}})});Se(this,"setAppSetting",t=>{Le.dispatch({type:"SET_APP_SETTING",payload:t}),la.set(t)});Se(this,"setMemoListView",t=>{Le.dispatch({type:"SET_MEMO_LIST_VIEW",payload:{memoListView:t}})});Se(this,"setInstance",(t,n)=>{Le.dispatch({type:"SET_INSTANCE",payload:{id:t,instance:n}})});Se(this,"setLocked",t=>{Le.dispatch({type:"SET_LOCKED",payload:{locked:t}})});Se(this,"setExitSteps",t=>{Le.dispatch({type:"SET_EXIT_STEPS",payload:{exited:t}})});Se(this,"setPluginManifest",t=>{Le.dispatch({type:"SET_MEMO_PLUGIN_MANIFEST",payload:{manifest:t}})});const t=la.get(["shouldSplitMemoWord","shouldHideImageUrl","shouldUseMarkdownParser","useTinyUndoHistoryCache"]),n={shouldSplitMemoWord:t.shouldSplitMemoWord||!0,shouldHideImageUrl:t.shouldHideImageUrl||!0,shouldUseMarkdownParser:t.shouldUseMarkdownParser||!0,useTinyUndoHistoryCache:t.useTinyUndoHistoryCache||!1};this.setAppSetting(n)}}const dt=new xR;class MR{constructor(){Se(this,"updateStateWithLocation",()=>{const{pathname:t,search:n,hash:r}=window.location,a=new URLSearchParams(n),o={pathname:"/",hash:"",query:{tag:"",duration:null,text:"",type:"",filter:""}};o.query.tag=a.get("tag")||"",o.query.type=a.get("type")??"",o.query.text=a.get("text")??"",o.query.filter=a.get("filter")??"";const i=parseInt(a.get("from")??"0"),l=parseInt(a.get("to")??"0");l>i&&l!==0&&(o.query.duration={from:i,to:l}),o.hash=r,o.pathname=this.getValidPathname(t),Le.dispatch({type:"SET_LOCATION",payload:o})});Se(this,"getState",()=>Le.getState().locationState);Se(this,"clearQuery",()=>{Le.dispatch({type:"SET_QUERY",payload:{tag:"",duration:null,text:"",type:"",filter:""}})});Se(this,"setQuery",t=>{Le.dispatch({type:"SET_QUERY",payload:t})});Se(this,"reloadApp",()=>{Le.dispatch({type:"RELOAD"})});Se(this,"setHash",t=>{Le.dispatch({type:"SET_HASH",payload:{hash:t}})});Se(this,"setPathname",t=>{Le.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});Se(this,"pushHistory",t=>{Le.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});Se(this,"replaceHistory",t=>{Le.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});Se(this,"setMemoTypeQuery",(t="")=>{Le.dispatch({type:"SET_TYPE",payload:{type:t}})});Se(this,"setMemoFilter",t=>{Le.dispatch({type:"SET_QUERY_FILTER",payload:t})});Se(this,"setTextQuery",t=>{Le.dispatch({type:"SET_TEXT",payload:{text:t}})});Se(this,"setTimeQuery",t=>{Le.dispatch({type:"SET_DURATION_QUERY",payload:{duration:t}})});Se(this,"setPathQuery",t=>{Le.dispatch({type:"SET_PATH_QUERY",payload:{path:t}})});Se(this,"setMetadataQuery",(t,n)=>{Le.dispatch({type:"SET_METADATA_QUERY",payload:{name:t,value:n}})});Se(this,"setTagQuery",t=>{Le.dispatch({type:"SET_TAG_QUERY",payload:{tag:t}})});Se(this,"setFromAndToQuery",(t,n)=>{Le.dispatch({type:"SET_DURATION_QUERY",payload:{duration:{from:t,to:n}}})});Se(this,"getValidPathname",t=>["/","/homeboard","/recycle","/setting"].includes(t)?t:"/");this.updateStateWithLocation(),window.onpopstate=()=>{this.updateStateWithLocation()}}}const at=new MR,ff=e=>`${e.vault.configDir}/query.json`,hA=async(e,t)=>{try{return await e.vault.adapter.read(t),!0}catch(n){return console.error(n),!1}},Rp=async e=>(await hA(e,ff(e))||await pA(e),JSON.parse(await e.vault.adapter.read(ff(e))).queries||[]),Av=async(e,t)=>{await e.vault.adapter.write(ff(e),JSON.stringify({queries:t},null,2))},pA=async e=>{const t=dt.getState().manifest,n=e.plugins.getPlugin(t.id||"obsidian-memos").settings,r=e.metadataCache.getFirstLinkpathDest(n.QueryFileName,"");if(!r)await e.vault.adapter.write(ff(e),JSON.stringify({queries:[]},null,2));else{const o=(await e.vault.read(r)).split(`
`);o.length===0&&await e.vault.adapter.write(ff(e),JSON.stringify({queries:[]},null,2));const i=[];for(let l=0;l<o.length;l++){const c=l,f="Memos";let h="Êú™ÂëΩÂêç";const g=o[l];let y=x.moment().format("YYYY/MM/DD HH:mm:ss"),w="[]";const S=g.match(/^\d{14,16}/);S&&(y=x.moment(S[0].slice(0,14),"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:ss"));const D=g.match(/\[\{(.+)\}\]/);D&&(w=D[0]);const I=g.match(/\s(.+)\s\[\{/);I&&(h=I[0].slice(1,-3)),i.push({id:c,pinnedAt:"",createdAt:y,updatedAt:y,title:h,querystring:w,userId:f})}await e.vault.adapter.write(ff(e),JSON.stringify({queries:i},null,2))}},kR=async()=>{const{app:e}=Le.getState().dailyNotesState;return await hA(e,ff(e))||await pA(e),await Rp(e)||[]},NR=(e,t)=>({createdAt:x.moment().format("YYYY/MM/DD HH:mm:ss"),id:e,pinnedAt:"",querystring:t,title:E("Temp Filter"),updatedAt:x.moment().format("YYYY/MM/DD HH:mm:ss"),userId:"Thino"}),AR=async(e,t)=>{const n=await Rp(Le.getState().dailyNotesState.app)||[],r={createdAt:x.moment().format("YYYY/MM/DD HH:mm:ss"),id:x.moment().format("YYYYMMDDHHmmss")+n.length,pinnedAt:"",querystring:t,title:e,updatedAt:x.moment().format("YYYY/MM/DD HH:mm:ss"),userId:"Thino"};return n.push(r),await Av(Le.getState().dailyNotesState.app,n),r};var Ew={exports:{}};Ew.exports;(function(e,t){(function(){var n,r="4.17.21",a=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,h="__lodash_placeholder__",g=1,y=2,w=4,S=1,D=2,I=1,M=2,N=4,B=8,k=16,R=32,L=64,_=128,V=256,U=512,Z=30,Q="...",G=800,re=16,de=1,fe=2,$=3,he=1/0,se=9007199254740991,ue=17976931348623157e292,X=NaN,oe=4294967295,De=oe-1,je=oe>>>1,Re=[["ary",_],["bind",I],["bindKey",M],["curry",B],["curryRight",k],["flip",U],["partial",R],["partialRight",L],["rearg",V]],Fe="[object Arguments]",Be="[object Array]",Xe="[object AsyncFunction]",Ze="[object Boolean]",st="[object Date]",Ct="[object DOMException]",tn="[object Error]",_e="[object Function]",et="[object GeneratorFunction]",nt="[object Map]",ht="[object Number]",St="[object Null]",Tt="[object Object]",Gt="[object Promise]",_t="[object Proxy]",Vt="[object RegExp]",Xt="[object Set]",dn="[object String]",en="[object Symbol]",Zn="[object Undefined]",Dn="[object WeakMap]",Er="[object WeakSet]",pt="[object ArrayBuffer]",Mt="[object DataView]",Jt="[object Float32Array]",sn="[object Float64Array]",ln="[object Int8Array]",vr="[object Int16Array]",fr="[object Int32Array]",ha="[object Uint8Array]",jr="[object Uint8ClampedArray]",nr="[object Uint16Array]",Lr="[object Uint32Array]",te=/\b__p \+= '';/g,me=/\b(__p \+=) '' \+/g,xe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ue=/&(?:amp|lt|gt|quot|#39);/g,He=/[&<>"']/g,Qe=RegExp(Ue.source),tt=RegExp(He.source),kt=/<%-([\s\S]+?)%>/g,Ut=/<%([\s\S]+?)%>/g,On=/<%=([\s\S]+?)%>/g,yn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Cr=/^\w*$/,Jn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yr=/[\\^$.*+?()[\]{}|]/g,ta=RegExp(yr.source),Pi=/^\s+/,Nn=/\s/,Aa=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fa=/\{\n\/\* \[wrapped with (.+)\] \*/,Zr=/,? & /,fo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Oa=/[()=,{}\[\]\/\s]/,iu=/\\(\\)?/g,si=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,li=/\w*$/,nc=/^[-+]0x[0-9a-f]+$/i,su=/^0b[01]+$/i,us=/^\[object .+?Constructor\]$/,ji=/^0o[0-7]+$/i,cs=/^(?:0|[1-9]\d*)$/,lu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ds=/($^)/,rc=/['\n\r\u2028\u2029\\]/g,An="\\ud800-\\udfff",na="\\u0300-\\u036f",qs="\\ufe20-\\ufe2f",Gs="\\u20d0-\\u20ff",ui=na+qs+Gs,uu="\\u2700-\\u27bf",Fo="a-z\\xdf-\\xf6\\xf8-\\xff",ho="\\xac\\xb1\\xd7\\xf7",Pa="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",fs="\\u2000-\\u206f",Rr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Js="A-Z\\xc0-\\xd6\\xd8-\\xde",Ks="\\ufe0e\\ufe0f",Qs=ho+Pa+fs+Rr,po="['‚Äô]",hs="["+An+"]",ci="["+Qs+"]",mo="["+ui+"]",A="\\d+",Y="["+uu+"]",K="["+Fo+"]",ie="[^"+An+Qs+A+uu+Fo+Js+"]",Ne="\\ud83c[\\udffb-\\udfff]",Ie="(?:"+mo+"|"+Ne+")",Ye="[^"+An+"]",it="(?:\\ud83c[\\udde6-\\uddff]){2}",ct="[\\ud800-\\udbff][\\udc00-\\udfff]",Ft="["+Js+"]",$t="\\u200d",Pn="(?:"+K+"|"+ie+")",Ga="(?:"+Ft+"|"+ie+")",ja="(?:"+po+"(?:d|ll|m|re|s|t|ve))?",ra="(?:"+po+"(?:D|LL|M|RE|S|T|VE))?",Oo=Ie+"?",La="["+Ks+"]?",Ja="(?:"+$t+"(?:"+[Ye,it,ct].join("|")+")"+La+Oo+")*",pa="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",go="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ra=La+Oo+Ja,Li="(?:"+[Y,it,ct].join("|")+")"+Ra,Ri="(?:"+[Ye+mo+"?",mo,it,ct,hs].join("|")+")",dm=RegExp(po,"g"),Bf=RegExp(mo,"g"),ps=RegExp(Ne+"(?="+Ne+")|"+Ri+Ra,"g"),fm=RegExp([Ft+"?"+K+"+"+ja+"(?="+[ci,Ft,"$"].join("|")+")",Ga+"+"+ra+"(?="+[ci,Ft+Pn,"$"].join("|")+")",Ft+"?"+Pn+"+"+ja,Ft+"+"+ra,go,pa,A,Li].join("|"),"g"),Po=RegExp("["+$t+An+ui+Ks+"]"),Xs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,cu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Bn=-1,hn={};hn[Jt]=hn[sn]=hn[ln]=hn[vr]=hn[fr]=hn[ha]=hn[jr]=hn[nr]=hn[Lr]=!0,hn[Fe]=hn[Be]=hn[pt]=hn[Ze]=hn[Mt]=hn[st]=hn[tn]=hn[_e]=hn[nt]=hn[ht]=hn[Tt]=hn[Vt]=hn[Xt]=hn[dn]=hn[Dn]=!1;var pn={};pn[Fe]=pn[Be]=pn[pt]=pn[Mt]=pn[Ze]=pn[st]=pn[Jt]=pn[sn]=pn[ln]=pn[vr]=pn[fr]=pn[nt]=pn[ht]=pn[Tt]=pn[Vt]=pn[Xt]=pn[dn]=pn[en]=pn[ha]=pn[jr]=pn[nr]=pn[Lr]=!0,pn[tn]=pn[_e]=pn[Dn]=!1;var jo={√Ä:"A",√Å:"A",√Ç:"A",√É:"A",√Ñ:"A",√Ö:"A",√†:"a",√°:"a",√¢:"a",√£:"a",√§:"a",√•:"a",√á:"C",√ß:"c",√ê:"D",√∞:"d",√à:"E",√â:"E",√ä:"E",√ã:"E",√®:"e",√©:"e",√™:"e",√´:"e",√å:"I",√ç:"I",√é:"I",√è:"I",√¨:"i",√≠:"i",√Æ:"i",√Ø:"i",√ë:"N",√±:"n",√í:"O",√ì:"O",√î:"O",√ï:"O",√ñ:"O",√ò:"O",√≤:"o",√≥:"o",√¥:"o",√µ:"o",√∂:"o",√∏:"o",√ô:"U",√ö:"U",√õ:"U",√ú:"U",√π:"u",√∫:"u",√ª:"u",√º:"u",√ù:"Y",√Ω:"y",√ø:"y",√Ü:"Ae",√¶:"ae",√û:"Th",√æ:"th",√ü:"ss",ƒÄ:"A",ƒÇ:"A",ƒÑ:"A",ƒÅ:"a",ƒÉ:"a",ƒÖ:"a",ƒÜ:"C",ƒà:"C",ƒä:"C",ƒå:"C",ƒá:"c",ƒâ:"c",ƒã:"c",ƒç:"c",ƒé:"D",ƒê:"D",ƒè:"d",ƒë:"d",ƒí:"E",ƒî:"E",ƒñ:"E",ƒò:"E",ƒö:"E",ƒì:"e",ƒï:"e",ƒó:"e",ƒô:"e",ƒõ:"e",ƒú:"G",ƒû:"G",ƒ†:"G",ƒ¢:"G",ƒù:"g",ƒü:"g",ƒ°:"g",ƒ£:"g",ƒ§:"H",ƒ¶:"H",ƒ•:"h",ƒß:"h",ƒ®:"I",ƒ™:"I",ƒ¨:"I",ƒÆ:"I",ƒ∞:"I",ƒ©:"i",ƒ´:"i",ƒ≠:"i",ƒØ:"i",ƒ±:"i",ƒ¥:"J",ƒµ:"j",ƒ∂:"K",ƒ∑:"k",ƒ∏:"k",ƒπ:"L",ƒª:"L",ƒΩ:"L",ƒø:"L",≈Å:"L",ƒ∫:"l",ƒº:"l",ƒæ:"l",≈Ä:"l",≈Ç:"l",≈É:"N",≈Ö:"N",≈á:"N",≈ä:"N",≈Ñ:"n",≈Ü:"n",≈à:"n",≈ã:"n",≈å:"O",≈é:"O",≈ê:"O",≈ç:"o",≈è:"o",≈ë:"o",≈î:"R",≈ñ:"R",≈ò:"R",≈ï:"r",≈ó:"r",≈ô:"r",≈ö:"S",≈ú:"S",≈û:"S",≈†:"S",≈õ:"s",≈ù:"s",≈ü:"s",≈°:"s",≈¢:"T",≈§:"T",≈¶:"T",≈£:"t",≈•:"t",≈ß:"t",≈®:"U",≈™:"U",≈¨:"U",≈Æ:"U",≈∞:"U",≈≤:"U",≈©:"u",≈´:"u",≈≠:"u",≈Ø:"u",≈±:"u",≈≥:"u",≈¥:"W",≈µ:"w",≈∂:"Y",≈∑:"y",≈∏:"Y",≈π:"Z",≈ª:"Z",≈Ω:"Z",≈∫:"z",≈º:"z",≈æ:"z",ƒ≤:"IJ",ƒ≥:"ij",≈í:"Oe",≈ì:"oe",≈â:"'n",≈ø:"s"},vo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ac={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ms={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},oc=parseFloat,el=parseInt,tl=typeof dr=="object"&&dr&&dr.Object===Object&&dr,fd=typeof self=="object"&&self&&self.Object===Object&&self,zn=tl||fd||Function("return this")(),nl=t&&!t.nodeType&&t,Lo=nl&&!0&&e&&!e.nodeType&&e,hd=Lo&&Lo.exports===nl,di=hd&&tl.process,qr=function(){try{var be=Lo&&Lo.require&&Lo.require("util").types;return be||di&&di.binding&&di.binding("util")}catch{}}(),rl=qr&&qr.isArrayBuffer,Gr=qr&&qr.isDate,gs=qr&&qr.isMap,_i=qr&&qr.isRegExp,al=qr&&qr.isSet,ic=qr&&qr.isTypedArray;function xr(be,ze,Oe){switch(Oe.length){case 0:return be.call(ze);case 1:return be.call(ze,Oe[0]);case 2:return be.call(ze,Oe[0],Oe[1]);case 3:return be.call(ze,Oe[0],Oe[1],Oe[2])}return be.apply(ze,Oe)}function vs(be,ze,Oe,vt){for(var Qt=-1,Tn=be==null?0:be.length;++Qt<Tn;){var Mr=be[Qt];ze(vt,Mr,Oe(Mr),be)}return vt}function wr(be,ze){for(var Oe=-1,vt=be==null?0:be.length;++Oe<vt&&ze(be[Oe],Oe,be)!==!1;);return be}function du(be,ze){for(var Oe=be==null?0:be.length;Oe--&&ze(be[Oe],Oe,be)!==!1;);return be}function sc(be,ze){for(var Oe=-1,vt=be==null?0:be.length;++Oe<vt;)if(!ze(be[Oe],Oe,be))return!1;return!0}function fi(be,ze){for(var Oe=-1,vt=be==null?0:be.length,Qt=0,Tn=[];++Oe<vt;){var Mr=be[Oe];ze(Mr,Oe,be)&&(Tn[Qt++]=Mr)}return Tn}function ol(be,ze){var Oe=be==null?0:be.length;return!!Oe&&ys(be,ze,0)>-1}function aa(be,ze,Oe){for(var vt=-1,Qt=be==null?0:be.length;++vt<Qt;)if(Oe(ze,be[vt]))return!0;return!1}function jn(be,ze){for(var Oe=-1,vt=be==null?0:be.length,Qt=Array(vt);++Oe<vt;)Qt[Oe]=ze(be[Oe],Oe,be);return Qt}function Ro(be,ze){for(var Oe=-1,vt=ze.length,Qt=be.length;++Oe<vt;)be[Qt+Oe]=ze[Oe];return be}function pd(be,ze,Oe,vt){var Qt=-1,Tn=be==null?0:be.length;for(vt&&Tn&&(Oe=be[++Qt]);++Qt<Tn;)Oe=ze(Oe,be[Qt],Qt,be);return Oe}function Hf(be,ze,Oe,vt){var Qt=be==null?0:be.length;for(vt&&Qt&&(Oe=be[--Qt]);Qt--;)Oe=ze(Oe,be[Qt],Qt,be);return Oe}function il(be,ze){for(var Oe=-1,vt=be==null?0:be.length;++Oe<vt;)if(ze(be[Oe],Oe,be))return!0;return!1}var Uf=F("length");function md(be){return be.split("")}function lc(be){return be.match(fo)||[]}function fu(be,ze,Oe){var vt;return Oe(be,function(Qt,Tn,Mr){if(ze(Qt,Tn,Mr))return vt=Tn,!1}),vt}function hu(be,ze,Oe,vt){for(var Qt=be.length,Tn=Oe+(vt?1:-1);vt?Tn--:++Tn<Qt;)if(ze(be[Tn],Tn,be))return Tn;return-1}function ys(be,ze,Oe){return ze===ze?zf(be,ze,Oe):hu(be,cc,Oe)}function uc(be,ze,Oe,vt){for(var Qt=Oe-1,Tn=be.length;++Qt<Tn;)if(vt(be[Qt],ze))return Qt;return-1}function cc(be){return be!==be}function gd(be,ze){var Oe=be==null?0:be.length;return Oe?Ae(be,ze)/Oe:X}function F(be){return function(ze){return ze==null?n:ze[be]}}function H(be){return function(ze){return be==null?n:be[ze]}}function q(be,ze,Oe,vt,Qt){return Qt(be,function(Tn,Mr,Un){Oe=vt?(vt=!1,Tn):ze(Oe,Tn,Mr,Un)}),Oe}function ae(be,ze){var Oe=be.length;for(be.sort(ze);Oe--;)be[Oe]=be[Oe].value;return be}function Ae(be,ze){for(var Oe,vt=-1,Qt=be.length;++vt<Qt;){var Tn=ze(be[vt]);Tn!==n&&(Oe=Oe===n?Tn:Oe+Tn)}return Oe}function Ee(be,ze){for(var Oe=-1,vt=Array(be);++Oe<be;)vt[Oe]=ze(Oe);return vt}function Ve(be,ze){return jn(ze,function(Oe){return[Oe,be[Oe]]})}function ot(be){return be&&be.slice(0,Vf(be)+1).replace(Pi,"")}function It(be){return function(ze){return be(ze)}}function Kt(be,ze){return jn(ze,function(Oe){return be[Oe]})}function Rt(be,ze){return be.has(ze)}function Hn(be,ze){for(var Oe=-1,vt=be.length;++Oe<vt&&ys(ze,be[Oe],0)>-1;);return Oe}function oa(be,ze){for(var Oe=be.length;Oe--&&ys(ze,be[Oe],0)>-1;);return Oe}function Ka(be,ze){for(var Oe=be.length,vt=0;Oe--;)be[Oe]===ze&&++vt;return vt}var Qa=H(jo),pu=H(vo);function vd(be){return"\\"+ms[be]}function Bi(be,ze){return be==null?n:be[ze]}function dc(be){return Po.test(be)}function P1(be){return Xs.test(be)}function j1(be){for(var ze,Oe=[];!(ze=be.next()).done;)Oe.push(ze.value);return Oe}function Yf(be){var ze=-1,Oe=Array(be.size);return be.forEach(function(vt,Qt){Oe[++ze]=[Qt,vt]}),Oe}function hm(be,ze){return function(Oe){return be(ze(Oe))}}function _o(be,ze){for(var Oe=-1,vt=be.length,Qt=0,Tn=[];++Oe<vt;){var Mr=be[Oe];(Mr===ze||Mr===h)&&(be[Oe]=h,Tn[Qt++]=Oe)}return Tn}function sl(be){var ze=-1,Oe=Array(be.size);return be.forEach(function(vt){Oe[++ze]=vt}),Oe}function L1(be){var ze=-1,Oe=Array(be.size);return be.forEach(function(vt){Oe[++ze]=[vt,vt]}),Oe}function zf(be,ze,Oe){for(var vt=Oe-1,Qt=be.length;++vt<Qt;)if(be[vt]===ze)return vt;return-1}function R1(be,ze,Oe){for(var vt=Oe+1;vt--;)if(be[vt]===ze)return vt;return vt}function mu(be){return dc(be)?by(be):Uf(be)}function yo(be){return dc(be)?Sy(be):md(be)}function Vf(be){for(var ze=be.length;ze--&&Nn.test(be.charAt(ze)););return ze}var wy=H(ac);function by(be){for(var ze=ps.lastIndex=0;ps.test(be);)++ze;return ze}function Sy(be){return be.match(ps)||[]}function _1(be){return be.match(fm)||[]}var B1=function be(ze){ze=ze==null?zn:fc.defaults(zn.Object(),ze,fc.pick(zn,cu));var Oe=ze.Array,vt=ze.Date,Qt=ze.Error,Tn=ze.Function,Mr=ze.Math,Un=ze.Object,yd=ze.RegExp,H1=ze.String,Bo=ze.TypeError,ws=Oe.prototype,pm=Tn.prototype,Hi=Un.prototype,hc=ze["__core-js_shared__"],wd=pm.toString,In=Hi.hasOwnProperty,pc=0,Wf=function(){var d=/[^.]+$/.exec(hc&&hc.keys&&hc.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),bd=Hi.toString,$f=wd.call(Un),Dy=zn._,Ty=yd("^"+wd.call(In).replace(yr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sd=hd?ze.Buffer:n,bs=ze.Symbol,Dd=ze.Uint8Array,mm=Sd?Sd.allocUnsafe:n,hi=hm(Un.getPrototypeOf,Un),Zf=Un.create,qf=Hi.propertyIsEnumerable,Gf=ws.splice,Iy=bs?bs.isConcatSpreadable:n,Ss=bs?bs.iterator:n,gu=bs?bs.toStringTag:n,Td=function(){try{var d=xs(Un,"defineProperty");return d({},"",{}),d}catch{}}(),Ey=ze.clearTimeout!==zn.clearTimeout&&ze.clearTimeout,Kn=vt&&vt.now!==zn.Date.now&&vt.now,gm=ze.setTimeout!==zn.setTimeout&&ze.setTimeout,vu=Mr.ceil,ll=Mr.floor,Jf=Un.getOwnPropertySymbols,vm=Sd?Sd.isBuffer:n,mc=ze.isFinite,Kf=ws.join,gc=hm(Un.keys,Un),kr=Mr.max,ma=Mr.min,U1=vt.now,Cy=ze.parseInt,Id=Mr.random,Qf=ws.reverse,Ed=xs(ze,"DataView"),yu=xs(ze,"Map"),Cd=xs(ze,"Promise"),ul=xs(ze,"Set"),xd=xs(ze,"WeakMap"),vc=xs(Un,"create"),Xf=xd&&new xd,yc={},ym=Tl(Ed),cl=Tl(yu),xy=Tl(Cd),wc=Tl(ul),Ui=Tl(xd),dl=bs?bs.prototype:n,wo=dl?dl.valueOf:n,eh=dl?dl.toString:n;function J(d){if(Ar(d)&&!an(d)&&!(d instanceof nn)){if(d instanceof ga)return d;if(In.call(d,"__wrapped__"))return Km(d)}return new ga(d)}var bc=function(){function d(){}return function(p){if(!Sr(p))return{};if(Zf)return Zf(p);d.prototype=p;var T=new d;return d.prototype=n,T}}();function Yi(){}function ga(d,p){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=n}J.templateSettings={escape:kt,evaluate:Ut,interpolate:On,variable:"",imports:{_:J}},J.prototype=Yi.prototype,J.prototype.constructor=J,ga.prototype=bc(Yi.prototype),ga.prototype.constructor=ga;function nn(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=oe,this.__views__=[]}function th(){var d=new nn(this.__wrapped__);return d.__actions__=Ha(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Ha(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Ha(this.__views__),d}function wm(){if(this.__filtered__){var d=new nn(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function Sc(){var d=this.__wrapped__.value(),p=this.__dir__,T=an(d),j=p<0,z=T?d.length:0,ee=Ky(0,z,this.__views__),ce=ee.start,ve=ee.end,Te=ve-ce,We=j?ve:ce-1,$e=this.__iteratees__,Ke=$e.length,mt=0,Nt=ma(Te,this.__takeCount__);if(!T||!j&&z==Te&&Nt==Te)return Am(d,this.__actions__);var Yt=[];e:for(;Te--&&mt<Nt;){We+=p;for(var cn=-1,zt=d[We];++cn<Ke;){var mn=$e[cn],Sn=mn.iteratee,Ti=mn.type,Co=Sn(zt);if(Ti==fe)zt=Co;else if(!Co){if(Ti==de)continue e;break e}}Yt[mt++]=zt}return Yt}nn.prototype=bc(Yi.prototype),nn.prototype.constructor=nn;function Xa(d){var p=-1,T=d==null?0:d.length;for(this.clear();++p<T;){var j=d[p];this.set(j[0],j[1])}}function Qn(){this.__data__=vc?vc(null):{},this.size=0}function qn(d){var p=this.has(d)&&delete this.__data__[d];return this.size-=p?1:0,p}function fl(d){var p=this.__data__;if(vc){var T=p[d];return T===c?n:T}return In.call(p,d)?p[d]:n}function va(d){var p=this.__data__;return vc?p[d]!==n:In.call(p,d)}function eo(d,p){var T=this.__data__;return this.size+=this.has(d)?0:1,T[d]=vc&&p===n?c:p,this}Xa.prototype.clear=Qn,Xa.prototype.delete=qn,Xa.prototype.get=fl,Xa.prototype.has=va,Xa.prototype.set=eo;function _a(d){var p=-1,T=d==null?0:d.length;for(this.clear();++p<T;){var j=d[p];this.set(j[0],j[1])}}function Dc(){this.__data__=[],this.size=0}function to(d){var p=this.__data__,T=wa(p,d);if(T<0)return!1;var j=p.length-1;return T==j?p.pop():Gf.call(p,T,1),--this.size,!0}function nh(d){var p=this.__data__,T=wa(p,d);return T<0?n:p[T][1]}function My(d){return wa(this.__data__,d)>-1}function ky(d,p){var T=this.__data__,j=wa(T,d);return j<0?(++this.size,T.push([d,p])):T[j][1]=p,this}_a.prototype.clear=Dc,_a.prototype.delete=to,_a.prototype.get=nh,_a.prototype.has=My,_a.prototype.set=ky;function Ho(d){var p=-1,T=d==null?0:d.length;for(this.clear();++p<T;){var j=d[p];this.set(j[0],j[1])}}function Ny(){this.size=0,this.__data__={hash:new Xa,map:new(yu||_a),string:new Xa}}function Ds(d){var p=kh(this,d).delete(d);return this.size-=p?1:0,p}function rh(d){return kh(this,d).get(d)}function bm(d){return kh(this,d).has(d)}function Ay(d,p){var T=kh(this,d),j=T.size;return T.set(d,p),this.size+=T.size==j?0:1,this}Ho.prototype.clear=Ny,Ho.prototype.delete=Ds,Ho.prototype.get=rh,Ho.prototype.has=bm,Ho.prototype.set=Ay;function wu(d){var p=-1,T=d==null?0:d.length;for(this.__data__=new Ho;++p<T;)this.add(d[p])}function hl(d){return this.__data__.set(d,c),this}function Tc(d){return this.__data__.has(d)}wu.prototype.add=wu.prototype.push=hl,wu.prototype.has=Tc;function ya(d){var p=this.__data__=new _a(d);this.size=p.size}function ah(){this.__data__=new _a,this.size=0}function oh(d){var p=this.__data__,T=p.delete(d);return this.size=p.size,T}function Uo(d){return this.__data__.get(d)}function Yo(d){return this.__data__.has(d)}function bu(d,p){var T=this.__data__;if(T instanceof _a){var j=T.__data__;if(!yu||j.length<a-1)return j.push([d,p]),this.size=++T.size,this;T=this.__data__=new Ho(j)}return T.set(d,p),this.size=T.size,this}ya.prototype.clear=ah,ya.prototype.delete=oh,ya.prototype.get=Uo,ya.prototype.has=Yo,ya.prototype.set=bu;function zi(d,p){var T=an(d),j=!T&&Qd(d),z=!T&&!j&&Hc(d),ee=!T&&!j&&!z&&Qh(d),ce=T||j||z||ee,ve=ce?Ee(d.length,H1):[],Te=ve.length;for(var We in d)(p||In.call(d,We))&&!(ce&&(We=="length"||z&&(We=="offset"||We=="parent")||ee&&(We=="buffer"||We=="byteLength"||We=="byteOffset")||Vo(We,Te)))&&ve.push(We);return ve}function Vi(d){var p=d.length;return p?d[jd(0,p-1)]:n}function Su(d,p){return To(Ha(d),Ts(p,0,d.length))}function Fy(d){return To(Ha(d))}function Md(d,p,T){(T!==n&&!Ns(d[p],T)||T===n&&!(p in d))&&Wi(d,p,T)}function Du(d,p,T){var j=d[p];(!(In.call(d,p)&&Ns(j,T))||T===n&&!(p in d))&&Wi(d,p,T)}function wa(d,p){for(var T=d.length;T--;)if(Ns(d[T][0],p))return T;return-1}function bo(d,p,T,j){return Zi(d,function(z,ee,ce){p(j,z,T(z),ce)}),j}function Xn(d,p){return d&&wi(p,Ca(p),d)}function pi(d,p){return d&&wi(p,qo(p),d)}function Wi(d,p,T){p=="__proto__"&&Td?Td(d,p,{configurable:!0,enumerable:!0,value:T,writable:!0}):d[p]=T}function ih(d,p){for(var T=-1,j=p.length,z=Oe(j),ee=d==null;++T<j;)z[T]=ee?n:cS(d,p[T]);return z}function Ts(d,p,T){return d===d&&(T!==n&&(d=d<=T?d:T),p!==n&&(d=d>=p?d:p)),d}function no(d,p,T,j,z,ee){var ce,ve=p&g,Te=p&y,We=p&w;if(T&&(ce=z?T(d,j,z,ee):T(d)),ce!==n)return ce;if(!Sr(d))return d;var $e=an(d);if($e){if(ce=Qy(d),!ve)return Ha(d,ce)}else{var Ke=Ta(d),mt=Ke==_e||Ke==et;if(Hc(d))return Om(d,ve);if(Ke==Tt||Ke==Fe||mt&&!z){if(ce=Te||mt?{}:Pc(d),!ve)return Te?z1(d,pi(ce,d)):Yy(d,Xn(ce,d))}else{if(!pn[Ke])return z?d:{};ce=Ia(d,Ke,ve)}}ee||(ee=new ya);var Nt=ee.get(d);if(Nt)return Nt;ee.set(d,ce),fC(d)?d.forEach(function(zt){ce.add(no(zt,p,T,zt,d,ee))}):cC(d)&&d.forEach(function(zt,mn){ce.set(mn,no(zt,p,T,mn,d,ee))});var Yt=We?Te?Yd:Mh:Te?qo:Ca,cn=$e?n:Yt(d);return wr(cn||d,function(zt,mn){cn&&(mn=zt,zt=d[mn]),Du(ce,mn,no(zt,p,T,mn,d,ee))}),ce}function Oy(d){var p=Ca(d);return function(T){return kd(T,d,p)}}function kd(d,p,T){var j=T.length;if(d==null)return!j;for(d=Un(d);j--;){var z=T[j],ee=p[z],ce=d[z];if(ce===n&&!(z in d)||!ee(ce))return!1}return!0}function Sm(d,p,T){if(typeof d!="function")throw new Bo(i);return Lc(function(){d.apply(n,T)},p)}function $i(d,p,T,j){var z=-1,ee=ol,ce=!0,ve=d.length,Te=[],We=p.length;if(!ve)return Te;T&&(p=jn(p,It(T))),j?(ee=aa,ce=!1):p.length>=a&&(ee=Rt,ce=!1,p=new wu(p));e:for(;++z<ve;){var $e=d[z],Ke=T==null?$e:T($e);if($e=j||$e!==0?$e:0,ce&&Ke===Ke){for(var mt=We;mt--;)if(p[mt]===Ke)continue e;Te.push($e)}else ee(p,Ke,j)||Te.push($e)}return Te}var Zi=zy(zo),Py=zy(pl,!0);function mi(d,p){var T=!0;return Zi(d,function(j,z,ee){return T=!!p(j,z,ee),T}),T}function Tu(d,p,T){for(var j=-1,z=d.length;++j<z;){var ee=d[j],ce=p(ee);if(ce!=null&&(ve===n?ce===ce&&!Di(ce):T(ce,ve)))var ve=ce,Te=ee}return Te}function sh(d,p,T,j){var z=d.length;for(T=un(T),T<0&&(T=-T>z?0:z+T),j=j===n||j>z?z:un(j),j<0&&(j+=z),j=T>j?0:pC(j);T<j;)d[T++]=p;return d}function Iu(d,p){var T=[];return Zi(d,function(j,z,ee){p(j,z,ee)&&T.push(j)}),T}function _r(d,p,T,j,z){var ee=-1,ce=d.length;for(T||(T=$1),z||(z=[]);++ee<ce;){var ve=d[ee];p>0&&T(ve)?p>1?_r(ve,p-1,T,j,z):Ro(z,ve):j||(z[z.length]=ve)}return z}var Nd=_m(),lh=_m(!0);function zo(d,p){return d&&Nd(d,p,Ca)}function pl(d,p){return d&&lh(d,p,Ca)}function Ba(d,p){return fi(p,function(T){return Fu(d[T])})}function So(d,p){p=Is(p,d);for(var T=0,j=p.length;d!=null&&T<j;)d=d[bi(p[T++])];return T&&T==j?d:n}function uh(d,p,T){var j=p(d);return an(d)?j:Ro(j,T(d))}function ba(d){return d==null?d===n?Zn:St:gu&&gu in Un(d)?Jy(d):n0(d)}function gi(d,p){return d>p}function ml(d,p){return d!=null&&In.call(d,p)}function Dm(d,p){return d!=null&&p in Un(d)}function jy(d,p,T){return d>=ma(p,T)&&d<kr(p,T)}function vi(d,p,T){for(var j=T?aa:ol,z=d[0].length,ee=d.length,ce=ee,ve=Oe(ee),Te=1/0,We=[];ce--;){var $e=d[ce];ce&&p&&($e=jn($e,It(p))),Te=ma($e.length,Te),ve[ce]=!T&&(p||z>=120&&$e.length>=120)?new wu(ce&&$e):n}$e=d[0];var Ke=-1,mt=ve[0];e:for(;++Ke<z&&We.length<Te;){var Nt=$e[Ke],Yt=p?p(Nt):Nt;if(Nt=T||Nt!==0?Nt:0,!(mt?Rt(mt,Yt):j(We,Yt,T))){for(ce=ee;--ce;){var cn=ve[ce];if(!(cn?Rt(cn,Yt):j(d[ce],Yt,T)))continue e}mt&&mt.push(Yt),We.push(Nt)}}return We}function gl(d,p,T,j){return zo(d,function(z,ee,ce){p(j,T(z),ee,ce)}),j}function vl(d,p,T){p=Is(p,d),d=Fh(d,p);var j=d==null?d:d[bi(zr(p))];return j==null?n:xr(j,d,T)}function Tm(d){return Ar(d)&&ba(d)==Fe}function ch(d){return Ar(d)&&ba(d)==pt}function Ly(d){return Ar(d)&&ba(d)==st}function Ic(d,p,T,j,z){return d===p?!0:d==null||p==null||!Ar(d)&&!Ar(p)?d!==d&&p!==p:Im(d,p,T,j,Ic,z)}function Im(d,p,T,j,z,ee){var ce=an(d),ve=an(p),Te=ce?Be:Ta(d),We=ve?Be:Ta(p);Te=Te==Fe?Tt:Te,We=We==Fe?Tt:We;var $e=Te==Tt,Ke=We==Tt,mt=Te==We;if(mt&&Hc(d)){if(!Hc(p))return!1;ce=!0,$e=!1}if(mt&&!$e)return ee||(ee=new ya),ce||Qh(d)?xh(d,p,T,j,z,ee):Gy(d,p,Te,T,j,z,ee);if(!(T&S)){var Nt=$e&&In.call(d,"__wrapped__"),Yt=Ke&&In.call(p,"__wrapped__");if(Nt||Yt){var cn=Nt?d.value():d,zt=Yt?p.value():p;return ee||(ee=new ya),z(cn,zt,T,j,ee)}}return mt?(ee||(ee=new ya),Vm(d,p,T,j,z,ee)):!1}function dh(d){return Ar(d)&&Ta(d)==nt}function fh(d,p,T,j){var z=T.length,ee=z,ce=!j;if(d==null)return!ee;for(d=Un(d);z--;){var ve=T[z];if(ce&&ve[2]?ve[1]!==d[ve[0]]:!(ve[0]in d))return!1}for(;++z<ee;){ve=T[z];var Te=ve[0],We=d[Te],$e=ve[1];if(ce&&ve[2]){if(We===n&&!(Te in d))return!1}else{var Ke=new ya;if(j)var mt=j(We,$e,Te,d,p,Ke);if(!(mt===n?Ic($e,We,S|D,j,Ke):mt))return!1}}return!0}function Em(d){if(!Sr(d)||qm(d))return!1;var p=Fu(d)?Ty:us;return p.test(Tl(d))}function Ry(d){return Ar(d)&&ba(d)==Vt}function Cm(d){return Ar(d)&&Ta(d)==Xt}function Ad(d){return Ar(d)&&y0(d.length)&&!!hn[ba(d)]}function Fd(d){return typeof d=="function"?d:d==null?Go:typeof d=="object"?an(d)?yi(d[0],d[1]):Ec(d):EC(d)}function hh(d){if(!Wd(d))return gc(d);var p=[];for(var T in Un(d))In.call(d,T)&&T!="constructor"&&p.push(T);return p}function _y(d){if(!Sr(d))return t0(d);var p=Wd(d),T=[];for(var j in d)j=="constructor"&&(p||!In.call(d,j))||T.push(j);return T}function yl(d,p){return d<p}function xm(d,p){var T=-1,j=Zo(d)?Oe(d.length):[];return Zi(d,function(z,ee,ce){j[++T]=p(z,ee,ce)}),j}function Ec(d){var p=Nh(d);return p.length==1&&p[0][2]?$d(p[0][0],p[0][1]):function(T){return T===d||fh(T,d,p)}}function yi(d,p){return Zm(d)&&jc(p)?$d(bi(d),p):function(T){var j=cS(T,d);return j===n&&j===p?dS(T,d):Ic(p,j,S|D)}}function wl(d,p,T,j,z){d!==p&&Nd(p,function(ee,ce){if(z||(z=new ya),Sr(ee))Od(d,p,ce,T,wl,j,z);else{var ve=j?j(Do(d,ce),ee,ce+"",d,p,z):n;ve===n&&(ve=ee),Md(d,ce,ve)}},qo)}function Od(d,p,T,j,z,ee,ce){var ve=Do(d,T),Te=Do(p,T),We=ce.get(Te);if(We){Md(d,T,We);return}var $e=ee?ee(ve,Te,T+"",d,p,ce):n,Ke=$e===n;if(Ke){var mt=an(Te),Nt=!mt&&Hc(Te),Yt=!mt&&!Nt&&Qh(Te);$e=Te,mt||Nt||Yt?an(ve)?$e=ve:Vr(ve)?$e=Ha(ve):Nt?(Ke=!1,$e=Om(Te,!0)):Yt?(Ke=!1,$e=jm(Te,!0)):$e=[]:mg(Te)||Qd(Te)?($e=ve,Qd(ve)?$e=mC(ve):(!Sr(ve)||Fu(ve))&&($e=Pc(Te))):Ke=!1}Ke&&(ce.set(Te,$e),z($e,Te,j,ee,ce),ce.delete(Te)),Md(d,T,$e)}function bl(d,p){var T=d.length;if(T)return p+=p<0?T:0,Vo(p,T)?d[p]:n}function ph(d,p,T){p.length?p=jn(p,function(ee){return an(ee)?function(ce){return So(ce,ee.length===1?ee[0]:ee)}:ee}):p=[Go];var j=-1;p=jn(p,It(Ot()));var z=xm(d,function(ee,ce,ve){var Te=jn(p,function(We){return We(ee)});return{criteria:Te,index:++j,value:ee}});return ae(z,function(ee,ce){return Uy(ee,ce,T)})}function Cc(d,p){return Mm(d,p,function(T,j){return dS(d,j)})}function Mm(d,p,T){for(var j=-1,z=p.length,ee={};++j<z;){var ce=p[j],ve=So(d,ce);T(ve,ce)&&ir(ee,Is(ce,d),ve)}return ee}function km(d){return function(p){return So(p,d)}}function er(d,p,T,j){var z=j?uc:ys,ee=-1,ce=p.length,ve=d;for(d===p&&(p=Ha(p)),T&&(ve=jn(d,It(T)));++ee<ce;)for(var Te=0,We=p[ee],$e=T?T(We):We;(Te=z(ve,$e,Te,j))>-1;)ve!==d&&Gf.call(ve,Te,1),Gf.call(d,Te,1);return d}function Pd(d,p){for(var T=d?p.length:0,j=T-1;T--;){var z=p[T];if(T==j||z!==ee){var ee=z;Vo(z)?Gf.call(d,z,1):Cu(d,z)}}return d}function jd(d,p){return d+ll(Id()*(p-d+1))}function Nm(d,p,T,j){for(var z=-1,ee=kr(vu((p-d)/(T||1)),0),ce=Oe(ee);ee--;)ce[j?ee:++z]=d,d+=T;return ce}function xc(d,p){var T="";if(!d||p<1||p>se)return T;do p%2&&(T+=d),p=ll(p/2),p&&(d+=d);while(p);return T}function rn(d,p){return Oh(Ah(d,p,Go),d+"")}function Eu(d){return Vi(Xh(d))}function or(d,p){var T=Xh(d);return To(T,Ts(p,0,T.length))}function ir(d,p,T,j){if(!Sr(d))return d;p=Is(p,d);for(var z=-1,ee=p.length,ce=ee-1,ve=d;ve!=null&&++z<ee;){var Te=bi(p[z]),We=T;if(Te==="__proto__"||Te==="constructor"||Te==="prototype")return d;if(z!=ce){var $e=ve[Te];We=j?j($e,Te,ve):n,We===n&&(We=Sr($e)?$e:Vo(p[z+1])?[]:{})}Du(ve,Te,We),ve=ve[Te]}return d}var Br=Xf?function(d,p){return Xf.set(d,p),d}:Go,mh=Td?function(d,p){return Td(d,"toString",{configurable:!0,enumerable:!1,value:hS(p),writable:!0})}:Go;function Ld(d){return To(Xh(d))}function Sa(d,p,T){var j=-1,z=d.length;p<0&&(p=-p>z?0:z+p),T=T>z?z:T,T<0&&(T+=z),z=p>T?0:T-p>>>0,p>>>=0;for(var ee=Oe(z);++j<z;)ee[j]=d[j+p];return ee}function Y1(d,p){var T;return Zi(d,function(j,z,ee){return T=p(j,z,ee),!T}),!!T}function Hr(d,p,T){var j=0,z=d==null?j:d.length;if(typeof p=="number"&&p===p&&z<=je){for(;j<z;){var ee=j+z>>>1,ce=d[ee];ce!==null&&!Di(ce)&&(T?ce<=p:ce<p)?j=ee+1:z=ee}return z}return Rd(d,p,Go,T)}function Rd(d,p,T,j){var z=0,ee=d==null?0:d.length;if(ee===0)return 0;p=T(p);for(var ce=p!==p,ve=p===null,Te=Di(p),We=p===n;z<ee;){var $e=ll((z+ee)/2),Ke=T(d[$e]),mt=Ke!==n,Nt=Ke===null,Yt=Ke===Ke,cn=Di(Ke);if(ce)var zt=j||Yt;else We?zt=Yt&&(j||mt):ve?zt=Yt&&mt&&(j||!Nt):Te?zt=Yt&&mt&&!Nt&&(j||!cn):Nt||cn?zt=!1:zt=j?Ke<=p:Ke<p;zt?z=$e+1:ee=$e}return ma(ee,De)}function gh(d,p){for(var T=-1,j=d.length,z=0,ee=[];++T<j;){var ce=d[T],ve=p?p(ce):ce;if(!T||!Ns(ve,Te)){var Te=ve;ee[z++]=ce===0?0:ce}}return ee}function vh(d){return typeof d=="number"?d:Di(d)?X:+d}function hr(d){if(typeof d=="string")return d;if(an(d))return jn(d,hr)+"";if(Di(d))return eh?eh.call(d):"";var p=d+"";return p=="0"&&1/d==-he?"-0":p}function Ur(d,p,T){var j=-1,z=ol,ee=d.length,ce=!0,ve=[],Te=ve;if(T)ce=!1,z=aa;else if(ee>=a){var We=p?null:Ua(d);if(We)return sl(We);ce=!1,z=Rt,Te=new wu}else Te=p?[]:ve;e:for(;++j<ee;){var $e=d[j],Ke=p?p($e):$e;if($e=T||$e!==0?$e:0,ce&&Ke===Ke){for(var mt=Te.length;mt--;)if(Te[mt]===Ke)continue e;p&&Te.push(Ke),ve.push($e)}else z(Te,Ke,T)||(Te!==ve&&Te.push(Ke),ve.push($e))}return ve}function Cu(d,p){return p=Is(p,d),d=Fh(d,p),d==null||delete d[bi(zr(p))]}function yh(d,p,T,j){return ir(d,p,T(So(d,p)),j)}function Mc(d,p,T,j){for(var z=d.length,ee=j?z:-1;(j?ee--:++ee<z)&&p(d[ee],ee,d););return T?Sa(d,j?0:ee,j?ee+1:z):Sa(d,j?ee+1:0,j?z:ee)}function Am(d,p){var T=d;return T instanceof nn&&(T=T.value()),pd(p,function(j,z){return z.func.apply(z.thisArg,Ro([j],z.args))},T)}function wh(d,p,T){var j=d.length;if(j<2)return j?Ur(d[0]):[];for(var z=-1,ee=Oe(j);++z<j;)for(var ce=d[z],ve=-1;++ve<j;)ve!=z&&(ee[z]=$i(ee[z]||ce,d[ve],p,T));return Ur(_r(ee,1),p,T)}function Fm(d,p,T){for(var j=-1,z=d.length,ee=p.length,ce={};++j<z;){var ve=j<ee?p[j]:n;T(ce,d[j],ve)}return ce}function bh(d){return Vr(d)?d:[]}function Sh(d){return typeof d=="function"?d:Go}function Is(d,p){return an(d)?d:Zm(d,p)?[d]:r0(Yn(d))}var By=rn;function Es(d,p,T){var j=d.length;return T=T===n?j:T,!p&&T>=j?d:Sa(d,p,T)}var kc=Ey||function(d){return zn.clearTimeout(d)};function Om(d,p){if(p)return d.slice();var T=d.length,j=mm?mm(T):new d.constructor(T);return d.copy(j),j}function Nc(d){var p=new d.constructor(d.byteLength);return new Dd(p).set(new Dd(d)),p}function Dh(d,p){var T=p?Nc(d.buffer):d.buffer;return new d.constructor(T,d.byteOffset,d.byteLength)}function Hy(d){var p=new d.constructor(d.source,li.exec(d));return p.lastIndex=d.lastIndex,p}function Pm(d){return wo?Un(wo.call(d)):{}}function jm(d,p){var T=p?Nc(d.buffer):d.buffer;return new d.constructor(T,d.byteOffset,d.length)}function Lm(d,p){if(d!==p){var T=d!==n,j=d===null,z=d===d,ee=Di(d),ce=p!==n,ve=p===null,Te=p===p,We=Di(p);if(!ve&&!We&&!ee&&d>p||ee&&ce&&Te&&!ve&&!We||j&&ce&&Te||!T&&Te||!z)return 1;if(!j&&!ee&&!We&&d<p||We&&T&&z&&!j&&!ee||ve&&T&&z||!ce&&z||!Te)return-1}return 0}function Uy(d,p,T){for(var j=-1,z=d.criteria,ee=p.criteria,ce=z.length,ve=T.length;++j<ce;){var Te=Lm(z[j],ee[j]);if(Te){if(j>=ve)return Te;var We=T[j];return Te*(We=="desc"?-1:1)}}return d.index-p.index}function Rm(d,p,T,j){for(var z=-1,ee=d.length,ce=T.length,ve=-1,Te=p.length,We=kr(ee-ce,0),$e=Oe(Te+We),Ke=!j;++ve<Te;)$e[ve]=p[ve];for(;++z<ce;)(Ke||z<ee)&&($e[T[z]]=d[z]);for(;We--;)$e[ve++]=d[z++];return $e}function Th(d,p,T,j){for(var z=-1,ee=d.length,ce=-1,ve=T.length,Te=-1,We=p.length,$e=kr(ee-ve,0),Ke=Oe($e+We),mt=!j;++z<$e;)Ke[z]=d[z];for(var Nt=z;++Te<We;)Ke[Nt+Te]=p[Te];for(;++ce<ve;)(mt||z<ee)&&(Ke[Nt+T[ce]]=d[z++]);return Ke}function Ha(d,p){var T=-1,j=d.length;for(p||(p=Oe(j));++T<j;)p[T]=d[T];return p}function wi(d,p,T,j){var z=!T;T||(T={});for(var ee=-1,ce=p.length;++ee<ce;){var ve=p[ee],Te=j?j(T[ve],d[ve],ve,T,d):n;Te===n&&(Te=d[ve]),z?Wi(T,ve,Te):Du(T,ve,Te)}return T}function Yy(d,p){return wi(d,Oc(d),p)}function z1(d,p){return wi(d,Ji(d),p)}function _d(d,p){return function(T,j){var z=an(T)?vs:bo,ee=p?p():{};return z(T,d,Ot(j,2),ee)}}function Ac(d){return rn(function(p,T){var j=-1,z=T.length,ee=z>1?T[z-1]:n,ce=z>2?T[2]:n;for(ee=d.length>3&&typeof ee=="function"?(z--,ee):n,ce&&Fn(T[0],T[1],ce)&&(ee=z<3?n:ee,z=1),p=Un(p);++j<z;){var ve=T[j];ve&&d(p,ve,j,ee)}return p})}function zy(d,p){return function(T,j){if(T==null)return T;if(!Zo(T))return d(T,j);for(var z=T.length,ee=p?z:-1,ce=Un(T);(p?ee--:++ee<z)&&j(ce[ee],ee,ce)!==!1;);return T}}function _m(d){return function(p,T,j){for(var z=-1,ee=Un(p),ce=j(p),ve=ce.length;ve--;){var Te=ce[d?ve:++z];if(T(ee[Te],Te,ee)===!1)break}return p}}function Vy(d,p,T){var j=p&I,z=Bd(d);function ee(){var ce=this&&this!==zn&&this instanceof ee?z:d;return ce.apply(j?T:this,arguments)}return ee}function Bm(d){return function(p){p=Yn(p);var T=dc(p)?yo(p):n,j=T?T[0]:p.charAt(0),z=T?Es(T,1).join(""):p.slice(1);return j[d]()+z}}function Cs(d){return function(p){return pd(TC(DC(p).replace(dm,"")),d,"")}}function Bd(d){return function(){var p=arguments;switch(p.length){case 0:return new d;case 1:return new d(p[0]);case 2:return new d(p[0],p[1]);case 3:return new d(p[0],p[1],p[2]);case 4:return new d(p[0],p[1],p[2],p[3]);case 5:return new d(p[0],p[1],p[2],p[3],p[4]);case 6:return new d(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new d(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var T=bc(d.prototype),j=d.apply(T,p);return Sr(j)?j:T}}function V1(d,p,T){var j=Bd(d);function z(){for(var ee=arguments.length,ce=Oe(ee),ve=ee,Te=Sl(z);ve--;)ce[ve]=arguments[ve];var We=ee<3&&ce[0]!==Te&&ce[ee-1]!==Te?[]:_o(ce,Te);if(ee-=We.length,ee<T)return Zy(d,p,Fc,z.placeholder,n,ce,We,n,n,T-ee);var $e=this&&this!==zn&&this instanceof z?j:d;return xr($e,this,ce)}return z}function Wy(d){return function(p,T,j){var z=Un(p);if(!Zo(p)){var ee=Ot(T,3);p=Ca(p),T=function(ve){return ee(z[ve],ve,z)}}var ce=d(p,T,j);return ce>-1?z[ee?p[ce]:ce]:n}}function xu(d){return Gi(function(p){var T=p.length,j=T,z=ga.prototype.thru;for(d&&p.reverse();j--;){var ee=p[j];if(typeof ee!="function")throw new Bo(i);if(z&&!ce&&Vd(ee)=="wrapper")var ce=new ga([],!0)}for(j=ce?j:T;++j<T;){ee=p[j];var ve=Vd(ee),Te=ve=="wrapper"?zd(ee):n;Te&&Dl(Te[0])&&Te[1]==(_|B|R|V)&&!Te[4].length&&Te[9]==1?ce=ce[Vd(Te[0])].apply(ce,Te[3]):ce=ee.length==1&&Dl(ee)?ce[ve]():ce.thru(ee)}return function(){var We=arguments,$e=We[0];if(ce&&We.length==1&&an($e))return ce.plant($e).value();for(var Ke=0,mt=T?p[Ke].apply(this,We):$e;++Ke<T;)mt=p[Ke].call(this,mt);return mt}})}function Fc(d,p,T,j,z,ee,ce,ve,Te,We){var $e=p&_,Ke=p&I,mt=p&M,Nt=p&(B|k),Yt=p&U,cn=mt?n:Bd(d);function zt(){for(var mn=arguments.length,Sn=Oe(mn),Ti=mn;Ti--;)Sn[Ti]=arguments[Ti];if(Nt)var Co=Sl(zt),Ii=Ka(Sn,Co);if(j&&(Sn=Rm(Sn,j,z,Nt)),ee&&(Sn=Th(Sn,ee,ce,Nt)),mn-=Ii,Nt&&mn<We){var Wr=_o(Sn,Co);return Zy(d,p,Fc,zt.placeholder,T,Sn,Wr,ve,Te,We-mn)}var As=Ke?T:this,Pu=mt?As[d]:d;return mn=Sn.length,ve?Sn=ia(Sn,ve):Yt&&mn>1&&Sn.reverse(),$e&&Te<mn&&(Sn.length=Te),this&&this!==zn&&this instanceof zt&&(Pu=cn||Bd(Pu)),Pu.apply(As,Sn)}return zt}function Ih(d,p){return function(T,j){return gl(T,d,p(j),{})}}function Eh(d,p){return function(T,j){var z;if(T===n&&j===n)return p;if(T!==n&&(z=T),j!==n){if(z===n)return j;typeof T=="string"||typeof j=="string"?(T=hr(T),j=hr(j)):(T=vh(T),j=vh(j)),z=d(T,j)}return z}}function Ch(d){return Gi(function(p){return p=jn(p,It(Ot())),rn(function(T){var j=this;return d(p,function(z){return xr(z,j,T)})})})}function Hd(d,p){p=p===n?" ":hr(p);var T=p.length;if(T<2)return T?xc(p,d):p;var j=xc(p,vu(d/mu(p)));return dc(p)?Es(yo(j),0,d).join(""):j.slice(0,d)}function $y(d,p,T,j){var z=p&I,ee=Bd(d);function ce(){for(var ve=-1,Te=arguments.length,We=-1,$e=j.length,Ke=Oe($e+Te),mt=this&&this!==zn&&this instanceof ce?ee:d;++We<$e;)Ke[We]=j[We];for(;Te--;)Ke[We++]=arguments[++ve];return xr(mt,z?T:this,Ke)}return ce}function Hm(d){return function(p,T,j){return j&&typeof j!="number"&&Fn(p,T,j)&&(T=j=n),p=Ou(p),T===n?(T=p,p=0):T=Ou(T),j=j===n?p<T?1:-1:Ou(j),Nm(p,T,j,d)}}function Ud(d){return function(p,T){return typeof p=="string"&&typeof T=="string"||(p=Ki(p),T=Ki(T)),d(p,T)}}function Zy(d,p,T,j,z,ee,ce,ve,Te,We){var $e=p&B,Ke=$e?ce:n,mt=$e?n:ce,Nt=$e?ee:n,Yt=$e?n:ee;p|=$e?R:L,p&=~($e?L:R),p&N||(p&=~(I|M));var cn=[d,p,z,Nt,Ke,Yt,mt,ve,Te,We],zt=T.apply(n,cn);return Dl(d)&&Ms(zt,cn),zt.placeholder=j,Wo(zt,d,p)}function Da(d){var p=Mr[d];return function(T,j){if(T=Ki(T),j=j==null?0:ma(un(j),292),j&&mc(T)){var z=(Yn(T)+"e").split("e"),ee=p(z[0]+"e"+(+z[1]+j));return z=(Yn(ee)+"e").split("e"),+(z[0]+"e"+(+z[1]-j))}return p(T)}}var Ua=ul&&1/sl(new ul([,-0]))[1]==he?function(d){return new ul(d)}:gS;function Um(d){return function(p){var T=Ta(p);return T==nt?Yf(p):T==Xt?L1(p):Ve(p,d(p))}}function qi(d,p,T,j,z,ee,ce,ve){var Te=p&M;if(!Te&&typeof d!="function")throw new Bo(i);var We=j?j.length:0;if(We||(p&=~(R|L),j=z=n),ce=ce===n?ce:kr(un(ce),0),ve=ve===n?ve:un(ve),We-=z?z.length:0,p&L){var $e=j,Ke=z;j=z=n}var mt=Te?n:zd(d),Nt=[d,p,T,j,z,$e,Ke,ee,ce,ve];if(mt&&e0(Nt,mt),d=Nt[0],p=Nt[1],T=Nt[2],j=Nt[3],z=Nt[4],ve=Nt[9]=Nt[9]===n?Te?0:d.length:kr(Nt[9]-We,0),!ve&&p&(B|k)&&(p&=~(B|k)),!p||p==I)var Yt=Vy(d,p,T);else p==B||p==k?Yt=V1(d,p,ve):(p==R||p==(I|R))&&!z.length?Yt=$y(d,p,T,j):Yt=Fc.apply(n,Nt);var cn=mt?Br:Ms;return Wo(cn(Yt,Nt),d,p)}function Ym(d,p,T,j){return d===n||Ns(d,Hi[T])&&!In.call(j,T)?p:d}function zm(d,p,T,j,z,ee){return Sr(d)&&Sr(p)&&(ee.set(p,d),wl(d,p,n,zm,ee),ee.delete(p)),d}function qy(d){return mg(d)?n:d}function xh(d,p,T,j,z,ee){var ce=T&S,ve=d.length,Te=p.length;if(ve!=Te&&!(ce&&Te>ve))return!1;var We=ee.get(d),$e=ee.get(p);if(We&&$e)return We==p&&$e==d;var Ke=-1,mt=!0,Nt=T&D?new wu:n;for(ee.set(d,p),ee.set(p,d);++Ke<ve;){var Yt=d[Ke],cn=p[Ke];if(j)var zt=ce?j(cn,Yt,Ke,p,d,ee):j(Yt,cn,Ke,d,p,ee);if(zt!==n){if(zt)continue;mt=!1;break}if(Nt){if(!il(p,function(mn,Sn){if(!Rt(Nt,Sn)&&(Yt===mn||z(Yt,mn,T,j,ee)))return Nt.push(Sn)})){mt=!1;break}}else if(!(Yt===cn||z(Yt,cn,T,j,ee))){mt=!1;break}}return ee.delete(d),ee.delete(p),mt}function Gy(d,p,T,j,z,ee,ce){switch(T){case Mt:if(d.byteLength!=p.byteLength||d.byteOffset!=p.byteOffset)return!1;d=d.buffer,p=p.buffer;case pt:return!(d.byteLength!=p.byteLength||!ee(new Dd(d),new Dd(p)));case Ze:case st:case ht:return Ns(+d,+p);case tn:return d.name==p.name&&d.message==p.message;case Vt:case dn:return d==p+"";case nt:var ve=Yf;case Xt:var Te=j&S;if(ve||(ve=sl),d.size!=p.size&&!Te)return!1;var We=ce.get(d);if(We)return We==p;j|=D,ce.set(d,p);var $e=xh(ve(d),ve(p),j,z,ee,ce);return ce.delete(d),$e;case en:if(wo)return wo.call(d)==wo.call(p)}return!1}function Vm(d,p,T,j,z,ee){var ce=T&S,ve=Mh(d),Te=ve.length,We=Mh(p),$e=We.length;if(Te!=$e&&!ce)return!1;for(var Ke=Te;Ke--;){var mt=ve[Ke];if(!(ce?mt in p:In.call(p,mt)))return!1}var Nt=ee.get(d),Yt=ee.get(p);if(Nt&&Yt)return Nt==p&&Yt==d;var cn=!0;ee.set(d,p),ee.set(p,d);for(var zt=ce;++Ke<Te;){mt=ve[Ke];var mn=d[mt],Sn=p[mt];if(j)var Ti=ce?j(Sn,mn,mt,p,d,ee):j(mn,Sn,mt,d,p,ee);if(!(Ti===n?mn===Sn||z(mn,Sn,T,j,ee):Ti)){cn=!1;break}zt||(zt=mt=="constructor")}if(cn&&!zt){var Co=d.constructor,Ii=p.constructor;Co!=Ii&&"constructor"in d&&"constructor"in p&&!(typeof Co=="function"&&Co instanceof Co&&typeof Ii=="function"&&Ii instanceof Ii)&&(cn=!1)}return ee.delete(d),ee.delete(p),cn}function Gi(d){return Oh(Ah(d,n,Zd),d+"")}function Mh(d){return uh(d,Ca,Oc)}function Yd(d){return uh(d,qo,Ji)}var zd=Xf?function(d){return Xf.get(d)}:gS;function Vd(d){for(var p=d.name+"",T=yc[p],j=In.call(yc,p)?T.length:0;j--;){var z=T[j],ee=z.func;if(ee==null||ee==d)return z.name}return p}function Sl(d){var p=In.call(J,"placeholder")?J:d;return p.placeholder}function Ot(){var d=J.iteratee||pS;return d=d===pS?Fd:d,arguments.length?d(arguments[0],arguments[1]):d}function kh(d,p){var T=d.__data__;return wt(p)?T[typeof p=="string"?"string":"hash"]:T.map}function Nh(d){for(var p=Ca(d),T=p.length;T--;){var j=p[T],z=d[j];p[T]=[j,z,jc(z)]}return p}function xs(d,p){var T=Bi(d,p);return Em(T)?T:n}function Jy(d){var p=In.call(d,gu),T=d[gu];try{d[gu]=n;var j=!0}catch{}var z=bd.call(d);return j&&(p?d[gu]=T:delete d[gu]),z}var Oc=Jf?function(d){return d==null?[]:(d=Un(d),fi(Jf(d),function(p){return qf.call(d,p)}))}:vS,Ji=Jf?function(d){for(var p=[];d;)Ro(p,Oc(d)),d=hi(d);return p}:vS,Ta=ba;(Ed&&Ta(new Ed(new ArrayBuffer(1)))!=Mt||yu&&Ta(new yu)!=nt||Cd&&Ta(Cd.resolve())!=Gt||ul&&Ta(new ul)!=Xt||xd&&Ta(new xd)!=Dn)&&(Ta=function(d){var p=ba(d),T=p==Tt?d.constructor:n,j=T?Tl(T):"";if(j)switch(j){case ym:return Mt;case cl:return nt;case xy:return Gt;case wc:return Xt;case Ui:return Dn}return p});function Ky(d,p,T){for(var j=-1,z=T.length;++j<z;){var ee=T[j],ce=ee.size;switch(ee.type){case"drop":d+=ce;break;case"dropRight":p-=ce;break;case"take":p=ma(p,d+ce);break;case"takeRight":d=kr(d,p-ce);break}}return{start:d,end:p}}function Wm(d){var p=d.match(Fa);return p?p[1].split(Zr):[]}function $m(d,p,T){p=Is(p,d);for(var j=-1,z=p.length,ee=!1;++j<z;){var ce=bi(p[j]);if(!(ee=d!=null&&T(d,ce)))break;d=d[ce]}return ee||++j!=z?ee:(z=d==null?0:d.length,!!z&&y0(z)&&Vo(ce,z)&&(an(d)||Qd(d)))}function Qy(d){var p=d.length,T=new d.constructor(p);return p&&typeof d[0]=="string"&&In.call(d,"index")&&(T.index=d.index,T.input=d.input),T}function Pc(d){return typeof d.constructor=="function"&&!Wd(d)?bc(hi(d)):{}}function Ia(d,p,T){var j=d.constructor;switch(p){case pt:return Nc(d);case Ze:case st:return new j(+d);case Mt:return Dh(d,T);case Jt:case sn:case ln:case vr:case fr:case ha:case jr:case nr:case Lr:return jm(d,T);case nt:return new j;case ht:case dn:return new j(d);case Vt:return Hy(d);case Xt:return new j;case en:return Pm(d)}}function W1(d,p){var T=p.length;if(!T)return d;var j=T-1;return p[j]=(T>1?"& ":"")+p[j],p=p.join(T>2?", ":" "),d.replace(Aa,`{
/* [wrapped with `+p+`] */
`)}function $1(d){return an(d)||Qd(d)||!!(Iy&&d&&d[Iy])}function Vo(d,p){var T=typeof d;return p=p??se,!!p&&(T=="number"||T!="symbol"&&cs.test(d))&&d>-1&&d%1==0&&d<p}function Fn(d,p,T){if(!Sr(T))return!1;var j=typeof p;return(j=="number"?Zo(T)&&Vo(p,T.length):j=="string"&&p in T)?Ns(T[p],d):!1}function Zm(d,p){if(an(d))return!1;var T=typeof d;return T=="number"||T=="symbol"||T=="boolean"||d==null||Di(d)?!0:Cr.test(d)||!yn.test(d)||p!=null&&d in Un(p)}function wt(d){var p=typeof d;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?d!=="__proto__":d===null}function Dl(d){var p=Vd(d),T=J[p];if(typeof T!="function"||!(p in nn.prototype))return!1;if(d===T)return!0;var j=zd(T);return!!j&&d===j[0]}function qm(d){return!!Wf&&Wf in d}var Xy=hc?Fu:yS;function Wd(d){var p=d&&d.constructor,T=typeof p=="function"&&p.prototype||Hi;return d===T}function jc(d){return d===d&&!Sr(d)}function $d(d,p){return function(T){return T==null?!1:T[d]===p&&(p!==n||d in Un(T))}}function Gm(d){var p=ye(d,function(j){return T.size===f&&T.clear(),j}),T=p.cache;return p}function e0(d,p){var T=d[1],j=p[1],z=T|j,ee=z<(I|M|_),ce=j==_&&T==B||j==_&&T==V&&d[7].length<=p[8]||j==(_|V)&&p[7].length<=p[8]&&T==B;if(!(ee||ce))return d;j&I&&(d[2]=p[2],z|=T&I?0:N);var ve=p[3];if(ve){var Te=d[3];d[3]=Te?Rm(Te,ve,p[4]):ve,d[4]=Te?_o(d[3],h):p[4]}return ve=p[5],ve&&(Te=d[5],d[5]=Te?Th(Te,ve,p[6]):ve,d[6]=Te?_o(d[5],h):p[6]),ve=p[7],ve&&(d[7]=ve),j&_&&(d[8]=d[8]==null?p[8]:ma(d[8],p[8])),d[9]==null&&(d[9]=p[9]),d[0]=p[0],d[1]=z,d}function t0(d){var p=[];if(d!=null)for(var T in Un(d))p.push(T);return p}function n0(d){return bd.call(d)}function Ah(d,p,T){return p=kr(p===n?d.length-1:p,0),function(){for(var j=arguments,z=-1,ee=kr(j.length-p,0),ce=Oe(ee);++z<ee;)ce[z]=j[p+z];z=-1;for(var ve=Oe(p+1);++z<p;)ve[z]=j[z];return ve[p]=T(ce),xr(d,this,ve)}}function Fh(d,p){return p.length<2?d:So(d,Sa(p,0,-1))}function ia(d,p){for(var T=d.length,j=ma(p.length,T),z=Ha(d);j--;){var ee=p[j];d[j]=Vo(ee,T)?z[ee]:n}return d}function Do(d,p){if(!(p==="constructor"&&typeof d[p]=="function")&&p!="__proto__")return d[p]}var Ms=Jm(Br),Lc=gm||function(d,p){return zn.setTimeout(d,p)},Oh=Jm(mh);function Wo(d,p,T){var j=p+"";return Oh(d,W1(j,a0(Wm(j),T)))}function Jm(d){var p=0,T=0;return function(){var j=U1(),z=re-(j-T);if(T=j,z>0){if(++p>=G)return arguments[0]}else p=0;return d.apply(n,arguments)}}function To(d,p){var T=-1,j=d.length,z=j-1;for(p=p===n?j:p;++T<p;){var ee=jd(T,z),ce=d[ee];d[ee]=d[T],d[T]=ce}return d.length=p,d}var r0=Gm(function(d){var p=[];return d.charCodeAt(0)===46&&p.push(""),d.replace(Jn,function(T,j,z,ee){p.push(z?ee.replace(iu,"$1"):j||T)}),p});function bi(d){if(typeof d=="string"||Di(d))return d;var p=d+"";return p=="0"&&1/d==-he?"-0":p}function Tl(d){if(d!=null){try{return wd.call(d)}catch{}try{return d+""}catch{}}return""}function a0(d,p){return wr(Re,function(T){var j="_."+T[0];p&T[1]&&!ol(d,j)&&d.push(j)}),d.sort()}function Km(d){if(d instanceof nn)return d.clone();var p=new ga(d.__wrapped__,d.__chain__);return p.__actions__=Ha(d.__actions__),p.__index__=d.__index__,p.__values__=d.__values__,p}function Z1(d,p,T){(T?Fn(d,p,T):p===n)?p=1:p=kr(un(p),0);var j=d==null?0:d.length;if(!j||p<1)return[];for(var z=0,ee=0,ce=Oe(vu(j/p));z<j;)ce[ee++]=Sa(d,z,z+=p);return ce}function Ph(d){for(var p=-1,T=d==null?0:d.length,j=0,z=[];++p<T;){var ee=d[p];ee&&(z[j++]=ee)}return z}function Qm(){var d=arguments.length;if(!d)return[];for(var p=Oe(d-1),T=arguments[0],j=d;j--;)p[j-1]=arguments[j];return Ro(an(T)?Ha(T):[T],_r(p,1))}var $o=rn(function(d,p){return Vr(d)?$i(d,_r(p,1,Vr,!0)):[]}),bn=rn(function(d,p){var T=zr(p);return Vr(T)&&(T=n),Vr(d)?$i(d,_r(p,1,Vr,!0),Ot(T,2)):[]}),Jr=rn(function(d,p){var T=zr(p);return Vr(T)&&(T=n),Vr(d)?$i(d,_r(p,1,Vr,!0),n,T):[]});function Nr(d,p,T){var j=d==null?0:d.length;return j?(p=T||p===n?1:un(p),Sa(d,p<0?0:p,j)):[]}function sa(d,p,T){var j=d==null?0:d.length;return j?(p=T||p===n?1:un(p),p=j-p,Sa(d,0,p<0?0:p)):[]}function Io(d,p){return d&&d.length?Mc(d,Ot(p,3),!0,!0):[]}function Rc(d,p){return d&&d.length?Mc(d,Ot(p,3),!0):[]}function Yr(d,p,T,j){var z=d==null?0:d.length;return z?(T&&typeof T!="number"&&Fn(d,p,T)&&(T=0,j=z),sh(d,p,T,j)):[]}function _c(d,p,T){var j=d==null?0:d.length;if(!j)return-1;var z=T==null?0:un(T);return z<0&&(z=kr(j+z,0)),hu(d,Ot(p,3),z)}function Il(d,p,T){var j=d==null?0:d.length;if(!j)return-1;var z=j-1;return T!==n&&(z=un(T),z=T<0?kr(j+z,0):ma(z,j-1)),hu(d,Ot(p,3),z,!0)}function Zd(d){var p=d==null?0:d.length;return p?_r(d,1):[]}function Xm(d){var p=d==null?0:d.length;return p?_r(d,he):[]}function qd(d,p){var T=d==null?0:d.length;return T?(p=p===n?1:un(p),_r(d,p)):[]}function ro(d){for(var p=-1,T=d==null?0:d.length,j={};++p<T;){var z=d[p];j[z[0]]=z[1]}return j}function jh(d){return d&&d.length?d[0]:n}function Bc(d,p,T){var j=d==null?0:d.length;if(!j)return-1;var z=T==null?0:un(T);return z<0&&(z=kr(j+z,0)),ys(d,p,z)}function ks(d){var p=d==null?0:d.length;return p?Sa(d,0,-1):[]}var Lh=rn(function(d){var p=jn(d,bh);return p.length&&p[0]===d[0]?vi(p):[]}),eg=rn(function(d){var p=zr(d),T=jn(d,bh);return p===zr(T)?p=n:T.pop(),T.length&&T[0]===d[0]?vi(T,Ot(p,2)):[]}),El=rn(function(d){var p=zr(d),T=jn(d,bh);return p=typeof p=="function"?p:n,p&&T.pop(),T.length&&T[0]===d[0]?vi(T,n,p):[]});function Rh(d,p){return d==null?"":Kf.call(d,p)}function zr(d){var p=d==null?0:d.length;return p?d[p-1]:n}function _h(d,p,T){var j=d==null?0:d.length;if(!j)return-1;var z=j;return T!==n&&(z=un(T),z=z<0?kr(j+z,0):ma(z,j-1)),p===p?R1(d,p,z):hu(d,cc,z,!0)}function Gd(d,p){return d&&d.length?bl(d,un(p)):n}var tg=rn(Jd);function Jd(d,p){return d&&d.length&&p&&p.length?er(d,p):d}function Bh(d,p,T){return d&&d.length&&p&&p.length?er(d,p,Ot(T,2)):d}function Ya(d,p,T){return d&&d.length&&p&&p.length?er(d,p,n,T):d}var Cl=Gi(function(d,p){var T=d==null?0:d.length,j=ih(d,p);return Pd(d,jn(p,function(z){return Vo(z,T)?+z:z}).sort(Lm)),j});function Si(d,p){var T=[];if(!(d&&d.length))return T;var j=-1,z=[],ee=d.length;for(p=Ot(p,3);++j<ee;){var ce=d[j];p(ce,j,d)&&(T.push(ce),z.push(j))}return Pd(d,z),T}function Ea(d){return d==null?d:Qf.call(d)}function o0(d,p,T){var j=d==null?0:d.length;return j?(T&&typeof T!="number"&&Fn(d,p,T)?(p=0,T=j):(p=p==null?0:un(p),T=T===n?j:un(T)),Sa(d,p,T)):[]}function ng(d,p){return Hr(d,p)}function rg(d,p,T){return Rd(d,p,Ot(T,2))}function q1(d,p){var T=d==null?0:d.length;if(T){var j=Hr(d,p);if(j<T&&Ns(d[j],p))return j}return-1}function xl(d,p){return Hr(d,p,!0)}function i0(d,p,T){return Rd(d,p,Ot(T,2),!0)}function ag(d,p){var T=d==null?0:d.length;if(T){var j=Hr(d,p,!0)-1;if(Ns(d[j],p))return j}return-1}function Mu(d){return d&&d.length?gh(d):[]}function og(d,p){return d&&d.length?gh(d,Ot(p,2)):[]}function ku(d){var p=d==null?0:d.length;return p?Sa(d,1,p):[]}function s0(d,p,T){return d&&d.length?(p=T||p===n?1:un(p),Sa(d,0,p<0?0:p)):[]}function l0(d,p,T){var j=d==null?0:d.length;return j?(p=T||p===n?1:un(p),p=j-p,Sa(d,p<0?0:p,j)):[]}function ig(d,p){return d&&d.length?Mc(d,Ot(p,3),!1,!0):[]}function Hh(d,p){return d&&d.length?Mc(d,Ot(p,3)):[]}var G1=rn(function(d){return Ur(_r(d,1,Vr,!0))}),J1=rn(function(d){var p=zr(d);return Vr(p)&&(p=n),Ur(_r(d,1,Vr,!0),Ot(p,2))}),u0=rn(function(d){var p=zr(d);return p=typeof p=="function"?p:n,Ur(_r(d,1,Vr,!0),n,p)});function c0(d){return d&&d.length?Ur(d):[]}function Nu(d,p){return d&&d.length?Ur(d,Ot(p,2)):[]}function K1(d,p){return p=typeof p=="function"?p:n,d&&d.length?Ur(d,n,p):[]}function Ml(d){if(!(d&&d.length))return[];var p=0;return d=fi(d,function(T){if(Vr(T))return p=kr(T.length,p),!0}),Ee(p,function(T){return jn(d,F(T))})}function sg(d,p){if(!(d&&d.length))return[];var T=Ml(d);return p==null?T:jn(T,function(j){return xr(p,n,j)})}var pr=rn(function(d,p){return Vr(d)?$i(d,p):[]}),Q1=rn(function(d){return wh(fi(d,Vr))}),d0=rn(function(d){var p=zr(d);return Vr(p)&&(p=n),wh(fi(d,Vr),Ot(p,2))}),X1=rn(function(d){var p=zr(d);return p=typeof p=="function"?p:n,wh(fi(d,Vr),n,p)}),eS=rn(Ml);function f0(d,p){return Fm(d||[],p||[],Du)}function h0(d,p){return Fm(d||[],p||[],ir)}var tS=rn(function(d){var p=d.length,T=p>1?d[p-1]:n;return T=typeof T=="function"?(d.pop(),T):n,sg(d,T)});function Eo(d){var p=J(d);return p.__chain__=!0,p}function lg(d,p){return p(d),d}function Uh(d,p){return p(d)}var kl=Gi(function(d){var p=d.length,T=p?d[0]:0,j=this.__wrapped__,z=function(ee){return ih(ee,d)};return p>1||this.__actions__.length||!(j instanceof nn)||!Vo(T)?this.thru(z):(j=j.slice(T,+T+(p?1:0)),j.__actions__.push({func:Uh,args:[z],thisArg:n}),new ga(j,this.__chain__).thru(function(ee){return p&&!ee.length&&ee.push(n),ee}))});function Yh(){return Eo(this)}function Au(){return new ga(this.value(),this.__chain__)}function zh(){this.__values__===n&&(this.__values__=hC(this.value()));var d=this.__index__>=this.__values__.length,p=d?n:this.__values__[this.__index__++];return{done:d,value:p}}function ug(){return this}function cg(d){for(var p,T=this;T instanceof Yi;){var j=Km(T);j.__index__=0,j.__values__=n,p?z.__wrapped__=j:p=j;var z=j;T=T.__wrapped__}return z.__wrapped__=d,p}function nS(){var d=this.__wrapped__;if(d instanceof nn){var p=d;return this.__actions__.length&&(p=new nn(this)),p=p.reverse(),p.__actions__.push({func:Uh,args:[Ea],thisArg:n}),new ga(p,this.__chain__)}return this.thru(Ea)}function dg(){return Am(this.__wrapped__,this.__actions__)}var rS=_d(function(d,p,T){In.call(d,T)?++d[T]:Wi(d,T,1)});function p0(d,p,T){var j=an(d)?sc:mi;return T&&Fn(d,p,T)&&(p=n),j(d,Ot(p,3))}function m0(d,p){var T=an(d)?fi:Iu;return T(d,Ot(p,3))}var Vh=Wy(_c),Wh=Wy(Il);function g0(d,p){return _r(Gh(d,p),1)}function fg(d,p){return _r(Gh(d,p),he)}function aS(d,p,T){return T=T===n?1:un(T),_r(Gh(d,p),T)}function hg(d,p){var T=an(d)?wr:Zi;return T(d,Ot(p,3))}function $h(d,p){var T=an(d)?du:Py;return T(d,Ot(p,3))}var Zh=_d(function(d,p,T){In.call(d,T)?d[T].push(p):Wi(d,T,[p])});function pg(d,p,T,j){d=Zo(d)?d:Xh(d),T=T&&!j?un(T):0;var z=d.length;return T<0&&(T=kr(z+T,0)),w0(d)?T<=z&&d.indexOf(p,T)>-1:!!z&&ys(d,p,T)>-1}var qh=rn(function(d,p,T){var j=-1,z=typeof p=="function",ee=Zo(d)?Oe(d.length):[];return Zi(d,function(ce){ee[++j]=z?xr(p,ce,T):vl(ce,p,T)}),ee}),v0=_d(function(d,p,T){Wi(d,T,p)});function Gh(d,p){var T=an(d)?jn:xm;return T(d,Ot(p,3))}function Jh(d,p,T,j){return d==null?[]:(an(p)||(p=p==null?[]:[p]),T=j?n:T,an(T)||(T=T==null?[]:[T]),ph(d,p,T))}var oS=_d(function(d,p,T){d[T?0:1].push(p)},function(){return[[],[]]});function Kd(d,p,T){var j=an(d)?pd:q,z=arguments.length<3;return j(d,Ot(p,4),T,z,Zi)}function iS(d,p,T){var j=an(d)?Hf:q,z=arguments.length<3;return j(d,Ot(p,4),T,z,Py)}function Kh(d,p){var T=an(d)?fi:Iu;return T(d,Me(Ot(p,3)))}function s(d){var p=an(d)?Vi:Eu;return p(d)}function u(d,p,T){(T?Fn(d,p,T):p===n)?p=1:p=un(p);var j=an(d)?Su:or;return j(d,p)}function m(d){var p=an(d)?Fy:Ld;return p(d)}function b(d){if(d==null)return 0;if(Zo(d))return w0(d)?mu(d):d.length;var p=Ta(d);return p==nt||p==Xt?d.size:hh(d).length}function C(d,p,T){var j=an(d)?il:Y1;return T&&Fn(d,p,T)&&(p=n),j(d,Ot(p,3))}var O=rn(function(d,p){if(d==null)return[];var T=p.length;return T>1&&Fn(d,p[0],p[1])?p=[]:T>2&&Fn(p[0],p[1],p[2])&&(p=[p[0]]),ph(d,_r(p,1),[])}),W=Kn||function(){return zn.Date.now()};function le(d,p){if(typeof p!="function")throw new Bo(i);return d=un(d),function(){if(--d<1)return p.apply(this,arguments)}}function ge(d,p,T){return p=T?n:p,p=d&&p==null?d.length:p,qi(d,_,n,n,n,n,p)}function Pe(d,p){var T;if(typeof p!="function")throw new Bo(i);return d=un(d),function(){return--d>0&&(T=p.apply(this,arguments)),d<=1&&(p=n),T}}var Ge=rn(function(d,p,T){var j=I;if(T.length){var z=_o(T,Sl(Ge));j|=R}return qi(d,j,p,T,z)}),rt=rn(function(d,p,T){var j=I|M;if(T.length){var z=_o(T,Sl(rt));j|=R}return qi(p,j,d,T,z)});function qe(d,p,T){p=T?n:p;var j=qi(d,B,n,n,n,n,n,p);return j.placeholder=qe.placeholder,j}function yt(d,p,T){p=T?n:p;var j=qi(d,k,n,n,n,n,n,p);return j.placeholder=yt.placeholder,j}function Dt(d,p,T){var j,z,ee,ce,ve,Te,We=0,$e=!1,Ke=!1,mt=!0;if(typeof d!="function")throw new Bo(i);p=Ki(p)||0,Sr(T)&&($e=!!T.leading,Ke="maxWait"in T,ee=Ke?kr(Ki(T.maxWait)||0,p):ee,mt="trailing"in T?!!T.trailing:mt);function Nt(Wr){var As=j,Pu=z;return j=z=n,We=Wr,ce=d.apply(Pu,As),ce}function Yt(Wr){return We=Wr,ve=Lc(mn,p),$e?Nt(Wr):ce}function cn(Wr){var As=Wr-Te,Pu=Wr-We,CC=p-As;return Ke?ma(CC,ee-Pu):CC}function zt(Wr){var As=Wr-Te,Pu=Wr-We;return Te===n||As>=p||As<0||Ke&&Pu>=ee}function mn(){var Wr=W();if(zt(Wr))return Sn(Wr);ve=Lc(mn,cn(Wr))}function Sn(Wr){return ve=n,mt&&j?Nt(Wr):(j=z=n,ce)}function Ti(){ve!==n&&kc(ve),We=0,j=Te=z=ve=n}function Co(){return ve===n?ce:Sn(W())}function Ii(){var Wr=W(),As=zt(Wr);if(j=arguments,z=this,Te=Wr,As){if(ve===n)return Yt(Te);if(Ke)return kc(ve),ve=Lc(mn,p),Nt(Te)}return ve===n&&(ve=Lc(mn,p)),ce}return Ii.cancel=Ti,Ii.flush=Co,Ii}var Et=rn(function(d,p){return Sm(d,1,p)}),br=rn(function(d,p,T){return Sm(d,Ki(p)||0,T)});function Ce(d){return qi(d,U)}function ye(d,p){if(typeof d!="function"||p!=null&&typeof p!="function")throw new Bo(i);var T=function(){var j=arguments,z=p?p.apply(this,j):j[0],ee=T.cache;if(ee.has(z))return ee.get(z);var ce=d.apply(this,j);return T.cache=ee.set(z,ce)||ee,ce};return T.cache=new(ye.Cache||Ho),T}ye.Cache=Ho;function Me(d){if(typeof d!="function")throw new Bo(i);return function(){var p=arguments;switch(p.length){case 0:return!d.call(this);case 1:return!d.call(this,p[0]);case 2:return!d.call(this,p[0],p[1]);case 3:return!d.call(this,p[0],p[1],p[2])}return!d.apply(this,p)}}function lt(d){return Pe(2,d)}var xt=By(function(d,p){p=p.length==1&&an(p[0])?jn(p[0],It(Ot())):jn(_r(p,1),It(Ot()));var T=p.length;return rn(function(j){for(var z=-1,ee=ma(j.length,T);++z<ee;)j[z]=p[z].call(this,j[z]);return xr(d,this,j)})}),Pt=rn(function(d,p){var T=_o(p,Sl(Pt));return qi(d,R,n,p,T)}),jt=rn(function(d,p){var T=_o(p,Sl(jt));return qi(d,L,n,p,T)}),Wt=Gi(function(d,p){return qi(d,V,n,n,n,p)});function Kr(d,p){if(typeof d!="function")throw new Bo(i);return p=p===n?p:un(p),rn(d,p)}function En(d,p){if(typeof d!="function")throw new Bo(i);return p=p==null?0:kr(un(p),0),rn(function(T){var j=T[p],z=Es(T,0,p);return j&&Ro(z,j),xr(d,this,z)})}function Nl(d,p,T){var j=!0,z=!0;if(typeof d!="function")throw new Bo(i);return Sr(T)&&(j="leading"in T?!!T.leading:j,z="trailing"in T?!!T.trailing:z),Dt(d,p,{leading:j,maxWait:p,trailing:z})}function sS(d){return ge(d,1)}function xP(d,p){return Pt(Sh(p),d)}function MP(){if(!arguments.length)return[];var d=arguments[0];return an(d)?d:[d]}function kP(d){return no(d,w)}function NP(d,p){return p=typeof p=="function"?p:n,no(d,w,p)}function AP(d){return no(d,g|w)}function FP(d,p){return p=typeof p=="function"?p:n,no(d,g|w,p)}function OP(d,p){return p==null||kd(d,p,Ca(p))}function Ns(d,p){return d===p||d!==d&&p!==p}var PP=Ud(gi),jP=Ud(function(d,p){return d>=p}),Qd=Tm(function(){return arguments}())?Tm:function(d){return Ar(d)&&In.call(d,"callee")&&!qf.call(d,"callee")},an=Oe.isArray,LP=rl?It(rl):ch;function Zo(d){return d!=null&&y0(d.length)&&!Fu(d)}function Vr(d){return Ar(d)&&Zo(d)}function RP(d){return d===!0||d===!1||Ar(d)&&ba(d)==Ze}var Hc=vm||yS,_P=Gr?It(Gr):Ly;function BP(d){return Ar(d)&&d.nodeType===1&&!mg(d)}function HP(d){if(d==null)return!0;if(Zo(d)&&(an(d)||typeof d=="string"||typeof d.splice=="function"||Hc(d)||Qh(d)||Qd(d)))return!d.length;var p=Ta(d);if(p==nt||p==Xt)return!d.size;if(Wd(d))return!hh(d).length;for(var T in d)if(In.call(d,T))return!1;return!0}function UP(d,p){return Ic(d,p)}function YP(d,p,T){T=typeof T=="function"?T:n;var j=T?T(d,p):n;return j===n?Ic(d,p,n,T):!!j}function lS(d){if(!Ar(d))return!1;var p=ba(d);return p==tn||p==Ct||typeof d.message=="string"&&typeof d.name=="string"&&!mg(d)}function zP(d){return typeof d=="number"&&mc(d)}function Fu(d){if(!Sr(d))return!1;var p=ba(d);return p==_e||p==et||p==Xe||p==_t}function uC(d){return typeof d=="number"&&d==un(d)}function y0(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=se}function Sr(d){var p=typeof d;return d!=null&&(p=="object"||p=="function")}function Ar(d){return d!=null&&typeof d=="object"}var cC=gs?It(gs):dh;function VP(d,p){return d===p||fh(d,p,Nh(p))}function WP(d,p,T){return T=typeof T=="function"?T:n,fh(d,p,Nh(p),T)}function $P(d){return dC(d)&&d!=+d}function ZP(d){if(Xy(d))throw new Qt(o);return Em(d)}function qP(d){return d===null}function GP(d){return d==null}function dC(d){return typeof d=="number"||Ar(d)&&ba(d)==ht}function mg(d){if(!Ar(d)||ba(d)!=Tt)return!1;var p=hi(d);if(p===null)return!0;var T=In.call(p,"constructor")&&p.constructor;return typeof T=="function"&&T instanceof T&&wd.call(T)==$f}var uS=_i?It(_i):Ry;function JP(d){return uC(d)&&d>=-se&&d<=se}var fC=al?It(al):Cm;function w0(d){return typeof d=="string"||!an(d)&&Ar(d)&&ba(d)==dn}function Di(d){return typeof d=="symbol"||Ar(d)&&ba(d)==en}var Qh=ic?It(ic):Ad;function KP(d){return d===n}function QP(d){return Ar(d)&&Ta(d)==Dn}function XP(d){return Ar(d)&&ba(d)==Er}var ej=Ud(yl),tj=Ud(function(d,p){return d<=p});function hC(d){if(!d)return[];if(Zo(d))return w0(d)?yo(d):Ha(d);if(Ss&&d[Ss])return j1(d[Ss]());var p=Ta(d),T=p==nt?Yf:p==Xt?sl:Xh;return T(d)}function Ou(d){if(!d)return d===0?d:0;if(d=Ki(d),d===he||d===-he){var p=d<0?-1:1;return p*ue}return d===d?d:0}function un(d){var p=Ou(d),T=p%1;return p===p?T?p-T:p:0}function pC(d){return d?Ts(un(d),0,oe):0}function Ki(d){if(typeof d=="number")return d;if(Di(d))return X;if(Sr(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=Sr(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=ot(d);var T=su.test(d);return T||ji.test(d)?el(d.slice(2),T?2:8):nc.test(d)?X:+d}function mC(d){return wi(d,qo(d))}function nj(d){return d?Ts(un(d),-se,se):d===0?d:0}function Yn(d){return d==null?"":hr(d)}var rj=Ac(function(d,p){if(Wd(p)||Zo(p)){wi(p,Ca(p),d);return}for(var T in p)In.call(p,T)&&Du(d,T,p[T])}),gC=Ac(function(d,p){wi(p,qo(p),d)}),b0=Ac(function(d,p,T,j){wi(p,qo(p),d,j)}),aj=Ac(function(d,p,T,j){wi(p,Ca(p),d,j)}),oj=Gi(ih);function ij(d,p){var T=bc(d);return p==null?T:Xn(T,p)}var sj=rn(function(d,p){d=Un(d);var T=-1,j=p.length,z=j>2?p[2]:n;for(z&&Fn(p[0],p[1],z)&&(j=1);++T<j;)for(var ee=p[T],ce=qo(ee),ve=-1,Te=ce.length;++ve<Te;){var We=ce[ve],$e=d[We];($e===n||Ns($e,Hi[We])&&!In.call(d,We))&&(d[We]=ee[We])}return d}),lj=rn(function(d){return d.push(n,zm),xr(vC,n,d)});function uj(d,p){return fu(d,Ot(p,3),zo)}function cj(d,p){return fu(d,Ot(p,3),pl)}function dj(d,p){return d==null?d:Nd(d,Ot(p,3),qo)}function fj(d,p){return d==null?d:lh(d,Ot(p,3),qo)}function hj(d,p){return d&&zo(d,Ot(p,3))}function pj(d,p){return d&&pl(d,Ot(p,3))}function mj(d){return d==null?[]:Ba(d,Ca(d))}function gj(d){return d==null?[]:Ba(d,qo(d))}function cS(d,p,T){var j=d==null?n:So(d,p);return j===n?T:j}function vj(d,p){return d!=null&&$m(d,p,ml)}function dS(d,p){return d!=null&&$m(d,p,Dm)}var yj=Ih(function(d,p,T){p!=null&&typeof p.toString!="function"&&(p=bd.call(p)),d[p]=T},hS(Go)),wj=Ih(function(d,p,T){p!=null&&typeof p.toString!="function"&&(p=bd.call(p)),In.call(d,p)?d[p].push(T):d[p]=[T]},Ot),bj=rn(vl);function Ca(d){return Zo(d)?zi(d):hh(d)}function qo(d){return Zo(d)?zi(d,!0):_y(d)}function Sj(d,p){var T={};return p=Ot(p,3),zo(d,function(j,z,ee){Wi(T,p(j,z,ee),j)}),T}function Dj(d,p){var T={};return p=Ot(p,3),zo(d,function(j,z,ee){Wi(T,z,p(j,z,ee))}),T}var Tj=Ac(function(d,p,T){wl(d,p,T)}),vC=Ac(function(d,p,T,j){wl(d,p,T,j)}),Ij=Gi(function(d,p){var T={};if(d==null)return T;var j=!1;p=jn(p,function(ee){return ee=Is(ee,d),j||(j=ee.length>1),ee}),wi(d,Yd(d),T),j&&(T=no(T,g|y|w,qy));for(var z=p.length;z--;)Cu(T,p[z]);return T});function Ej(d,p){return yC(d,Me(Ot(p)))}var Cj=Gi(function(d,p){return d==null?{}:Cc(d,p)});function yC(d,p){if(d==null)return{};var T=jn(Yd(d),function(j){return[j]});return p=Ot(p),Mm(d,T,function(j,z){return p(j,z[0])})}function xj(d,p,T){p=Is(p,d);var j=-1,z=p.length;for(z||(z=1,d=n);++j<z;){var ee=d==null?n:d[bi(p[j])];ee===n&&(j=z,ee=T),d=Fu(ee)?ee.call(d):ee}return d}function Mj(d,p,T){return d==null?d:ir(d,p,T)}function kj(d,p,T,j){return j=typeof j=="function"?j:n,d==null?d:ir(d,p,T,j)}var wC=Um(Ca),bC=Um(qo);function Nj(d,p,T){var j=an(d),z=j||Hc(d)||Qh(d);if(p=Ot(p,4),T==null){var ee=d&&d.constructor;z?T=j?new ee:[]:Sr(d)?T=Fu(ee)?bc(hi(d)):{}:T={}}return(z?wr:zo)(d,function(ce,ve,Te){return p(T,ce,ve,Te)}),T}function Aj(d,p){return d==null?!0:Cu(d,p)}function Fj(d,p,T){return d==null?d:yh(d,p,Sh(T))}function Oj(d,p,T,j){return j=typeof j=="function"?j:n,d==null?d:yh(d,p,Sh(T),j)}function Xh(d){return d==null?[]:Kt(d,Ca(d))}function Pj(d){return d==null?[]:Kt(d,qo(d))}function jj(d,p,T){return T===n&&(T=p,p=n),T!==n&&(T=Ki(T),T=T===T?T:0),p!==n&&(p=Ki(p),p=p===p?p:0),Ts(Ki(d),p,T)}function Lj(d,p,T){return p=Ou(p),T===n?(T=p,p=0):T=Ou(T),d=Ki(d),jy(d,p,T)}function Rj(d,p,T){if(T&&typeof T!="boolean"&&Fn(d,p,T)&&(p=T=n),T===n&&(typeof p=="boolean"?(T=p,p=n):typeof d=="boolean"&&(T=d,d=n)),d===n&&p===n?(d=0,p=1):(d=Ou(d),p===n?(p=d,d=0):p=Ou(p)),d>p){var j=d;d=p,p=j}if(T||d%1||p%1){var z=Id();return ma(d+z*(p-d+oc("1e-"+((z+"").length-1))),p)}return jd(d,p)}var _j=Cs(function(d,p,T){return p=p.toLowerCase(),d+(T?SC(p):p)});function SC(d){return fS(Yn(d).toLowerCase())}function DC(d){return d=Yn(d),d&&d.replace(lu,Qa).replace(Bf,"")}function Bj(d,p,T){d=Yn(d),p=hr(p);var j=d.length;T=T===n?j:Ts(un(T),0,j);var z=T;return T-=p.length,T>=0&&d.slice(T,z)==p}function Hj(d){return d=Yn(d),d&&tt.test(d)?d.replace(He,pu):d}function Uj(d){return d=Yn(d),d&&ta.test(d)?d.replace(yr,"\\$&"):d}var Yj=Cs(function(d,p,T){return d+(T?"-":"")+p.toLowerCase()}),zj=Cs(function(d,p,T){return d+(T?" ":"")+p.toLowerCase()}),Vj=Bm("toLowerCase");function Wj(d,p,T){d=Yn(d),p=un(p);var j=p?mu(d):0;if(!p||j>=p)return d;var z=(p-j)/2;return Hd(ll(z),T)+d+Hd(vu(z),T)}function $j(d,p,T){d=Yn(d),p=un(p);var j=p?mu(d):0;return p&&j<p?d+Hd(p-j,T):d}function Zj(d,p,T){d=Yn(d),p=un(p);var j=p?mu(d):0;return p&&j<p?Hd(p-j,T)+d:d}function qj(d,p,T){return T||p==null?p=0:p&&(p=+p),Cy(Yn(d).replace(Pi,""),p||0)}function Gj(d,p,T){return(T?Fn(d,p,T):p===n)?p=1:p=un(p),xc(Yn(d),p)}function Jj(){var d=arguments,p=Yn(d[0]);return d.length<3?p:p.replace(d[1],d[2])}var Kj=Cs(function(d,p,T){return d+(T?"_":"")+p.toLowerCase()});function Qj(d,p,T){return T&&typeof T!="number"&&Fn(d,p,T)&&(p=T=n),T=T===n?oe:T>>>0,T?(d=Yn(d),d&&(typeof p=="string"||p!=null&&!uS(p))&&(p=hr(p),!p&&dc(d))?Es(yo(d),0,T):d.split(p,T)):[]}var Xj=Cs(function(d,p,T){return d+(T?" ":"")+fS(p)});function eL(d,p,T){return d=Yn(d),T=T==null?0:Ts(un(T),0,d.length),p=hr(p),d.slice(T,T+p.length)==p}function tL(d,p,T){var j=J.templateSettings;T&&Fn(d,p,T)&&(p=n),d=Yn(d),p=b0({},p,j,Ym);var z=b0({},p.imports,j.imports,Ym),ee=Ca(z),ce=Kt(z,ee),ve,Te,We=0,$e=p.interpolate||ds,Ke="__p += '",mt=yd((p.escape||ds).source+"|"+$e.source+"|"+($e===On?si:ds).source+"|"+(p.evaluate||ds).source+"|$","g"),Nt="//# sourceURL="+(In.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Bn+"]")+`
`;d.replace(mt,function(zt,mn,Sn,Ti,Co,Ii){return Sn||(Sn=Ti),Ke+=d.slice(We,Ii).replace(rc,vd),mn&&(ve=!0,Ke+=`' +
__e(`+mn+`) +
'`),Co&&(Te=!0,Ke+=`';
`+Co+`;
__p += '`),Sn&&(Ke+=`' +
((__t = (`+Sn+`)) == null ? '' : __t) +
'`),We=Ii+zt.length,zt}),Ke+=`';
`;var Yt=In.call(p,"variable")&&p.variable;if(!Yt)Ke=`with (obj) {
`+Ke+`
}
`;else if(Oa.test(Yt))throw new Qt(l);Ke=(Te?Ke.replace(te,""):Ke).replace(me,"$1").replace(xe,"$1;"),Ke="function("+(Yt||"obj")+`) {
`+(Yt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ve?", __e = _.escape":"")+(Te?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ke+`return __p
}`;var cn=IC(function(){return Tn(ee,Nt+"return "+Ke).apply(n,ce)});if(cn.source=Ke,lS(cn))throw cn;return cn}function nL(d){return Yn(d).toLowerCase()}function rL(d){return Yn(d).toUpperCase()}function aL(d,p,T){if(d=Yn(d),d&&(T||p===n))return ot(d);if(!d||!(p=hr(p)))return d;var j=yo(d),z=yo(p),ee=Hn(j,z),ce=oa(j,z)+1;return Es(j,ee,ce).join("")}function oL(d,p,T){if(d=Yn(d),d&&(T||p===n))return d.slice(0,Vf(d)+1);if(!d||!(p=hr(p)))return d;var j=yo(d),z=oa(j,yo(p))+1;return Es(j,0,z).join("")}function iL(d,p,T){if(d=Yn(d),d&&(T||p===n))return d.replace(Pi,"");if(!d||!(p=hr(p)))return d;var j=yo(d),z=Hn(j,yo(p));return Es(j,z).join("")}function sL(d,p){var T=Z,j=Q;if(Sr(p)){var z="separator"in p?p.separator:z;T="length"in p?un(p.length):T,j="omission"in p?hr(p.omission):j}d=Yn(d);var ee=d.length;if(dc(d)){var ce=yo(d);ee=ce.length}if(T>=ee)return d;var ve=T-mu(j);if(ve<1)return j;var Te=ce?Es(ce,0,ve).join(""):d.slice(0,ve);if(z===n)return Te+j;if(ce&&(ve+=Te.length-ve),uS(z)){if(d.slice(ve).search(z)){var We,$e=Te;for(z.global||(z=yd(z.source,Yn(li.exec(z))+"g")),z.lastIndex=0;We=z.exec($e);)var Ke=We.index;Te=Te.slice(0,Ke===n?ve:Ke)}}else if(d.indexOf(hr(z),ve)!=ve){var mt=Te.lastIndexOf(z);mt>-1&&(Te=Te.slice(0,mt))}return Te+j}function lL(d){return d=Yn(d),d&&Qe.test(d)?d.replace(Ue,wy):d}var uL=Cs(function(d,p,T){return d+(T?" ":"")+p.toUpperCase()}),fS=Bm("toUpperCase");function TC(d,p,T){return d=Yn(d),p=T?n:p,p===n?P1(d)?_1(d):lc(d):d.match(p)||[]}var IC=rn(function(d,p){try{return xr(d,n,p)}catch(T){return lS(T)?T:new Qt(T)}}),cL=Gi(function(d,p){return wr(p,function(T){T=bi(T),Wi(d,T,Ge(d[T],d))}),d});function dL(d){var p=d==null?0:d.length,T=Ot();return d=p?jn(d,function(j){if(typeof j[1]!="function")throw new Bo(i);return[T(j[0]),j[1]]}):[],rn(function(j){for(var z=-1;++z<p;){var ee=d[z];if(xr(ee[0],this,j))return xr(ee[1],this,j)}})}function fL(d){return Oy(no(d,g))}function hS(d){return function(){return d}}function hL(d,p){return d==null||d!==d?p:d}var pL=xu(),mL=xu(!0);function Go(d){return d}function pS(d){return Fd(typeof d=="function"?d:no(d,g))}function gL(d){return Ec(no(d,g))}function vL(d,p){return yi(d,no(p,g))}var yL=rn(function(d,p){return function(T){return vl(T,d,p)}}),wL=rn(function(d,p){return function(T){return vl(d,T,p)}});function mS(d,p,T){var j=Ca(p),z=Ba(p,j);T==null&&!(Sr(p)&&(z.length||!j.length))&&(T=p,p=d,d=this,z=Ba(p,Ca(p)));var ee=!(Sr(T)&&"chain"in T)||!!T.chain,ce=Fu(d);return wr(z,function(ve){var Te=p[ve];d[ve]=Te,ce&&(d.prototype[ve]=function(){var We=this.__chain__;if(ee||We){var $e=d(this.__wrapped__),Ke=$e.__actions__=Ha(this.__actions__);return Ke.push({func:Te,args:arguments,thisArg:d}),$e.__chain__=We,$e}return Te.apply(d,Ro([this.value()],arguments))})}),d}function bL(){return zn._===this&&(zn._=Dy),this}function gS(){}function SL(d){return d=un(d),rn(function(p){return bl(p,d)})}var DL=Ch(jn),TL=Ch(sc),IL=Ch(il);function EC(d){return Zm(d)?F(bi(d)):km(d)}function EL(d){return function(p){return d==null?n:So(d,p)}}var CL=Hm(),xL=Hm(!0);function vS(){return[]}function yS(){return!1}function ML(){return{}}function kL(){return""}function NL(){return!0}function AL(d,p){if(d=un(d),d<1||d>se)return[];var T=oe,j=ma(d,oe);p=Ot(p),d-=oe;for(var z=Ee(j,p);++T<d;)p(T);return z}function FL(d){return an(d)?jn(d,bi):Di(d)?[d]:Ha(r0(Yn(d)))}function OL(d){var p=++pc;return Yn(d)+p}var PL=Eh(function(d,p){return d+p},0),jL=Da("ceil"),LL=Eh(function(d,p){return d/p},1),RL=Da("floor");function _L(d){return d&&d.length?Tu(d,Go,gi):n}function BL(d,p){return d&&d.length?Tu(d,Ot(p,2),gi):n}function HL(d){return gd(d,Go)}function UL(d,p){return gd(d,Ot(p,2))}function YL(d){return d&&d.length?Tu(d,Go,yl):n}function zL(d,p){return d&&d.length?Tu(d,Ot(p,2),yl):n}var VL=Eh(function(d,p){return d*p},1),WL=Da("round"),$L=Eh(function(d,p){return d-p},0);function ZL(d){return d&&d.length?Ae(d,Go):0}function qL(d,p){return d&&d.length?Ae(d,Ot(p,2)):0}return J.after=le,J.ary=ge,J.assign=rj,J.assignIn=gC,J.assignInWith=b0,J.assignWith=aj,J.at=oj,J.before=Pe,J.bind=Ge,J.bindAll=cL,J.bindKey=rt,J.castArray=MP,J.chain=Eo,J.chunk=Z1,J.compact=Ph,J.concat=Qm,J.cond=dL,J.conforms=fL,J.constant=hS,J.countBy=rS,J.create=ij,J.curry=qe,J.curryRight=yt,J.debounce=Dt,J.defaults=sj,J.defaultsDeep=lj,J.defer=Et,J.delay=br,J.difference=$o,J.differenceBy=bn,J.differenceWith=Jr,J.drop=Nr,J.dropRight=sa,J.dropRightWhile=Io,J.dropWhile=Rc,J.fill=Yr,J.filter=m0,J.flatMap=g0,J.flatMapDeep=fg,J.flatMapDepth=aS,J.flatten=Zd,J.flattenDeep=Xm,J.flattenDepth=qd,J.flip=Ce,J.flow=pL,J.flowRight=mL,J.fromPairs=ro,J.functions=mj,J.functionsIn=gj,J.groupBy=Zh,J.initial=ks,J.intersection=Lh,J.intersectionBy=eg,J.intersectionWith=El,J.invert=yj,J.invertBy=wj,J.invokeMap=qh,J.iteratee=pS,J.keyBy=v0,J.keys=Ca,J.keysIn=qo,J.map=Gh,J.mapKeys=Sj,J.mapValues=Dj,J.matches=gL,J.matchesProperty=vL,J.memoize=ye,J.merge=Tj,J.mergeWith=vC,J.method=yL,J.methodOf=wL,J.mixin=mS,J.negate=Me,J.nthArg=SL,J.omit=Ij,J.omitBy=Ej,J.once=lt,J.orderBy=Jh,J.over=DL,J.overArgs=xt,J.overEvery=TL,J.overSome=IL,J.partial=Pt,J.partialRight=jt,J.partition=oS,J.pick=Cj,J.pickBy=yC,J.property=EC,J.propertyOf=EL,J.pull=tg,J.pullAll=Jd,J.pullAllBy=Bh,J.pullAllWith=Ya,J.pullAt=Cl,J.range=CL,J.rangeRight=xL,J.rearg=Wt,J.reject=Kh,J.remove=Si,J.rest=Kr,J.reverse=Ea,J.sampleSize=u,J.set=Mj,J.setWith=kj,J.shuffle=m,J.slice=o0,J.sortBy=O,J.sortedUniq=Mu,J.sortedUniqBy=og,J.split=Qj,J.spread=En,J.tail=ku,J.take=s0,J.takeRight=l0,J.takeRightWhile=ig,J.takeWhile=Hh,J.tap=lg,J.throttle=Nl,J.thru=Uh,J.toArray=hC,J.toPairs=wC,J.toPairsIn=bC,J.toPath=FL,J.toPlainObject=mC,J.transform=Nj,J.unary=sS,J.union=G1,J.unionBy=J1,J.unionWith=u0,J.uniq=c0,J.uniqBy=Nu,J.uniqWith=K1,J.unset=Aj,J.unzip=Ml,J.unzipWith=sg,J.update=Fj,J.updateWith=Oj,J.values=Xh,J.valuesIn=Pj,J.without=pr,J.words=TC,J.wrap=xP,J.xor=Q1,J.xorBy=d0,J.xorWith=X1,J.zip=eS,J.zipObject=f0,J.zipObjectDeep=h0,J.zipWith=tS,J.entries=wC,J.entriesIn=bC,J.extend=gC,J.extendWith=b0,mS(J,J),J.add=PL,J.attempt=IC,J.camelCase=_j,J.capitalize=SC,J.ceil=jL,J.clamp=jj,J.clone=kP,J.cloneDeep=AP,J.cloneDeepWith=FP,J.cloneWith=NP,J.conformsTo=OP,J.deburr=DC,J.defaultTo=hL,J.divide=LL,J.endsWith=Bj,J.eq=Ns,J.escape=Hj,J.escapeRegExp=Uj,J.every=p0,J.find=Vh,J.findIndex=_c,J.findKey=uj,J.findLast=Wh,J.findLastIndex=Il,J.findLastKey=cj,J.floor=RL,J.forEach=hg,J.forEachRight=$h,J.forIn=dj,J.forInRight=fj,J.forOwn=hj,J.forOwnRight=pj,J.get=cS,J.gt=PP,J.gte=jP,J.has=vj,J.hasIn=dS,J.head=jh,J.identity=Go,J.includes=pg,J.indexOf=Bc,J.inRange=Lj,J.invoke=bj,J.isArguments=Qd,J.isArray=an,J.isArrayBuffer=LP,J.isArrayLike=Zo,J.isArrayLikeObject=Vr,J.isBoolean=RP,J.isBuffer=Hc,J.isDate=_P,J.isElement=BP,J.isEmpty=HP,J.isEqual=UP,J.isEqualWith=YP,J.isError=lS,J.isFinite=zP,J.isFunction=Fu,J.isInteger=uC,J.isLength=y0,J.isMap=cC,J.isMatch=VP,J.isMatchWith=WP,J.isNaN=$P,J.isNative=ZP,J.isNil=GP,J.isNull=qP,J.isNumber=dC,J.isObject=Sr,J.isObjectLike=Ar,J.isPlainObject=mg,J.isRegExp=uS,J.isSafeInteger=JP,J.isSet=fC,J.isString=w0,J.isSymbol=Di,J.isTypedArray=Qh,J.isUndefined=KP,J.isWeakMap=QP,J.isWeakSet=XP,J.join=Rh,J.kebabCase=Yj,J.last=zr,J.lastIndexOf=_h,J.lowerCase=zj,J.lowerFirst=Vj,J.lt=ej,J.lte=tj,J.max=_L,J.maxBy=BL,J.mean=HL,J.meanBy=UL,J.min=YL,J.minBy=zL,J.stubArray=vS,J.stubFalse=yS,J.stubObject=ML,J.stubString=kL,J.stubTrue=NL,J.multiply=VL,J.nth=Gd,J.noConflict=bL,J.noop=gS,J.now=W,J.pad=Wj,J.padEnd=$j,J.padStart=Zj,J.parseInt=qj,J.random=Rj,J.reduce=Kd,J.reduceRight=iS,J.repeat=Gj,J.replace=Jj,J.result=xj,J.round=WL,J.runInContext=be,J.sample=s,J.size=b,J.snakeCase=Kj,J.some=C,J.sortedIndex=ng,J.sortedIndexBy=rg,J.sortedIndexOf=q1,J.sortedLastIndex=xl,J.sortedLastIndexBy=i0,J.sortedLastIndexOf=ag,J.startCase=Xj,J.startsWith=eL,J.subtract=$L,J.sum=ZL,J.sumBy=qL,J.template=tL,J.times=AL,J.toFinite=Ou,J.toInteger=un,J.toLength=pC,J.toLower=nL,J.toNumber=Ki,J.toSafeInteger=nj,J.toString=Yn,J.toUpper=rL,J.trim=aL,J.trimEnd=oL,J.trimStart=iL,J.truncate=sL,J.unescape=lL,J.uniqueId=OL,J.upperCase=uL,J.upperFirst=fS,J.each=hg,J.eachRight=$h,J.first=jh,mS(J,function(){var d={};return zo(J,function(p,T){In.call(J.prototype,T)||(d[T]=p)}),d}(),{chain:!1}),J.VERSION=r,wr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){J[d].placeholder=J}),wr(["drop","take"],function(d,p){nn.prototype[d]=function(T){T=T===n?1:kr(un(T),0);var j=this.__filtered__&&!p?new nn(this):this.clone();return j.__filtered__?j.__takeCount__=ma(T,j.__takeCount__):j.__views__.push({size:ma(T,oe),type:d+(j.__dir__<0?"Right":"")}),j},nn.prototype[d+"Right"]=function(T){return this.reverse()[d](T).reverse()}}),wr(["filter","map","takeWhile"],function(d,p){var T=p+1,j=T==de||T==$;nn.prototype[d]=function(z){var ee=this.clone();return ee.__iteratees__.push({iteratee:Ot(z,3),type:T}),ee.__filtered__=ee.__filtered__||j,ee}}),wr(["head","last"],function(d,p){var T="take"+(p?"Right":"");nn.prototype[d]=function(){return this[T](1).value()[0]}}),wr(["initial","tail"],function(d,p){var T="drop"+(p?"":"Right");nn.prototype[d]=function(){return this.__filtered__?new nn(this):this[T](1)}}),nn.prototype.compact=function(){return this.filter(Go)},nn.prototype.find=function(d){return this.filter(d).head()},nn.prototype.findLast=function(d){return this.reverse().find(d)},nn.prototype.invokeMap=rn(function(d,p){return typeof d=="function"?new nn(this):this.map(function(T){return vl(T,d,p)})}),nn.prototype.reject=function(d){return this.filter(Me(Ot(d)))},nn.prototype.slice=function(d,p){d=un(d);var T=this;return T.__filtered__&&(d>0||p<0)?new nn(T):(d<0?T=T.takeRight(-d):d&&(T=T.drop(d)),p!==n&&(p=un(p),T=p<0?T.dropRight(-p):T.take(p-d)),T)},nn.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},nn.prototype.toArray=function(){return this.take(oe)},zo(nn.prototype,function(d,p){var T=/^(?:filter|find|map|reject)|While$/.test(p),j=/^(?:head|last)$/.test(p),z=J[j?"take"+(p=="last"?"Right":""):p],ee=j||/^find/.test(p);z&&(J.prototype[p]=function(){var ce=this.__wrapped__,ve=j?[1]:arguments,Te=ce instanceof nn,We=ve[0],$e=Te||an(ce),Ke=function(mn){var Sn=z.apply(J,Ro([mn],ve));return j&&mt?Sn[0]:Sn};$e&&T&&typeof We=="function"&&We.length!=1&&(Te=$e=!1);var mt=this.__chain__,Nt=!!this.__actions__.length,Yt=ee&&!mt,cn=Te&&!Nt;if(!ee&&$e){ce=cn?ce:new nn(this);var zt=d.apply(ce,ve);return zt.__actions__.push({func:Uh,args:[Ke],thisArg:n}),new ga(zt,mt)}return Yt&&cn?d.apply(this,ve):(zt=this.thru(Ke),Yt?j?zt.value()[0]:zt.value():zt)})}),wr(["pop","push","shift","sort","splice","unshift"],function(d){var p=ws[d],T=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",j=/^(?:pop|shift)$/.test(d);J.prototype[d]=function(){var z=arguments;if(j&&!this.__chain__){var ee=this.value();return p.apply(an(ee)?ee:[],z)}return this[T](function(ce){return p.apply(an(ce)?ce:[],z)})}}),zo(nn.prototype,function(d,p){var T=J[p];if(T){var j=T.name+"";In.call(yc,j)||(yc[j]=[]),yc[j].push({name:p,func:T})}}),yc[Fc(n,M).name]=[{name:"wrapper",func:n}],nn.prototype.clone=th,nn.prototype.reverse=wm,nn.prototype.value=Sc,J.prototype.at=kl,J.prototype.chain=Yh,J.prototype.commit=Au,J.prototype.next=zh,J.prototype.plant=cg,J.prototype.reverse=nS,J.prototype.toJSON=J.prototype.valueOf=J.prototype.value=dg,J.prototype.first=J.prototype.head,Ss&&(J.prototype[Ss]=ug),J},fc=B1();Lo?((Lo.exports=fc)._=fc,nl._=fc):zn._=fc}).call(dr)})(Ew,Ew.exports);var vb=Ew.exports;const Cw=qt(vb);function S0(e){const t=e.match(/^#+/);return t?t[0].length:0}function OC(e,t){const n=e.split(`
`);let r="",a=[],o=!1,i=1;for(let l=0;l<n.length;l++){const c=n[l];if(c.startsWith("#")&&/^#{1,6}\s/g.test(c)){if(o&&S0(c)<=S0(t))break;r=c,r===t?(o=!0,i=l+1):o&&S0(c)>S0(t)?a.push(c):(o=!1,a=[])}else o&&a.push(c)}return t?vb.isEmpty(a)?{content:"",startLine:-1}:{content:a.join(`
`),startLine:i}:{content:e,startLine:0}}function k2(e){const t={};for(const n of e)n.parent&&n.parent>0&&(t[n.position.start.line]=n.parent);return t}function FR(e,t,n){var g;const r={},a=(y,w)=>{for(;y[w]!==void 0&&y[w]!==w;)w=y[w];return w},o=ft.getState().app,i=n.split(`
`),l=t+i.length-1,c=(g=o.metadataCache.getFileCache(e))==null?void 0:g.listItems,f={};if(!c)return[];c.forEach(y=>{var D,I;const w=y.position.start.line,S=y.position.end.line;if(w>=t&&S<=l){const M=w-t,N=S-t,B=i.slice(M,N+1),k=B.join(`
`);if(y.parent&&y.parent>0&&(r[y.position.start.line]=y.parent),y.parent&&f[y.parent]){if(w-y.parent===1){const L=(D=i[M])==null?void 0:D.match(/^(\s*)/);L&&(f[y.parent].indent=L[0])}const R=new RegExp("^"+f[y.parent].indent);f[y.parent].content+=`
`+k.split(`
`).map(L=>L==null?void 0:L.replace(R,"")).join(`
`)}else if(y.parent&&f[a(r,y.parent)]){const R=new RegExp("^"+f[a(r,y.parent)].indent);f[a(r,y.parent)].content+=`
`+k.split(`
`).map(L=>L==null?void 0:L.replace(R,"")).join(`
`)}else if(new RegExp(gR).test(k)){f[w]||(f[w]={content:"",blockId:"",indent:""});const R=B.length>1&&((I=B[1])==null?void 0:I.match(/^(\s*)/));R&&(f[w].indent=R[0]),f[w].content=k.split(`
`).map(L=>L==null?void 0:L.replace(f[w].indent,"")).join(`
`),f[w].blockId=y.id}}});const h=Object.keys(f).map(y=>({line:f[y].content,blockId:f[y].blockId||"",index:parseInt(y)}));return e.path.includes("2024-04-07"),h}async function OR(e,t){let n=t.vault.getAbstractFileByPath(e);return n||(new x.Notice(E("File not found for the given thino path, is creating a new file")),n=await t.vault.create(e,'{"nodes": [], "edges": []}'),dt.setChangedByMemos(!0)),n}async function PR(e,t){var a;let n;try{n=await t.vault.read(e)}catch(o){console.error(o),n=await t.vault.cachedRead(e)}const r=(a=t.metadataCache.getFileCache(e))==null?void 0:a.frontmatterPosition;return r?n.slice(r.end.offset+1):n}function jR(e){const t=e.split(/\r?\n/),n=[];let r=!1,a=[],o="";for(let i=0;i<t.length;i++){const l=t[i];l.startsWith("> [!thino]")?(r&&(n.push({metadata:o,content:a.join(`
`).trim()}),a=[]),r=!0,o=l.replace("> [!thino]","").trim()):r&&l.startsWith(">")?a.push(l.replace(/^> /,"")):r&&!l.startsWith(">")&&(r=!1,n.push({metadata:o,content:a.join(`
`).trim()}),a=[],o="")}return r&&n.push({metadata:o,content:a.join(`
`).trim()}),n}const LR=e=>{let t;switch(e){case" ":t="TASK-TODO";break;case"x":case"X":t="TASK-DONE";break;default:t="TASK-"+e;break}return t};async function RR(e,t){if(!t)return 0;const{vault:n}=Le.getState().dailyNotesState.app,r=e==null?void 0:e.DefaultMemoComposition,a=e!=null&&e.ProcessEntriesBelow&&(e==null?void 0:e.ProcessContentTarget)!=="whole"?e==null?void 0:e.ProcessEntriesBelow:"",o=(e==null?void 0:e.ProcessContentTarget)!=="whole"?e!=null&&e.DifferentInsertTarget?e!=null&&e.InsertAfterForTask?e==null?void 0:e.InsertAfterForTask:"":a:"";let i;try{i=await n.read(t)}catch(S){console.error(S),i=await n.cachedRead(t)}let l;r!=""&&/{TIME}/g.test(r)&&/{CONTENT}/g.test(r)?l="(-|\\*) (\\[(.{1})\\]\\s)?"+r.replace(/{TIME}/g,"((\\<time\\>)?\\d{1,2}:\\d{2}(\\:\\d{2})?)?").replace(/ {CONTENT}/g,""):l="(-|\\*) (\\[(.{1})\\]\\s)?((\\<time\\>)?\\d{1,2}\\:\\d{2}(\\:\\d{2})?)?";const c=new RegExp(l,"g"),f=(i.match(c)||[]).length,h=new RegExp(a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g"),g=new RegExp(o.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g"),y=(i.match(h)||[]).length,w=(i.match(g)||[]).length;return i=null,y||w?f:0}function PC(e,t,n,r,a){var g,y,w;const o=Le.getState().dailyNotesState.app||window.app,i=hp(a,"day")||x.moment(a.stat.ctime);let l;const c=FR(a,n,t),f=o==null?void 0:o.metadataCache.getFileCache(a),h={frontmatter:(f==null?void 0:f.frontmatter)||{},tags:((g=f==null?void 0:f.frontmatter)==null?void 0:g.tags)||[]};for(const S of c){const D=UR(e.DefaultMemoComposition,S.line),I=YR(e.DefaultMemoComposition,S.line),M=zR(S.line);let N=_R(S.line);if(i.hours(parseInt(D)),i.minutes(parseInt(I)),M&&i.seconds(parseInt(M)),!M&&i.seconds(0),/^\s*[-*]\s(\[(.)\])\s/g.test(S.line)){const Z=VR(S.line);N=BR(S.line),l=LR(Z)}else l="JOURNAL";let B=N.trim().replaceAll(/<br>/g,`
`);const k=new RegExp(/\[(pinned|PINNED)::true\]/,"g").test(N),R=new RegExp(/\[(archived|ARCHIVED)::true\]/,"g").test(N),L=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").test(N),_=(y=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").exec(N))==null?void 0:y[2],V=(w=new RegExp(/\[(webId|WEBID)::([^\]]*)\]/,"g").exec(N))==null?void 0:w[2],U=new RegExp(/\[(visibility|VISIBILITY)::("PROTECT"|"PUBLIC")\]/,"g").test(N)?"PUBLIC":"PRIVATE";B=B.replace(/\s\[pinned::[^\]]+\]/g,"").replace(/\s\[visibility::[^\]]+\]/g,"").replace(/\s\[archived::[^\]]+\]/g,"").replace(/\s\[deleted::[^\]]+\]/g,"").replace(/\s\[webId::[^\]]+\]/g,""),S.blockId&&(B=B.replace("^"+(S==null?void 0:S.blockId),"")),r.push({id:i.format("YYYYMMDDHHmmss")+`${S.index}`,content:B.trim(),createdAt:i.format("YYYY/MM/DD HH:mm:ss"),updatedAt:i.format("YYYY/MM/DD HH:mm:ss"),thinoType:l,hasId:S.blockId?S.blockId:"",linkId:"",path:a.path,deletedAt:L?x.moment(_,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",rowStatus:R?"ARCHIVED":"NORMAL",visibility:U,pinned:k,creatorName:"Memo",resourceList:[],sourceType:"DAILY",webId:V,fileInfo:h})}}function _R(e){return e.replace(/^(-|\*|\d\.) (\d{1,2}:\d{2}(:\d{2})?)\s(.*)/g,"$4")}function BR(e){return HR(e)}const HR=e=>{var r;let t;return t="^(-|\\*|\\d\\.)\\s+\\[.\\]\\s(\\d{1,2}:\\d{2}(:\\d{2})?)\\s([\\w\\W]*)",(r=new RegExp(t,"").exec(e))==null?void 0:r[4]},UR=(e,t)=>{var a;let n;return e!=""&&/{TIME}/g.test(e)&&/{CONTENT}/g.test(e)?n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?"+e.replace(/{TIME}/g,"(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(\\:\\d{2})?").replace(/{CONTENT}/g,"(.*)"):n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(.*)",(a=new RegExp(n,"").exec(t))==null?void 0:a[6]},YR=(e,t)=>{var a;let n;return e!=""&&/{TIME}/g.test(e)&&/{CONTENT}/g.test(e)?n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?"+e.replace(/{TIME}/g,"(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(\\:\\d{2})?").replace(/{CONTENT}/g,"(.*)"):n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(.*)",(a=new RegExp(n,"").exec(t))==null?void 0:a[7]},zR=e=>{var r;const t="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?(\\d{1,2})\\:(\\d{2})\\:(\\d{2})(.*)";return(r=new RegExp(t,"").exec(e))==null?void 0:r[7]},VR=e=>{var t;return(t=/^\s*[\-\*]\s(\[(.{1})\])\s(.*)/.exec(e))==null?void 0:t[2]},mA=()=>Kg()?!0:(new x.Notice(E("Check if you opened Daily Notes Plugin Or Periodic Notes Plugin")),!1);async function gA(e,t){var l;if(!e)return t;const n=Le.getState().dailyNotesState.app||window.app,r=await PR(e,n);let a=x.moment(e.stat.ctime).format("YYYY/MM/DD HH:mm:ss");const o=n==null?void 0:n.metadataCache.getFileCache(e),i={frontmatter:(o==null?void 0:o.frontmatter)||{},tags:((l=o==null?void 0:o.frontmatter)==null?void 0:l.tags)||[]};await n.fileManager.processFrontMatter(e,c=>{if(c.id||(c.id=ut.randomId(16)),c.createdAt?a=x.moment(c.createdAt,"YYYY/MM/DD HH:mm:ss").isValid()?c.createdAt:a:c.createdAt=a,!r.trim())return t;const f=!!c.pinned,h=c.rowStatus&&c.rowStatus==="ARCHIVED",g=!!c.deletedAt,y=c.deletedAt?c.deletedAt:"",w=c.visibility?c.visibility:"PRIVATE",S=c.thinoType?c.thinoType:"JOURNAL",D=c.webId?c.webId:"",I=c.id?c.id:"",M=c.hasId?c.hasId:"",N=c.linkId?c.linkId:"",B=e.path,k="Memo",R="MULTI",L=[];return t.push({id:I,content:r,createdAt:a,updatedAt:a,deletedAt:g?x.moment(y,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",pinned:f,rowStatus:h?"ARCHIVED":"NORMAL",visibility:w,thinoType:S,hasId:M,linkId:N,path:B,creatorName:k,sourceType:R,resourceList:L,webId:D,fileInfo:i}),t})}async function fT(e,t){var I,M,N,B,k,R,L;if(!e)return t;const{vault:n,metadataCache:r}=Le.getState().dailyNotesState.app||window.app;let a;try{a=await n.read(e)}catch(_){console.error(_),a=await n.cachedRead(e)}if(!a)return;const o=x.moment(e.stat.ctime).format("YYYY/MM/DD HH:mm:ss"),i=x.moment(e.stat.mtime).format("YYYY/MM/DD HH:mm:ss"),l=e.path,c="Thino",f="FILE",h="",g="",y=[],w=r.getFileCache(e),S={frontmatter:(w==null?void 0:w.frontmatter)||{},tags:((I=w==null?void 0:w.frontmatter)==null?void 0:I.tags)||[]},D=jR(a);for(const _ of D){const V=_.metadata.match(/\d{4}\/\d{2}\/\d{2} \d{2}:\d{2}:\d{2}/g);if(!V)continue;const U=(N=(M=_.metadata.match(/id::([^\]]*)/g))==null?void 0:M[0])==null?void 0:N.replace("id::","");if(!U)continue;const Z=V?V[0]:o,Q=V?V[0]:i,G=_.metadata.match(/webId::([^\]]*)/g)?(k=(B=_.metadata.match(/webId::([^\]]*)/g))==null?void 0:B[0])==null?void 0:k.replace("webId::",""):"",re=_.metadata.contains("[pinned::true]"),de=_.metadata.contains("[archived::true]"),fe=_.metadata.contains("[deleted::"),$=(R=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").exec(_.metadata))==null?void 0:R[2],he=new RegExp(/\[(visibility|VISIBILITY)::("PROTECT"|"PUBLIC")\]/,"g").test(_.metadata)?"PUBLIC":"PRIVATE",se=(L=new RegExp(/\[(thinoType|THINOTYPE)::([^\]]*)\]/,"g").exec(_.metadata))==null?void 0:L[2];t.push({id:U,content:_.content,createdAt:Z,updatedAt:Q,deletedAt:fe?x.moment($,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",pinned:re,rowStatus:de?"ARCHIVED":"NORMAL",visibility:he,thinoType:se||"JOURNAL",hasId:h,linkId:g,path:l,creatorName:c,sourceType:f,resourceList:y,webId:G,fileInfo:S})}return t}async function vA(e,t){if(!e)return[];const n=Le.getState().dailyNotesState.settings,{vault:r}=Le.getState().dailyNotesState.app||window.app;if(await RR(n,e)===0)return;let o;try{o=await r.read(e)}catch(g){console.error(g),o=await r.cachedRead(e)}const{content:i,startLine:l}=OC(o,(n==null?void 0:n.ProcessContentTarget)==="whole"?"":n.ProcessEntriesBelow);let c="",f=0;if(n.DifferentInsertTarget&&(n==null?void 0:n.ProcessContentTarget)!=="whole"&&n.InsertAfterForTask&&!i.includes(n.InsertAfterForTask)){const{content:g,startLine:y}=OC(o,n.InsertAfterForTask);c=g,f=y}const h=[];PC(n,i,l,h,e),n.DifferentInsertTarget&&c&&PC(n,c,f,h,e),h.length!==0&&t.push(...h.sort((g,y)=>g.createdAt>y.createdAt?-1:1))}async function yA(e,t){const n=Le.getState().dailyNotesState.app||window.app;if(!(e instanceof x.TFile))return;let r;try{r=await n.vault.read(e)}catch(i){console.error(i),r=await n.vault.cachedRead(e)}if(!r)return;const a=JSON.parse(r),o=a==null?void 0:a.nodes;for(const i of o){if(i.type==="group"||i.createdAt===void 0||i.text.trim()==="")continue;const c=x.moment(i==null?void 0:i.createdAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"),f=x.moment(i==null?void 0:i.updatedAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"),h=i!=null&&i.deletedAt?x.moment(i==null?void 0:i.deletedAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",g=!!(i!=null&&i.pinned),y=i!=null&&i.archived?"ARCHIVED":"NORMAL",w=i!=null&&i.visibility?i==null?void 0:i.visibility:"PRIVATE",S=i!=null&&i.thinoType?i==null?void 0:i.thinoType:"JOURNAL",D=i!=null&&i.text?i==null?void 0:i.text:"",I=i!=null&&i.id?i==null?void 0:i.id:"",M=i!=null&&i.hasId?i==null?void 0:i.hasId:"",N=i!=null&&i.linkId?i==null?void 0:i.linkId:"",B=e.path,k="Memo",R="CANVAS",L=[],_=i!=null&&i.webId?i==null?void 0:i.webId:void 0;t.push({id:I,content:D,createdAt:c,updatedAt:f,deletedAt:h,pinned:g,rowStatus:y,visibility:w,thinoType:S,hasId:M,linkId:N,path:B,creatorName:k,sourceType:R,resourceList:L,webId:_,fileInfo:{frontmatter:{},tags:[]}})}}async function jC(e=[]){const t=[],n=[],r=Le.getState().dailyNotesState.app||app,{vault:a}=r,{settings:o}=Le.getState().dailyNotesState,i=r.loadLocalStorage("tokenForSync"),l=async(c,f)=>{for(const h of c)try{await f(h,t,o)}catch(g){console.error(g),new x.Notice(g)}};try{if(e.includes("CANVAS")){const c=WR(a);await l(c,yA)}}catch(c){console.error(c)}try{if(e.includes("MULTI")){const c=$R(a,r,o);await l(c,gA)}}catch(c){console.error(c)}try{if(e.includes("DAILY")){const c=await ZR(a);await l(c,vA)}}catch(c){console.error(c)}try{if(e.includes("FILE")||i){const c=qR(a,r,o);await l(c,fT)}}catch(c){console.error(c)}return{memos:t,commentMemos:n}}function WR(e){return e.getAllLoadedFiles().filter(t=>t instanceof x.TFile&&t.extension==="canvas"&&t.name.includes(".thino"))}function $R(e,t,n){const r=e.getMarkdownFiles(),a=r.filter(i=>{var l,c;return((l=i.parent)==null?void 0:l.path.includes(n.MemoOtherSaveLocation.MemoDefaultMultiFilePath.trim()))&&!((c=i.path)!=null&&c.endsWith("thino.md"))}),o=n.TagForMultiTypeFiles?r.filter(i=>{var l,c,f;return!((l=i.parent)!=null&&l.path.includes(n.MemoOtherSaveLocation.MemoDefaultMultiFilePath.trim())&&!((c=i.path)!=null&&c.endsWith("thino.md")))&&((f=x.getAllTags(t.metadataCache.getFileCache(i)))==null?void 0:f.contains("#"+n.TagForMultiTypeFiles.replace("#","")))}):[];return[...a,...o]}async function ZR(e){const t=mb();t===void 0&&new x.Notice(E("Please check your daily note plugin OR periodic notes plugin settings")+"folder path is empty or undefined"),e.getAbstractFileByPath(x.normalizePath(t))||new x.Notice(E("Failed to find daily notes folder"));const r=Ju();return Object.values(r).filter(a=>a instanceof x.TFile&&a.extension==="md")}function qR(e,t,n){const r=e.getMarkdownFiles(),a=r.filter(i=>i.name.trim().includes("thino")),o=n.TagForFileTypeFiles?r.filter(i=>{var l;return!i.name.trim().includes("thino")&&((l=x.getAllTags(t.metadataCache.getFileCache(i)))==null?void 0:l.contains("#"+n.TagForFileTypeFiles.replace("#","")))}):[];return[...a,...o]}const GR=async(e,t,n)=>{const r=await Rp(Le.getState().dailyNotesState.app)||[],a=r.find(l=>l.id===e),o={...a,title:t,querystring:n},i=r.findIndex(l=>l.id===e);return r[i]=o,await Av(Le.getState().dailyNotesState.app,r),[a]},JR="https://api.thino.pkmer.cn/test",_p=JR,KR="unknown",QR=/!\[(?<content>[^\]]+)\]\((?<link>[^)]+)\)/g;function XR(e){return e.substring(e.lastIndexOf(".")+1)}function e_(e){return{id:e.id,createdAt:Date.now().toString(),filename:e.id,type:`${XR(e.id)}`,size:e.size.toString()}}function t_(e){const t=e==null?void 0:e.matchAll(QR);return t?Array.from(t).map(n=>{var r;return e_({url:(r=n.groups)==null?void 0:r.link,id:KR,size:0,mtime:""})}).filter(n=>n.type!="html"):[]}function Fv(e){var t;return{id:e.id,createdAt:x.moment(e.ctime.toString(),"x").format("YYYY/MM/DD HH:mm:ss"),updatedAt:x.moment(e.mtime.toString(),"x").format("YYYY/MM/DD HH:mm:ss"),deletedAt:(t=e.ttime)!=null&&t.toString()?x.moment(e.ttime.toString(),"x").format("YYYY-MM-DD HH:mm:ss"):"",rowStatus:e.rowStatus,content:e.content,pinned:e.pinned,resourceList:t_(e.content),creatorName:"thino",sourceType:(e==null?void 0:e.thinoType)||"FILE",visibility:"PUBLIC",localId:e.originalId,deleted:!!e.dtime,thinoType:(e==null?void 0:e.thinoStatus)||"JOURNAL"}}async function n_(e){const n={url:`${_p}/thino/getThinos${e?`?since=${e}&includeDeleted=true`:""}`,method:"GET",headers:{Authorization:`Bearer ${Bp()}`}};return x.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to fetch memos: ${r.status}`);try{return r.json.payload.map(o=>Fv(o))}catch(a){console.error(`Error processing memo response: ${a}`)}}).catch(r=>(console.error(r),[]))}function Bp(){const e=Le.getState().dailyNotesState.app||app;return(e==null?void 0:e.loadLocalStorage("tokenForSync"))||""}async function N2(e){const t=`${_p}/thino/createThino`,n={content:e.content,thinoType:(e==null?void 0:e.thinoType)||"FILE",thinoStatus:(e==null?void 0:e.thinoStatus)||"JOURNAL",pinned:!1,rowStatus:"NORMAL",encrypted:!1},r={url:t,method:"POST",contentType:"application/json",body:JSON.stringify(n),headers:{Authorization:`Bearer ${Bp()}`}};return x.requestUrl(r).then(a=>{a.status>=400&&console.error(`Failed to create memo: ${a.status}`);try{const o=a.json;return Fv(o.payload)}catch(o){console.error(`Error processing memo creation response: ${o}`)}}).catch(a=>(console.error(a),null))}function r_(e){return{id:e.id,ctime:x.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").valueOf(),mtime:x.moment(e.updatedAt,"YYYY/MM/DD HH:mm:ss").valueOf(),ttime:e.deletedAt?x.moment(e.deletedAt,"YYYY/MM/DD HH:mm:ss").valueOf():void 0,rowStatus:e.rowStatus,content:e.content,pinned:e.pinned,encrypted:!1,thinoType:e.sourceType==="DAILY"?"DAILY":"FILE",thinoStatus:e.thinoType,tags:[]}}async function a_(e){const t=`${_p}/thino/createThinosByData`,n=e.map(a=>r_(a)),r={url:t,method:"POST",contentType:"application/json",body:JSON.stringify(n),headers:{Authorization:`Bearer ${Bp()}`}};return x.requestUrl(r).then(a=>{a.status>=400&&console.error(`Failed to create thinos: ${a.status}`);try{return a.json.payload.map(l=>Fv(l))}catch(o){console.error(`Error processing thinos creation response: ${o}`)}}).catch(a=>(console.error(a),[]))}async function SS(e){const n={url:`${_p}/thino/updateThinoById/${e.id}`,method:"POST",contentType:"application/json",body:JSON.stringify(e),headers:{Authorization:`Bearer ${Bp()}`}};return x.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to update memo: ${r.status}`);try{const a=r.json;return Fv(a.payload)}catch(a){console.error(`Error processing memo update response: ${a}`)}}).catch(r=>(console.error(r),null))}async function Xg(e){const n={url:`${_p}/thino/recoverThinoFromTrash/${e}`,method:"POST",headers:{Authorization:`Bearer ${Bp()}`}};return x.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to recover memo: ${r.status}`);try{const a=r.json;return Fv(a.payload)}catch(a){console.error(`Error processing memo recovery response: ${a}`)}}).catch(r=>(console.error(r),null))}async function A2(e){const n={url:`${_p}/thino/deleteThinoById/${e}`,method:"DELETE",headers:{Authorization:`Bearer ${Bp()}`}};return x.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to delete memo: ${r.status}`)}).catch(r=>(console.error(r),null))}function o_(e){return(e==null?void 0:e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))||e}function i_(e){const t=[];let n=e;for(;n.contains(`
`);){const r=n.indexOf(`
`);t.push(n.slice(0,r)),n=n.slice(r+1)}return t.push(n),t}async function s_({content:e,isList:t,name:n}){var N;const r=Le.getState().dailyNotesState.settings,a=x.moment(),o=ut.randomId(16),i=(r==null?void 0:r.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",l=n||`${a.format("YYYYMMDD")}-${o}`,c=`${i}/${l}.md`,f={id:o,content:e,deletedAt:"",path:c,createdAt:a.format("YYYY/MM/DD HH:mm:ss"),updatedAt:a.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"MULTI",fileInfo:{tags:[],frontmatter:{}}},h=ft.getState().app||window.app,{vault:g,fileManager:y}=h,w=g.getAbstractFileByPath(i);(!w||!(w instanceof x.TFolder))&&(new x.Notice(E("Folder not found for the given thino path, is creating a new folder")),await g.createFolder(i)),dt.setChangedByMemos(!0);let S;const D=h.vault.getFileByPath(c);D?S=await g.create(`${i}/${a.format("YYYYMMDD")}-${o}.md`,e):S=await g.create(c,e),await y.processFrontMatter(S,B=>{B.id=o,B.createdAt=a.format("YYYY/MM/DD HH:mm:ss"),B.updatedAt=a.format("YYYY/MM/DD HH:mm:ss"),B.thinoType=t?"JOURNAL":"TASK-TODO"}),(!n||D)&&(r!=null&&r.SetFileNameAfterCreate)&&h.fileManager.promptForFileRename(S);const I=h.metadataCache.getFileCache(S),M={tags:((N=I==null?void 0:I.frontmatter)==null?void 0:N.tags)||[],frontmatter:(I==null?void 0:I.frontmatter)||{}};return{...f,fileInfo:M}}async function l_({content:e,isList:t}){var B;const n=Le.getState().dailyNotesState.settings,r=x.moment(),a=ut.randomId(16),o=(n==null?void 0:n.MemoOtherSaveLocation.MemoDefaultSingleFilePath)||"basic.thino.md",i={id:a,content:e,deletedAt:"",path:o,createdAt:r.format("YYYY/MM/DD HH:mm:ss"),updatedAt:r.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"FILE",fileInfo:{tags:[],frontmatter:{}}},l=ft.getState().app,{vault:c}=l;let f=c.getAbstractFileByPath(o);(!f||!(f instanceof x.TFile))&&(new x.Notice(E("File not found for the given thino path, is creating a new file")),f=await c.create(o,""));const h=l.metadataCache.getFileCache(f),g={tags:((B=h==null?void 0:h.frontmatter)==null?void 0:B.tags)||[],frontmatter:(h==null?void 0:h.frontmatter)||{}};let y="";try{y=await c.read(f)||await c.cachedRead(f)}catch(k){console.error(k),new x.Notice(E("Failed to read current daily note, check if it exists."))}const w=y.indexOf(`# ${r.format("YYYY-MM-DD")}`);let S=y.indexOf(`
#`,w+1);S===-1&&(S=y.length);const D=`> [!thino] ${r.format("YYYY/MM/DD HH:mm:ss")} %% [id::${a}] [thinoType::${t?"JOURNAL":"TASK-TODO"}] %%`,I=e.replace(/\n/g,`
> `),M=`
${D}
> ${I}
`;let N;if(w===-1){const k=`# ${r.format("YYYY-MM-DD")}`;N=`${y.substring(0,S)}
${k}${M}
${y.substring(S)}`}else N=`${y.substring(0,S)}${M}${y.substring(S)}`;return setTimeout(async()=>{dt.setChangedByMemos(!0),await c.modify(f,N)},200),{...i,fileInfo:g}}async function LC(e){var N;const t=Le.getState().dailyNotesState.settings,n=x.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),r=e.id,a=(t==null?void 0:t.MemoOtherSaveLocation.MemoDefaultSingleFilePath)||"basic.thino.md",o={id:r,content:e.content,deletedAt:e.deletedAt||"",path:a,createdAt:n.format("YYYY/MM/DD HH:mm:ss"),updatedAt:n.format("YYYY/MM/DD HH:mm:ss"),thinoType:e.thinoType||"JOURNAL",hasId:"",linkId:"",pinned:e.pinned,visibility:"PUBLIC",rowStatus:e.rowStatus||"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"FILE",webId:e.id,fileInfo:e==null?void 0:e.fileInfo},i=ft.getState().app,{vault:l}=i;let c=l.getAbstractFileByPath(a);(!c||!(c instanceof x.TFile))&&(new x.Notice(E("File not found for the given thino path, is creating a new file")),c=await l.create(a,""));let f="";try{f=await l.read(c)||await l.cachedRead(c)}catch(B){console.error(B),new x.Notice(E("Failed to read current daily note, check if it exists."))}const h=i.metadataCache.getFileCache(c),g={tags:((N=h==null?void 0:h.frontmatter)==null?void 0:N.tags)||[],frontmatter:(h==null?void 0:h.frontmatter)||{}},y=f.indexOf(`# ${n.format("YYYY-MM-DD")}`);let w=f.indexOf(`
#`,y+1);w===-1&&(w=f.length);const S=`> [!thino] ${n.format("YYYY/MM/DD HH:mm:ss")} %% [id::${r}] [thinoType::JOURNAL]${e.rowStatus==="ARCHIVED"?" [archived::true]":""}${e.pinned===!0?" [pinned::true]":""}${e.deletedAt?` [deleted::${e.deletedAt}]`:""}${e.id?` [webId::${e.id}]`:""}  %%`,D=e.content.replace(/\n/g,`
> `),I=`
${S}
> ${D}
`;let M;if(y===-1){const B=`# ${n.format("YYYY-MM-DD")}`;M=`${f.substring(0,w)}
${B}${I}
${f.substring(w)}`}else M=`${f.substring(0,w)}${I}${f.substring(w)}`;return dt.setChangedByMemos(!0),await l.modify(c,M),{...o,fileInfo:g}}async function u_({content:e,isList:t}){const n=Le.getState().dailyNotesState.settings,r=(n==null?void 0:n.MemoOtherSaveLocation.MemoDefaultCanvasPath)||"basic.thino.canvas",a=x.moment(),o=ut.randomId(16),i={id:o,content:e,deletedAt:"",path:r,createdAt:a.format("YYYY/MM/DD HH:mm:ss"),updatedAt:a.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"CANVAS",fileInfo:{tags:[],frontmatter:{}}},l=ft.getState().app,{vault:c}=l,f=await OR(r,l);if(!f||!(f instanceof x.TFile)){new x.Notice(E("File not found for the given thino path, is creating a new file"));return}const h=await c.read(f),g=JSON.parse(h);if(g.nodes.find(I=>I.id===i.id))return;let w;g.nodes.length>0&&(w=[...g.nodes].reduce((I,M)=>{if(!I.createdAt)return M;const N=x.moment(I.createdAt,"YYYY/MM/DD HH:mm:ss"),B=x.moment(M.createdAt,"YYYY/MM/DD HH:mm:ss");return N.isAfter(B)?I:M}));const S=w?{x:w.x,y:w.y+100,width:w.width,height:w.height}:{x:0,y:0,width:200,height:100};g.nodes.push({...S,type:"text",id:o,text:e,deletedAt:"",createdAt:a.format("YYYY/MM/DD HH:mm:ss"),updatedAt:a.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[]}),dt.setChangedByMemos(!0);const D=JSON.stringify(g,null,2);return await c.modify(f,D),i}async function DS(e,t,n,r){var $,he;const{vault:a}=Le.getState().dailyNotesState.app||window.app,o=Le.getState().dailyNotesState.app||window.app,i=Le.getState().dailyNotesState.settings,l=o.vault.getConfig("useTab")===void 0||window.app.vault.getConfig("useTab")===!0,c=l?1:o.vault.getConfig("tabSize"),f=(l?"	":" ").repeat(c),h=e.split(`
`).join(`
`+f),g=n||x.moment(),{DifferentInsertTarget:y,InsertAfterForTask:w,InsertType:S}=i,D=g.format(i.DefaultTimePrefix||"HH:mm"),I=S==="end"?"":t?i.InsertAfter:y&&w||i.InsertAfter,M=o==null?void 0:o.loadLocalStorage("tokenForSync");let N="";try{!r&&e&&M&&i.startSync&&(N=(await N2({content:e,thinoType:"DAILY",thinoStatus:t?"JOURNAL":"TASK-TODO"})).id)}catch(se){console.error(se)}const B=t?"- ":"- [ ] ",k=i!=null&&i.DefaultMemoComposition?`${B}${($=i==null?void 0:i.DefaultMemoComposition)==null?void 0:$.replace(/{TIME}/g,D).replace(/{CONTENT}/g,(h.split(`
`).length>1||/^((-|\*|\d\.|>)\s|```)/g.test(h)?`
`+f:"")+h)}${h.split(`
`).length>1&&/((-|\*|\d\.|>)\s|```)/g.test(h.split(`
`)[h.split(`
`).length-1])&&N?`
`+f:" "}${N?`[webId::${N}]`:""}`:`${B}${D} ${h.split(`
`).length>1||/^((-|\*|\d\.|>)\s|```)/g.test(h)?`
`+f:""}${h}${h.split(`
`).length>1&&/((-|\*|\d\.|>)\s|```)/g.test(h.split(`
`)[h.split(`
`).length-1])&&N?`
`+f:" "}${N?`[webId::${N}]`:""}`,R=Ju(),L=pb(g,R),_="fake"+ut.randomId(16);let V=!1;const U=o.plugins.getPlugin("templater-obsidian");let Z;if(L?Z=L:(U!=null&&U.templater&&(U!=null&&U.settings.trigger_on_file_creation)&&(we.setWaitingForTemplater({origin:e,date:g,isList:t,id:_,type:N?"web":"local"}),V=!0),Z=await ut.createDailyNoteCheck(g)),!Z){new x.Notice(E("Failed to create daily note, check if it exists."));return}if(L||await ft.fechLocalDailyNotes(),U&&(U!=null&&U.templater)&&(U!=null&&U.settings.trigger_on_file_creation)&&V)return dt.setChangedByMemos(!0),{id:_,content:e,deletedAt:"",createdAt:g.format("YYYY/MM/DD HH:mm:ss"),updatedAt:g.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",path:Z.path,hasId:"",linkId:"",webId:N,pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"DAILY",fileInfo:{tags:[],frontmatter:{}}};let Q="";try{Q=await a.read(Z)||await a.cachedRead(Z)}catch(se){console.error(se),new x.Notice(E("Failed to read current daily note, check if it exists."))}const G=o.metadataCache.getFileCache(Z),re={tags:((he=G==null?void 0:G.frontmatter)==null?void 0:he.tags)||[],frontmatter:(G==null?void 0:G.frontmatter)||{}},de=await wA(I,k,Q);await a.modify(Z,de.content);const fe=de.posNum===-1?bA(de.content).length-(k.split(`
`).length-1)-1:de.posNum+1;return dt.setChangedByMemos(!0),{id:g.format("YYYYMMDDHHmm")+"00"+fe,content:e,deletedAt:"",createdAt:g.format("YYYY/MM/DD HH:mm:ss"),updatedAt:g.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",path:Z.path,hasId:"",linkId:"",webId:N,pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"DAILY",fileInfo:re}}async function RC(e){var fe;const{vault:t}=Le.getState().dailyNotesState.app||window.app,n=Le.getState().dailyNotesState.app||window.app,{DefaultMemoComposition:r,InsertAfter:a,DefaultTimePrefix:o,DifferentInsertTarget:i,InsertAfterForTask:l,InsertType:c}=Le.getState().dailyNotesState.settings;let f=(e.pinned?" [pinned::true]":"")+(e.rowStatus==="ARCHIVED"?" [archived::true]":"")+(e.visibility==="PRIVATE"?' [visibility::"PRIVATE"]':"");if(e.id){const $=" [webId::"+e.id+"]";f+=$}const h=x.moment();if(e.deletedAt){const $=" [deleted::"+h.format("YYYYMMDDHHmmss")+"]";f+=$}const g=n.vault.getConfig("useTab")===void 0||n.vault.getConfig("useTab")===!0,y=g?1:n.vault.getConfig("tabSize"),w=(g?"	":" ").repeat(y),S=e.content.split(`
`).join(`
`+w),D=x.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),I=D.format(o||"HH:mm"),M=!e.thinoType||e.thinoType==="JOURNAL"?"- ":e.thinoType==="TASK-TODO"?"- [ ] ":"- [x] ",N=r?`${M}${r==null?void 0:r.replace(/{TIME}/g,I).replace(/{CONTENT}/g,(S.split(`
`).length>1||/^((-|\*|\d\.|>)\s|```)/g.test(S)?`
`+w:"")+S)}${S.split(`
`).length>1&&/```/g.test(S.split(`
`)[S.split(`
`).length-1])&&f.trim()?`
`+w:" "}${f}`:`${M}${I} ${S.split(`
`).length>1||/^((-|\*|\d\.|>)\s|```)/g.test(S)?`
`+w:""}${S}${S.split(`
`).length>1&&/```/g.test(S.split(`
`)[S.split(`
`).length-1])&&f.trim()?`
`+w:" "}${f}`,B=Ju(),k=pb(D,B),R="fake"+ut.randomId(16);let L=!1;const _=n.plugins.getPlugin("templater-obsidian");let V;if(k?V=k:(_!=null&&_.templater&&(_!=null&&_.settings.trigger_on_file_creation)&&(we.setWaitingForTemplater({origin:e.content,date:D,isList:e.thinoType&&e.thinoType==="JOURNAL",id:R,type:"local"}),L=!0),V=await ut.createDailyNoteCheck(D)),!V){new x.Notice(E("Failed to create daily note, check if it exists.")),new x.Notice(E("Your content has been copied to clipboard, and inserted into the editor. Please try it again")),await navigator.clipboard.writeText(e.content);const $=n.workspace.getLeavesOfType("thino_view").first();n.workspace.trigger("send-to-thino",e.content,$);return}if(k||await ft.fechLocalDailyNotes(),_&&(_!=null&&_.templater)&&(_!=null&&_.settings.trigger_on_file_creation)&&L)return dt.setChangedByMemos(!0),{id:R,content:e.content,deletedAt:e.deletedAt??"",createdAt:D.format("YYYY/MM/DD HH:mm:ss"),updatedAt:D.format("YYYY/MM/DD HH:mm:ss"),thinoType:e.thinoType||"JOURNAL",path:V.path,hasId:"",linkId:"",pinned:e.pinned??!1,visibility:"PUBLIC",rowStatus:e.rowStatus??"NORMAL",webId:e.webId||e.id,creatorName:"Thino",resourceList:[],sourceType:"DAILY",fileInfo:(e==null?void 0:e.fileInfo)||{tags:[],frontmatter:{}}};const U=n.metadataCache.getFileCache(V),Z={tags:((fe=U==null?void 0:U.frontmatter)==null?void 0:fe.tags)||[],frontmatter:(U==null?void 0:U.frontmatter)||{}};let Q="";try{Q=await t.read(V)||await t.cachedRead(V)}catch($){console.error($),new x.Notice(E("Failed to read current daily note, check if it exists."))}const G=c==="end"?"":e.thinoType&&i&&l||a,re=await wA(G,N,Q);await t.modify(V,re.content);const de=re.posNum===-1?bA(re.content).length-1:re.posNum+1;return dt.setChangedByMemos(!0),{id:D.format("YYYYMMDDHHmm")+"00"+de,content:e.content,deletedAt:e.deletedAt??"",createdAt:D.format("YYYY/MM/DD HH:mm:ss"),updatedAt:D.format("YYYY/MM/DD HH:mm:ss"),thinoType:e.thinoType||"JOURNAL",path:V.path,hasId:"",linkId:"",pinned:e.pinned??!1,visibility:"PUBLIC",rowStatus:e.rowStatus??"NORMAL",webId:e.id,creatorName:"Thino",resourceList:[],sourceType:"DAILY",fileInfo:Z}}async function wA(e,t,n){const r=new RegExp(`(s*?)${await o_(e)}(s*?)`),a=i_(n),o=a.findIndex(f=>r.test(f)),i=(e==null?void 0:e.trim())===""?!0:o===-1;i&&console.error("unable to find insert after line in file.");const l=a.slice(o+1).findIndex(f=>/(^#+ |---|^\^[a-zA-Z0-9-]{2,}$)/.test(f)),c=l!==-1;if(c){let f;for(let h=l+o;h>o;h--)if(!/^[\s\n ]*$/.test(a[h])){f=h;break}return f||(f=o),await _C(t,n,i?-1:f,c)}else return await _C(t,n,a.length-1,c)}async function _C(e,t,n,r){if(n<-1)throw new Error("Invalid position");if(n===-1)return{content:`${t}
${e}`,posNum:-1};const a=t.split(`
`),o=a.slice(0,n+1).join(`
`),i=a.slice(n+1).join(`
`),l=i.trim().length>0;return{content:`${o}${!l&&!r||!o.endsWith(`
`)?`
`:""}${e}${(l||r?`
`:"")+i}`,posNum:n}}const bA=e=>e.split(/\r?\n/);async function c_(e){const t=Le.getState().dailyNotesState.app,n=t.vault.getAbstractFileByPath(e.path);if(!(n instanceof x.TFile)){new x.Notice(E("File not found for the given thino path"));return}await t.vault.delete(n)}async function d_(e){const t=Le.getState().dailyNotesState.app,n=t.vault.getAbstractFileByPath(e.path);if(!(n instanceof x.TFile)){new x.Notice(E("File not found for the given thino path"));return}const a=(await t.vault.read(n)).split(`
`),o=a.findIndex(c=>c.includes(e.id));if(o===-1){new x.Notice(E("Thino not found"));return}const i=a.findIndex((c,f)=>f>o&&c.trim()==="");i===-1?a.splice(o,a.length-o):a.splice(o,i-o);const l=a.join(`
`);if(!l){new x.Notice(E("Thino not found"));return}dt.setChangedByMemos(!0),await t.vault.modify(n,l)}async function f_(e){const t=Le.getState().dailyNotesState.app,n=t.metadataCache.getFirstLinkpathDest("",e.path);if(!n){new x.Notice(E("File not found for the given thino path"));return}const r=await t.vault.read(n),a=JSON.parse(r),o=a.nodes,i=o.findIndex(h=>h.id===e.id);if(i===-1){new x.Notice(E("Thino not found"));return}o.splice(i,1);const l=a.edges;l.filter(h=>h.fromNode===e.id||h.toNode===e.id).forEach(h=>{const g=l.findIndex(y=>y.id===h.id);g!==-1&&l.splice(g,1)}),dt.setChangedByMemos(!0);const f=JSON.stringify(a,null,2);await t.vault.modify(n,f)}async function h_(e){mA()||new x.Notice(E("If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again."),5e3);const{vault:t,metadataCache:n}=Le.getState().dailyNotesState.app,r=e.path,a=t.getAbstractFileByPath(r);if(!a){new x.Notice(E("Please check your daily note plugin OR periodic notes plugin settings"));return}const o=await t.read(a),i=o.split(`
`),l=n.getFileCache(a),c=(l==null?void 0:l.listItems)||[],f=parseInt(e.id.slice(14));let h=f;function g(D,I){const M=[];for(const N in I)I[N]===D&&M.push(parseInt(N),...g(parseInt(N),I));return M}const y=k2(c),w=c.find(D=>D.position.start.line===f),S=g(f,y);if(S.length>0){const D=S.map(I=>{const M=c.find(N=>N.position.start.line===I);return M?M.position.end.line:-1});h=Math.max(...D,w.position.end.line)}else h=w.position.end.line;if(!o){new x.Notice(E("Thino not found"));return}dt.setChangedByMemos(!0),i.splice(f,h-f+1),await t.modify(a,i.join(`
`))}async function p_(){const{vault:e,metadataCache:t}=Le.getState().dailyNotesState.app,n=Le.getState().dailyNotesState.settings,a=mb()+"/"+n.DeleteFileName+".md",o=[],i=t.getFirstLinkpathDest("",a);if(i instanceof x.TFile){let l=await e.read(i),c=m_(l);if(c.length===0)return o;for(let f=0;f<c.length;f++){const h=c[f];if(/- /.test(h)){const y=g_(h).slice(0,13),w=x.moment(y,"YYYYMMDDHHmmss"),S=y_(c[f]),D=x.moment(S.slice(0,13),"YYYYMMDDHHmmss"),I=v_(c[f]);o.push({id:S,content:I,user_id:1,createdAt:w.format("YYYY/MM/DD HH:mm:SS"),updatedAt:w.format("YYYY/MM/DD HH:mm:SS"),deletedAt:D})}else continue}c=null,l=null}return o}const m_=e=>e.split(/\r?\n/),g_=e=>{var t;return(t=/^- (\d{14})(\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[1]},v_=e=>{var t;return(t=/^- (\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[2]},y_=e=>{var t;return(t=/^- (\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[4]};async function w_(e){const t=await Rp(Le.getState().dailyNotesState.app)||[],n=t.findIndex(r=>r.id===e);t.splice(n,1),await Av(Le.getState().dailyNotesState.app,t)}const b_=async e=>{const{app:t}=Le.getState().dailyNotesState,n=await Rp(t)||[],r=n.find(a=>a.id===e);if(r){const a=x.moment().format("YYYY/MM/DD HH:mm:ss");return r.pinnedAt=a,await Av(t,n),a}else{new x.Notice(E("Query not found"));return}},S_=async e=>{const{app:t}=Le.getState().dailyNotesState,n=await Rp(t)||[],r=n.find(a=>a.id===e);if(r){r.pinnedAt="",await Av(t,n);return}else{new x.Notice(E("Query not found"));return}};function D_(e,t){const n=/%%(.*?)%%/,r=e.match(n);if(!r)return e;const a=r[1].trim(),o={};a.split(" ").forEach(l=>{const[c,f]=l.slice(1,-1).split("::");o[c]=f});for(const l of Object.keys(t))if(l!=="id"&&l!=="content"){if(l==="rowStatus"&&t.rowStatus==="ARCHIVED"){o.archived="true";continue}else if(l==="rowStatus"&&t.rowStatus==="NORMAL"){delete o.archived;continue}if(l==="deleted"&&t.deleted){const c=x.moment().format("YYYYMMDDHHmmss");o.deleted=c}else typeof t[l]=="boolean"?t[l]?o[l]="true":delete o[l]:t[l]&&(typeof t[l]=="string"||typeof t[l]=="boolean")&&(o[l]=t[l])}const i=Object.entries(o).map(([l,c])=>`[${l}::${c}]`).join(" ");return e.replace(n,`%% ${i} %%`)}async function js(e,t){if(!e.sourceType||e.sourceType!=="MULTI")return e;const{vault:n,fileManager:r}=Le.getState().dailyNotesState.app,a=n.getAbstractFileByPath(e.path);if(!a)return e;const o=x.moment();if(await r.processFrontMatter(a,i=>{(t.pinned!==void 0||t.thinoType||t.rowStatus||t.visibility||t.deleted)&&dt.setChangedByMemos(!0),t.id&&(i.id=t.id),t.thinoType&&(i.thinoType=t.thinoType),t.rowStatus&&(i.rowStatus=t.rowStatus),t.visibility&&(i.visibility=t.visibility),t.webId&&(i.webId=t.webId),t.pinned!==void 0&&(i.pinned=t.pinned),t.deleted!==void 0&&(i.deletedAt=t.deleted?o.format("YYYY/MM/DD HH:mm:ss"):""),i.createdAt||(i.createdAt=o.format("YYYY/MM/DD HH:mm:ss")),i.updatedAt=o.format("YYYY/MM/DD HH:mm:ss")}),t.content){const i=await n.read(a);let l=i;const c=t.content.replace(/\$/g,"$$$$");l=i.replace(e.content,c),await n.modify(a,l)}return dt.setChangedByMemos(!0),{...e,id:t.id||e.id,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt||o.format("YYYY/MM/DD HH:mm:ss"),updatedAt:x.moment().format("YYYY/MM/DD HH:mm:ss"),content:t.content||e.content,rowStatus:t.rowStatus||e.rowStatus,visibility:t.visibility||e.visibility,pinned:t.pinned!==void 0?t.pinned:e.pinned,webId:t.webId||e.webId,deletedAt:t.deleted?o.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function Rl(e,t){if(!e.sourceType||e.sourceType!=="FILE")return e;const{vault:n}=Le.getState().dailyNotesState.app,r=n.getAbstractFileByPath(e.path);if(!r)return e;const a=x.moment();let o="";try{o=await n.read(r)}catch(M){console.error(M),o=await n.cachedRead(r)}const i=o.split(/\r?\n/),l=i.findIndex(M=>M.includes("id::"+e.id)||M.includes("Id::"+e.id)||e.webId&&M.includes(e.webId)),c=i[l];if(!c)return e;const f=D_(c,t);if(!c)return e;const h=f+`
`,g=i.findIndex((M,N)=>N>l&&M.trim()==="");let y="";g===-1&&(y=i.slice(l+1).join(`
`)),g!==-1&&(y=i.slice(l+1,g).join(`
`));let w=y;t!=null&&t.content&&(w=t.content.split(/\r?\n/).map(k=>"> "+k).join(`
`));const D=(h+w).split(/\r?\n/);i.splice(l,g!==-1?g-l:i.length-l,...D);const I=i.join(`
`);return await n.modify(r,I),dt.setChangedByMemos(!0),{...e,id:t.id||e.id,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt||a.format("YYYY/MM/DD HH:mm:ss"),updatedAt:x.moment().format("YYYY/MM/DD HH:mm:ss"),content:t.content||e.content,rowStatus:t.rowStatus||e.rowStatus,visibility:t.visibility||e.visibility,pinned:t.pinned!==void 0?t.pinned:e.pinned,webId:t.webId||e.webId,deletedAt:t.deleted?a.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function _l(e,t){if(!e.sourceType||e.sourceType!=="CANVAS")return e;const{vault:n}=Le.getState().dailyNotesState.app,r=n.getAbstractFileByPath(e.path);if(!r)return e;const a=await n.read(r),o=JSON.parse(a),i=o.nodes.find(f=>f.id===e.id);if(!i)return e;t.content&&(i.text=t.content),t.thinoType&&(i.thinoType=t.thinoType),t.rowStatus&&(i.rowStatus=t.rowStatus),t.visibility&&(i.visibility=t.visibility),t.pinned!==void 0&&(i.pinned=t.pinned),t.webId&&(i.webId=t.webId);const l=x.moment();t.deleted!==void 0&&(i.deletedAt=t.deleted?l.format("YYYY/MM/DD HH:mm:ss"):""),i.updatedAt=l.format("YYYY/MM/DD HH:mm:ss");const c=JSON.stringify(o,null,2);return await n.modify(r,c),dt.setChangedByMemos(!0),{...e,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt,updatedAt:x.moment().format("YYYY/MM/DD HH:mm:ss"),content:t.content??e.content,rowStatus:t.rowStatus??e.rowStatus,visibility:t.visibility??e.visibility,pinned:t.pinned??e.pinned,webId:t.webId??e.webId,deletedAt:t.deleted?l.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}function SA(e,t){const n=[];for(const r in t)t[r]===e&&n.push(parseInt(r),...SA(parseInt(r),t));return n}async function Bl(e,t){var G;mA()||new x.Notice(E("If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again."));const{vault:n,metadataCache:r}=Le.getState().dailyNotesState.app,a=Le.getState().dailyNotesState.app,{settings:o}=Le.getState().dailyNotesState,i=e.id.toString().slice(0,14),l=x.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(x.moment(i,"YYYYMMDDHHmmss"))?x.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"):x.moment(i,"YYYYMMDDHHmmss"),c=x.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(l,"day"),f=e.path,h=n.getAbstractFileByPath(f)||n.getAbstractFileByPath(e.path);if(!h)return new x.Notice(E("Please check your daily note plugin OR periodic notes plugin settings")),e;const y=(await n.read(h)).split(`
`),w=r.getFileCache(h),S=(w==null?void 0:w.listItems)||[];if(S.length===0)return new x.Notice(E("Thino not found")),e;const D=parseInt(e.id.slice(14));let I=D;const M=k2(S),N=S.find(re=>re.position.start.line===D);if(!N)return new x.Notice(E("Thino not found")),e;const B=SA(D,M);if(B.length>0){const re=B.map(de=>{const fe=S.find($=>$.position.start.line===de);return fe?fe.position.end.line:-1});I=Math.max(...re,N.position.end.line)}else I=N.position.end.line;const k=y.slice(D,I+1);let R=k.join(`
`);const L=c?x.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm"):(parseInt(e.id.toString().slice(10,12))+24).toString()+":"+e.id.toString().slice(12,14);if(!R)return new x.Notice(E("Thino not found")),e;const _=a.vault.getConfig("useTab")===void 0||app.vault.getConfig("useTab")===!0,V=_?1:a.vault.getConfig("tabSize"),U=(_?"	":" ").repeat(V);let Z=L;if(o.DefaultTimePrefix!=="HH:mm"&&(Z=x.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format(o.DefaultTimePrefix)),t.content){const re=e.thinoType==="TASK-TODO"?"- [ ] ":e.thinoType==="TASK-DONE"?"- [x] ":e.thinoType.startsWith("TASK")?`- [${e.thinoType.slice(5)}] `:"- ",de=(e.pinned?" [pinned::true]":"")+(e.deletedAt?` [deleted::${e.deletedAt}]`:"")+(e.rowStatus==="ARCHIVED"?" [archived::true]":"")+(e.webId?" [webId::"+e.webId+"]":""),fe=t.content.trim().split(`
`)[t.content.trim().split(`
`).length-1].trim(),$=e.hasId&&t.content.trim().split(`
`).length>1&&new RegExp(/(-|\*|\d{1,2}\.)\s/g).test(fe)?" ^"+e.hasId:" ";R=`${re}${Z}${$}${t.content.trim().split(`
`).length>1||/^((-|\*|\d\.|>)\s|```)/g.test(t.content)?`
`+U:""}${t.content.trim().split(`
`).join(`
`+U)}${/((-|\*|\d\.|>)\s|```)/g.test(t.content.split(`
`)[t.content.split(`
`).length-1])?`
`+U:" "}${de.trim()}`}if(t.thinoType){const re=t.thinoType==="TASK-TODO"?"- [ ] ":t.thinoType==="TASK-DONE"?"- [x] ":t.thinoType.startsWith("TASK")?`- [${t.thinoType.slice(5)}] `:"- ";R=R.replace(/^((- \[.\] )|((-|\*) ))/,re)}if(t.rowStatus){const re=t.rowStatus==="ARCHIVED"?"[archived::"+(t.rowStatus==="ARCHIVED"?"true":"false")+"]":"";R=R.includes("[archived::")?R.replace(/\[archived::(true|false)\]/,re):R+`${/((-|\*|\d\.|>)\s|```)/g.test(R.split(`
`)[R.split(`
`).length-1])?`
`+U:" "}`+re}if(t.visibility){const re='[visibility::"'+t.visibility+'"]';R=R.includes("[visibility::")?R.replace(/\[visibility::"(PUBLIC|PROTECTED)"\]/g,re):R+`${/((-|\*|\d\.|>)\s|```)/g.test(R.split(`
`)[R.split(`
`).length-1])?`
`+U:" "}`+re}if(t.pinned!==void 0){const re=t.pinned?"[pinned::"+(t.pinned?"true":"false")+"]":"";R=R.includes("[pinned::")?R.replace(/\[pinned::(true|false)\]/,t.pinned===!1?"":re):R+`${/((-|\*|\d\.|>)\s|```)/g.test(R.split(`
`)[R.split(`
`).length-1])?`
`+U:" "}`+re}if(t.webId!==void 0){const re="[webId::"+t.webId+"]";R=R.includes("[webId::")?R.replace(/\[webId::([^\]]+)\]/,t.webId===""?"":re):R+`${/((-|\*|\d\.|>)\s|```)/g.test(R.split(`
`)[R.split(`
`).length-1])?`
`+U:" "}`+re}const Q=x.moment();if(t.deleted!==void 0){const re="[deleted::"+Q.format("YYYYMMDDHHmmss")+"]";t.deleted?(R=R.replace(/\[deleted::([^\]]+)\]/,""),R=R+`${/((-|\*|\d\.|>)\s|```)/g.test(R.split(`
`)[R.split(`
`).length-1])?`
`+U:" "}`+re):t.deleted===!1&&(R=R.replace(/\[deleted::([^\]]+)\]/,""))}if(e.hasId&&((G=t.content)==null?void 0:G.split(`
`).length)===1){const re=" ^"+e.hasId;R=R.trim().replace(/\s\^([0-9a-zA-Z-]+)($|\n)/g,"")+`${/((-|\*|\d\.|>)\s|```)/g.test(R.split(`
`)[R.split(`
`).length-1])?`
`+U:" "}`+re}return R!==k.join(`
`)?(y.splice(D,I-N.position.start.line+1,R.trim()),await n.modify(h,y.join(`
`)),dt.setChangedByMemos(!0),{...e,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt,updatedAt:x.moment().format("YYYY/MM/DD HH:mm:ss"),content:t.content??e.content,rowStatus:t.rowStatus??e.rowStatus,visibility:t.visibility??e.visibility,pinned:t.pinned??e.pinned,webId:t.webId??e.webId,deletedAt:t.deleted?Q.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}):e}async function T_(e,t,n){var M;const{vault:r,metadataCache:a}=Le.getState().dailyNotesState.app||window.app,o=r.getFileByPath(e);if(!o)return;const i=((M=a.getFileCache(o))==null?void 0:M.listItems)||[],l=k2(i),c=[],f=r.getConfig("useTab")===void 0||app.vault.getConfig("useTab")===!0,h=f?1:r.getConfig("tabSize"),g=(f?"	":" ").repeat(h);function y(N,B){const k=[];for(const R in B)B[R]===N&&k.push(parseInt(R),...y(parseInt(R),B));return k}const w=x.moment(),S=t.map(N=>{const B=i.find(_=>_.position.start.line===parseInt(N.id.slice(14))),R=y(parseInt(N.id.slice(14)),l).map(_=>{const V=i.find(U=>U.position.start.line===_);return V?V.position.end.line:-1}),L=Math.max(...R,B.position.end.line);return{id:N.id,start:B.position.start.line,end:L}}),I=(await r.read(o)).split(`
`);return S.forEach(N=>{const k=I.slice(N.start,N.end+1).join(`
`),L=k.split(`
`)[k.split(`
`).length-1].trim();let _=k;if(n==="delete"){const V="[deleted::"+w.format("YYYYMMDDHHmmss")+"]";_=_.replace(/\[deleted::([^\]]+)\]/,""),_=k+`${k.split(`
`).length>1&&/```/g.test(L)?`
`+g:" "}`+V}if(n==="restoreFromDelete"&&(_=_.replace(/ ?\[deleted::([^\]]+)\]/,"")),n==="archive"){const V="[archived::true]";_=_.includes("[archived::")?_.replace(/\[archived::(true|false)\]/,V):_+`${_.split(`
`).length>1&&/```/g.test(L)?`
`+g:" "}`+V}n==="restoreFromArchive"&&(_=_.replace(/ ?\[archived::(true|false)\]/,"")),n==="deleteForever"?I.splice(N.start,N.end-N.start+1):I.splice(N.start,N.end-N.start+1,_),c.push({...t.find(V=>V.id===N.id),deletedAt:n==="delete"?w.format("YYYY/MM/DD HH:mm:ss"):"",rowStatus:n==="archive"?"ARCHIVED":"NORMAL"})}),await r.modify(o,I.join(`
`)),dt.setChangedByMemos(!0),c}const I_=e=>{switch(e==null?void 0:e.sourceType){case"CANVAS":return _l(e,{id:e.id,pinned:!0});case"DAILY":return Bl(e,{id:e.id,pinned:!0});case"MULTI":return js(e,{id:e.id,pinned:!0});case"FILE":return Rl(e,{id:e.id,pinned:!0})}},E_=e=>{switch(e==null?void 0:e.sourceType){case"CANVAS":return _l(e,{id:e.id,pinned:!1});case"DAILY":return Bl(e,{id:e.id,pinned:!1});case"MULTI":return js(e,{id:e.id,pinned:!1});case"FILE":return Rl(e,{id:e.id,pinned:!1})}};var hT;(e=>{async function t(D){return await jC(D)}e.getMyMemos=t;async function n(D){return await jC([D])}e.updateSpecificTypeMemo=n;function r(){return p_()}e.getMyDeletedMemos=r;function a(D){const I=we.getMemoById(D);if(I)switch(I==null?void 0:I.sourceType){case"DAILY":return Bl(I,{id:I.id,deleted:!1});case"CANVAS":return _l(I,{id:I.id,deleted:!1});case"MULTI":return js(I,{id:I.id,deleted:!1});case"FILE":return Rl(I,{id:I.id,deleted:!1})}}e.restoreMemo=a;function o(D){return d_(D)}e.deleteMemoInSingleFile=o;function i(D){return c_(D)}e.deleteMemoInMultiFiles=i;function l(D){return h_(D)}e.deleteMemoInDailyNote=l;function c(D){return f_(D)}e.deleteMemoInCanvas=c;function f(){return kR()}e.getMyQueries=f;async function h(D,I){return await AR(D,I)}e.createQuery=h;function g(D,I,M){return GR(D,I,M)}e.updateQuery=g;function y(D){return w_(D)}e.deleteQueryById=y;function w(D){return b_(D)}e.pinQuery=w;function S(D){return S_(D)}e.unpinQuery=S})(hT||(hT={}));const Ko=hT;var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});class Of extends Error{}class C_ extends Of{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class x_ extends Of{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class M_ extends Of{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class jg extends Of{}class DA extends Of{constructor(t){super(`Invalid unit ${t}`)}}class Xi extends Of{}class Uc extends Of{constructor(){super("Zone is an abstract class")}}const gt="numeric",zs="short",Mi="long",xw={year:gt,month:gt,day:gt},TA={year:gt,month:zs,day:gt},k_={year:gt,month:zs,day:gt,weekday:zs},IA={year:gt,month:Mi,day:gt},EA={year:gt,month:Mi,day:gt,weekday:Mi},CA={hour:gt,minute:gt},xA={hour:gt,minute:gt,second:gt},MA={hour:gt,minute:gt,second:gt,timeZoneName:zs},kA={hour:gt,minute:gt,second:gt,timeZoneName:Mi},NA={hour:gt,minute:gt,hourCycle:"h23"},AA={hour:gt,minute:gt,second:gt,hourCycle:"h23"},FA={hour:gt,minute:gt,second:gt,hourCycle:"h23",timeZoneName:zs},OA={hour:gt,minute:gt,second:gt,hourCycle:"h23",timeZoneName:Mi},PA={year:gt,month:gt,day:gt,hour:gt,minute:gt},jA={year:gt,month:gt,day:gt,hour:gt,minute:gt,second:gt},LA={year:gt,month:zs,day:gt,hour:gt,minute:gt},RA={year:gt,month:zs,day:gt,hour:gt,minute:gt,second:gt},N_={year:gt,month:zs,day:gt,weekday:zs,hour:gt,minute:gt},_A={year:gt,month:Mi,day:gt,hour:gt,minute:gt,timeZoneName:zs},BA={year:gt,month:Mi,day:gt,hour:gt,minute:gt,second:gt,timeZoneName:zs},HA={year:gt,month:Mi,day:gt,weekday:Mi,hour:gt,minute:gt,timeZoneName:Mi},UA={year:gt,month:Mi,day:gt,weekday:Mi,hour:gt,minute:gt,second:gt,timeZoneName:Mi};class Ov{get type(){throw new Uc}get name(){throw new Uc}get ianaName(){return this.name}get isUniversal(){throw new Uc}offsetName(t,n){throw new Uc}formatOffset(t,n){throw new Uc}offset(t){throw new Uc}equals(t){throw new Uc}get isValid(){throw new Uc}}let TS=null;class yb extends Ov{static get instance(){return TS===null&&(TS=new yb),TS}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:n,locale:r}){return zA(t,n,r)}formatOffset(t,n){return zg(this.offset(t),n)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let aw={};function A_(e){return aw[e]||(aw[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),aw[e]}const F_={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function O_(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,a,o,i,l,c,f,h]=r;return[i,a,o,l,c,f,h]}function P_(e,t){const n=e.formatToParts(t),r=[];for(let a=0;a<n.length;a++){const{type:o,value:i}=n[a],l=F_[o];o==="era"?r[l]=i:xn(l)||(r[l]=parseInt(i,10))}return r}let D0={};class zu extends Ov{static create(t){return D0[t]||(D0[t]=new zu(t)),D0[t]}static resetCache(){D0={},aw={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=zu.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:n,locale:r}){return zA(t,n,r,this.name)}formatOffset(t,n){return zg(this.offset(t),n)}offset(t){const n=new Date(t);if(isNaN(n))return NaN;const r=A_(this.name);let[a,o,i,l,c,f,h]=r.formatToParts?P_(r,n):O_(r,n);l==="BC"&&(a=-Math.abs(a)+1);const y=P2({year:a,month:o,day:i,hour:c===24?0:c,minute:f,second:h,millisecond:0});let w=+n;const S=w%1e3;return w-=S>=0?S:1e3+S,(y-w)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let BC={};function j_(e,t={}){const n=JSON.stringify([e,t]);let r=BC[n];return r||(r=new Intl.ListFormat(e,t),BC[n]=r),r}let pT={};function mT(e,t={}){const n=JSON.stringify([e,t]);let r=pT[n];return r||(r=new Intl.DateTimeFormat(e,t),pT[n]=r),r}let gT={};function L_(e,t={}){const n=JSON.stringify([e,t]);let r=gT[n];return r||(r=new Intl.NumberFormat(e,t),gT[n]=r),r}let vT={};function R_(e,t={}){const{base:n,...r}=t,a=JSON.stringify([e,r]);let o=vT[a];return o||(o=new Intl.RelativeTimeFormat(e,t),vT[a]=o),o}let Lg=null;function __(){return Lg||(Lg=new Intl.DateTimeFormat().resolvedOptions().locale,Lg)}function B_(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const n=e.indexOf("-u-");if(n===-1)return[e];{let r,a;try{r=mT(e).resolvedOptions(),a=e}catch{const c=e.substring(0,n);r=mT(c).resolvedOptions(),a=c}const{numberingSystem:o,calendar:i}=r;return[a,o,i]}}function H_(e,t,n){return(n||t)&&(e.includes("-u-")||(e+="-u"),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`)),e}function U_(e){const t=[];for(let n=1;n<=12;n++){const r=At.utc(2016,n,1);t.push(e(r))}return t}function Y_(e){const t=[];for(let n=1;n<=7;n++){const r=At.utc(2016,11,13+n);t.push(e(r))}return t}function T0(e,t,n,r,a){const o=e.listingMode(n);return o==="error"?null:o==="en"?r(t):a(t)}function z_(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class V_{constructor(t,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:a,floor:o,...i}=r;if(!n||Object.keys(i).length>0){const l={useGrouping:!1,...r};r.padTo>0&&(l.minimumIntegerDigits=r.padTo),this.inf=L_(t,l)}}format(t){if(this.inf){const n=this.floor?Math.floor(t):t;return this.inf.format(n)}else{const n=this.floor?Math.floor(t):O2(t,3);return Xr(n,this.padTo)}}}class W_{constructor(t,n,r){this.opts=r;let a;if(t.zone.isUniversal){const i=-1*(t.offset/60),l=i>=0?`Etc/GMT+${i}`:`Etc/GMT${i}`;t.offset!==0&&zu.create(l).valid?(a=l,this.dt=t):(a="UTC",r.timeZoneName?this.dt=t:this.dt=t.offset===0?t:At.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="system"?this.dt=t:(this.dt=t,a=t.zone.name);const o={...this.opts};o.timeZone=o.timeZone||a,this.dtf=mT(n,o)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class $_{constructor(t,n,r){this.opts={style:"long",...r},!n&&YA()&&(this.rtf=R_(t,r))}format(t,n){return this.rtf?this.rtf.format(t,n):uB(n,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,n){return this.rtf?this.rtf.formatToParts(t,n):[]}}class ur{static fromOpts(t){return ur.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,n,r,a=!1){const o=t||Qr.defaultLocale,i=o||(a?"en-US":__()),l=n||Qr.defaultNumberingSystem,c=r||Qr.defaultOutputCalendar;return new ur(i,l,c,o)}static resetCache(){Lg=null,pT={},gT={},vT={}}static fromObject({locale:t,numberingSystem:n,outputCalendar:r}={}){return ur.create(t,n,r)}constructor(t,n,r,a){const[o,i,l]=B_(t);this.locale=o,this.numberingSystem=n||i||null,this.outputCalendar=r||l||null,this.intl=H_(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=z_(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&n?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:ur.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,n=!1,r=!0){return T0(this,t,r,$A,()=>{const a=n?{month:t,day:"numeric"}:{month:t},o=n?"format":"standalone";return this.monthsCache[o][t]||(this.monthsCache[o][t]=U_(i=>this.extract(i,a,"month"))),this.monthsCache[o][t]})}weekdays(t,n=!1,r=!0){return T0(this,t,r,GA,()=>{const a=n?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},o=n?"format":"standalone";return this.weekdaysCache[o][t]||(this.weekdaysCache[o][t]=Y_(i=>this.extract(i,a,"weekday"))),this.weekdaysCache[o][t]})}meridiems(t=!0){return T0(this,void 0,t,()=>JA,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[At.utc(2016,11,13,9),At.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(t,n=!0){return T0(this,t,n,KA,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[At.utc(-40,1,1),At.utc(2017,1,1)].map(a=>this.extract(a,r,"era"))),this.eraCache[t]})}extract(t,n,r){const a=this.dtFormatter(t,n),o=a.formatToParts(),i=o.find(l=>l.type.toLowerCase()===r);return i?i.value:null}numberFormatter(t={}){return new V_(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,n={}){return new W_(t,this.intl,n)}relFormatter(t={}){return new $_(this.intl,this.isEnglish(),t)}listFormatter(t={}){return j_(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let IS=null;class ko extends Ov{static get utcInstance(){return IS===null&&(IS=new ko(0)),IS}static instance(t){return t===0?ko.utcInstance:new ko(t)}static parseSpecifier(t){if(t){const n=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new ko(bb(n[1],n[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${zg(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${zg(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,n){return zg(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class Z_ extends Ov{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Gc(e,t){if(xn(e)||e===null)return t;if(e instanceof Ov)return e;if(q_(e)){const n=e.toLowerCase();return n==="default"?t:n==="local"||n==="system"?yb.instance:n==="utc"||n==="gmt"?ko.utcInstance:ko.parseSpecifier(n)||zu.create(e)}else return hf(e)?ko.instance(e):typeof e=="object"&&e.offset&&typeof e.offset=="number"?e:new Z_(e)}let HC=()=>Date.now(),UC="system",YC=null,zC=null,VC=null,WC=60,$C;class Qr{static get now(){return HC}static set now(t){HC=t}static set defaultZone(t){UC=t}static get defaultZone(){return Gc(UC,yb.instance)}static get defaultLocale(){return YC}static set defaultLocale(t){YC=t}static get defaultNumberingSystem(){return zC}static set defaultNumberingSystem(t){zC=t}static get defaultOutputCalendar(){return VC}static set defaultOutputCalendar(t){VC=t}static get twoDigitCutoffYear(){return WC}static set twoDigitCutoffYear(t){WC=t%100}static get throwOnInvalid(){return $C}static set throwOnInvalid(t){$C=t}static resetCaches(){ur.resetCache(),zu.resetCache()}}function xn(e){return typeof e>"u"}function hf(e){return typeof e=="number"}function wb(e){return typeof e=="number"&&e%1===0}function q_(e){return typeof e=="string"}function G_(e){return Object.prototype.toString.call(e)==="[object Date]"}function YA(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function J_(e){return Array.isArray(e)?e:[e]}function ZC(e,t,n){if(e.length!==0)return e.reduce((r,a)=>{const o=[t(a),a];return r&&n(r[0],o[0])===r[0]?r:o},null)[1]}function K_(e,t){return t.reduce((n,r)=>(n[r]=e[r],n),{})}function bp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Uu(e,t,n){return wb(e)&&e>=t&&e<=n}function Q_(e,t){return e-t*Math.floor(e/t)}function Xr(e,t=2){const n=e<0;let r;return n?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function qc(e){if(!(xn(e)||e===null||e===""))return parseInt(e,10)}function Xd(e){if(!(xn(e)||e===null||e===""))return parseFloat(e)}function F2(e){if(!(xn(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function O2(e,t,n=!1){const r=10**t;return(n?Math.trunc:Math.round)(e*r)/r}function Pv(e){return e%4===0&&(e%100!==0||e%400===0)}function Yg(e){return Pv(e)?366:365}function Mw(e,t){const n=Q_(t-1,12)+1,r=e+(t-n)/12;return n===2?Pv(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function P2(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function kw(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return t===4||r===3?53:52}function yT(e){return e>99?e:e>Qr.twoDigitCutoffYear?1900+e:2e3+e}function zA(e,t,n,r=null){const a=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(o.timeZone=r);const i={timeZoneName:t,...o},l=new Intl.DateTimeFormat(n,i).formatToParts(a).find(c=>c.type.toLowerCase()==="timezonename");return l?l.value:null}function bb(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0,a=n<0||Object.is(n,-0)?-r:r;return n*60+a}function VA(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Xi(`Invalid unit value ${e}`);return t}function Nw(e,t){const n={};for(const r in e)if(bp(e,r)){const a=e[r];if(a==null)continue;n[t(r)]=VA(a)}return n}function zg(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),a=e>=0?"+":"-";switch(t){case"short":return`${a}${Xr(n,2)}:${Xr(r,2)}`;case"narrow":return`${a}${n}${r>0?`:${r}`:""}`;case"techie":return`${a}${Xr(n,2)}${Xr(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function Sb(e){return K_(e,["hour","minute","second","millisecond"])}const X_=["January","February","March","April","May","June","July","August","September","October","November","December"],WA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],eB=["J","F","M","A","M","J","J","A","S","O","N","D"];function $A(e){switch(e){case"narrow":return[...eB];case"short":return[...WA];case"long":return[...X_];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const ZA=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],qA=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],tB=["M","T","W","T","F","S","S"];function GA(e){switch(e){case"narrow":return[...tB];case"short":return[...qA];case"long":return[...ZA];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const JA=["AM","PM"],nB=["Before Christ","Anno Domini"],rB=["BC","AD"],aB=["B","A"];function KA(e){switch(e){case"narrow":return[...aB];case"short":return[...rB];case"long":return[...nB];default:return null}}function oB(e){return JA[e.hour<12?0:1]}function iB(e,t){return GA(t)[e.weekday-1]}function sB(e,t){return $A(t)[e.month-1]}function lB(e,t){return KA(t)[e.year<0?0:1]}function uB(e,t,n="always",r=!1){const a={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(e)===-1;if(n==="auto"&&o){const g=e==="days";switch(t){case 1:return g?"tomorrow":`next ${a[e][0]}`;case-1:return g?"yesterday":`last ${a[e][0]}`;case 0:return g?"today":`this ${a[e][0]}`}}const i=Object.is(t,-0)||t<0,l=Math.abs(t),c=l===1,f=a[e],h=r?c?f[1]:f[2]||f[1]:c?a[e][0]:e;return i?`${l} ${h} ago`:`in ${l} ${h}`}function qC(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const cB={D:xw,DD:TA,DDD:IA,DDDD:EA,t:CA,tt:xA,ttt:MA,tttt:kA,T:NA,TT:AA,TTT:FA,TTTT:OA,f:PA,ff:LA,fff:_A,ffff:HA,F:jA,FF:RA,FFF:BA,FFFF:UA};class uo{static create(t,n={}){return new uo(t,n)}static parseFormat(t){let n=null,r="",a=!1;const o=[];for(let i=0;i<t.length;i++){const l=t.charAt(i);l==="'"?(r.length>0&&o.push({literal:a,val:r}),n=null,r="",a=!a):a||l===n?r+=l:(r.length>0&&o.push({literal:!1,val:r}),r=l,n=l)}return r.length>0&&o.push({literal:a,val:r}),o}static macroTokenToFormatOpts(t){return cB[t]}constructor(t,n){this.opts=n,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...n}).format()}formatDateTime(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).format()}formatDateTimeParts(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).formatToParts()}formatInterval(t,n={}){return this.loc.dtFormatter(t.start,{...this.opts,...n}).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).resolvedOptions()}num(t,n=0){if(this.opts.forceSimple)return Xr(t,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,n){const r=this.loc.listingMode()==="en",a=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(w,S)=>this.loc.extract(t,w,S),i=w=>t.isOffsetFixed&&t.offset===0&&w.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,w.format):"",l=()=>r?oB(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),c=(w,S)=>r?sB(t,w):o(S?{month:w}:{month:w,day:"numeric"},"month"),f=(w,S)=>r?iB(t,w):o(S?{weekday:w}:{weekday:w,month:"long",day:"numeric"},"weekday"),h=w=>{const S=uo.macroTokenToFormatOpts(w);return S?this.formatWithSystemDefault(t,S):w},g=w=>r?lB(t,w):o({era:w},"era"),y=w=>{switch(w){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return i({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return i({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return i({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return l();case"d":return a?o({day:"numeric"},"day"):this.num(t.day);case"dd":return a?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return f("short",!0);case"cccc":return f("long",!0);case"ccccc":return f("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return f("short",!1);case"EEEE":return f("long",!1);case"EEEEE":return f("narrow",!1);case"L":return a?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return a?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return a?o({month:"numeric"},"month"):this.num(t.month);case"MM":return a?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return a?o({year:"numeric"},"year"):this.num(t.year);case"yy":return a?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return a?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return a?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return g("short");case"GG":return g("long");case"GGGGG":return g("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return h(w)}};return qC(uo.parseFormat(n),y)}formatDurationFromString(t,n){const r=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},a=c=>f=>{const h=r(f);return h?this.num(c.get(h),f.length):f},o=uo.parseFormat(n),i=o.reduce((c,{literal:f,val:h})=>f?c:c.concat(h),[]),l=t.shiftTo(...i.map(r).filter(c=>c));return qC(o,a(l))}}class Bs{constructor(t,n){this.reason=t,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const QA=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Hp(...e){const t=e.reduce((n,r)=>n+r.source,"");return RegExp(`^${t}$`)}function Up(...e){return t=>e.reduce(([n,r,a],o)=>{const[i,l,c]=o(t,a);return[{...n,...i},l||r,c]},[{},null,1]).slice(0,2)}function Yp(e,...t){if(e==null)return[null,null];for(const[n,r]of t){const a=n.exec(e);if(a)return r(a)}return[null,null]}function XA(...e){return(t,n)=>{const r={};let a;for(a=0;a<e.length;a++)r[e[a]]=qc(t[n+a]);return[r,null,n+a]}}const e6=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,dB=`(?:${e6.source}?(?:\\[(${QA.source})\\])?)?`,j2=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,t6=RegExp(`${j2.source}${dB}`),L2=RegExp(`(?:T${t6.source})?`),fB=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,hB=/(\d{4})-?W(\d\d)(?:-?(\d))?/,pB=/(\d{4})-?(\d{3})/,mB=XA("weekYear","weekNumber","weekDay"),gB=XA("year","ordinal"),vB=/(\d{4})-(\d\d)-(\d\d)/,n6=RegExp(`${j2.source} ?(?:${e6.source}|(${QA.source}))?`),yB=RegExp(`(?: ${n6.source})?`);function vp(e,t,n){const r=e[t];return xn(r)?n:qc(r)}function wB(e,t){return[{year:vp(e,t),month:vp(e,t+1,1),day:vp(e,t+2,1)},null,t+3]}function zp(e,t){return[{hours:vp(e,t,0),minutes:vp(e,t+1,0),seconds:vp(e,t+2,0),milliseconds:F2(e[t+3])},null,t+4]}function jv(e,t){const n=!e[t]&&!e[t+1],r=bb(e[t+1],e[t+2]),a=n?null:ko.instance(r);return[{},a,t+3]}function Lv(e,t){const n=e[t]?zu.create(e[t]):null;return[{},n,t+1]}const bB=RegExp(`^T?${j2.source}$`),SB=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function DB(e){const[t,n,r,a,o,i,l,c,f]=e,h=t[0]==="-",g=c&&c[0]==="-",y=(w,S=!1)=>w!==void 0&&(S||w&&h)?-w:w;return[{years:y(Xd(n)),months:y(Xd(r)),weeks:y(Xd(a)),days:y(Xd(o)),hours:y(Xd(i)),minutes:y(Xd(l)),seconds:y(Xd(c),c==="-0"),milliseconds:y(F2(f),g)}]}const TB={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function R2(e,t,n,r,a,o,i){const l={year:t.length===2?yT(qc(t)):qc(t),month:WA.indexOf(n)+1,day:qc(r),hour:qc(a),minute:qc(o)};return i&&(l.second=qc(i)),e&&(l.weekday=e.length>3?ZA.indexOf(e)+1:qA.indexOf(e)+1),l}const IB=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function EB(e){const[,t,n,r,a,o,i,l,c,f,h,g]=e,y=R2(t,a,r,n,o,i,l);let w;return c?w=TB[c]:f?w=0:w=bb(h,g),[y,new ko(w)]}function CB(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const xB=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,MB=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,kB=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function GC(e){const[,t,n,r,a,o,i,l]=e;return[R2(t,a,r,n,o,i,l),ko.utcInstance]}function NB(e){const[,t,n,r,a,o,i,l]=e;return[R2(t,l,n,r,a,o,i),ko.utcInstance]}const AB=Hp(fB,L2),FB=Hp(hB,L2),OB=Hp(pB,L2),PB=Hp(t6),r6=Up(wB,zp,jv,Lv),jB=Up(mB,zp,jv,Lv),LB=Up(gB,zp,jv,Lv),RB=Up(zp,jv,Lv);function _B(e){return Yp(e,[AB,r6],[FB,jB],[OB,LB],[PB,RB])}function BB(e){return Yp(CB(e),[IB,EB])}function HB(e){return Yp(e,[xB,GC],[MB,GC],[kB,NB])}function UB(e){return Yp(e,[SB,DB])}const YB=Up(zp);function zB(e){return Yp(e,[bB,YB])}const VB=Hp(vB,yB),WB=Hp(n6),$B=Up(zp,jv,Lv);function ZB(e){return Yp(e,[VB,r6],[WB,$B])}const qB="Invalid Duration",a6={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},GB={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...a6},Qi=146097/400,ep=146097/4800,JB={years:{quarters:4,months:12,weeks:Qi/7,days:Qi,hours:Qi*24,minutes:Qi*24*60,seconds:Qi*24*60*60,milliseconds:Qi*24*60*60*1e3},quarters:{months:3,weeks:Qi/28,days:Qi/4,hours:Qi*24/4,minutes:Qi*24*60/4,seconds:Qi*24*60*60/4,milliseconds:Qi*24*60*60*1e3/4},months:{weeks:ep/7,days:ep,hours:ep*24,minutes:ep*24*60,seconds:ep*24*60*60,milliseconds:ep*24*60*60*1e3},...a6},af=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],KB=af.slice(0).reverse();function Yc(e,t,n=!1){const r={values:n?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new bt(r)}function QB(e){return e<0?Math.floor(e):Math.ceil(e)}function o6(e,t,n,r,a){const o=e[a][n],i=t[n]/o,l=Math.sign(i)===Math.sign(r[a]),c=!l&&r[a]!==0&&Math.abs(i)<=1?QB(i):Math.trunc(i);r[a]+=c,t[n]-=c*o}function XB(e,t){KB.reduce((n,r)=>xn(t[r])?n:(n&&o6(e,t,n,t,r),r),null)}function eH(e){const t={};for(const[n,r]of Object.entries(e))r!==0&&(t[n]=r);return t}class bt{constructor(t){const n=t.conversionAccuracy==="longterm"||!1;let r=n?JB:GB;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||ur.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,n){return bt.fromObject({milliseconds:t},n)}static fromObject(t,n={}){if(t==null||typeof t!="object")throw new Xi(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new bt({values:Nw(t,bt.normalizeUnit),loc:ur.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(t){if(hf(t))return bt.fromMillis(t);if(bt.isDuration(t))return t;if(typeof t=="object")return bt.fromObject(t);throw new Xi(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,n){const[r]=UB(t);return r?bt.fromObject(r,n):bt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,n){const[r]=zB(t);return r?bt.fromObject(r,n):bt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,n=null){if(!t)throw new Xi("need to specify a reason the Duration is invalid");const r=t instanceof Bs?t:new Bs(t,n);if(Qr.throwOnInvalid)throw new M_(r);return new bt({invalid:r})}static normalizeUnit(t){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!n)throw new DA(t);return n}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?uo.create(this.loc,r).formatDurationFromString(this,t):qB}toHuman(t={}){const n=af.map(r=>{const a=this.values[r];return xn(a)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(a)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=O2(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const n=this.toMillis();if(n<0||n>=864e5)return null;t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t};const r=this.shiftTo("hours","minutes","seconds","milliseconds");let a=t.format==="basic"?"hhmm":"hh:mm";(!t.suppressSeconds||r.seconds!==0||r.milliseconds!==0)&&(a+=t.format==="basic"?"ss":":ss",(!t.suppressMilliseconds||r.milliseconds!==0)&&(a+=".SSS"));let o=r.toFormat(a);return t.includePrefix&&(o="T"+o),o}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const n=bt.fromDurationLike(t),r={};for(const a of af)(bp(n.values,a)||bp(this.values,a))&&(r[a]=n.get(a)+this.get(a));return Yc(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const n=bt.fromDurationLike(t);return this.plus(n.negate())}mapUnits(t){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=VA(t(this.values[r],r));return Yc(this,{values:n},!0)}get(t){return this[bt.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const n={...this.values,...Nw(t,bt.normalizeUnit)};return Yc(this,{values:n})}reconfigure({locale:t,numberingSystem:n,conversionAccuracy:r,matrix:a}={}){const i={loc:this.loc.clone({locale:t,numberingSystem:n}),matrix:a,conversionAccuracy:r};return Yc(this,i)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return XB(this.matrix,t),Yc(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=eH(this.normalize().shiftToAll().toObject());return Yc(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(i=>bt.normalizeUnit(i));const n={},r={},a=this.toObject();let o;for(const i of af)if(t.indexOf(i)>=0){o=i;let l=0;for(const f in r)l+=this.matrix[f][i]*r[f],r[f]=0;hf(a[i])&&(l+=a[i]);const c=Math.trunc(l);n[i]=c,r[i]=(l*1e3-c*1e3)/1e3;for(const f in a)af.indexOf(f)>af.indexOf(i)&&o6(this.matrix,a,f,n,i)}else hf(a[i])&&(r[i]=a[i]);for(const i in r)r[i]!==0&&(n[o]+=i===o?r[i]:r[i]/this.matrix[o][i]);return Yc(this,{values:n},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=this.values[n]===0?0:-this.values[n];return Yc(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function n(r,a){return r===void 0||r===0?a===void 0||a===0:r===a}for(const r of af)if(!n(this.values[r],t.values[r]))return!1;return!0}}const tp="Invalid Interval";function tH(e,t){return!e||!e.isValid?Or.invalid("missing or invalid start"):!t||!t.isValid?Or.invalid("missing or invalid end"):t<e?Or.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Or{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,n=null){if(!t)throw new Xi("need to specify a reason the Interval is invalid");const r=t instanceof Bs?t:new Bs(t,n);if(Qr.throwOnInvalid)throw new x_(r);return new Or({invalid:r})}static fromDateTimes(t,n){const r=wg(t),a=wg(n),o=tH(r,a);return o??new Or({start:r,end:a})}static after(t,n){const r=bt.fromDurationLike(n),a=wg(t);return Or.fromDateTimes(a,a.plus(r))}static before(t,n){const r=bt.fromDurationLike(n),a=wg(t);return Or.fromDateTimes(a.minus(r),a)}static fromISO(t,n){const[r,a]=(t||"").split("/",2);if(r&&a){let o,i;try{o=At.fromISO(r,n),i=o.isValid}catch{i=!1}let l,c;try{l=At.fromISO(a,n),c=l.isValid}catch{c=!1}if(i&&c)return Or.fromDateTimes(o,l);if(i){const f=bt.fromISO(a,n);if(f.isValid)return Or.after(o,f)}else if(c){const f=bt.fromISO(r,n);if(f.isValid)return Or.before(l,f)}}return Or.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const n=this.start.startOf(t),r=this.end.startOf(t);return Math.floor(r.diff(n,t).get(t))+1}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:n}={}){return this.isValid?Or.fromDateTimes(t||this.s,n||this.e):this}splitAt(...t){if(!this.isValid)return[];const n=t.map(wg).filter(i=>this.contains(i)).sort(),r=[];let{s:a}=this,o=0;for(;a<this.e;){const i=n[o]||this.e,l=+i>+this.e?this.e:i;r.push(Or.fromDateTimes(a,l)),a=l,o+=1}return r}splitBy(t){const n=bt.fromDurationLike(t);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,a=1,o;const i=[];for(;r<this.e;){const l=this.start.plus(n.mapUnits(c=>c*a));o=+l>+this.e?this.e:l,i.push(Or.fromDateTimes(r,o)),r=o,a+=1}return i}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return n>=r?null:Or.fromDateTimes(n,r)}union(t){if(!this.isValid)return this;const n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return Or.fromDateTimes(n,r)}static merge(t){const[n,r]=t.sort((a,o)=>a.s-o.s).reduce(([a,o],i)=>o?o.overlaps(i)||o.abutsStart(i)?[a,o.union(i)]:[a.concat([o]),i]:[a,i],[[],null]);return r&&n.push(r),n}static xor(t){let n=null,r=0;const a=[],o=t.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),i=Array.prototype.concat(...o),l=i.sort((c,f)=>c.time-f.time);for(const c of l)r+=c.type==="s"?1:-1,r===1?n=c.time:(n&&+n!=+c.time&&a.push(Or.fromDateTimes(n,c.time)),n=null);return Or.merge(a)}difference(...t){return Or.xor([this].concat(t)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} ‚Äì ${this.e.toISO()})`:tp}toLocaleString(t=xw,n={}){return this.isValid?uo.create(this.s.loc.clone(n),t).formatInterval(this):tp}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:tp}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:tp}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:tp}toFormat(t,{separator:n=" ‚Äì "}={}){return this.isValid?`${this.s.toFormat(t)}${n}${this.e.toFormat(t)}`:tp}toDuration(t,n){return this.isValid?this.e.diff(this.s,t,n):bt.invalid(this.invalidReason)}mapEndpoints(t){return Or.fromDateTimes(t(this.s),t(this.e))}}class I0{static hasDST(t=Qr.defaultZone){const n=At.now().setZone(t).set({month:12});return!t.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(t){return zu.isValidZone(t)}static normalizeZone(t){return Gc(t,Qr.defaultZone)}static months(t="long",{locale:n=null,numberingSystem:r=null,locObj:a=null,outputCalendar:o="gregory"}={}){return(a||ur.create(n,r,o)).months(t)}static monthsFormat(t="long",{locale:n=null,numberingSystem:r=null,locObj:a=null,outputCalendar:o="gregory"}={}){return(a||ur.create(n,r,o)).months(t,!0)}static weekdays(t="long",{locale:n=null,numberingSystem:r=null,locObj:a=null}={}){return(a||ur.create(n,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:n=null,numberingSystem:r=null,locObj:a=null}={}){return(a||ur.create(n,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return ur.create(t).meridiems()}static eras(t="short",{locale:n=null}={}){return ur.create(n,null,"gregory").eras(t)}static features(){return{relative:YA()}}}function JC(e,t){const n=a=>a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor(bt.fromMillis(r).as("days"))}function nH(e,t,n){const r=[["years",(c,f)=>f.year-c.year],["quarters",(c,f)=>f.quarter-c.quarter+(f.year-c.year)*4],["months",(c,f)=>f.month-c.month+(f.year-c.year)*12],["weeks",(c,f)=>{const h=JC(c,f);return(h-h%7)/7}],["days",JC]],a={},o=e;let i,l;for(const[c,f]of r)n.indexOf(c)>=0&&(i=c,a[c]=f(e,t),l=o.plus(a),l>t?(a[c]--,e=o.plus(a)):e=l);return[e,a,l,i]}function rH(e,t,n,r){let[a,o,i,l]=nH(e,t,n);const c=t-a,f=n.filter(g=>["hours","minutes","seconds","milliseconds"].indexOf(g)>=0);f.length===0&&(i<t&&(i=a.plus({[l]:1})),i!==a&&(o[l]=(o[l]||0)+c/(i-a)));const h=bt.fromObject(o,r);return f.length>0?bt.fromMillis(c,r).shiftTo(...f).plus(h):h}const _2={arab:"[Ÿ†-Ÿ©]",arabext:"[€∞-€π]",bali:"[·≠ê-·≠ô]",beng:"[‡ß¶-‡ßØ]",deva:"[‡•¶-‡•Ø]",fullwide:"[Ôºê-Ôºô]",gujr:"[‡´¶-‡´Ø]",hanidec:"[„Äá|‰∏Ä|‰∫å|‰∏â|Âõõ|‰∫î|ÂÖ≠|‰∏É|ÂÖ´|‰πù]",khmr:"[·ü†-·ü©]",knda:"[‡≥¶-‡≥Ø]",laoo:"[‡ªê-‡ªô]",limb:"[·•Ü-·•è]",mlym:"[‡µ¶-‡µØ]",mong:"[·†ê-·†ô]",mymr:"[·ÅÄ-·Åâ]",orya:"[‡≠¶-‡≠Ø]",tamldec:"[‡Ø¶-‡ØØ]",telu:"[‡±¶-‡±Ø]",thai:"[‡πê-‡πô]",tibt:"[‡º†-‡º©]",latn:"\\d"},KC={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},aH=_2.hanidec.replace(/[\[|\]]/g,"").split("");function oH(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(e[n].search(_2.hanidec)!==-1)t+=aH.indexOf(e[n]);else for(const a in KC){const[o,i]=KC[a];r>=o&&r<=i&&(t+=r-o)}}return parseInt(t,10)}else return t}function Fs({numberingSystem:e},t=""){return new RegExp(`${_2[e||"latn"]}${t}`)}const iH="missing Intl.DateTimeFormat.formatToParts support";function Ln(e,t=n=>n){return{regex:e,deser:([n])=>t(oH(n))}}const sH="¬†",i6=`[ ${sH}]`,s6=new RegExp(i6,"g");function lH(e){return e.replace(/\./g,"\\.?").replace(s6,i6)}function QC(e){return e.replace(/\./g,"").replace(s6," ").toLowerCase()}function Os(e,t){return e===null?null:{regex:RegExp(e.map(lH).join("|")),deser:([n])=>e.findIndex(r=>QC(n)===QC(r))+t}}function XC(e,t){return{regex:e,deser:([,n,r])=>bb(n,r),groups:t}}function ES(e){return{regex:e,deser:([t])=>t}}function uH(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function cH(e,t){const n=Fs(t),r=Fs(t,"{2}"),a=Fs(t,"{3}"),o=Fs(t,"{4}"),i=Fs(t,"{6}"),l=Fs(t,"{1,2}"),c=Fs(t,"{1,3}"),f=Fs(t,"{1,6}"),h=Fs(t,"{1,9}"),g=Fs(t,"{2,4}"),y=Fs(t,"{4,6}"),w=I=>({regex:RegExp(uH(I.val)),deser:([M])=>M,literal:!0}),D=(I=>{if(e.literal)return w(I);switch(I.val){case"G":return Os(t.eras("short",!1),0);case"GG":return Os(t.eras("long",!1),0);case"y":return Ln(f);case"yy":return Ln(g,yT);case"yyyy":return Ln(o);case"yyyyy":return Ln(y);case"yyyyyy":return Ln(i);case"M":return Ln(l);case"MM":return Ln(r);case"MMM":return Os(t.months("short",!0,!1),1);case"MMMM":return Os(t.months("long",!0,!1),1);case"L":return Ln(l);case"LL":return Ln(r);case"LLL":return Os(t.months("short",!1,!1),1);case"LLLL":return Os(t.months("long",!1,!1),1);case"d":return Ln(l);case"dd":return Ln(r);case"o":return Ln(c);case"ooo":return Ln(a);case"HH":return Ln(r);case"H":return Ln(l);case"hh":return Ln(r);case"h":return Ln(l);case"mm":return Ln(r);case"m":return Ln(l);case"q":return Ln(l);case"qq":return Ln(r);case"s":return Ln(l);case"ss":return Ln(r);case"S":return Ln(c);case"SSS":return Ln(a);case"u":return ES(h);case"uu":return ES(l);case"uuu":return Ln(n);case"a":return Os(t.meridiems(),0);case"kkkk":return Ln(o);case"kk":return Ln(g,yT);case"W":return Ln(l);case"WW":return Ln(r);case"E":case"c":return Ln(n);case"EEE":return Os(t.weekdays("short",!1,!1),1);case"EEEE":return Os(t.weekdays("long",!1,!1),1);case"ccc":return Os(t.weekdays("short",!0,!1),1);case"cccc":return Os(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return XC(new RegExp(`([+-]${l.source})(?::(${r.source}))?`),2);case"ZZZ":return XC(new RegExp(`([+-]${l.source})(${r.source})?`),2);case"z":return ES(/[a-z_+-/]{1,256}?/i);default:return w(I)}})(e)||{invalidReason:iH};return D.token=e,D}const dH={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function fH(e,t){const{type:n,value:r}=e;if(n==="literal")return{literal:!0,val:r};const a=t[n];let o=dH[n];if(typeof o=="object"&&(o=o[a]),o)return{literal:!1,val:o}}function hH(e){return[`^${e.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,e]}function pH(e,t,n){const r=e.match(t);if(r){const a={};let o=1;for(const i in n)if(bp(n,i)){const l=n[i],c=l.groups?l.groups+1:1;!l.literal&&l.token&&(a[l.token.val[0]]=l.deser(r.slice(o,o+c))),o+=c}return[r,a]}else return[r,{}]}function mH(e){const t=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return xn(e.z)||(n=zu.create(e.z)),xn(e.Z)||(n||(n=new ko(e.Z)),r=e.Z),xn(e.q)||(e.M=(e.q-1)*3+1),xn(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),xn(e.u)||(e.S=F2(e.u)),[Object.keys(e).reduce((o,i)=>{const l=t(i);return l&&(o[l]=e[i]),o},{}),n,r]}let CS=null;function gH(){return CS||(CS=At.fromMillis(1555555555555)),CS}function vH(e,t){if(e.literal)return e;const n=uo.macroTokenToFormatOpts(e.val),r=c6(n,t);return r==null||r.includes(void 0)?e:r}function l6(e,t){return Array.prototype.concat(...e.map(n=>vH(n,t)))}function u6(e,t,n){const r=l6(uo.parseFormat(n),e),a=r.map(i=>cH(i,e)),o=a.find(i=>i.invalidReason);if(o)return{input:t,tokens:r,invalidReason:o.invalidReason};{const[i,l]=hH(a),c=RegExp(i,"i"),[f,h]=pH(t,c,l),[g,y,w]=h?mH(h):[null,null,void 0];if(bp(h,"a")&&bp(h,"H"))throw new jg("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:c,rawMatches:f,matches:h,result:g,zone:y,specificOffset:w}}}function yH(e,t,n){const{result:r,zone:a,specificOffset:o,invalidReason:i}=u6(e,t,n);return[r,a,o,i]}function c6(e,t){return e?uo.create(t,e).formatDateTimeParts(gH()).map(a=>fH(a,e)):null}const d6=[0,31,59,90,120,151,181,212,243,273,304,334],f6=[0,31,60,91,121,152,182,213,244,274,305,335];function es(e,t){return new Bs("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function h6(e,t,n){const r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const a=r.getUTCDay();return a===0?7:a}function p6(e,t,n){return n+(Pv(e)?f6:d6)[t-1]}function m6(e,t){const n=Pv(e)?f6:d6,r=n.findIndex(o=>o<t),a=t-n[r];return{month:r+1,day:a}}function wT(e){const{year:t,month:n,day:r}=e,a=p6(t,n,r),o=h6(t,n,r);let i=Math.floor((a-o+10)/7),l;return i<1?(l=t-1,i=kw(l)):i>kw(t)?(l=t+1,i=1):l=t,{weekYear:l,weekNumber:i,weekday:o,...Sb(e)}}function ex(e){const{weekYear:t,weekNumber:n,weekday:r}=e,a=h6(t,1,4),o=Yg(t);let i=n*7+r-a-3,l;i<1?(l=t-1,i+=Yg(l)):i>o?(l=t+1,i-=Yg(t)):l=t;const{month:c,day:f}=m6(l,i);return{year:l,month:c,day:f,...Sb(e)}}function xS(e){const{year:t,month:n,day:r}=e,a=p6(t,n,r);return{year:t,ordinal:a,...Sb(e)}}function tx(e){const{year:t,ordinal:n}=e,{month:r,day:a}=m6(t,n);return{year:t,month:r,day:a,...Sb(e)}}function wH(e){const t=wb(e.weekYear),n=Uu(e.weekNumber,1,kw(e.weekYear)),r=Uu(e.weekday,1,7);return t?n?r?!1:es("weekday",e.weekday):es("week",e.week):es("weekYear",e.weekYear)}function bH(e){const t=wb(e.year),n=Uu(e.ordinal,1,Yg(e.year));return t?n?!1:es("ordinal",e.ordinal):es("year",e.year)}function g6(e){const t=wb(e.year),n=Uu(e.month,1,12),r=Uu(e.day,1,Mw(e.year,e.month));return t?n?r?!1:es("day",e.day):es("month",e.month):es("year",e.year)}function v6(e){const{hour:t,minute:n,second:r,millisecond:a}=e,o=Uu(t,0,23)||t===24&&n===0&&r===0&&a===0,i=Uu(n,0,59),l=Uu(r,0,59),c=Uu(a,0,999);return o?i?l?c?!1:es("millisecond",a):es("second",r):es("minute",n):es("hour",t)}const MS="Invalid DateTime",nx=864e13;function E0(e){return new Bs("unsupported zone",`the zone "${e.name}" is not supported`)}function kS(e){return e.weekData===null&&(e.weekData=wT(e.c)),e.weekData}function vg(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new At({...n,...t,old:n})}function y6(e,t,n){let r=e-t*60*1e3;const a=n.offset(r);if(t===a)return[r,t];r-=(a-t)*60*1e3;const o=n.offset(r);return a===o?[r,a]:[e-Math.min(a,o)*60*1e3,Math.max(a,o)]}function rx(e,t){e+=t*60*1e3;const n=new Date(e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function ow(e,t,n){return y6(P2(e),t,n)}function ax(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),a=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,o={...e.c,year:r,month:a,day:Math.min(e.c.day,Mw(r,a))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},i=bt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),l=P2(o);let[c,f]=y6(l,n,e.zone);return i!==0&&(c+=i,f=e.zone.offset(c)),{ts:c,o:f}}function yg(e,t,n,r,a,o){const{setZone:i,zone:l}=n;if(e&&Object.keys(e).length!==0){const c=t||l,f=At.fromObject(e,{...n,zone:c,specificOffset:o});return i?f:f.setZone(l)}else return At.invalid(new Bs("unparsable",`the input "${a}" can't be parsed as ${r}`))}function C0(e,t,n=!0){return e.isValid?uo.create(ur.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function NS(e,t){const n=e.c.year>9999||e.c.year<0;let r="";return n&&e.c.year>=0&&(r+="+"),r+=Xr(e.c.year,n?6:4),t?(r+="-",r+=Xr(e.c.month),r+="-",r+=Xr(e.c.day)):(r+=Xr(e.c.month),r+=Xr(e.c.day)),r}function ox(e,t,n,r,a,o){let i=Xr(e.c.hour);return t?(i+=":",i+=Xr(e.c.minute),(e.c.second!==0||!n)&&(i+=":")):i+=Xr(e.c.minute),(e.c.second!==0||!n)&&(i+=Xr(e.c.second),(e.c.millisecond!==0||!r)&&(i+=".",i+=Xr(e.c.millisecond,3))),a&&(e.isOffsetFixed&&e.offset===0&&!o?i+="Z":e.o<0?(i+="-",i+=Xr(Math.trunc(-e.o/60)),i+=":",i+=Xr(Math.trunc(-e.o%60))):(i+="+",i+=Xr(Math.trunc(e.o/60)),i+=":",i+=Xr(Math.trunc(e.o%60)))),o&&(i+="["+e.zone.ianaName+"]"),i}const w6={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},SH={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},DH={ordinal:1,hour:0,minute:0,second:0,millisecond:0},b6=["year","month","day","hour","minute","second","millisecond"],TH=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],IH=["year","ordinal","hour","minute","second","millisecond"];function ix(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new DA(e);return t}function sx(e,t){const n=Gc(t.zone,Qr.defaultZone),r=ur.fromObject(t),a=Qr.now();let o,i;if(xn(e.year))o=a;else{for(const f of b6)xn(e[f])&&(e[f]=w6[f]);const l=g6(e)||v6(e);if(l)return At.invalid(l);const c=n.offset(a);[o,i]=ow(e,c,n)}return new At({ts:o,zone:n,loc:r,o:i})}function lx(e,t,n){const r=xn(n.round)?!0:n.round,a=(i,l)=>(i=O2(i,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(i,l)),o=i=>n.calendary?t.hasSame(e,i)?0:t.startOf(i).diff(e.startOf(i),i).get(i):t.diff(e,i).get(i);if(n.unit)return a(o(n.unit),n.unit);for(const i of n.units){const l=o(i);if(Math.abs(l)>=1)return a(l,i)}return a(e>t?-0:0,n.units[n.units.length-1])}function ux(e){let t={},n;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],n=Array.from(e).slice(0,e.length-1)):n=Array.from(e),[t,n]}class At{constructor(t){const n=t.zone||Qr.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new Bs("invalid input"):null)||(n.isValid?null:E0(n));this.ts=xn(t.ts)?Qr.now():t.ts;let a=null,o=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(n))[a,o]=[t.old.c,t.old.o];else{const l=n.offset(this.ts);a=rx(this.ts,l),r=Number.isNaN(a.year)?new Bs("invalid input"):null,a=r?null:a,o=r?null:l}this._zone=n,this.loc=t.loc||ur.create(),this.invalid=r,this.weekData=null,this.c=a,this.o=o,this.isLuxonDateTime=!0}static now(){return new At({})}static local(){const[t,n]=ux(arguments),[r,a,o,i,l,c,f]=n;return sx({year:r,month:a,day:o,hour:i,minute:l,second:c,millisecond:f},t)}static utc(){const[t,n]=ux(arguments),[r,a,o,i,l,c,f]=n;return t.zone=ko.utcInstance,sx({year:r,month:a,day:o,hour:i,minute:l,second:c,millisecond:f},t)}static fromJSDate(t,n={}){const r=G_(t)?t.valueOf():NaN;if(Number.isNaN(r))return At.invalid("invalid input");const a=Gc(n.zone,Qr.defaultZone);return a.isValid?new At({ts:r,zone:a,loc:ur.fromObject(n)}):At.invalid(E0(a))}static fromMillis(t,n={}){if(hf(t))return t<-nx||t>nx?At.invalid("Timestamp out of range"):new At({ts:t,zone:Gc(n.zone,Qr.defaultZone),loc:ur.fromObject(n)});throw new Xi(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,n={}){if(hf(t))return new At({ts:t*1e3,zone:Gc(n.zone,Qr.defaultZone),loc:ur.fromObject(n)});throw new Xi("fromSeconds requires a numerical input")}static fromObject(t,n={}){t=t||{};const r=Gc(n.zone,Qr.defaultZone);if(!r.isValid)return At.invalid(E0(r));const a=Qr.now(),o=xn(n.specificOffset)?r.offset(a):n.specificOffset,i=Nw(t,ix),l=!xn(i.ordinal),c=!xn(i.year),f=!xn(i.month)||!xn(i.day),h=c||f,g=i.weekYear||i.weekNumber,y=ur.fromObject(n);if((h||l)&&g)throw new jg("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&l)throw new jg("Can't mix ordinal dates with month/day");const w=g||i.weekday&&!h;let S,D,I=rx(a,o);w?(S=TH,D=SH,I=wT(I)):l?(S=IH,D=DH,I=xS(I)):(S=b6,D=w6);let M=!1;for(const V of S){const U=i[V];xn(U)?M?i[V]=D[V]:i[V]=I[V]:M=!0}const N=w?wH(i):l?bH(i):g6(i),B=N||v6(i);if(B)return At.invalid(B);const k=w?ex(i):l?tx(i):i,[R,L]=ow(k,o,r),_=new At({ts:R,zone:r,o:L,loc:y});return i.weekday&&h&&t.weekday!==_.weekday?At.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${_.toISO()}`):_}static fromISO(t,n={}){const[r,a]=_B(t);return yg(r,a,n,"ISO 8601",t)}static fromRFC2822(t,n={}){const[r,a]=BB(t);return yg(r,a,n,"RFC 2822",t)}static fromHTTP(t,n={}){const[r,a]=HB(t);return yg(r,a,n,"HTTP",n)}static fromFormat(t,n,r={}){if(xn(t)||xn(n))throw new Xi("fromFormat requires an input string and a format");const{locale:a=null,numberingSystem:o=null}=r,i=ur.fromOpts({locale:a,numberingSystem:o,defaultToEN:!0}),[l,c,f,h]=yH(i,t,n);return h?At.invalid(h):yg(l,c,r,`format ${n}`,t,f)}static fromString(t,n,r={}){return At.fromFormat(t,n,r)}static fromSQL(t,n={}){const[r,a]=ZB(t);return yg(r,a,n,"SQL",t)}static invalid(t,n=null){if(!t)throw new Xi("need to specify a reason the DateTime is invalid");const r=t instanceof Bs?t:new Bs(t,n);if(Qr.throwOnInvalid)throw new C_(r);return new At({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,n={}){const r=c6(t,ur.fromObject(n));return r?r.map(a=>a?a.val:null).join(""):null}static expandFormat(t,n={}){return l6(uo.parseFormat(t),ur.fromObject(n)).map(a=>a.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?kS(this).weekYear:NaN}get weekNumber(){return this.isValid?kS(this).weekNumber:NaN}get weekday(){return this.isValid?kS(this).weekday:NaN}get ordinal(){return this.isValid?xS(this.c).ordinal:NaN}get monthShort(){return this.isValid?I0.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?I0.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?I0.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?I0.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Pv(this.year)}get daysInMonth(){return Mw(this.year,this.month)}get daysInYear(){return this.isValid?Yg(this.year):NaN}get weeksInWeekYear(){return this.isValid?kw(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:n,numberingSystem:r,calendar:a}=uo.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:a}}toUTC(t=0,n={}){return this.setZone(ko.instance(t),n)}toLocal(){return this.setZone(Qr.defaultZone)}setZone(t,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(t=Gc(t,Qr.defaultZone),t.equals(this.zone))return this;if(t.isValid){let a=this.ts;if(n||r){const o=t.offset(this.ts),i=this.toObject();[a]=ow(i,o,t)}return vg(this,{ts:a,zone:t})}else return At.invalid(E0(t))}reconfigure({locale:t,numberingSystem:n,outputCalendar:r}={}){const a=this.loc.clone({locale:t,numberingSystem:n,outputCalendar:r});return vg(this,{loc:a})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const n=Nw(t,ix),r=!xn(n.weekYear)||!xn(n.weekNumber)||!xn(n.weekday),a=!xn(n.ordinal),o=!xn(n.year),i=!xn(n.month)||!xn(n.day),l=o||i,c=n.weekYear||n.weekNumber;if((l||a)&&c)throw new jg("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(i&&a)throw new jg("Can't mix ordinal dates with month/day");let f;r?f=ex({...wT(this.c),...n}):xn(n.ordinal)?(f={...this.toObject(),...n},xn(n.day)&&(f.day=Math.min(Mw(f.year,f.month),f.day))):f=tx({...xS(this.c),...n});const[h,g]=ow(f,this.o,this.zone);return vg(this,{ts:h,o:g})}plus(t){if(!this.isValid)return this;const n=bt.fromDurationLike(t);return vg(this,ax(this,n))}minus(t){if(!this.isValid)return this;const n=bt.fromDurationLike(t).negate();return vg(this,ax(this,n))}startOf(t){if(!this.isValid)return this;const n={},r=bt.normalizeUnit(t);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks"&&(n.weekday=1),r==="quarters"){const a=Math.ceil(this.month/3);n.month=(a-1)*3+1}return this.set(n)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,n={}){return this.isValid?uo.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,t):MS}toLocaleString(t=xw,n={}){return this.isValid?uo.create(this.loc.clone(n),t).formatDateTime(this):MS}toLocaleParts(t={}){return this.isValid?uo.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:a=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const i=t==="extended";let l=NS(this,i);return l+="T",l+=ox(this,i,n,r,a,o),l}toISODate({format:t="extended"}={}){return this.isValid?NS(this,t==="extended"):null}toISOWeekDate(){return C0(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:a=!1,extendedZone:o=!1,format:i="extended"}={}){return this.isValid?(a?"T":"")+ox(this,i==="extended",n,t,r,o):null}toRFC2822(){return C0(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return C0(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?NS(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let a="HH:mm:ss.SSS";return(n||t)&&(r&&(a+=" "),n?a+="z":t&&(a+="ZZ")),C0(this,a,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():MS}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const n={...this.c};return t.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,n="milliseconds",r={}){if(!this.isValid||!t.isValid)return bt.invalid("created by diffing an invalid DateTime");const a={locale:this.locale,numberingSystem:this.numberingSystem,...r},o=J_(n).map(bt.normalizeUnit),i=t.valueOf()>this.valueOf(),l=i?this:t,c=i?t:this,f=rH(l,c,o,a);return i?f.negate():f}diffNow(t="milliseconds",n={}){return this.diff(At.now(),t,n)}until(t){return this.isValid?Or.fromDateTimes(this,t):this}hasSame(t,n){if(!this.isValid)return!1;const r=t.valueOf(),a=this.setZone(t.zone,{keepLocalTime:!0});return a.startOf(n)<=r&&r<=a.endOf(n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const n=t.base||At.fromObject({},{zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0;let a=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(a=t.unit,o=void 0),lx(n,this.plus(r),{...t,numeric:"always",units:a,unit:o})}toRelativeCalendar(t={}){return this.isValid?lx(t.base||At.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(At.isDateTime))throw new Xi("min requires all arguments be DateTimes");return ZC(t,n=>n.valueOf(),Math.min)}static max(...t){if(!t.every(At.isDateTime))throw new Xi("max requires all arguments be DateTimes");return ZC(t,n=>n.valueOf(),Math.max)}static fromFormatExplain(t,n,r={}){const{locale:a=null,numberingSystem:o=null}=r,i=ur.fromOpts({locale:a,numberingSystem:o,defaultToEN:!0});return u6(i,t,n)}static fromStringExplain(t,n,r={}){return At.fromFormatExplain(t,n,r)}static get DATE_SHORT(){return xw}static get DATE_MED(){return TA}static get DATE_MED_WITH_WEEKDAY(){return k_}static get DATE_FULL(){return IA}static get DATE_HUGE(){return EA}static get TIME_SIMPLE(){return CA}static get TIME_WITH_SECONDS(){return xA}static get TIME_WITH_SHORT_OFFSET(){return MA}static get TIME_WITH_LONG_OFFSET(){return kA}static get TIME_24_SIMPLE(){return NA}static get TIME_24_WITH_SECONDS(){return AA}static get TIME_24_WITH_SHORT_OFFSET(){return FA}static get TIME_24_WITH_LONG_OFFSET(){return OA}static get DATETIME_SHORT(){return PA}static get DATETIME_SHORT_WITH_SECONDS(){return jA}static get DATETIME_MED(){return LA}static get DATETIME_MED_WITH_SECONDS(){return RA}static get DATETIME_MED_WITH_WEEKDAY(){return N_}static get DATETIME_FULL(){return _A}static get DATETIME_FULL_WITH_SECONDS(){return BA}static get DATETIME_HUGE(){return HA}static get DATETIME_HUGE_WITH_SECONDS(){return UA}}function wg(e){if(At.isDateTime(e))return e;if(e&&e.valueOf&&hf(e.valueOf()))return At.fromJSDate(e);if(e&&typeof e=="object")return At.fromObject(e);throw new Xi(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const B2={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},EH={allowHtml:!0};({...B2,...EH});class H2{constructor(t){this.value=t,this.successful=!0}map(t){return new H2(t(this.value))}flatMap(t){return t(this.value)}mapErr(t){return this}bimap(t,n){return this.map(t)}orElse(t){return this.value}cast(){return this}orElseThrow(t){return this.value}}class U2{constructor(t){this.error=t,this.successful=!1}map(t){return this}flatMap(t){return this}mapErr(t){return new U2(t(this.error))}bimap(t,n){return this.mapErr(n)}orElse(t){return t}cast(){return this}orElseThrow(t){throw t?new Error(t(this.error)):new Error(""+this.error)}}var Aw;(function(e){function t(o){return new H2(o)}e.success=t;function n(o){return new U2(o)}e.failure=n;function r(o,i,l){return o.successful?i.successful?l(o.value,i.value):n(i.error):n(o.error)}e.flatMap2=r;function a(o,i,l){return r(o,i,(c,f)=>t(l(c,f)))}e.map2=a})(Aw||(Aw={}));var CH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof dr<"u"?dr:typeof self<"u"?self:{},pe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:CH,function(){return function(n){var r={};function a(o){if(r[o])return r[o].exports;var i=r[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,a),i.l=!0,i.exports}return a.m=n,a.c=r,a.d=function(o,i,l){a.o(o,i)||Object.defineProperty(o,i,{configurable:!1,enumerable:!0,get:l})},a.r=function(o){Object.defineProperty(o,"__esModule",{value:!0})},a.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(i,"a",i),i},a.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},a.p="",a(a.s=0)}([function(n,r,a){function o(te){if(!(this instanceof o))return new o(te);this._=te}var i=o.prototype;function l(te,me){for(var xe=0;xe<te;xe++)me(xe)}function c(te,me,xe){return function(Ue,He){l(He.length,function(Qe){Ue(He[Qe],Qe,He)})}(function(Ue,He,Qe){me=te(me,Ue,He,Qe)},xe),me}function f(te,me){return c(function(xe,Ue,He,Qe){return xe.concat([te(Ue,He,Qe)])},[],me)}function h(te,me){var xe={v:0,buf:me};return l(te,function(){var Ue;xe={v:xe.v<<1|(Ue=xe.buf,Ue[0]>>7),buf:function(He){var Qe=c(function(tt,kt,Ut,On){return tt.concat(Ut===On.length-1?Buffer.from([kt,0]).readUInt16BE(0):On.readUInt16BE(Ut))},[],He);return Buffer.from(f(function(tt){return(tt<<1&65535)>>8},Qe))}(xe.buf)}}),xe}function g(){return typeof Buffer<"u"}function y(){if(!g())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function w(te){y();var me=c(function(Qe,tt){return Qe+tt},0,te);if(me%8!=0)throw new Error("The bits ["+te.join(", ")+"] add up to "+me+" which is not an even number of bytes; the total should be divisible by 8");var xe,Ue=me/8,He=(xe=function(Qe){return Qe>48},c(function(Qe,tt){return Qe||(xe(tt)?tt:Qe)},null,te));if(He)throw new Error(He+" bit range requested exceeds 48 bit (6 byte) Number max.");return new o(function(Qe,tt){var kt=Ue+tt;return kt>Qe.length?V(tt,Ue.toString()+" bytes"):_(kt,c(function(Ut,On){var yn=h(On,Ut.buf);return{coll:Ut.coll.concat(yn.v),buf:yn.buf}},{coll:[],buf:Qe.slice(tt,kt)},te).coll)})}function S(te,me){return new o(function(xe,Ue){return y(),Ue+me>xe.length?V(Ue,me+" bytes for "+te):_(Ue+me,xe.slice(Ue,Ue+me))})}function D(te,me){if(typeof(xe=me)!="number"||Math.floor(xe)!==xe||me<0||me>6)throw new Error(te+" requires integer length in range [0, 6].");var xe}function I(te){return D("uintBE",te),S("uintBE("+te+")",te).map(function(me){return me.readUIntBE(0,te)})}function M(te){return D("uintLE",te),S("uintLE("+te+")",te).map(function(me){return me.readUIntLE(0,te)})}function N(te){return D("intBE",te),S("intBE("+te+")",te).map(function(me){return me.readIntBE(0,te)})}function B(te){return D("intLE",te),S("intLE("+te+")",te).map(function(me){return me.readIntLE(0,te)})}function k(te){return te instanceof o}function R(te){return{}.toString.call(te)==="[object Array]"}function L(te){return g()&&Buffer.isBuffer(te)}function _(te,me){return{status:!0,index:te,value:me,furthest:-1,expected:[]}}function V(te,me){return R(me)||(me=[me]),{status:!1,index:-1,value:null,furthest:te,expected:me}}function U(te,me){if(!me||te.furthest>me.furthest)return te;var xe=te.furthest===me.furthest?function(Ue,He){if(function(){if(o._supportsSet!==void 0)return o._supportsSet;var yr=typeof Set<"u";return o._supportsSet=yr,yr}()&&Array.from){for(var Qe=new Set(Ue),tt=0;tt<He.length;tt++)Qe.add(He[tt]);var kt=Array.from(Qe);return kt.sort(),kt}for(var Ut={},On=0;On<Ue.length;On++)Ut[Ue[On]]=!0;for(var yn=0;yn<He.length;yn++)Ut[He[yn]]=!0;var Cr=[];for(var Jn in Ut)({}).hasOwnProperty.call(Ut,Jn)&&Cr.push(Jn);return Cr.sort(),Cr}(te.expected,me.expected):me.expected;return{status:te.status,index:te.index,value:te.value,furthest:me.furthest,expected:xe}}var Z={};function Q(te,me){if(L(te))return{offset:me,line:-1,column:-1};te in Z||(Z[te]={});for(var xe=Z[te],Ue=0,He=0,Qe=0,tt=me;tt>=0;){if(tt in xe){Ue=xe[tt].line,Qe===0&&(Qe=xe[tt].lineStart);break}(te.charAt(tt)===`
`||te.charAt(tt)==="\r"&&te.charAt(tt+1)!==`
`)&&(He++,Qe===0&&(Qe=tt+1)),tt--}var kt=Ue+He,Ut=me-Qe;return xe[me]={line:kt,lineStart:Qe},{offset:me,line:kt+1,column:Ut+1}}function G(te){if(!k(te))throw new Error("not a parser: "+te)}function re(te,me){return typeof te=="string"?te.charAt(me):te[me]}function de(te){if(typeof te!="number")throw new Error("not a number: "+te)}function fe(te){if(typeof te!="function")throw new Error("not a function: "+te)}function $(te){if(typeof te!="string")throw new Error("not a string: "+te)}var he=2,se=3,ue=8,X=5*ue,oe=4*ue,De="  ";function je(te,me){return new Array(me+1).join(te)}function Re(te,me,xe){var Ue=me-te.length;return Ue<=0?te:je(xe,Ue)+te}function Fe(te,me,xe,Ue){return{from:te-me>0?te-me:0,to:te+xe>Ue?Ue:te+xe}}function Be(te,me){var xe,Ue,He,Qe,tt,kt=me.index,Ut=kt.offset,On=1;if(Ut===te.length)return"Got the end of the input";if(L(te)){var yn=Ut-Ut%ue,Cr=Ut-yn,Jn=Fe(yn,X,oe+ue,te.length),yr=f(function(Nn){return f(function(Aa){return Re(Aa.toString(16),2,"0")},Nn)},function(Nn,Aa){var Fa=Nn.length,Zr=[],fo=0;if(Fa<=Aa)return[Nn.slice()];for(var Oa=0;Oa<Fa;Oa++)Zr[fo]||Zr.push([]),Zr[fo].push(Nn[Oa]),(Oa+1)%Aa==0&&fo++;return Zr}(te.slice(Jn.from,Jn.to).toJSON().data,ue));Qe=function(Nn){return Nn.from===0&&Nn.to===1?{from:Nn.from,to:Nn.to}:{from:Nn.from/ue,to:Math.floor(Nn.to/ue)}}(Jn),Ue=yn/ue,xe=3*Cr,Cr>=4&&(xe+=1),On=2,He=f(function(Nn){return Nn.length<=4?Nn.join(" "):Nn.slice(0,4).join(" ")+"  "+Nn.slice(4).join(" ")},yr),(tt=(8*(Qe.to>0?Qe.to-1:Qe.to)).toString(16).length)<2&&(tt=2)}else{var ta=te.split(/\r\n|[\n\r\u2028\u2029]/);xe=kt.column-1,Ue=kt.line-1,Qe=Fe(Ue,he,se,ta.length),He=ta.slice(Qe.from,Qe.to),tt=Qe.to.toString().length}var Pi=Ue-Qe.from;return L(te)&&(tt=(8*(Qe.to>0?Qe.to-1:Qe.to)).toString(16).length)<2&&(tt=2),c(function(Nn,Aa,Fa){var Zr,fo=Fa===Pi,Oa=fo?"> ":De;return Zr=L(te)?Re((8*(Qe.from+Fa)).toString(16),tt,"0"):Re((Qe.from+Fa+1).toString(),tt," "),[].concat(Nn,[Oa+Zr+" | "+Aa],fo?[De+je(" ",tt)+" | "+Re("",xe," ")+je("^",On)]:[])},[],He).join(`
`)}function Xe(te,me){return[`
`,"-- PARSING FAILED "+je("-",50),`

`,Be(te,me),`

`,(xe=me.expected,xe.length===1?`Expected:

`+xe[0]:`Expected one of the following: 

`+xe.join(", ")),`
`].join("");var xe}function Ze(te){return te.flags!==void 0?te.flags:[te.global?"g":"",te.ignoreCase?"i":"",te.multiline?"m":"",te.unicode?"u":"",te.sticky?"y":""].join("")}function st(){for(var te=[].slice.call(arguments),me=te.length,xe=0;xe<me;xe+=1)G(te[xe]);return o(function(Ue,He){for(var Qe,tt=new Array(me),kt=0;kt<me;kt+=1){if(!(Qe=U(te[kt]._(Ue,He),Qe)).status)return Qe;tt[kt]=Qe.value,He=Qe.index}return U(_(He,tt),Qe)})}function Ct(){var te=[].slice.call(arguments);if(te.length===0)throw new Error("seqMap needs at least one argument");var me=te.pop();return fe(me),st.apply(null,te).map(function(xe){return me.apply(null,xe)})}function tn(){var te=[].slice.call(arguments),me=te.length;if(me===0)return Tt("zero alternates");for(var xe=0;xe<me;xe+=1)G(te[xe]);return o(function(Ue,He){for(var Qe,tt=0;tt<te.length;tt+=1)if((Qe=U(te[tt]._(Ue,He),Qe)).status)return Qe;return Qe})}function _e(te,me){return et(te,me).or(St([]))}function et(te,me){return G(te),G(me),Ct(te,me.then(te).many(),function(xe,Ue){return[xe].concat(Ue)})}function nt(te){$(te);var me="'"+te+"'";return o(function(xe,Ue){var He=Ue+te.length,Qe=xe.slice(Ue,He);return Qe===te?_(He,Qe):V(Ue,me)})}function ht(te,me){(function(He){if(!(He instanceof RegExp))throw new Error("not a regexp: "+He);for(var Qe=Ze(He),tt=0;tt<Qe.length;tt++){var kt=Qe.charAt(tt);if(kt!=="i"&&kt!=="m"&&kt!=="u"&&kt!=="s")throw new Error('unsupported regexp flag "'+kt+'": '+He)}})(te),arguments.length>=2?de(me):me=0;var xe=function(He){return RegExp("^(?:"+He.source+")",Ze(He))}(te),Ue=""+te;return o(function(He,Qe){var tt=xe.exec(He.slice(Qe));if(tt){if(0<=me&&me<=tt.length){var kt=tt[0],Ut=tt[me];return _(Qe+kt.length,Ut)}return V(Qe,"valid match group (0 to "+tt.length+") in "+Ue)}return V(Qe,Ue)})}function St(te){return o(function(me,xe){return _(xe,te)})}function Tt(te){return o(function(me,xe){return V(xe,te)})}function Gt(te){if(k(te))return o(function(me,xe){var Ue=te._(me,xe);return Ue.index=xe,Ue.value="",Ue});if(typeof te=="string")return Gt(nt(te));if(te instanceof RegExp)return Gt(ht(te));throw new Error("not a string, regexp, or parser: "+te)}function _t(te){return G(te),o(function(me,xe){var Ue=te._(me,xe),He=me.slice(xe,Ue.index);return Ue.status?V(xe,'not "'+He+'"'):_(xe,null)})}function Vt(te){return fe(te),o(function(me,xe){var Ue=re(me,xe);return xe<me.length&&te(Ue)?_(xe+1,Ue):V(xe,"a character/byte matching "+te)})}function Xt(te,me){arguments.length<2&&(me=te,te=void 0);var xe=o(function(Ue,He){return xe._=me()._,xe._(Ue,He)});return te?xe.desc(te):xe}function dn(){return Tt("fantasy-land/empty")}i.parse=function(te){if(typeof te!="string"&&!L(te))throw new Error(".parse must be called with a string or Buffer as its argument");var me,xe=this.skip(Er)._(te,0);return me=xe.status?{status:!0,value:xe.value}:{status:!1,index:Q(te,xe.furthest),expected:xe.expected},delete Z[te],me},i.tryParse=function(te){var me=this.parse(te);if(me.status)return me.value;var xe=Xe(te,me),Ue=new Error(xe);throw Ue.type="ParsimmonError",Ue.result=me,Ue},i.assert=function(te,me){return this.chain(function(xe){return te(xe)?St(xe):Tt(me)})},i.or=function(te){return tn(this,te)},i.trim=function(te){return this.wrap(te,te)},i.wrap=function(te,me){return Ct(te,this,me,function(xe,Ue){return Ue})},i.thru=function(te){return te(this)},i.then=function(te){return G(te),st(this,te).map(function(me){return me[1]})},i.many=function(){var te=this;return o(function(me,xe){for(var Ue=[],He=void 0;;){if(!(He=U(te._(me,xe),He)).status)return U(_(xe,Ue),He);if(xe===He.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");xe=He.index,Ue.push(He.value)}})},i.tieWith=function(te){return $(te),this.map(function(me){if(function(He){if(!R(He))throw new Error("not an array: "+He)}(me),me.length){$(me[0]);for(var xe=me[0],Ue=1;Ue<me.length;Ue++)$(me[Ue]),xe+=te+me[Ue];return xe}return""})},i.tie=function(){return this.tieWith("")},i.times=function(te,me){var xe=this;return arguments.length<2&&(me=te),de(te),de(me),o(function(Ue,He){for(var Qe=[],tt=void 0,kt=void 0,Ut=0;Ut<te;Ut+=1){if(kt=U(tt=xe._(Ue,He),kt),!tt.status)return kt;He=tt.index,Qe.push(tt.value)}for(;Ut<me&&(kt=U(tt=xe._(Ue,He),kt),tt.status);Ut+=1)He=tt.index,Qe.push(tt.value);return U(_(He,Qe),kt)})},i.result=function(te){return this.map(function(){return te})},i.atMost=function(te){return this.times(0,te)},i.atLeast=function(te){return Ct(this.times(te),this.many(),function(me,xe){return me.concat(xe)})},i.map=function(te){fe(te);var me=this;return o(function(xe,Ue){var He=me._(xe,Ue);return He.status?U(_(He.index,te(He.value)),He):He})},i.contramap=function(te){fe(te);var me=this;return o(function(xe,Ue){var He=me.parse(te(xe.slice(Ue)));return He.status?_(Ue+xe.length,He.value):He})},i.promap=function(te,me){return fe(te),fe(me),this.contramap(te).map(me)},i.skip=function(te){return st(this,te).map(function(me){return me[0]})},i.mark=function(){return Ct(en,this,en,function(te,me,xe){return{start:te,value:me,end:xe}})},i.node=function(te){return Ct(en,this,en,function(me,xe,Ue){return{name:te,value:xe,start:me,end:Ue}})},i.sepBy=function(te){return _e(this,te)},i.sepBy1=function(te){return et(this,te)},i.lookahead=function(te){return this.skip(Gt(te))},i.notFollowedBy=function(te){return this.skip(_t(te))},i.desc=function(te){R(te)||(te=[te]);var me=this;return o(function(xe,Ue){var He=me._(xe,Ue);return He.status||(He.expected=te),He})},i.fallback=function(te){return this.or(St(te))},i.ap=function(te){return Ct(te,this,function(me,xe){return me(xe)})},i.chain=function(te){var me=this;return o(function(xe,Ue){var He=me._(xe,Ue);return He.status?U(te(He.value)._(xe,He.index),He):He})},i.concat=i.or,i.empty=dn,i.of=St,i["fantasy-land/ap"]=i.ap,i["fantasy-land/chain"]=i.chain,i["fantasy-land/concat"]=i.concat,i["fantasy-land/empty"]=i.empty,i["fantasy-land/of"]=i.of,i["fantasy-land/map"]=i.map;var en=o(function(te,me){return _(me,Q(te,me))}),Zn=o(function(te,me){return me>=te.length?V(me,"any character/byte"):_(me+1,re(te,me))}),Dn=o(function(te,me){return _(te.length,te.slice(me))}),Er=o(function(te,me){return me<te.length?V(me,"EOF"):_(me,null)}),pt=ht(/[0-9]/).desc("a digit"),Mt=ht(/[0-9]*/).desc("optional digits"),Jt=ht(/[a-z]/i).desc("a letter"),sn=ht(/[a-z]*/i).desc("optional letters"),ln=ht(/\s*/).desc("optional whitespace"),vr=ht(/\s+/).desc("whitespace"),fr=nt("\r"),ha=nt(`
`),jr=nt(`\r
`),nr=tn(jr,ha,fr).desc("newline"),Lr=tn(nr,Er);o.all=Dn,o.alt=tn,o.any=Zn,o.cr=fr,o.createLanguage=function(te){var me={};for(var xe in te)({}).hasOwnProperty.call(te,xe)&&function(Ue){me[Ue]=Xt(function(){return te[Ue](me)})}(xe);return me},o.crlf=jr,o.custom=function(te){return o(te(_,V))},o.digit=pt,o.digits=Mt,o.empty=dn,o.end=Lr,o.eof=Er,o.fail=Tt,o.formatError=Xe,o.index=en,o.isParser=k,o.lazy=Xt,o.letter=Jt,o.letters=sn,o.lf=ha,o.lookahead=Gt,o.makeFailure=V,o.makeSuccess=_,o.newline=nr,o.noneOf=function(te){return Vt(function(me){return te.indexOf(me)<0}).desc("none of '"+te+"'")},o.notFollowedBy=_t,o.of=St,o.oneOf=function(te){for(var me=te.split(""),xe=0;xe<me.length;xe++)me[xe]="'"+me[xe]+"'";return Vt(function(Ue){return te.indexOf(Ue)>=0}).desc(me)},o.optWhitespace=ln,o.Parser=o,o.range=function(te,me){return Vt(function(xe){return te<=xe&&xe<=me}).desc(te+"-"+me)},o.regex=ht,o.regexp=ht,o.sepBy=_e,o.sepBy1=et,o.seq=st,o.seqMap=Ct,o.seqObj=function(){for(var te,me={},xe=0,Ue=(te=arguments,Array.prototype.slice.call(te)),He=Ue.length,Qe=0;Qe<He;Qe+=1){var tt=Ue[Qe];if(!k(tt)){if(R(tt)&&tt.length===2&&typeof tt[0]=="string"&&k(tt[1])){var kt=tt[0];if(Object.prototype.hasOwnProperty.call(me,kt))throw new Error("seqObj: duplicate key "+kt);me[kt]=!0,xe++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(xe===0)throw new Error("seqObj expects at least one named parser, found zero");return o(function(Ut,On){for(var yn,Cr={},Jn=0;Jn<He;Jn+=1){var yr,ta;if(R(Ue[Jn])?(yr=Ue[Jn][0],ta=Ue[Jn][1]):(yr=null,ta=Ue[Jn]),!(yn=U(ta._(Ut,On),yn)).status)return yn;yr&&(Cr[yr]=yn.value),On=yn.index}return U(_(On,Cr),yn)})},o.string=nt,o.succeed=St,o.takeWhile=function(te){return fe(te),o(function(me,xe){for(var Ue=xe;Ue<me.length&&te(re(me,Ue));)Ue++;return _(Ue,me.slice(xe,Ue))})},o.test=Vt,o.whitespace=vr,o["fantasy-land/empty"]=dn,o["fantasy-land/of"]=St,o.Binary={bitSeq:w,bitSeqObj:function(te){y();var me={},xe=0,Ue=f(function(Qe){if(R(Qe)){var tt=Qe;if(tt.length!==2)throw new Error("["+tt.join(", ")+"] should be length 2, got length "+tt.length);if($(tt[0]),de(tt[1]),Object.prototype.hasOwnProperty.call(me,tt[0]))throw new Error("duplicate key in bitSeqObj: "+tt[0]);return me[tt[0]]=!0,xe++,tt}return de(Qe),[null,Qe]},te);if(xe<1)throw new Error("bitSeqObj expects at least one named pair, got ["+te.join(", ")+"]");var He=f(function(Qe){return Qe[0]},Ue);return w(f(function(Qe){return Qe[1]},Ue)).map(function(Qe){return c(function(tt,kt){return kt[0]!==null&&(tt[kt[0]]=kt[1]),tt},{},f(function(tt,kt){return[tt,Qe[kt]]},He))})},byte:function(te){if(y(),de(te),te>255)throw new Error("Value specified to byte constructor ("+te+"=0x"+te.toString(16)+") is larger in value than a single byte.");var me=(te>15?"0x":"0x0")+te.toString(16);return o(function(xe,Ue){var He=re(xe,Ue);return He===te?_(Ue+1,He):V(Ue,me)})},buffer:function(te){return S("buffer",te).map(function(me){return Buffer.from(me)})},encodedString:function(te,me){return S("string",me).map(function(xe){return xe.toString(te)})},uintBE:I,uint8BE:I(1),uint16BE:I(2),uint32BE:I(4),uintLE:M,uint8LE:M(1),uint16LE:M(2),uint32LE:M(4),intBE:N,int8BE:N(1),int16BE:N(2),int32BE:N(4),intLE:B,int8LE:B(1),int16LE:B(2),int32LE:B(4),floatBE:S("floatBE",4).map(function(te){return te.readFloatBE(0)}),floatLE:S("floatLE",4).map(function(te){return te.readFloatLE(0)}),doubleBE:S("doubleBE",8).map(function(te){return te.readDoubleBE(0)}),doubleLE:S("doubleLE",8).map(function(te){return te.readDoubleLE(0)})},n.exports=o}])})})(pe);var Y2=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g;function S6(e){return e==null?e:e.shiftToAll().normalize()}function cx(e){return e.includes("/")&&(e=e.substring(e.lastIndexOf("/")+1)),e.endsWith(".md")&&(e=e.substring(0,e.length-3)),e}pe.exports.alt(pe.exports.regex(new RegExp(Y2(),"")),pe.exports.regex(/[0-9\p{Letter}_-]+/u).map(e=>e.toLocaleLowerCase()),pe.exports.whitespace.map(e=>"-"),pe.exports.any.map(e=>"")).many().map(e=>e.join(""));const xH=pe.exports.alt(pe.exports.regex(new RegExp(Y2(),"")),pe.exports.regex(/[0-9\p{Letter}_-]+/u),pe.exports.whitespace.map(e=>" "),pe.exports.any.map(e=>" ")).many().map(e=>e.join("").split(/\s+/).join(" ").trim());function MH(e){return xH.tryParse(e)}function kH(e){return e=S6(e),e=bt.fromObject(Object.fromEntries(Object.entries(e.toObject()).filter(([,t])=>t>0))),e.toHuman()}var ev;(function(e){function t(k,R=B2,L=!1){let _=n(k);if(!_)return R.renderNullAs;switch(_.type){case"null":return R.renderNullAs;case"string":return _.value;case"number":case"boolean":return""+_.value;case"html":return _.value.outerHTML;case"widget":return _.value.markdown();case"link":return _.value.markdown();case"function":return"<function>";case"array":let V="";return L&&(V+="["),V+=_.value.map(U=>t(U,R,!0)).join(", "),L&&(V+="]"),V;case"object":return"{ "+Object.entries(_.value).map(U=>U[0]+": "+t(U[1],R,!0)).join(", ")+" }";case"date":return _.value.second==0&&_.value.hour==0&&_.value.minute==0?_.value.toFormat(R.defaultDateFormat):_.value.toFormat(R.defaultDateTimeFormat);case"duration":return kH(_.value)}}e.toString=t;function n(k){return y(k)?{type:"null",value:k}:f(k)?{type:"number",value:k}:c(k)?{type:"string",value:k}:S(k)?{type:"boolean",value:k}:g(k)?{type:"duration",value:k}:h(k)?{type:"date",value:k}:I(k)?{type:"widget",value:k}:w(k)?{type:"array",value:k}:D(k)?{type:"link",value:k}:B(k)?{type:"function",value:k}:M(k)?{type:"html",value:k}:N(k)?{type:"object",value:k}:void 0}e.wrapValue=n;function r(k,R){if(N(k)){let L={};for(let[_,V]of Object.entries(k))L[_]=r(V,R);return L}else if(w(k)){let L=[];for(let _ of k)L.push(r(_,R));return L}else return R(k)}e.mapLeaves=r;function a(k,R,L){var _,V;if(k===void 0&&(k=null),R===void 0&&(R=null),k===null&&R===null)return 0;if(k===null)return-1;if(R===null)return 1;let U=n(k),Z=n(R);if(U===void 0&&Z===void 0)return 0;if(U===void 0)return-1;if(Z===void 0)return 1;if(U.type!=Z.type)return U.type.localeCompare(Z.type);if(U.value===Z.value)return 0;switch(U.type){case"string":return U.value.localeCompare(Z.value);case"number":return U.value<Z.value?-1:U.value==Z.value?0:1;case"null":return 0;case"boolean":return U.value==Z.value?0:U.value?1:-1;case"link":let Q=U.value,G=Z.value,re=L??(je=>je),de=re(Q.path).localeCompare(re(G.path));if(de!=0)return de;let fe=Q.type.localeCompare(G.type);return fe!=0?fe:Q.subpath&&!G.subpath?1:!Q.subpath&&G.subpath?-1:!Q.subpath&&!G.subpath?0:((_=Q.subpath)!==null&&_!==void 0?_:"").localeCompare((V=G.subpath)!==null&&V!==void 0?V:"");case"date":return U.value<Z.value?-1:U.value.equals(Z.value)?0:1;case"duration":return U.value<Z.value?-1:U.value.equals(Z.value)?0:1;case"array":let $=U.value,he=Z.value;for(let je=0;je<Math.min($.length,he.length);je++){let Re=a($[je],he[je]);if(Re!=0)return Re}return $.length-he.length;case"object":let se=U.value,ue=Z.value,X=Array.from(Object.keys(se)),oe=Array.from(Object.keys(ue));X.sort(),oe.sort();let De=a(X,oe);if(De!=0)return De;for(let je of X){let Re=a(se[je],ue[je]);if(Re!=0)return Re}return 0;case"widget":case"html":case"function":return 0}}e.compareValue=a;function o(k){var R;return(R=n(k))===null||R===void 0?void 0:R.type}e.typeOf=o;function i(k){let R=n(k);if(!R)return!1;switch(R.type){case"number":return R.value!=0;case"string":return R.value.length>0;case"boolean":return R.value;case"link":return!!R.value.path;case"date":return R.value.toMillis()!=0;case"duration":return R.value.as("seconds")!=0;case"object":return Object.keys(R.value).length>0;case"array":return R.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}e.isTruthy=i;function l(k){if(k==null)return k;if(e.isArray(k))return[].concat(k.map(R=>l(R)));if(e.isObject(k)){let R={};for(let[L,_]of Object.entries(k))R[L]=l(_);return R}else return k}e.deepCopy=l;function c(k){return typeof k=="string"}e.isString=c;function f(k){return typeof k=="number"}e.isNumber=f;function h(k){return k instanceof At}e.isDate=h;function g(k){return k instanceof bt}e.isDuration=g;function y(k){return k==null}e.isNull=y;function w(k){return Array.isArray(k)}e.isArray=w;function S(k){return typeof k=="boolean"}e.isBoolean=S;function D(k){return k instanceof so}e.isLink=D;function I(k){return k instanceof z2}e.isWidget=I;function M(k){return typeof HTMLElement<"u"?k instanceof HTMLElement:!1}e.isHtml=M;function N(k){return typeof k=="object"&&!M(k)&&!I(k)&&!w(k)&&!g(k)&&!h(k)&&!D(k)&&k!==void 0&&!y(k)}e.isObject=N;function B(k){return typeof k=="function"}e.isFunction=B})(ev||(ev={}));var dx;(function(e){function t(a){return ev.isObject(a)&&Object.keys(a).length==2&&"key"in a&&"rows"in a}e.isElementGroup=t;function n(a){for(let o of a)if(!t(o))return!1;return!0}e.isGrouping=n;function r(a){if(n(a)){let o=0;for(let i of a)o+=r(i.rows);return o}else return a.length}e.count=r})(dx||(dx={}));class so{constructor(t){Object.assign(this,t)}static file(t,n=!1,r){return new so({path:t,embed:n,display:r,subpath:void 0,type:"file"})}static infer(t,n=!1,r){if(t.includes("#^")){let a=t.split("#^");return so.block(a[0],a[1],n,r)}else if(t.includes("#")){let a=t.split("#");return so.header(a[0],a[1],n,r)}else return so.file(t,n,r)}static header(t,n,r,a){return new so({path:t,embed:r,display:a,subpath:MH(n),type:"header"})}static block(t,n,r,a){return new so({path:t,embed:r,display:a,subpath:n,type:"block"})}static fromObject(t){return new so(t)}equals(t){return t==null||t==null?!1:this.path==t.path&&this.type==t.type&&this.subpath==t.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(t){return new so(Object.assign({},this,{path:t}))}withDisplay(t){return new so(Object.assign({},this,{display:t}))}withHeader(t){return so.header(this.path,t,this.embed,this.display)}toFile(){return so.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let t=new so(this);return t.embed=!0,t}}fromEmbed(){if(this.embed){let t=new so(this);return t.embed=!1,t}else return this}markdown(){let t=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?t+="|"+this.display:(t+="|"+cx(this.path),(this.type=="header"||this.type=="block")&&(t+=" > "+this.subpath)),t+="]]",t}obsidianLink(){var t,n;const r=this.path.replace("|","\\|");return this.type=="header"?r+"#"+((t=this.subpath)===null||t===void 0?void 0:t.replace("|","\\|")):this.type=="block"?r+"#^"+((n=this.subpath)===null||n===void 0?void 0:n.replace("|","\\|")):r}fileName(){return cx(this.path).replace(".md","")}}class z2{constructor(t){this.$widget=t}}class NH extends z2{constructor(t,n){super("dataview:list-pair"),this.key=t,this.value=n}markdown(){return`${ev.toString(this.key)}: ${ev.toString(this.value)}`}}class AH extends z2{constructor(t,n){super("dataview:external-link"),this.url=t,this.display=n}markdown(){var t;return`[${(t=this.display)!==null&&t!==void 0?t:this.url}](${this.url})`}}var fx;(function(e){function t(i,l){return new NH(i,l)}e.listPair=t;function n(i,l){return new AH(i,l)}e.externalLink=n;function r(i){return i.$widget==="dataview:list-pair"}e.isListPair=r;function a(i){return i.$widget==="dataview:external-link"}e.isExternalLink=a;function o(i){return r(i)||a(i)}e.isBuiltin=o})(fx||(fx={}));var Fr;(function(e){function t(y){return{type:"variable",name:y}}e.variable=t;function n(y){return{type:"literal",value:y}}e.literal=n;function r(y,w,S){return{type:"binaryop",left:y,op:w,right:S}}e.binaryOp=r;function a(y,w){return{type:"index",object:y,index:w}}e.index=a;function o(y){let w=y.split("."),S=e.variable(w[0]);for(let D=1;D<w.length;D++)S=e.index(S,e.literal(w[D]));return S}e.indexVariable=o;function i(y,w){return{type:"lambda",arguments:y,value:w}}e.lambda=i;function l(y,w){return{type:"function",func:y,arguments:w}}e.func=l;function c(y){return{type:"list",values:y}}e.list=c;function f(y){return{type:"object",values:y}}e.object=f;function h(y){return{type:"negated",child:y}}e.negate=h;function g(y){return y=="<="||y=="<"||y==">"||y==">="||y=="!="||y=="="}e.isCompareOp=g,e.NULL=e.literal(null)})(Fr||(Fr={}));var Hl;(function(e){function t(h){return{type:"tag",tag:h}}e.tag=t;function n(h){return{type:"csv",path:h}}e.csv=n;function r(h){return{type:"folder",folder:h}}e.folder=r;function a(h,g){return{type:"link",file:h,direction:g?"incoming":"outgoing"}}e.link=a;function o(h,g,y){return{type:"binaryop",left:h,op:g,right:y}}e.binaryOp=o;function i(h,g){return{type:"binaryop",left:h,op:"&",right:g}}e.and=i;function l(h,g){return{type:"binaryop",left:h,op:"|",right:g}}e.or=l;function c(h){return{type:"negate",child:h}}e.negate=c;function f(){return{type:"empty"}}e.empty=f})(Hl||(Hl={}));const hx=new RegExp(Y2(),""),bT={year:bt.fromObject({years:1}),years:bt.fromObject({years:1}),yr:bt.fromObject({years:1}),yrs:bt.fromObject({years:1}),month:bt.fromObject({months:1}),months:bt.fromObject({months:1}),mo:bt.fromObject({months:1}),mos:bt.fromObject({months:1}),week:bt.fromObject({weeks:1}),weeks:bt.fromObject({weeks:1}),wk:bt.fromObject({weeks:1}),wks:bt.fromObject({weeks:1}),w:bt.fromObject({weeks:1}),day:bt.fromObject({days:1}),days:bt.fromObject({days:1}),d:bt.fromObject({days:1}),hour:bt.fromObject({hours:1}),hours:bt.fromObject({hours:1}),hr:bt.fromObject({hours:1}),hrs:bt.fromObject({hours:1}),h:bt.fromObject({hours:1}),minute:bt.fromObject({minutes:1}),minutes:bt.fromObject({minutes:1}),min:bt.fromObject({minutes:1}),mins:bt.fromObject({minutes:1}),m:bt.fromObject({minutes:1}),second:bt.fromObject({seconds:1}),seconds:bt.fromObject({seconds:1}),sec:bt.fromObject({seconds:1}),secs:bt.fromObject({seconds:1}),s:bt.fromObject({seconds:1})},ST={now:()=>At.local(),today:()=>At.local().startOf("day"),yesterday:()=>At.local().startOf("day").minus(bt.fromObject({days:1})),tomorrow:()=>At.local().startOf("day").plus(bt.fromObject({days:1})),sow:()=>At.local().startOf("week"),"start-of-week":()=>At.local().startOf("week"),eow:()=>At.local().endOf("week"),"end-of-week":()=>At.local().endOf("week"),soy:()=>At.local().startOf("year"),"start-of-year":()=>At.local().startOf("year"),eoy:()=>At.local().endOf("year"),"end-of-year":()=>At.local().endOf("year"),som:()=>At.local().startOf("month"),"start-of-month":()=>At.local().startOf("month"),eom:()=>At.local().endOf("month"),"end-of-month":()=>At.local().endOf("month")},DT=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function FH(e){let t=-1;for(;(t=e.indexOf("|",t+1))>=0;)if(!(t>0&&e[t-1]=="\\"))return[e.substring(0,t).replace(/\\\|/g,"|"),e.substring(t+1)];return[e.replace(/\\\|/g,"|"),void 0]}function OH(e){let[t,n]=FH(e);return so.infer(t,!1,n)}function bg(e,t,n){return pe.exports.seqMap(e,pe.exports.seq(pe.exports.optWhitespace,t,pe.exports.optWhitespace,e).many(),(r,a)=>{if(a.length==0)return r;let o=n(r,a[0][1],a[0][3]);for(let i=1;i<a.length;i++)o=n(o,a[i][1],a[i][3]);return o})}function PH(e,...t){return pe.exports.custom((n,r)=>(a,o)=>{let i=e._(a,o);if(!i.status)return i;for(let l of t){let c=l(i.value)._(a,i.index);if(!c.status)return i;i=c}return i})}const Ps=pe.exports.createLanguage({number:e=>pe.exports.regexp(/-?[0-9]+(\.[0-9]+)?/).map(t=>Number.parseFloat(t)).desc("number"),string:e=>pe.exports.string('"').then(pe.exports.alt(e.escapeCharacter,pe.exports.noneOf('"\\')).atLeast(0).map(t=>t.join(""))).skip(pe.exports.string('"')).desc("string"),escapeCharacter:e=>pe.exports.string("\\").then(pe.exports.any).map(t=>t==='"'?'"':t==="\\"?"\\":"\\"+t),bool:e=>pe.exports.regexp(/true|false|True|False/).map(t=>t.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:e=>pe.exports.seqMap(pe.exports.string("#"),pe.exports.alt(pe.exports.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(t,n)=>t+n.join("")).desc("tag ('#hello/stuff')"),identifier:e=>pe.exports.seqMap(pe.exports.alt(pe.exports.regexp(new RegExp("\\p{Letter}","u")),pe.exports.regexp(hx).desc("text")),pe.exports.alt(pe.exports.regexp(/[0-9\p{Letter}_-]/u),pe.exports.regexp(hx).desc("text")).many(),(t,n)=>t+n.join("")).desc("variable identifier"),link:e=>pe.exports.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(t=>OH(t)).desc("file link"),embedLink:e=>pe.exports.seqMap(pe.exports.string("!").atMost(1),e.link,(t,n)=>(t.length>0&&(n.embed=!0),n)).desc("file link"),binaryPlusMinus:e=>pe.exports.regexp(/\+|-/).map(t=>t).desc("'+' or '-'"),binaryMulDiv:e=>pe.exports.regexp(/\*|\/|%/).map(t=>t).desc("'*' or '/' or '%'"),binaryCompareOp:e=>pe.exports.regexp(/>=|<=|!=|>|<|=/).map(t=>t).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:e=>pe.exports.regexp(/and|or|&|\|/i).map(t=>t.toLowerCase()=="and"?"&":t.toLowerCase()=="or"?"|":t).desc("'and' or 'or'"),rootDate:e=>pe.exports.seqMap(pe.exports.regexp(/\d{4}/),pe.exports.string("-"),pe.exports.regexp(/\d{2}/),(t,n,r)=>At.fromObject({year:Number.parseInt(t),month:Number.parseInt(r)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:e=>pe.exports.alt(...Object.keys(ST).sort((t,n)=>n.length-t.length).map(pe.exports.string)),date:e=>PH(e.rootDate,t=>pe.exports.seqMap(pe.exports.string("-"),pe.exports.regexp(/\d{2}/),(n,r)=>t.set({day:Number.parseInt(r)})),t=>pe.exports.seqMap(pe.exports.string("T"),pe.exports.regexp(/\d{2}/),(n,r)=>t.set({hour:Number.parseInt(r)})),t=>pe.exports.seqMap(pe.exports.string(":"),pe.exports.regexp(/\d{2}/),(n,r)=>t.set({minute:Number.parseInt(r)})),t=>pe.exports.seqMap(pe.exports.string(":"),pe.exports.regexp(/\d{2}/),(n,r)=>t.set({second:Number.parseInt(r)})),t=>pe.exports.alt(pe.exports.seqMap(pe.exports.string("."),pe.exports.regexp(/\d{3}/),(n,r)=>t.set({millisecond:Number.parseInt(r)})),pe.exports.succeed(t)),t=>pe.exports.alt(pe.exports.seqMap(pe.exports.string("+").or(pe.exports.string("-")),pe.exports.regexp(/\d{1,2}(:\d{2})?/),(n,r)=>t.setZone("UTC"+n+r,{keepLocalTime:!0})),pe.exports.seqMap(pe.exports.string("Z"),()=>t.setZone("utc",{keepLocalTime:!0})),pe.exports.seqMap(pe.exports.string("["),pe.exports.regexp(/[0-9A-Za-z+-\/]+/u),pe.exports.string("]"),(n,r,a)=>t.setZone(r,{keepLocalTime:!0})))).assert(t=>t.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:e=>pe.exports.alt(e.dateShorthand.map(t=>ST[t]()),e.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:e=>pe.exports.alt(...Object.keys(bT).sort((t,n)=>n.length-t.length).map(pe.exports.string)),duration:e=>pe.exports.seqMap(e.number,pe.exports.optWhitespace,e.durationType,(t,n,r)=>bT[r].mapUnits(a=>a*t)).sepBy1(pe.exports.string(",").trim(pe.exports.optWhitespace).or(pe.exports.optWhitespace)).map(t=>t.reduce((n,r)=>n.plus(r))).desc("duration like 4hr2min"),rawNull:e=>pe.exports.string("null"),tagSource:e=>e.tag.map(t=>Hl.tag(t)),csvSource:e=>pe.exports.seqMap(pe.exports.string("csv(").skip(pe.exports.optWhitespace),e.string,pe.exports.string(")"),(t,n,r)=>Hl.csv(n)),linkIncomingSource:e=>e.link.map(t=>Hl.link(t.path,!0)),linkOutgoingSource:e=>pe.exports.seqMap(pe.exports.string("outgoing(").skip(pe.exports.optWhitespace),e.link,pe.exports.string(")"),(t,n,r)=>Hl.link(n.path,!1)),folderSource:e=>e.string.map(t=>Hl.folder(t)),parensSource:e=>pe.exports.seqMap(pe.exports.string("("),pe.exports.optWhitespace,e.source,pe.exports.optWhitespace,pe.exports.string(")"),(t,n,r,a,o)=>r),negateSource:e=>pe.exports.seqMap(pe.exports.alt(pe.exports.string("-"),pe.exports.string("!")),e.atomSource,(t,n)=>Hl.negate(n)),atomSource:e=>pe.exports.alt(e.parensSource,e.negateSource,e.linkOutgoingSource,e.linkIncomingSource,e.folderSource,e.tagSource,e.csvSource),binaryOpSource:e=>bg(e.atomSource,e.binaryBooleanOp.map(t=>t),Hl.binaryOp),source:e=>e.binaryOpSource,variableField:e=>e.identifier.chain(t=>DT.includes(t.toUpperCase())?pe.exports.fail("Variable fields cannot be a keyword ("+DT.join(" or ")+")"):pe.exports.succeed(Fr.variable(t))).desc("variable"),numberField:e=>e.number.map(t=>Fr.literal(t)).desc("number"),stringField:e=>e.string.map(t=>Fr.literal(t)).desc("string"),boolField:e=>e.bool.map(t=>Fr.literal(t)).desc("boolean"),dateField:e=>pe.exports.seqMap(pe.exports.string("date("),pe.exports.optWhitespace,e.datePlus,pe.exports.optWhitespace,pe.exports.string(")"),(t,n,r,a,o)=>Fr.literal(r)).desc("date"),durationField:e=>pe.exports.seqMap(pe.exports.string("dur("),pe.exports.optWhitespace,e.duration,pe.exports.optWhitespace,pe.exports.string(")"),(t,n,r,a,o)=>Fr.literal(r)).desc("duration"),nullField:e=>e.rawNull.map(t=>Fr.NULL),linkField:e=>e.link.map(t=>Fr.literal(t)),listField:e=>e.field.sepBy(pe.exports.string(",").trim(pe.exports.optWhitespace)).wrap(pe.exports.string("[").skip(pe.exports.optWhitespace),pe.exports.optWhitespace.then(pe.exports.string("]"))).map(t=>Fr.list(t)).desc("list ('[1, 2, 3]')"),objectField:e=>pe.exports.seqMap(e.identifier.or(e.string),pe.exports.string(":").trim(pe.exports.optWhitespace),e.field,(t,n,r)=>({name:t,value:r})).sepBy(pe.exports.string(",").trim(pe.exports.optWhitespace)).wrap(pe.exports.string("{").skip(pe.exports.optWhitespace),pe.exports.optWhitespace.then(pe.exports.string("}"))).map(t=>{let n={};for(let r of t)n[r.name]=r.value;return Fr.object(n)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:e=>pe.exports.alt(e.date,e.duration.map(t=>S6(t)),e.string,e.tag,e.embedLink,e.bool,e.number,e.rawNull),inlineFieldList:e=>e.atomInlineField.sepBy(pe.exports.string(",").trim(pe.exports.optWhitespace).lookahead(e.atomInlineField)),inlineField:e=>pe.exports.alt(pe.exports.seqMap(e.atomInlineField,pe.exports.string(",").trim(pe.exports.optWhitespace),e.inlineFieldList,(t,n,r)=>[t].concat(r)),e.atomInlineField),atomField:e=>pe.exports.alt(e.embedLink.map(t=>Fr.literal(t)),e.negatedField,e.linkField,e.listField,e.objectField,e.lambdaField,e.parensField,e.boolField,e.numberField,e.stringField,e.dateField,e.durationField,e.nullField,e.variableField),indexField:e=>pe.exports.seqMap(e.atomField,pe.exports.alt(e.dotPostfix,e.indexPostfix,e.functionPostfix).many(),(t,n)=>{let r=t;for(let a of n)switch(a.type){case"dot":r=Fr.index(r,Fr.literal(a.field));break;case"index":r=Fr.index(r,a.field);break;case"function":r=Fr.func(r,a.fields);break}return r}),negatedField:e=>pe.exports.seqMap(pe.exports.string("!"),e.indexField,(t,n)=>Fr.negate(n)).desc("negated field"),parensField:e=>pe.exports.seqMap(pe.exports.string("("),pe.exports.optWhitespace,e.field,pe.exports.optWhitespace,pe.exports.string(")"),(t,n,r,a,o)=>r),lambdaField:e=>pe.exports.seqMap(e.identifier.sepBy(pe.exports.string(",").trim(pe.exports.optWhitespace)).wrap(pe.exports.string("(").trim(pe.exports.optWhitespace),pe.exports.string(")").trim(pe.exports.optWhitespace)),pe.exports.string("=>").trim(pe.exports.optWhitespace),e.field,(t,n,r)=>({type:"lambda",arguments:t,value:r})),dotPostfix:e=>pe.exports.seqMap(pe.exports.string("."),e.identifier,(t,n)=>({type:"dot",field:n})),indexPostfix:e=>pe.exports.seqMap(pe.exports.string("["),pe.exports.optWhitespace,e.field,pe.exports.optWhitespace,pe.exports.string("]"),(t,n,r,a,o)=>({type:"index",field:r})),functionPostfix:e=>pe.exports.seqMap(pe.exports.string("("),pe.exports.optWhitespace,e.field.sepBy(pe.exports.string(",").trim(pe.exports.optWhitespace)),pe.exports.optWhitespace,pe.exports.string(")"),(t,n,r,a,o)=>({type:"function",fields:r})),binaryMulDivField:e=>bg(e.indexField,e.binaryMulDiv,Fr.binaryOp),binaryPlusMinusField:e=>bg(e.binaryMulDivField,e.binaryPlusMinus,Fr.binaryOp),binaryCompareField:e=>bg(e.binaryPlusMinusField,e.binaryCompareOp,Fr.binaryOp),binaryBooleanField:e=>bg(e.binaryCompareField,e.binaryBooleanOp,Fr.binaryOp),binaryOpField:e=>e.binaryBooleanField,field:e=>e.binaryOpField});function jH(e){try{return Aw.success(Ps.field.tryParse(e))}catch(t){return Aw.failure(""+t)}}var Fw;(function(e){function t(r,a){return{name:r,field:a}}e.named=t;function n(r,a){return{field:r,direction:a}}e.sortBy=n})(Fw||(Fw={}));function LH(e){return pe.exports.custom((t,n)=>(r,a)=>{let o=e._(r,a);return o.status?Object.assign({},o,{value:[o.value,r.substring(a,o.index)]}):o})}function RH(e){return e.split(/[\r\n]+/).map(t=>t.trim()).join("")}const _H=pe.exports.createLanguage({queryType:e=>pe.exports.alt(pe.exports.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(t=>t.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:e=>pe.exports.seqMap(Ps.field.skip(pe.exports.whitespace),pe.exports.regexp(/AS/i).skip(pe.exports.whitespace),Ps.identifier.or(Ps.string),(t,n,r)=>Fw.named(r,t)),namedField:e=>pe.exports.alt(e.explicitNamedField,LH(Ps.field).map(([t,n])=>Fw.named(RH(n),t))),sortField:e=>pe.exports.seqMap(Ps.field.skip(pe.exports.optWhitespace),pe.exports.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(t,n)=>{let r=n.length==0?"ascending":n[0].toLowerCase();return r=="desc"&&(r="descending"),r=="asc"&&(r="ascending"),{field:t,direction:r}}),headerClause:e=>e.queryType.skip(pe.exports.whitespace).chain(t=>{switch(t){case"table":return pe.exports.seqMap(pe.exports.regexp(/WITHOUT\s+ID/i).skip(pe.exports.optWhitespace).atMost(1),pe.exports.sepBy(e.namedField,pe.exports.string(",").trim(pe.exports.optWhitespace)),(n,r)=>({type:"table",fields:r,showId:n.length==0}));case"list":return pe.exports.seqMap(pe.exports.regexp(/WITHOUT\s+ID/i).skip(pe.exports.optWhitespace).atMost(1),Ps.field.atMost(1),(n,r)=>({type:"list",format:r.length==1?r[0]:void 0,showId:n.length==0}));case"task":return pe.exports.succeed({type:"task"});case"calendar":return pe.exports.seqMap(e.namedField,n=>({type:"calendar",showId:!0,field:n}));default:return pe.exports.fail(`Unrecognized query type '${t}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:e=>pe.exports.seqMap(pe.exports.regexp(/FROM/i),pe.exports.whitespace,Ps.source,(t,n,r)=>r),whereClause:e=>pe.exports.seqMap(pe.exports.regexp(/WHERE/i),pe.exports.whitespace,Ps.field,(t,n,r)=>({type:"where",clause:r})).desc("WHERE <expression>"),sortByClause:e=>pe.exports.seqMap(pe.exports.regexp(/SORT/i),pe.exports.whitespace,e.sortField.sepBy1(pe.exports.string(",").trim(pe.exports.optWhitespace)),(t,n,r)=>({type:"sort",fields:r})).desc("SORT field [ASC/DESC]"),limitClause:e=>pe.exports.seqMap(pe.exports.regexp(/LIMIT/i),pe.exports.whitespace,Ps.field,(t,n,r)=>({type:"limit",amount:r})).desc("LIMIT <value>"),flattenClause:e=>pe.exports.seqMap(pe.exports.regexp(/FLATTEN/i).skip(pe.exports.whitespace),e.namedField,(t,n)=>({type:"flatten",field:n})).desc("FLATTEN <value> [AS <name>]"),groupByClause:e=>pe.exports.seqMap(pe.exports.regexp(/GROUP BY/i).skip(pe.exports.whitespace),e.namedField,(t,n)=>({type:"group",field:n})).desc("GROUP BY <value> [AS <name>]"),clause:e=>pe.exports.alt(e.fromClause,e.whereClause,e.sortByClause,e.limitClause,e.groupByClause,e.flattenClause),query:e=>pe.exports.seqMap(e.headerClause.trim(pe.exports.optWhitespace),e.fromClause.trim(pe.exports.optWhitespace).atMost(1),e.clause.trim(pe.exports.optWhitespace).many(),(t,n,r)=>({header:t,source:n.length==0?Hl.folder(""):n[0],operations:r,settings:B2}))}),BH=e=>{var t;return e?(t=e.plugins.plugins.dataview)===null||t===void 0?void 0:t.api:window.DataviewAPI},HH=e=>e.plugins.enabledPlugins.has("dataview");Ku.DATE_SHORTHANDS=ST;Ku.DURATION_TYPES=bT;Ku.EXPRESSION=Ps;Ku.KEYWORDS=DT;Ku.QUERY_LANGUAGE=_H;var UH=Ku.getAPI=BH;Ku.isPluginEnabled=HH;Ku.parseField=jH;async function YH(e,t,n,r,a){var I,M;const{vault:o,metadataCache:i}=Le.getState().dailyNotesState.app===void 0?app:Le.getState().dailyNotesState.app,l=Le.getState().dailyNotesState.settings,c=e.replace(/\n/g,"<br>");if(n===void 0)return;const f=i.getFirstLinkpathDest("",n),h=x.moment(),g=h.format("YYYYMMDDHHmmss"),y=r.slice(14),w="    ",S=g+" "+c.trim(),D=w+"- "+g+" "+c.trim();if(f){let N;if(l!=null&&l.CommentOnMemos&&(l!=null&&l.CommentsInOriginalNotes)){const L=UH();if(L!==void 0)try{N=(M=(I=L.page(f.path))==null?void 0:I.file.lists.values)==null?void 0:M.filter(_=>_.line===parseInt(y))}catch(_){console.error(_)}}const B=await o.read(f);let k=0;N[0].children.values.length>0?k=N[0].children.values[N[0].children.values.length-1].line:k=N[0].line;const R=await zH(D,B,k);if(await o.modify(f,R.content),t)return{id:g+(k+1),content:S,deletedAt:"",createdAt:h.format("YYYY/MM/DD HH:mm:ss"),updatedAt:x.moment().format("YYYY/MM/DD HH:mm:ss"),thinoType:"JOURNAL",path:f.path,hasId:"",linkId:a}}}async function zH(e,t,n){if(n===-1)return{content:`${t}
${e}`,posNum:-1};const r=t.split(`
`),a=r.slice(0,n+1).join(`
`),o=r.slice(n+1).join(`
`);return/^\s*$/g.test(r[n+1])?{content:`${a}
${e}
${o}`,posNum:n}:{content:`${a}
${e}
${o}`,posNum:n}}function VH(e,t,n){var a;const r=t.workspace.getLeavesOfType("markdown");for(const o of r){const i=o.view;if(((a=i==null?void 0:i.file)==null?void 0:a.path)===e){t.workspace.revealLeaf(o);try{return o.view.setEphemeralState({line:n}),!0}catch(l){return console.error(l),!1}}}return!1}const V2=async e=>{var o;const t=ft.getState().app,n=t.workspace.getLeavesOfType("markdown");for(const i of n){const l=i.view;if(((o=l==null?void 0:l.file)==null?void 0:o.path)===e){t.workspace.revealLeaf(i);return}}const r=t.metadataCache.getFirstLinkpathDest("",e);if(!r){new x.Notice(E("File not found for the given thino path"));return}await t.workspace.getLeaf(!0).openFile(r)},W2=async(e,t)=>{const{app:n}=ft.getState(),r=parseInt(e.slice(14));if(VH(t,n,r))return;const a=n.metadataCache.getFirstLinkpathDest("",t);if(!x.Platform.isMobile)await n.workspace.getLeaf(!0).openFile(a,{eState:{line:r}});else{let o=n.workspace.activeLeaf;o===null&&(o=n.workspace.getLeaf(!0)),await o.openFile(a,{eState:{line:r}})}},$2=async(e,t)=>{var f,h,g;const n=ft.getState().app,r=n.metadataCache.getFirstLinkpathDest("",t);if(!r){new x.Notice(E("File not found for the given thino path"));return}let a="";try{a=await n.vault.read(r)}catch(y){console.error(y),a=await n.vault.cachedRead(r)}const i=a.split(/\r?\n/).findIndex(y=>y.contains(e)),l=n.workspace.getLeavesOfType("markdown");for(const y of l){const w=y.view;if(((f=w==null?void 0:w.file)==null?void 0:f.path)===r.path){n.workspace.revealLeaf(y);try{(h=y.view.editor)==null||h.setCursor({line:i,ch:1});return}catch(S){console.error(S)}}}const c=n.workspace.getLeaf(!0);await c.openFile(r,{eState:{line:i}});try{(g=c.view.editor)==null||g.setCursor({line:i,ch:1})}catch(y){console.error(y)}},Z2=async(e,t)=>{var l;const n=ft.getState().app,r=(c,f)=>{var g;const h=(g=Array.from(c.nodes.values()))==null?void 0:g.find(y=>y.id===f);return h?(c.selectOnly(h),c.zoomToSelection(),!0):!1},a=n.workspace.getLeavesOfType("canvas");for(const c of a){const f=c.view;if(((l=f==null?void 0:f.file)==null?void 0:l.path)===t&&(n.workspace.revealLeaf(c),r(f.canvas,e)))return}const o=n.metadataCache.getFirstLinkpathDest("",t);if(!o){new x.Notice(E("File not found for the given thino path"));return}const i=n.workspace.getLeaf(!0);await i.openFile(o),setTimeout(()=>{var c;r((c=i.view)==null?void 0:c.canvas,e)},10)};class WH{constructor(){Se(this,"initialized",!1)}getState(){return Le.getState().memoState}async fetchAllMemos(){const t=ft.getState().settings;ut.checkDailyInMulti(t);const n=await Ko.getMyMemos(t.EnabledLocationList.map(o=>o.value)),r=[...n.memos],a=[...n.commentMemos];return Le.dispatch({type:"SET_MEMOS",payload:{memos:r}}),Le.dispatch({type:"SET_COMMENT_MEMOS",payload:{commentMemos:a}}),this.initialized||(this.initialized=!0,dt.setLoaded(!0)),r}async updateTypeMemos(t){const n=await Ko.updateSpecificTypeMemo(t),r=this.getState().memos.filter(a=>a.sourceType!==t);Le.dispatch({type:"SET_MEMOS",payload:{memos:[...r,...n.memos]}})}async removeTypeMemos(t){const n=this.getState().memos.filter(r=>r.sourceType!==t);Le.dispatch({type:"SET_MEMOS",payload:{memos:[...n]}})}async fetchDeletedMemos(){const t=await Ko.getMyDeletedMemos();return t.sort((n,r)=>ut.getTimeStampByDate(r.deletedAt)-ut.getTimeStampByDate(n.deletedAt)),t}pushMemo(t){Le.dispatch({type:"INSERT_MEMO",payload:{memo:{...t}}})}pushCommentMemo(t){Le.dispatch({type:"INSERT_COMMENT_MEMO",payload:{memo:{...t}}})}getMemoById(t){for(const n of this.getState().memos)if(n.id===t)return n;return null}getCommentMemoById(t){for(const n of this.getState().commentMemos)if(n.id===t)return n;return null}getMemoByWebId(t){for(const n of this.getState().memos)if(n.webId===t||n.id===t)return n;return null}async finishWaitingForTemplaterThinos(){const t=this.getState().preparingUpdateMemo;if(t.length!==0)for(const n of t){const r=this.getMemoById(n.id),a=n.type==="local"?await DS(n.origin,n.isList,n.date,!0):await RC(r);await this.replaceOldThinoWithNewThino(n.id,a),Le.dispatch({type:"REMOVE_PARTICULAR_PREPARE_UPDATE_THINO",payload:{id:n.id}})}}async replaceOldThinoWithNewThino(t,n){this.getMemoById(t)&&Le.dispatch({type:"REPLACE_MEMO_BY_ID",payload:{id:t,memo:n}})}async updateMemoById(t,n,r){const a=this.getMemoByWebId(t);if(!a)return;let o=null;const i=r?{}:{content:n.content,rowStatus:n.rowStatus,pinned:n.pinned,deleted:!!n.deletedAt,thinoType:n.thinoType||"JOURNAL"};if(dA({...a,deleted:!!n.deletedAt},{...i,webId:n.id}))return a;switch(a.sourceType){case"DAILY":o=await Bl(a,{id:a.id,webId:n.id,...i});break;case"CANVAS":o=await _l(a,{id:a.id,webId:n.id,...i});break;case"MULTI":o=await js(a,{id:a.id,webId:n.id,...i});break;case"FILE":o=await Rl(a,{id:a.id,webId:n.id,...i});break}if(!o)return a;Le.dispatch({type:"EDIT_MEMO",payload:o})}async archiveThinoBulk(t){const n=[];for(const r of t){let a;switch(r.sourceType){case"DAILY":a=await Bl(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(a);break;case"CANVAS":a=await _l(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(a);break;case"MULTI":a=await js(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(a);break;case"FILE":a=await Rl(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(a);break}}return n.length>0?(Le.dispatch({type:"ARCHIVE_MEMO_BY_ID_BULK",payload:n}),n):t}async dealWithDailyThinoBulk(t,n,r){const a=await T_(t,n,r);return r==="deleteForever"?await this.deleteThinosWithIdBulk(a.map(o=>o.id)):this.editMemoBulk(a),a}async deleteThinosWithIdBulk(t){for(const n of t)Le.dispatch({type:"DELETE_MEMO_BY_ID",payload:{id:n}})}async archiveMemo(t){let n=null;switch(t.sourceType){case"DAILY":n=await Bl(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"CANVAS":n=await _l(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"MULTI":n=await js(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"FILE":n=await Rl(t,{id:t.id,rowStatus:"ARCHIVED"});break}return n?(Le.dispatch({type:"ARCHIVE_MEMO_BY_ID",payload:n}),n):t}async pushToUpdateList(t,n){Le.dispatch({type:"PREPARE_UPDATE_THINO",payload:{thino:t,originalId:n}})}async removePrepareUpdateThinoById(t){Le.dispatch({type:"REMOVE_PARTICULAR_PREPARE_UPDATE_THINO",payload:{id:t}})}async removePrepareUpdateThino(){Le.dispatch({type:"REMOVE_PREPARE_UPDATE_THINO",payload:null})}async unarchiveThinoBulk(t){const n=[];for(const r of t){let a;switch(r.sourceType){case"DAILY":a=await Bl(r,{id:r.id,rowStatus:"NORMAL"}),n.push(a);break;case"CANVAS":a=await _l(r,{id:r.id,rowStatus:"NORMAL"}),n.push(a);break;case"MULTI":a=await js(r,{id:r.id,rowStatus:"NORMAL"}),n.push(a);break;case"FILE":a=await Rl(r,{id:r.id,rowStatus:"NORMAL"}),n.push(a);break}}return n.length>0?(Le.dispatch({type:"ARCHIVE_MEMO_BY_ID_BULK",payload:n}),n):t}async unarchiveMemo(t){let n=null;switch(t.sourceType){case"DAILY":n=await Bl(t,{id:t.id,rowStatus:"NORMAL"});break;case"CANVAS":n=await _l(t,{id:t.id,rowStatus:"NORMAL"});break;case"MULTI":n=await js(t,{id:t.id,rowStatus:"NORMAL"});break;case"FILE":n=await Rl(t,{id:t.id,rowStatus:"NORMAL"});break}return Le.dispatch({type:"UNARCHIVE_MEMO_BY_ID",payload:n}),n}async hideMemoById(t){const n=this.getMemoById(t);if(!n)return n;let r=null;switch(n.sourceType){case"DAILY":r=await Bl(n,{id:n.id,deleted:!0});break;case"CANVAS":r=await _l(n,{id:n.id,deleted:!0});break;case"MULTI":r=await js(n,{id:n.id,deleted:!0});break;case"FILE":r=await Rl(n,{id:n.id,deleted:!0});break}if(!r)return n;if(r)return r}async restoreMemoById(t){return await Ko.restoreMemo(t)}async deleteMemoById(t,n){const r=this.getMemoById(t);try{switch(r.sourceType){case"DAILY":await Ko.deleteMemoInDailyNote(r);break;case"CANVAS":await Ko.deleteMemoInCanvas(r);break;case"MULTI":await Ko.deleteMemoInMultiFiles(r);break;case"FILE":await Ko.deleteMemoInSingleFile(r);break}Le.dispatch({type:"DELETE_MEMO_BY_ID",payload:{id:t}})}catch(l){console.error(l),new x.Notice(E("Failed to delete memo"))}if(n&&n==="local")return;const a=ft.getState().settings,o=ft.getState().app;!(o!=null&&o.loadLocalStorage("tokenForSync"))||!a.startSync||r.webId&&await A2(r.webId)}async removeMemosInFile(t,n){var a,o;const r=[];try{if(t.path.endsWith(".md")&&!t.path.contains(".thino")&&!n){const l=this.getState().memos.filter(c=>c.path.trim()===t.path.trim());r.push(...l)}else if(t.path.contains("thino.canvas")){const l=this.getState().memos.filter(c=>c.path.trim()===t.path.trim());r.push(...l)}else if((a=t==null?void 0:t.parent)!=null&&a.path.contains(n)||!(t!=null&&t.parent)&&!((o=t==null?void 0:t.parent)!=null&&o.path)){const l=this.getState().memos.filter(c=>c.path.trim()===t.path.trim());l.length>0&&r.push(...l)}else t.path.endsWith(".md")&&t.path.contains(".thino")&&await fT(t,r);const i=r.map(l=>l.id);Le.dispatch({type:"DELETE_MEMO_BY_ID_BATCH",payload:{ids:i}})}catch(i){console.error(i)}}async removeThinosByPath(t){const r=this.getState().memos.filter(a=>a.path===t).map(a=>a.id);Le.dispatch({type:"DELETE_MEMO_BY_ID_BATCH",payload:{ids:r}})}async updateMemosInFile(t,n){const r=[],a=async()=>{var o;if(t.path.endsWith(".md")&&!t.path.contains(".thino")&&!n){await vA(t,r);return}else if(t.path.contains("thino.canvas")){await yA(t,r);return}else if((o=t==null?void 0:t.parent)!=null&&o.path.contains(n)&&!t.path.endsWith(".thino.md")){await gA(t,r);return}else if(t.path.endsWith(".thino.md")){await fT(t,r);return}};try{await a(),Le.dispatch({type:"UPDATE_MEMO_BATCH",payload:{memos:r,path:t.path}})}catch(o){console.error(o)}}async updateMemoProperty(t){const n=ut.randomId(16),r=await js(t,{id:n});Le.dispatch({type:"EDIT_MEMO_PATH",payload:r})}editMemo(t){const n=t.webId;Le.dispatch({type:"EDIT_MEMO",payload:t});const r=ft.getState().settings,a=ft.getState().app;if(!(!(a!=null&&a.loadLocalStorage("tokenForSync"))||!r.startSync))try{t&&n&&SS({id:n,content:t.content,rowStatus:t.rowStatus,pinned:t.pinned,ttime:t.deletedAt?x.moment(t.deletedAt,"YYYY/MM/DD HH:mm:ss").valueOf():0,thinoType:t.sourceType==="DAILY"?"DAILY":"FILE",thinoStatus:t.thinoType==="JOURNAL"?"JOURNAL":t.thinoType==="TASK-TODO"?"TASK-TODO":"TASK-DONE"})}catch(i){console.error(i)}}editMemoBulk(t){for(const n of t)this.editMemo(n);this.updateTagsState()}editCommentMemo(t){Le.dispatch({type:"EDIT_COMMENT_MEMO",payload:t})}getThinoViaKeyword(t){const{memos:n}=this.getState();return n.filter(a=>a.content.toLowerCase().includes(t==null?void 0:t.toLowerCase()))}updateTagsState(){var o,i,l,c;const{memos:t}=this.getState(),n=new Set,r={},a=new Map;for(const f of t){if(f.deletedAt!==""&&f.deletedAt||f.rowStatus==="ARCHIVED")continue;const h=[];if(!a.has(f.path)&&f.sourceType!=="FILE"){const S=(Array.isArray((o=f==null?void 0:f.fileInfo)==null?void 0:o.tags)?f.fileInfo.tags:[]).filter(D=>D).map(D=>D.toString().trim());a.set(f.path,S),h.push(...S)}const g=f.content.replace(/<[^>]*>/g,"").replace(/\`\`\`(.*)?\n[\s\S]*?\n\`\`\`/gm,"").replace(/\`([^\`].*?)\`/g,""),y=[...Array.from(g.match($r)||[]),...Array.from(g.match(ua)||[]),...Array.from(g.match(Wa)||[])];h.push(...y);for(const w of h){if(!w||w==="undefined"||!w)continue;let S=w;typeof w!="string"&&(S=w==null?void 0:w.toString());const D=(c=(l=(i=S==null?void 0:S.replace($r,"$1"))==null?void 0:i.replace(ua,"$1"))==null?void 0:l.replace(Wa,"$2"))==null?void 0:c.trim();/^\d+$/.test(D)||(n.add(D),r[D]=(r[D]||0)+1)}}Le.dispatch({type:"SET_TAGS",payload:{tags:Array.from(n),tagsNum:r}})}clearMemos(){Le.dispatch({type:"SET_MEMOS",payload:{memos:[]}})}async getLinkedMemos(t){const{memos:n}=this.getState();return n.filter(r=>r.content.includes(t))}async getCommentMemos(t){const{memos:n}=this.getState();return n.filter(r=>r.content.includes("comment: "+t))}async createMemoMultiFile({content:t,isList:n,name:r}){return await s_({content:t,isList:n,name:r})}async createMemoSingleFile({content:t,isList:n}){return await l_({content:t,isList:n})}async createOrPatchThinoFromWeb(t){const n=this.getState().memos;if(t.localId&&(n!=null&&n.some(o=>o.id===t.localId)))return await this.updateMemoById(t.localId,t,!0),null;if(n!=null&&n.some(o=>o.id===t.id)||n!=null&&n.some(o=>o.webId===t.id))return await this.updateMemoById(t.id,t,!1),null;let r=t.sourceType;const a=ft.getState().settings;switch(a&&(a!=null&&a.saveThinoType)&&(r=a.saveThinoType!=="FILE"?a.saveThinoType:t.sourceType),r){case"FILE":case"MULTI":case"CANVAS":return await LC(t);case"DAILY":return await RC(t);default:return await LC(t)}}async initSync(){const n=this.getState().memos.filter(a=>!a.webId),r=await a_(n);for(const a of r)await this.createOrPatchThinoFromWeb(a)}async createMemoCanvas({text:t,isList:n}){return await u_({content:t,isList:n})}async createMemoDaily(t,n){return await DS(t,n)}setWaitingForTemplater({origin:t,date:n,isList:r,id:a,type:o}){Le.dispatch({type:"SET_WAITING_FOR_TEMPLATER",payload:{origin:t,date:n,isList:r,id:a,type:o}})}async pinMemoById(t){const n=this.getMemoById(t),r=await I_(n);Le.dispatch({type:"PIN_MEMO",payload:r});try{const a=ft.getState().settings,o=ft.getState().app;if((o==null?void 0:o.loadLocalStorage("tokenForSync"))&&a.startSync){const l=await SS({id:r.webId,pinned:!0});this.editMemo(l)}}catch(a){console.error(a)}}async unpinMemoById(t){const n=this.getMemoById(t),r=await E_(n);Le.dispatch({type:"PIN_MEMO",payload:r});try{const a=ft.getState().settings,o=ft.getState().app;if((o==null?void 0:o.loadLocalStorage("tokenForSync"))&&a.startSync){const l=await SS({id:r.webId,pinned:!1});this.editMemo(l)}}catch(a){console.error(a)}}async createCommentMemo(t,n,r,a,o){return await YH(t,n,r,a,o)}async importMemos(t,n,r){return await DS(t,n,r)}async createThino({content:t,isList:n,type:r,name:a}){let o=null;switch(r.toLowerCase()){case"canvas":o=await we.createMemoCanvas({text:t,isList:n});break;case"multi":o=await we.createMemoMultiFile({content:t,isList:n,name:a});break;case"daily":o=await we.createMemoDaily(t,n);break;case"file":o=await we.createMemoSingleFile({content:t,isList:n});break;default:o=await we.createMemoDaily(t,n);break}const i=ft.getState().settings,l=ft.getState().app,c=l==null?void 0:l.loadLocalStorage("tokenForSync");return o&&c&&i.startSync&&r!=="DAILY"&&setTimeout(async()=>{try{const f=await N2({content:t,thinoType:"FILE",thinoStatus:n?"JOURNAL":"TASK-TODO"});await this.updateMemoById(o.id,f,!0)}catch(f){console.error(f)}},200),o}async openThinoByID(t){const n=this.getMemoById(t);if(n)switch(n.sourceType){case"DAILY":await W2(n.id,n.path);break;case"CANVAS":await Z2(n.id,n.path);break;case"MULTI":await V2(n.path);break;case"FILE":await $2(n.id,n.path);break}}async updateMemo(t,n,r){const a=this.getMemoById(t);if(a){let o=null;switch(a.sourceType){case"DAILY":o=await Bl(a,{id:a.id,content:n,thinoType:r||a.thinoType});break;case"CANVAS":o=await _l(a,{id:a.id,content:n,thinoType:r||a.thinoType});break;case"MULTI":o=await js(a,{id:a.id,content:n,thinoType:r||a.thinoType});break;case"FILE":o=await Rl(a,{id:a.id,content:n,thinoType:r||a.thinoType})}if(o)return o}return a}}const we=new WH;class $H{getState(){return Le.getState().queryState}async getMyAllQueries(){const t=at.getState().query.filter,n=this.getQueryById(t),r=await Ko.getMyQueries();return Le.dispatch({type:"SET_QUERIES",payload:{queries:[...r,...n?[n]:[]]}}),r}getQueryById(t){return this.getState().queries.find(n=>n.id===t)}pushQuery(t){Le.dispatch({type:"INSERT_QUERY",payload:{query:{...t}}})}editQuery(t){Le.dispatch({type:"UPDATE_QUERY",payload:t})}async deleteQuery(t){await Ko.deleteQueryById(t),Le.dispatch({type:"DELETE_QUERY_BY_ID",payload:{id:t}})}async createQuery(t,n){return await Ko.createQuery(t,n)}createTempQuery(t,n){return NR(t,n)}async updateQuery(t,n,r){return await Ko.updateQuery(t,n,r)}async pinQuery(t){await Ko.pinQuery(t)}async unpinQuery(t){await Ko.unpinQuery(t)}}const on=new $H;class ZH{async upload(t){const{vault:n,fileManager:r}=Le.getState().dailyNotesState.app,a=await t.arrayBuffer(),o=qH(t.type),i=Ju(),l=x.moment(),c=pb(l,i);let f;if(c)c instanceof x.TFile&&(f=await n.createBinary(await n.getAvailablePathForAttachments(`Pasted Image ${x.moment().format("YYYYMMDDHHmmss")}`,o,c),a));else{const h=await lA(l);f=await n.createBinary(await n.getAvailablePathForAttachments(`Pasted Image ${x.moment().format("YYYYMMDDHHmmss")}`,o,h),a)}return r.generateMarkdownLink(f,f.path,"","")}async parseHtml(t){const n=await t.text(),r=document.createElement("html");r.innerHTML=n;const a=Array.from(r.getElementsByClassName("memo"));for(const o of a){const i=o.getElementsByClassName("content")[0],l=x.htmlToMarkdown(i.innerHTML),c=await we.importMemos(l,!0,x.moment(o.getElementsByClassName("time")[0].innerHTML));we.pushMemo(c)}}}const qH=e=>{var t;return(t=/^image\/(.+)$/.exec(e))==null?void 0:t[1]},q2=new ZH;var rs={},D6={exports:{}},Jo={},AS={exports:{}},FS={},px;function GH(){return px||(px=1,function(e){function t(se,ue){var X=se.length;se.push(ue);e:for(;0<X;){var oe=X-1>>>1,De=se[oe];if(0<a(De,ue))se[oe]=ue,se[X]=De,X=oe;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ue=se[0],X=se.pop();if(X!==ue){se[0]=X;e:for(var oe=0,De=se.length,je=De>>>1;oe<je;){var Re=2*(oe+1)-1,Fe=se[Re],Be=Re+1,Xe=se[Be];if(0>a(Fe,X))Be<De&&0>a(Xe,Fe)?(se[oe]=Xe,se[Be]=X,oe=Be):(se[oe]=Fe,se[Re]=X,oe=Re);else if(Be<De&&0>a(Xe,X))se[oe]=Xe,se[Be]=X,oe=Be;else break e}}return ue}function a(se,ue){var X=se.sortIndex-ue.sortIndex;return X!==0?X:se.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],f=[],h=1,g=null,y=3,w=!1,S=!1,D=!1,I=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(se){for(var ue=n(f);ue!==null;){if(ue.callback===null)r(f);else if(ue.startTime<=se)r(f),ue.sortIndex=ue.expirationTime,t(c,ue);else break;ue=n(f)}}function k(se){if(D=!1,B(se),!S)if(n(c)!==null)S=!0,$(R);else{var ue=n(f);ue!==null&&he(k,ue.startTime-se)}}function R(se,ue){S=!1,D&&(D=!1,M(V),V=-1),w=!0;var X=y;try{for(B(ue),g=n(c);g!==null&&(!(g.expirationTime>ue)||se&&!Q());){var oe=g.callback;if(typeof oe=="function"){g.callback=null,y=g.priorityLevel;var De=oe(g.expirationTime<=ue);ue=e.unstable_now(),typeof De=="function"?g.callback=De:g===n(c)&&r(c),B(ue)}else r(c);g=n(c)}if(g!==null)var je=!0;else{var Re=n(f);Re!==null&&he(k,Re.startTime-ue),je=!1}return je}finally{g=null,y=X,w=!1}}var L=!1,_=null,V=-1,U=5,Z=-1;function Q(){return!(e.unstable_now()-Z<U)}function G(){if(_!==null){var se=e.unstable_now();Z=se;var ue=!0;try{ue=_(!0,se)}finally{ue?re():(L=!1,_=null)}}else L=!1}var re;if(typeof N=="function")re=function(){N(G)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,fe=de.port2;de.port1.onmessage=G,re=function(){fe.postMessage(null)}}else re=function(){I(G,0)};function $(se){_=se,L||(L=!0,re())}function he(se,ue){V=I(function(){se(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(se){se.callback=null},e.unstable_continueExecution=function(){S||w||(S=!0,$(R))},e.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<se?Math.floor(1e3/se):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(se){switch(y){case 1:case 2:case 3:var ue=3;break;default:ue=y}var X=y;y=ue;try{return se()}finally{y=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(se,ue){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var X=y;y=se;try{return ue()}finally{y=X}},e.unstable_scheduleCallback=function(se,ue,X){var oe=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?oe+X:oe):X=oe,se){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=X+De,se={id:h++,callback:ue,priorityLevel:se,startTime:X,expirationTime:De,sortIndex:-1},X>oe?(se.sortIndex=X,t(f,se),n(c)===null&&se===n(f)&&(D?(M(V),V=-1):D=!0,he(k,X-oe))):(se.sortIndex=De,t(c,se),S||w||(S=!0,$(R))),se},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(se){var ue=y;return function(){var X=y;y=ue;try{return se.apply(this,arguments)}finally{y=X}}}}(FS)),FS}var mx;function JH(){return mx||(mx=1,AS.exports=GH()),AS.exports}var gx;function KH(){if(gx)return Jo;gx=1;var e=P,t=JH();function n(s){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+s,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function o(s,u){i(s,u),i(s+"Capture",u)}function i(s,u){for(a[s]=u,s=0;s<u.length;s++)r.add(u[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function y(s){return c.call(g,s)?!0:c.call(h,s)?!1:f.test(s)?g[s]=!0:(h[s]=!0,!1)}function w(s,u,m,b){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return b?!1:m!==null?!m.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,u,m,b){if(u===null||typeof u>"u"||w(s,u,m,b))return!0;if(b)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function D(s,u,m,b,C,O,W){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=b,this.attributeNamespace=C,this.mustUseProperty=m,this.propertyName=s,this.type=u,this.sanitizeURL=O,this.removeEmptyString=W}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){I[s]=new D(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var u=s[0];I[u]=new D(u,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){I[s]=new D(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){I[s]=new D(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){I[s]=new D(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){I[s]=new D(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){I[s]=new D(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){I[s]=new D(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){I[s]=new D(s,5,!1,s.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function N(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var u=s.replace(M,N);I[u]=new D(u,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var u=s.replace(M,N);I[u]=new D(u,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var u=s.replace(M,N);I[u]=new D(u,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){I[s]=new D(s,1,!1,s.toLowerCase(),null,!1,!1)}),I.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){I[s]=new D(s,1,!1,s.toLowerCase(),null,!0,!0)});function B(s,u,m,b){var C=I.hasOwnProperty(u)?I[u]:null;(C!==null?C.type!==0:b||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(S(u,m,C,b)&&(m=null),b||C===null?y(u)&&(m===null?s.removeAttribute(u):s.setAttribute(u,""+m)):C.mustUseProperty?s[C.propertyName]=m===null?C.type===3?!1:"":m:(u=C.attributeName,b=C.attributeNamespace,m===null?s.removeAttribute(u):(C=C.type,m=C===3||C===4&&m===!0?"":""+m,b?s.setAttributeNS(b,u,m):s.setAttribute(u,m))))}var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),L=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),Q=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),se=Symbol.iterator;function ue(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var X=Object.assign,oe;function De(s){if(oe===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);oe=u&&u[1]||""}return`
`+oe+s}var je=!1;function Re(s,u){if(!s||je)return"";je=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Pe){var b=Pe}Reflect.construct(s,[],u)}else{try{u.call()}catch(Pe){b=Pe}s.call(u.prototype)}else{try{throw Error()}catch(Pe){b=Pe}s()}}catch(Pe){if(Pe&&b&&typeof Pe.stack=="string"){for(var C=Pe.stack.split(`
`),O=b.stack.split(`
`),W=C.length-1,le=O.length-1;1<=W&&0<=le&&C[W]!==O[le];)le--;for(;1<=W&&0<=le;W--,le--)if(C[W]!==O[le]){if(W!==1||le!==1)do if(W--,le--,0>le||C[W]!==O[le]){var ge=`
`+C[W].replace(" at new "," at ");return s.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",s.displayName)),ge}while(1<=W&&0<=le);break}}}finally{je=!1,Error.prepareStackTrace=m}return(s=s?s.displayName||s.name:"")?De(s):""}function Fe(s){switch(s.tag){case 5:return De(s.type);case 16:return De("Lazy");case 13:return De("Suspense");case 19:return De("SuspenseList");case 0:case 2:case 15:return s=Re(s.type,!1),s;case 11:return s=Re(s.type.render,!1),s;case 1:return s=Re(s.type,!0),s;default:return""}}function Be(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case L:return"Portal";case U:return"Profiler";case V:return"StrictMode";case re:return"Suspense";case de:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Q:return(s.displayName||"Context")+".Consumer";case Z:return(s._context.displayName||"Context")+".Provider";case G:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case fe:return u=s.displayName||null,u!==null?u:Be(s.type)||"Memo";case $:u=s._payload,s=s._init;try{return Be(s(u))}catch{}}return null}function Xe(s){var u=s.type;switch(s.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=u.render,s=s.displayName||s.name||"",u.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(u);case 8:return u===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Ze(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function st(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ct(s){var u=st(s)?"checked":"value",m=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),b=""+s[u];if(!s.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var C=m.get,O=m.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return C.call(this)},set:function(W){b=""+W,O.call(this,W)}}),Object.defineProperty(s,u,{enumerable:m.enumerable}),{getValue:function(){return b},setValue:function(W){b=""+W},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function tn(s){s._valueTracker||(s._valueTracker=Ct(s))}function _e(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var m=u.getValue(),b="";return s&&(b=st(s)?s.checked?"true":"false":s.value),s=b,s!==m?(u.setValue(s),!0):!1}function et(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function nt(s,u){var m=u.checked;return X({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??s._wrapperState.initialChecked})}function ht(s,u){var m=u.defaultValue==null?"":u.defaultValue,b=u.checked!=null?u.checked:u.defaultChecked;m=Ze(u.value!=null?u.value:m),s._wrapperState={initialChecked:b,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function St(s,u){u=u.checked,u!=null&&B(s,"checked",u,!1)}function Tt(s,u){St(s,u);var m=Ze(u.value),b=u.type;if(m!=null)b==="number"?(m===0&&s.value===""||s.value!=m)&&(s.value=""+m):s.value!==""+m&&(s.value=""+m);else if(b==="submit"||b==="reset"){s.removeAttribute("value");return}u.hasOwnProperty("value")?_t(s,u.type,m):u.hasOwnProperty("defaultValue")&&_t(s,u.type,Ze(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(s.defaultChecked=!!u.defaultChecked)}function Gt(s,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var b=u.type;if(!(b!=="submit"&&b!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+s._wrapperState.initialValue,m||u===s.value||(s.value=u),s.defaultValue=u}m=s.name,m!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,m!==""&&(s.name=m)}function _t(s,u,m){(u!=="number"||et(s.ownerDocument)!==s)&&(m==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+m&&(s.defaultValue=""+m))}var Vt=Array.isArray;function Xt(s,u,m,b){if(s=s.options,u){u={};for(var C=0;C<m.length;C++)u["$"+m[C]]=!0;for(m=0;m<s.length;m++)C=u.hasOwnProperty("$"+s[m].value),s[m].selected!==C&&(s[m].selected=C),C&&b&&(s[m].defaultSelected=!0)}else{for(m=""+Ze(m),u=null,C=0;C<s.length;C++){if(s[C].value===m){s[C].selected=!0,b&&(s[C].defaultSelected=!0);return}u!==null||s[C].disabled||(u=s[C])}u!==null&&(u.selected=!0)}}function dn(s,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},u,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function en(s,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(n(92));if(Vt(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),m=u}s._wrapperState={initialValue:Ze(m)}}function Zn(s,u){var m=Ze(u.value),b=Ze(u.defaultValue);m!=null&&(m=""+m,m!==s.value&&(s.value=m),u.defaultValue==null&&s.defaultValue!==m&&(s.defaultValue=m)),b!=null&&(s.defaultValue=""+b)}function Dn(s){var u=s.textContent;u===s._wrapperState.initialValue&&u!==""&&u!==null&&(s.value=u)}function Er(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(s,u){return s==null||s==="http://www.w3.org/1999/xhtml"?Er(u):s==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Mt,Jt=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,b,C){MSApp.execUnsafeLocalFunction(function(){return s(u,m,b,C)})}:s}(function(s,u){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=u;else{for(Mt=Mt||document.createElement("div"),Mt.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Mt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;u.firstChild;)s.appendChild(u.firstChild)}});function sn(s,u){if(u){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=u;return}}s.textContent=u}var ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vr=["Webkit","ms","Moz","O"];Object.keys(ln).forEach(function(s){vr.forEach(function(u){u=u+s.charAt(0).toUpperCase()+s.substring(1),ln[u]=ln[s]})});function fr(s,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||ln.hasOwnProperty(s)&&ln[s]?(""+u).trim():u+"px"}function ha(s,u){s=s.style;for(var m in u)if(u.hasOwnProperty(m)){var b=m.indexOf("--")===0,C=fr(m,u[m],b);m==="float"&&(m="cssFloat"),b?s.setProperty(m,C):s[m]=C}}var jr=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nr(s,u){if(u){if(jr[s]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Lr(s,u){if(s.indexOf("-")===-1)return typeof u.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var te=null;function me(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var xe=null,Ue=null,He=null;function Qe(s){if(s=ga(s)){if(typeof xe!="function")throw Error(n(280));var u=s.stateNode;u&&(u=th(u),xe(s.stateNode,s.type,u))}}function tt(s){Ue?He?He.push(s):He=[s]:Ue=s}function kt(){if(Ue){var s=Ue,u=He;if(He=Ue=null,Qe(s),u)for(s=0;s<u.length;s++)Qe(u[s])}}function Ut(s,u){return s(u)}function On(){}var yn=!1;function Cr(s,u,m){if(yn)return s(u,m);yn=!0;try{return Ut(s,u,m)}finally{yn=!1,(Ue!==null||He!==null)&&(On(),kt())}}function Jn(s,u){var m=s.stateNode;if(m===null)return null;var b=th(m);if(b===null)return null;m=b[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(s=s.type,b=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!b;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(n(231,u,typeof m));return m}var yr=!1;if(l)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){yr=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{yr=!1}function Pi(s,u,m,b,C,O,W,le,ge){var Pe=Array.prototype.slice.call(arguments,3);try{u.apply(m,Pe)}catch(Ge){this.onError(Ge)}}var Nn=!1,Aa=null,Fa=!1,Zr=null,fo={onError:function(s){Nn=!0,Aa=s}};function Oa(s,u,m,b,C,O,W,le,ge){Nn=!1,Aa=null,Pi.apply(fo,arguments)}function iu(s,u,m,b,C,O,W,le,ge){if(Oa.apply(this,arguments),Nn){if(Nn){var Pe=Aa;Nn=!1,Aa=null}else throw Error(n(198));Fa||(Fa=!0,Zr=Pe)}}function si(s){var u=s,m=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,u.flags&4098&&(m=u.return),s=u.return;while(s)}return u.tag===3?m:null}function li(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function nc(s){if(si(s)!==s)throw Error(n(188))}function su(s){var u=s.alternate;if(!u){if(u=si(s),u===null)throw Error(n(188));return u!==s?null:s}for(var m=s,b=u;;){var C=m.return;if(C===null)break;var O=C.alternate;if(O===null){if(b=C.return,b!==null){m=b;continue}break}if(C.child===O.child){for(O=C.child;O;){if(O===m)return nc(C),s;if(O===b)return nc(C),u;O=O.sibling}throw Error(n(188))}if(m.return!==b.return)m=C,b=O;else{for(var W=!1,le=C.child;le;){if(le===m){W=!0,m=C,b=O;break}if(le===b){W=!0,b=C,m=O;break}le=le.sibling}if(!W){for(le=O.child;le;){if(le===m){W=!0,m=O,b=C;break}if(le===b){W=!0,b=O,m=C;break}le=le.sibling}if(!W)throw Error(n(189))}}if(m.alternate!==b)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?s:u}function us(s){return s=su(s),s!==null?ji(s):null}function ji(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var u=ji(s);if(u!==null)return u;s=s.sibling}return null}var cs=t.unstable_scheduleCallback,lu=t.unstable_cancelCallback,ds=t.unstable_shouldYield,rc=t.unstable_requestPaint,An=t.unstable_now,na=t.unstable_getCurrentPriorityLevel,qs=t.unstable_ImmediatePriority,Gs=t.unstable_UserBlockingPriority,ui=t.unstable_NormalPriority,uu=t.unstable_LowPriority,Fo=t.unstable_IdlePriority,ho=null,Pa=null;function fs(s){if(Pa&&typeof Pa.onCommitFiberRoot=="function")try{Pa.onCommitFiberRoot(ho,s,void 0,(s.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:Qs,Js=Math.log,Ks=Math.LN2;function Qs(s){return s>>>=0,s===0?32:31-(Js(s)/Ks|0)|0}var po=64,hs=4194304;function ci(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function mo(s,u){var m=s.pendingLanes;if(m===0)return 0;var b=0,C=s.suspendedLanes,O=s.pingedLanes,W=m&268435455;if(W!==0){var le=W&~C;le!==0?b=ci(le):(O&=W,O!==0&&(b=ci(O)))}else W=m&~C,W!==0?b=ci(W):O!==0&&(b=ci(O));if(b===0)return 0;if(u!==0&&u!==b&&!(u&C)&&(C=b&-b,O=u&-u,C>=O||C===16&&(O&4194240)!==0))return u;if(b&4&&(b|=m&16),u=s.entangledLanes,u!==0)for(s=s.entanglements,u&=b;0<u;)m=31-Rr(u),C=1<<m,b|=s[m],u&=~C;return b}function A(s,u){switch(s){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y(s,u){for(var m=s.suspendedLanes,b=s.pingedLanes,C=s.expirationTimes,O=s.pendingLanes;0<O;){var W=31-Rr(O),le=1<<W,ge=C[W];ge===-1?(!(le&m)||le&b)&&(C[W]=A(le,u)):ge<=u&&(s.expiredLanes|=le),O&=~le}}function K(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ie(){var s=po;return po<<=1,!(po&4194240)&&(po=64),s}function Ne(s){for(var u=[],m=0;31>m;m++)u.push(s);return u}function Ie(s,u,m){s.pendingLanes|=u,u!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,u=31-Rr(u),s[u]=m}function Ye(s,u){var m=s.pendingLanes&~u;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=u,s.mutableReadLanes&=u,s.entangledLanes&=u,u=s.entanglements;var b=s.eventTimes;for(s=s.expirationTimes;0<m;){var C=31-Rr(m),O=1<<C;u[C]=0,b[C]=-1,s[C]=-1,m&=~O}}function it(s,u){var m=s.entangledLanes|=u;for(s=s.entanglements;m;){var b=31-Rr(m),C=1<<b;C&u|s[b]&u&&(s[b]|=u),m&=~C}}var ct=0;function Ft(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var $t,Pn,Ga,ja,ra,Oo=!1,La=[],Ja=null,pa=null,go=null,Ra=new Map,Li=new Map,Ri=[],dm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bf(s,u){switch(s){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":Ra.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(u.pointerId)}}function ps(s,u,m,b,C,O){return s===null||s.nativeEvent!==O?(s={blockedOn:u,domEventName:m,eventSystemFlags:b,nativeEvent:O,targetContainers:[C]},u!==null&&(u=ga(u),u!==null&&Pn(u)),s):(s.eventSystemFlags|=b,u=s.targetContainers,C!==null&&u.indexOf(C)===-1&&u.push(C),s)}function fm(s,u,m,b,C){switch(u){case"focusin":return Ja=ps(Ja,s,u,m,b,C),!0;case"dragenter":return pa=ps(pa,s,u,m,b,C),!0;case"mouseover":return go=ps(go,s,u,m,b,C),!0;case"pointerover":var O=C.pointerId;return Ra.set(O,ps(Ra.get(O)||null,s,u,m,b,C)),!0;case"gotpointercapture":return O=C.pointerId,Li.set(O,ps(Li.get(O)||null,s,u,m,b,C)),!0}return!1}function Po(s){var u=Yi(s.target);if(u!==null){var m=si(u);if(m!==null){if(u=m.tag,u===13){if(u=li(m),u!==null){s.blockedOn=u,ra(s.priority,function(){Ga(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xs(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var m=tl(s.domEventName,s.eventSystemFlags,u[0],s.nativeEvent);if(m===null){m=s.nativeEvent;var b=new m.constructor(m.type,m);te=b,m.target.dispatchEvent(b),te=null}else return u=ga(m),u!==null&&Pn(u),s.blockedOn=m,!1;u.shift()}return!0}function cu(s,u,m){Xs(s)&&m.delete(u)}function Bn(){Oo=!1,Ja!==null&&Xs(Ja)&&(Ja=null),pa!==null&&Xs(pa)&&(pa=null),go!==null&&Xs(go)&&(go=null),Ra.forEach(cu),Li.forEach(cu)}function hn(s,u){s.blockedOn===u&&(s.blockedOn=null,Oo||(Oo=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Bn)))}function pn(s){function u(C){return hn(C,s)}if(0<La.length){hn(La[0],s);for(var m=1;m<La.length;m++){var b=La[m];b.blockedOn===s&&(b.blockedOn=null)}}for(Ja!==null&&hn(Ja,s),pa!==null&&hn(pa,s),go!==null&&hn(go,s),Ra.forEach(u),Li.forEach(u),m=0;m<Ri.length;m++)b=Ri[m],b.blockedOn===s&&(b.blockedOn=null);for(;0<Ri.length&&(m=Ri[0],m.blockedOn===null);)Po(m),m.blockedOn===null&&Ri.shift()}var jo=k.ReactCurrentBatchConfig,vo=!0;function ac(s,u,m,b){var C=ct,O=jo.transition;jo.transition=null;try{ct=1,oc(s,u,m,b)}finally{ct=C,jo.transition=O}}function ms(s,u,m,b){var C=ct,O=jo.transition;jo.transition=null;try{ct=4,oc(s,u,m,b)}finally{ct=C,jo.transition=O}}function oc(s,u,m,b){if(vo){var C=tl(s,u,m,b);if(C===null)vm(s,u,b,el,m),Bf(s,b);else if(fm(C,s,u,m,b))b.stopPropagation();else if(Bf(s,b),u&4&&-1<dm.indexOf(s)){for(;C!==null;){var O=ga(C);if(O!==null&&$t(O),O=tl(s,u,m,b),O===null&&vm(s,u,b,el,m),O===C)break;C=O}C!==null&&b.stopPropagation()}else vm(s,u,b,null,m)}}var el=null;function tl(s,u,m,b){if(el=null,s=me(b),s=Yi(s),s!==null)if(u=si(s),u===null)s=null;else if(m=u.tag,m===13){if(s=li(u),s!==null)return s;s=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null);return el=s,null}function fd(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(na()){case qs:return 1;case Gs:return 4;case ui:case uu:return 16;case Fo:return 536870912;default:return 16}default:return 16}}var zn=null,nl=null,Lo=null;function hd(){if(Lo)return Lo;var s,u=nl,m=u.length,b,C="value"in zn?zn.value:zn.textContent,O=C.length;for(s=0;s<m&&u[s]===C[s];s++);var W=m-s;for(b=1;b<=W&&u[m-b]===C[O-b];b++);return Lo=C.slice(s,1<b?1-b:void 0)}function di(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function qr(){return!0}function rl(){return!1}function Gr(s){function u(m,b,C,O,W){this._reactName=m,this._targetInst=C,this.type=b,this.nativeEvent=O,this.target=W,this.currentTarget=null;for(var le in s)s.hasOwnProperty(le)&&(m=s[le],this[le]=m?m(O):O[le]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?qr:rl,this.isPropagationStopped=rl,this}return X(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),u}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Gr(gs),al=X({},gs,{view:0,detail:0}),ic=Gr(al),xr,vs,wr,du=X({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uc,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==wr&&(wr&&s.type==="mousemove"?(xr=s.screenX-wr.screenX,vs=s.screenY-wr.screenY):vs=xr=0,wr=s),xr)},movementY:function(s){return"movementY"in s?s.movementY:vs}}),sc=Gr(du),fi=X({},du,{dataTransfer:0}),ol=Gr(fi),aa=X({},al,{relatedTarget:0}),jn=Gr(aa),Ro=X({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),pd=Gr(Ro),Hf=X({},gs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),il=Gr(Hf),Uf=X({},gs,{data:0}),md=Gr(Uf),lc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ys(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=hu[s])?!!u[s]:!1}function uc(){return ys}var cc=X({},al,{key:function(s){if(s.key){var u=lc[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=di(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?fu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uc,charCode:function(s){return s.type==="keypress"?di(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?di(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),gd=Gr(cc),F=X({},du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H=Gr(F),q=X({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uc}),ae=Gr(q),Ae=X({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ee=Gr(Ae),Ve=X({},du,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ot=Gr(Ve),It=[9,13,27,32],Kt=l&&"CompositionEvent"in window,Rt=null;l&&"documentMode"in document&&(Rt=document.documentMode);var Hn=l&&"TextEvent"in window&&!Rt,oa=l&&(!Kt||Rt&&8<Rt&&11>=Rt),Ka=" ",Qa=!1;function pu(s,u){switch(s){case"keyup":return It.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vd(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Bi=!1;function dc(s,u){switch(s){case"compositionend":return vd(u);case"keypress":return u.which!==32?null:(Qa=!0,Ka);case"textInput":return s=u.data,s===Ka&&Qa?null:s;default:return null}}function P1(s,u){if(Bi)return s==="compositionend"||!Kt&&pu(s,u)?(s=hd(),Lo=nl=zn=null,Bi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return oa&&u.locale!=="ko"?null:u.data;default:return null}}var j1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yf(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!j1[s.type]:u==="textarea"}function hm(s,u,m,b){tt(b),u=Kf(u,"onChange"),0<u.length&&(m=new _i("onChange","change",null,m,b),s.push({event:m,listeners:u}))}var _o=null,sl=null;function L1(s){Ey(s,0)}function zf(s){var u=nn(s);if(_e(u))return s}function R1(s,u){if(s==="change")return u}var mu=!1;if(l){var yo;if(l){var Vf="oninput"in document;if(!Vf){var wy=document.createElement("div");wy.setAttribute("oninput","return;"),Vf=typeof wy.oninput=="function"}yo=Vf}else yo=!1;mu=yo&&(!document.documentMode||9<document.documentMode)}function by(){_o&&(_o.detachEvent("onpropertychange",Sy),sl=_o=null)}function Sy(s){if(s.propertyName==="value"&&zf(sl)){var u=[];hm(u,sl,s,me(s)),Cr(L1,u)}}function _1(s,u,m){s==="focusin"?(by(),_o=u,sl=m,_o.attachEvent("onpropertychange",Sy)):s==="focusout"&&by()}function B1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return zf(sl)}function fc(s,u){if(s==="click")return zf(u)}function be(s,u){if(s==="input"||s==="change")return zf(u)}function ze(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var Oe=typeof Object.is=="function"?Object.is:ze;function vt(s,u){if(Oe(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var m=Object.keys(s),b=Object.keys(u);if(m.length!==b.length)return!1;for(b=0;b<m.length;b++){var C=m[b];if(!c.call(u,C)||!Oe(s[C],u[C]))return!1}return!0}function Qt(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Tn(s,u){var m=Qt(s);s=0;for(var b;m;){if(m.nodeType===3){if(b=s+m.textContent.length,s<=u&&b>=u)return{node:m,offset:u-s};s=b}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Qt(m)}}function Mr(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?Mr(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function Un(){for(var s=window,u=et();u instanceof s.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)s=u.contentWindow;else break;u=et(s.document)}return u}function yd(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}function H1(s){var u=Un(),m=s.focusedElem,b=s.selectionRange;if(u!==m&&m&&m.ownerDocument&&Mr(m.ownerDocument.documentElement,m)){if(b!==null&&yd(m)){if(u=b.start,s=b.end,s===void 0&&(s=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(s,m.value.length);else if(s=(u=m.ownerDocument||document)&&u.defaultView||window,s.getSelection){s=s.getSelection();var C=m.textContent.length,O=Math.min(b.start,C);b=b.end===void 0?O:Math.min(b.end,C),!s.extend&&O>b&&(C=b,b=O,O=C),C=Tn(m,O);var W=Tn(m,b);C&&W&&(s.rangeCount!==1||s.anchorNode!==C.node||s.anchorOffset!==C.offset||s.focusNode!==W.node||s.focusOffset!==W.offset)&&(u=u.createRange(),u.setStart(C.node,C.offset),s.removeAllRanges(),O>b?(s.addRange(u),s.extend(W.node,W.offset)):(u.setEnd(W.node,W.offset),s.addRange(u)))}}for(u=[],s=m;s=s.parentNode;)s.nodeType===1&&u.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)s=u[m],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Bo=l&&"documentMode"in document&&11>=document.documentMode,ws=null,pm=null,Hi=null,hc=!1;function wd(s,u,m){var b=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;hc||ws==null||ws!==et(b)||(b=ws,"selectionStart"in b&&yd(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Hi&&vt(Hi,b)||(Hi=b,b=Kf(pm,"onSelect"),0<b.length&&(u=new _i("onSelect","select",null,u,m),s.push({event:u,listeners:b}),u.target=ws)))}function In(s,u){var m={};return m[s.toLowerCase()]=u.toLowerCase(),m["Webkit"+s]="webkit"+u,m["Moz"+s]="moz"+u,m}var pc={animationend:In("Animation","AnimationEnd"),animationiteration:In("Animation","AnimationIteration"),animationstart:In("Animation","AnimationStart"),transitionend:In("Transition","TransitionEnd")},Wf={},bd={};l&&(bd=document.createElement("div").style,"AnimationEvent"in window||(delete pc.animationend.animation,delete pc.animationiteration.animation,delete pc.animationstart.animation),"TransitionEvent"in window||delete pc.transitionend.transition);function $f(s){if(Wf[s])return Wf[s];if(!pc[s])return s;var u=pc[s],m;for(m in u)if(u.hasOwnProperty(m)&&m in bd)return Wf[s]=u[m];return s}var Dy=$f("animationend"),Ty=$f("animationiteration"),Sd=$f("animationstart"),bs=$f("transitionend"),Dd=new Map,mm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(s,u){Dd.set(s,u),o(u,[s])}for(var Zf=0;Zf<mm.length;Zf++){var qf=mm[Zf],Gf=qf.toLowerCase(),Iy=qf[0].toUpperCase()+qf.slice(1);hi(Gf,"on"+Iy)}hi(Dy,"onAnimationEnd"),hi(Ty,"onAnimationIteration"),hi(Sd,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(bs,"onTransitionEnd"),i("onMouseEnter",["mouseout","mouseover"]),i("onMouseLeave",["mouseout","mouseover"]),i("onPointerEnter",["pointerout","pointerover"]),i("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gu=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ss));function Td(s,u,m){var b=s.type||"unknown-event";s.currentTarget=m,iu(b,u,void 0,s),s.currentTarget=null}function Ey(s,u){u=(u&4)!==0;for(var m=0;m<s.length;m++){var b=s[m],C=b.event;b=b.listeners;e:{var O=void 0;if(u)for(var W=b.length-1;0<=W;W--){var le=b[W],ge=le.instance,Pe=le.currentTarget;if(le=le.listener,ge!==O&&C.isPropagationStopped())break e;Td(C,le,Pe),O=ge}else for(W=0;W<b.length;W++){if(le=b[W],ge=le.instance,Pe=le.currentTarget,le=le.listener,ge!==O&&C.isPropagationStopped())break e;Td(C,le,Pe),O=ge}}}if(Fa)throw s=Zr,Fa=!1,Zr=null,s}function Kn(s,u){var m=u[eh];m===void 0&&(m=u[eh]=new Set);var b=s+"__bubble";m.has(b)||(Jf(u,s,2,!1),m.add(b))}function gm(s,u,m){var b=0;u&&(b|=4),Jf(m,s,b,u)}var vu="_reactListening"+Math.random().toString(36).slice(2);function ll(s){if(!s[vu]){s[vu]=!0,r.forEach(function(m){m!=="selectionchange"&&(gu.has(m)||gm(m,!1,s),gm(m,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[vu]||(u[vu]=!0,gm("selectionchange",!1,u))}}function Jf(s,u,m,b){switch(fd(u)){case 1:var C=ac;break;case 4:C=ms;break;default:C=oc}m=C.bind(null,u,m,s),C=void 0,!yr||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(C=!0),b?C!==void 0?s.addEventListener(u,m,{capture:!0,passive:C}):s.addEventListener(u,m,!0):C!==void 0?s.addEventListener(u,m,{passive:C}):s.addEventListener(u,m,!1)}function vm(s,u,m,b,C){var O=b;if(!(u&1)&&!(u&2)&&b!==null)e:for(;;){if(b===null)return;var W=b.tag;if(W===3||W===4){var le=b.stateNode.containerInfo;if(le===C||le.nodeType===8&&le.parentNode===C)break;if(W===4)for(W=b.return;W!==null;){var ge=W.tag;if((ge===3||ge===4)&&(ge=W.stateNode.containerInfo,ge===C||ge.nodeType===8&&ge.parentNode===C))return;W=W.return}for(;le!==null;){if(W=Yi(le),W===null)return;if(ge=W.tag,ge===5||ge===6){b=O=W;continue e}le=le.parentNode}}b=b.return}Cr(function(){var Pe=O,Ge=me(m),rt=[];e:{var qe=Dd.get(s);if(qe!==void 0){var yt=_i,Dt=s;switch(s){case"keypress":if(di(m)===0)break e;case"keydown":case"keyup":yt=gd;break;case"focusin":Dt="focus",yt=jn;break;case"focusout":Dt="blur",yt=jn;break;case"beforeblur":case"afterblur":yt=jn;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=ol;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=ae;break;case Dy:case Ty:case Sd:yt=pd;break;case bs:yt=Ee;break;case"scroll":yt=ic;break;case"wheel":yt=ot;break;case"copy":case"cut":case"paste":yt=il;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=H}var Et=(u&4)!==0,br=!Et&&s==="scroll",Ce=Et?qe!==null?qe+"Capture":null:qe;Et=[];for(var ye=Pe,Me;ye!==null;){Me=ye;var lt=Me.stateNode;if(Me.tag===5&&lt!==null&&(Me=lt,Ce!==null&&(lt=Jn(ye,Ce),lt!=null&&Et.push(mc(ye,lt,Me)))),br)break;ye=ye.return}0<Et.length&&(qe=new yt(qe,Dt,null,m,Ge),rt.push({event:qe,listeners:Et}))}}if(!(u&7)){e:{if(qe=s==="mouseover"||s==="pointerover",yt=s==="mouseout"||s==="pointerout",qe&&m!==te&&(Dt=m.relatedTarget||m.fromElement)&&(Yi(Dt)||Dt[wo]))break e;if((yt||qe)&&(qe=Ge.window===Ge?Ge:(qe=Ge.ownerDocument)?qe.defaultView||qe.parentWindow:window,yt?(Dt=m.relatedTarget||m.toElement,yt=Pe,Dt=Dt?Yi(Dt):null,Dt!==null&&(br=si(Dt),Dt!==br||Dt.tag!==5&&Dt.tag!==6)&&(Dt=null)):(yt=null,Dt=Pe),yt!==Dt)){if(Et=sc,lt="onMouseLeave",Ce="onMouseEnter",ye="mouse",(s==="pointerout"||s==="pointerover")&&(Et=H,lt="onPointerLeave",Ce="onPointerEnter",ye="pointer"),br=yt==null?qe:nn(yt),Me=Dt==null?qe:nn(Dt),qe=new Et(lt,ye+"leave",yt,m,Ge),qe.target=br,qe.relatedTarget=Me,lt=null,Yi(Ge)===Pe&&(Et=new Et(Ce,ye+"enter",Dt,m,Ge),Et.target=Me,Et.relatedTarget=br,lt=Et),br=lt,yt&&Dt)t:{for(Et=yt,Ce=Dt,ye=0,Me=Et;Me;Me=gc(Me))ye++;for(Me=0,lt=Ce;lt;lt=gc(lt))Me++;for(;0<ye-Me;)Et=gc(Et),ye--;for(;0<Me-ye;)Ce=gc(Ce),Me--;for(;ye--;){if(Et===Ce||Ce!==null&&Et===Ce.alternate)break t;Et=gc(Et),Ce=gc(Ce)}Et=null}else Et=null;yt!==null&&kr(rt,qe,yt,Et,!1),Dt!==null&&br!==null&&kr(rt,br,Dt,Et,!0)}}e:{if(qe=Pe?nn(Pe):window,yt=qe.nodeName&&qe.nodeName.toLowerCase(),yt==="select"||yt==="input"&&qe.type==="file")var xt=R1;else if(Yf(qe))if(mu)xt=be;else{xt=B1;var Pt=_1}else(yt=qe.nodeName)&&yt.toLowerCase()==="input"&&(qe.type==="checkbox"||qe.type==="radio")&&(xt=fc);if(xt&&(xt=xt(s,Pe))){hm(rt,xt,m,Ge);break e}Pt&&Pt(s,qe,Pe),s==="focusout"&&(Pt=qe._wrapperState)&&Pt.controlled&&qe.type==="number"&&_t(qe,"number",qe.value)}switch(Pt=Pe?nn(Pe):window,s){case"focusin":(Yf(Pt)||Pt.contentEditable==="true")&&(ws=Pt,pm=Pe,Hi=null);break;case"focusout":Hi=pm=ws=null;break;case"mousedown":hc=!0;break;case"contextmenu":case"mouseup":case"dragend":hc=!1,wd(rt,m,Ge);break;case"selectionchange":if(Bo)break;case"keydown":case"keyup":wd(rt,m,Ge)}var jt;if(Kt)e:{switch(s){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else Bi?pu(s,m)&&(Wt="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(Wt="onCompositionStart");Wt&&(oa&&m.locale!=="ko"&&(Bi||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&Bi&&(jt=hd()):(zn=Ge,nl="value"in zn?zn.value:zn.textContent,Bi=!0)),Pt=Kf(Pe,Wt),0<Pt.length&&(Wt=new md(Wt,s,null,m,Ge),rt.push({event:Wt,listeners:Pt}),jt?Wt.data=jt:(jt=vd(m),jt!==null&&(Wt.data=jt)))),(jt=Hn?dc(s,m):P1(s,m))&&(Pe=Kf(Pe,"onBeforeInput"),0<Pe.length&&(Ge=new md("onBeforeInput","beforeinput",null,m,Ge),rt.push({event:Ge,listeners:Pe}),Ge.data=jt))}Ey(rt,u)})}function mc(s,u,m){return{instance:s,listener:u,currentTarget:m}}function Kf(s,u){for(var m=u+"Capture",b=[];s!==null;){var C=s,O=C.stateNode;C.tag===5&&O!==null&&(C=O,O=Jn(s,m),O!=null&&b.unshift(mc(s,O,C)),O=Jn(s,u),O!=null&&b.push(mc(s,O,C))),s=s.return}return b}function gc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function kr(s,u,m,b,C){for(var O=u._reactName,W=[];m!==null&&m!==b;){var le=m,ge=le.alternate,Pe=le.stateNode;if(ge!==null&&ge===b)break;le.tag===5&&Pe!==null&&(le=Pe,C?(ge=Jn(m,O),ge!=null&&W.unshift(mc(m,ge,le))):C||(ge=Jn(m,O),ge!=null&&W.push(mc(m,ge,le)))),m=m.return}W.length!==0&&s.push({event:u,listeners:W})}var ma=/\r\n?/g,U1=/\u0000|\uFFFD/g;function Cy(s){return(typeof s=="string"?s:""+s).replace(ma,`
`).replace(U1,"")}function Id(s,u,m){if(u=Cy(u),Cy(s)!==u&&m)throw Error(n(425))}function Qf(){}var Ed=null,yu=null;function Cd(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var ul=typeof setTimeout=="function"?setTimeout:void 0,xd=typeof clearTimeout=="function"?clearTimeout:void 0,vc=typeof Promise=="function"?Promise:void 0,Xf=typeof queueMicrotask=="function"?queueMicrotask:typeof vc<"u"?function(s){return vc.resolve(null).then(s).catch(yc)}:ul;function yc(s){setTimeout(function(){throw s})}function ym(s,u){var m=u,b=0;do{var C=m.nextSibling;if(s.removeChild(m),C&&C.nodeType===8)if(m=C.data,m==="/$"){if(b===0){s.removeChild(C),pn(u);return}b--}else m!=="$"&&m!=="$?"&&m!=="$!"||b++;m=C}while(m);pn(u)}function cl(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return s}function xy(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return s;u--}else m==="/$"&&u++}s=s.previousSibling}return null}var wc=Math.random().toString(36).slice(2),Ui="__reactFiber$"+wc,dl="__reactProps$"+wc,wo="__reactContainer$"+wc,eh="__reactEvents$"+wc,J="__reactListeners$"+wc,bc="__reactHandles$"+wc;function Yi(s){var u=s[Ui];if(u)return u;for(var m=s.parentNode;m;){if(u=m[wo]||m[Ui]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(s=xy(s);s!==null;){if(m=s[Ui])return m;s=xy(s)}return u}s=m,m=s.parentNode}return null}function ga(s){return s=s[Ui]||s[wo],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function nn(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function th(s){return s[dl]||null}var wm=[],Sc=-1;function Xa(s){return{current:s}}function Qn(s){0>Sc||(s.current=wm[Sc],wm[Sc]=null,Sc--)}function qn(s,u){Sc++,wm[Sc]=s.current,s.current=u}var fl={},va=Xa(fl),eo=Xa(!1),_a=fl;function Dc(s,u){var m=s.type.contextTypes;if(!m)return fl;var b=s.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===u)return b.__reactInternalMemoizedMaskedChildContext;var C={},O;for(O in m)C[O]=u[O];return b&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=u,s.__reactInternalMemoizedMaskedChildContext=C),C}function to(s){return s=s.childContextTypes,s!=null}function nh(){Qn(eo),Qn(va)}function My(s,u,m){if(va.current!==fl)throw Error(n(168));qn(va,u),qn(eo,m)}function ky(s,u,m){var b=s.stateNode;if(u=u.childContextTypes,typeof b.getChildContext!="function")return m;b=b.getChildContext();for(var C in b)if(!(C in u))throw Error(n(108,Xe(s)||"Unknown",C));return X({},m,b)}function Ho(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||fl,_a=va.current,qn(va,s),qn(eo,eo.current),!0}function Ny(s,u,m){var b=s.stateNode;if(!b)throw Error(n(169));m?(s=ky(s,u,_a),b.__reactInternalMemoizedMergedChildContext=s,Qn(eo),Qn(va),qn(va,s)):Qn(eo),qn(eo,m)}var Ds=null,rh=!1,bm=!1;function Ay(s){Ds===null?Ds=[s]:Ds.push(s)}function wu(s){rh=!0,Ay(s)}function hl(){if(!bm&&Ds!==null){bm=!0;var s=0,u=ct;try{var m=Ds;for(ct=1;s<m.length;s++){var b=m[s];do b=b(!0);while(b!==null)}Ds=null,rh=!1}catch(C){throw Ds!==null&&(Ds=Ds.slice(s+1)),cs(qs,hl),C}finally{ct=u,bm=!1}}return null}var Tc=[],ya=0,ah=null,oh=0,Uo=[],Yo=0,bu=null,zi=1,Vi="";function Su(s,u){Tc[ya++]=oh,Tc[ya++]=ah,ah=s,oh=u}function Fy(s,u,m){Uo[Yo++]=zi,Uo[Yo++]=Vi,Uo[Yo++]=bu,bu=s;var b=zi;s=Vi;var C=32-Rr(b)-1;b&=~(1<<C),m+=1;var O=32-Rr(u)+C;if(30<O){var W=C-C%5;O=(b&(1<<W)-1).toString(32),b>>=W,C-=W,zi=1<<32-Rr(u)+C|m<<C|b,Vi=O+s}else zi=1<<O|m<<C|b,Vi=s}function Md(s){s.return!==null&&(Su(s,1),Fy(s,1,0))}function Du(s){for(;s===ah;)ah=Tc[--ya],Tc[ya]=null,oh=Tc[--ya],Tc[ya]=null;for(;s===bu;)bu=Uo[--Yo],Uo[Yo]=null,Vi=Uo[--Yo],Uo[Yo]=null,zi=Uo[--Yo],Uo[Yo]=null}var wa=null,bo=null,Xn=!1,pi=null;function Wi(s,u){var m=Eo(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=s,u=s.deletions,u===null?(s.deletions=[m],s.flags|=16):u.push(m)}function ih(s,u){switch(s.tag){case 5:var m=s.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(s.stateNode=u,wa=s,bo=cl(u.firstChild),!0):!1;case 6:return u=s.pendingProps===""||u.nodeType!==3?null:u,u!==null?(s.stateNode=u,wa=s,bo=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=bu!==null?{id:zi,overflow:Vi}:null,s.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=Eo(18,null,null,0),m.stateNode=u,m.return=s,s.child=m,wa=s,bo=null,!0):!1;default:return!1}}function Ts(s){return(s.mode&1)!==0&&(s.flags&128)===0}function no(s){if(Xn){var u=bo;if(u){var m=u;if(!ih(s,u)){if(Ts(s))throw Error(n(418));u=cl(m.nextSibling);var b=wa;u&&ih(s,u)?Wi(b,m):(s.flags=s.flags&-4097|2,Xn=!1,wa=s)}}else{if(Ts(s))throw Error(n(418));s.flags=s.flags&-4097|2,Xn=!1,wa=s}}}function Oy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;wa=s}function kd(s){if(s!==wa)return!1;if(!Xn)return Oy(s),Xn=!0,!1;var u;if((u=s.tag!==3)&&!(u=s.tag!==5)&&(u=s.type,u=u!=="head"&&u!=="body"&&!Cd(s.type,s.memoizedProps)),u&&(u=bo)){if(Ts(s))throw Sm(),Error(n(418));for(;u;)Wi(s,u),u=cl(u.nextSibling)}if(Oy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"){if(u===0){bo=cl(s.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}s=s.nextSibling}bo=null}}else bo=wa?cl(s.stateNode.nextSibling):null;return!0}function Sm(){for(var s=bo;s;)s=cl(s.nextSibling)}function $i(){bo=wa=null,Xn=!1}function Zi(s){pi===null?pi=[s]:pi.push(s)}var Py=k.ReactCurrentBatchConfig;function mi(s,u){if(s&&s.defaultProps){u=X({},u),s=s.defaultProps;for(var m in s)u[m]===void 0&&(u[m]=s[m]);return u}return u}var Tu=Xa(null),sh=null,Iu=null,_r=null;function Nd(){_r=Iu=sh=null}function lh(s){var u=Tu.current;Qn(Tu),s._currentValue=u}function zo(s,u,m){for(;s!==null;){var b=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),s===m)break;s=s.return}}function pl(s,u){sh=s,_r=Iu=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&u&&(Da=!0),s.firstContext=null)}function Ba(s){var u=s._currentValue;if(_r!==s)if(s={context:s,memoizedValue:u,next:null},Iu===null){if(sh===null)throw Error(n(308));Iu=s,sh.dependencies={lanes:0,firstContext:s}}else Iu=Iu.next=s;return u}var So=null;function uh(s){So===null?So=[s]:So.push(s)}function ba(s,u,m,b){var C=u.interleaved;return C===null?(m.next=m,uh(u)):(m.next=C.next,C.next=m),u.interleaved=m,gi(s,b)}function gi(s,u){s.lanes|=u;var m=s.alternate;for(m!==null&&(m.lanes|=u),m=s,s=s.return;s!==null;)s.childLanes|=u,m=s.alternate,m!==null&&(m.childLanes|=u),m=s,s=s.return;return m.tag===3?m.stateNode:null}var ml=!1;function Dm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jy(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function vi(s,u){return{eventTime:s,lane:u,tag:0,payload:null,callback:null,next:null}}function gl(s,u,m){var b=s.updateQueue;if(b===null)return null;if(b=b.shared,bn&2){var C=b.pending;return C===null?u.next=u:(u.next=C.next,C.next=u),b.pending=u,gi(s,m)}return C=b.interleaved,C===null?(u.next=u,uh(b)):(u.next=C.next,C.next=u),b.interleaved=u,gi(s,m)}function vl(s,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var b=u.lanes;b&=s.pendingLanes,m|=b,u.lanes=m,it(s,m)}}function Tm(s,u){var m=s.updateQueue,b=s.alternate;if(b!==null&&(b=b.updateQueue,m===b)){var C=null,O=null;if(m=m.firstBaseUpdate,m!==null){do{var W={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};O===null?C=O=W:O=O.next=W,m=m.next}while(m!==null);O===null?C=O=u:O=O.next=u}else C=O=u;m={baseState:b.baseState,firstBaseUpdate:C,lastBaseUpdate:O,shared:b.shared,effects:b.effects},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=u:s.next=u,m.lastBaseUpdate=u}function ch(s,u,m,b){var C=s.updateQueue;ml=!1;var O=C.firstBaseUpdate,W=C.lastBaseUpdate,le=C.shared.pending;if(le!==null){C.shared.pending=null;var ge=le,Pe=ge.next;ge.next=null,W===null?O=Pe:W.next=Pe,W=ge;var Ge=s.alternate;Ge!==null&&(Ge=Ge.updateQueue,le=Ge.lastBaseUpdate,le!==W&&(le===null?Ge.firstBaseUpdate=Pe:le.next=Pe,Ge.lastBaseUpdate=ge))}if(O!==null){var rt=C.baseState;W=0,Ge=Pe=ge=null,le=O;do{var qe=le.lane,yt=le.eventTime;if((b&qe)===qe){Ge!==null&&(Ge=Ge.next={eventTime:yt,lane:0,tag:le.tag,payload:le.payload,callback:le.callback,next:null});e:{var Dt=s,Et=le;switch(qe=u,yt=m,Et.tag){case 1:if(Dt=Et.payload,typeof Dt=="function"){rt=Dt.call(yt,rt,qe);break e}rt=Dt;break e;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=Et.payload,qe=typeof Dt=="function"?Dt.call(yt,rt,qe):Dt,qe==null)break e;rt=X({},rt,qe);break e;case 2:ml=!0}}le.callback!==null&&le.lane!==0&&(s.flags|=64,qe=C.effects,qe===null?C.effects=[le]:qe.push(le))}else yt={eventTime:yt,lane:qe,tag:le.tag,payload:le.payload,callback:le.callback,next:null},Ge===null?(Pe=Ge=yt,ge=rt):Ge=Ge.next=yt,W|=qe;if(le=le.next,le===null){if(le=C.shared.pending,le===null)break;qe=le,le=qe.next,qe.next=null,C.lastBaseUpdate=qe,C.shared.pending=null}}while(!0);if(Ge===null&&(ge=rt),C.baseState=ge,C.firstBaseUpdate=Pe,C.lastBaseUpdate=Ge,u=C.shared.interleaved,u!==null){C=u;do W|=C.lane,C=C.next;while(C!==u)}else O===null&&(C.shared.lanes=0);Il|=W,s.lanes=W,s.memoizedState=rt}}function Ly(s,u,m){if(s=u.effects,u.effects=null,s!==null)for(u=0;u<s.length;u++){var b=s[u],C=b.callback;if(C!==null){if(b.callback=null,b=m,typeof C!="function")throw Error(n(191,C));C.call(b)}}}var Ic=new e.Component().refs;function Im(s,u,m,b){u=s.memoizedState,m=m(b,u),m=m==null?u:X({},u,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var dh={isMounted:function(s){return(s=s._reactInternals)?si(s)===s:!1},enqueueSetState:function(s,u,m){s=s._reactInternals;var b=Ya(),C=Cl(s),O=vi(b,C);O.payload=u,m!=null&&(O.callback=m),u=gl(s,O,C),u!==null&&(Si(u,s,C,b),vl(u,s,C))},enqueueReplaceState:function(s,u,m){s=s._reactInternals;var b=Ya(),C=Cl(s),O=vi(b,C);O.tag=1,O.payload=u,m!=null&&(O.callback=m),u=gl(s,O,C),u!==null&&(Si(u,s,C,b),vl(u,s,C))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var m=Ya(),b=Cl(s),C=vi(m,b);C.tag=2,u!=null&&(C.callback=u),u=gl(s,C,b),u!==null&&(Si(u,s,b,m),vl(u,s,b))}};function fh(s,u,m,b,C,O,W){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(b,O,W):u.prototype&&u.prototype.isPureReactComponent?!vt(m,b)||!vt(C,O):!0}function Em(s,u,m){var b=!1,C=fl,O=u.contextType;return typeof O=="object"&&O!==null?O=Ba(O):(C=to(u)?_a:va.current,b=u.contextTypes,O=(b=b!=null)?Dc(s,C):fl),u=new u(m,O),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=dh,s.stateNode=u,u._reactInternals=s,b&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=C,s.__reactInternalMemoizedMaskedChildContext=O),u}function Ry(s,u,m,b){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,b),u.state!==s&&dh.enqueueReplaceState(u,u.state,null)}function Cm(s,u,m,b){var C=s.stateNode;C.props=m,C.state=s.memoizedState,C.refs=Ic,Dm(s);var O=u.contextType;typeof O=="object"&&O!==null?C.context=Ba(O):(O=to(u)?_a:va.current,C.context=Dc(s,O)),C.state=s.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Im(s,u,O,m),C.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(u=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),u!==C.state&&dh.enqueueReplaceState(C,C.state,null),ch(s,m,C,b),C.state=s.memoizedState),typeof C.componentDidMount=="function"&&(s.flags|=4194308)}function Ad(s,u,m){if(s=m.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var b=m.stateNode}if(!b)throw Error(n(147,s));var C=b,O=""+s;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===O?u.ref:(u=function(W){var le=C.refs;le===Ic&&(le=C.refs={}),W===null?delete le[O]:le[O]=W},u._stringRef=O,u)}if(typeof s!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,s))}return s}function Fd(s,u){throw s=Object.prototype.toString.call(u),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s))}function hh(s){var u=s._init;return u(s._payload)}function _y(s){function u(Ce,ye){if(s){var Me=Ce.deletions;Me===null?(Ce.deletions=[ye],Ce.flags|=16):Me.push(ye)}}function m(Ce,ye){if(!s)return null;for(;ye!==null;)u(Ce,ye),ye=ye.sibling;return null}function b(Ce,ye){for(Ce=new Map;ye!==null;)ye.key!==null?Ce.set(ye.key,ye):Ce.set(ye.index,ye),ye=ye.sibling;return Ce}function C(Ce,ye){return Ce=kl(Ce,ye),Ce.index=0,Ce.sibling=null,Ce}function O(Ce,ye,Me){return Ce.index=Me,s?(Me=Ce.alternate,Me!==null?(Me=Me.index,Me<ye?(Ce.flags|=2,ye):Me):(Ce.flags|=2,ye)):(Ce.flags|=1048576,ye)}function W(Ce){return s&&Ce.alternate===null&&(Ce.flags|=2),Ce}function le(Ce,ye,Me,lt){return ye===null||ye.tag!==6?(ye=ug(Me,Ce.mode,lt),ye.return=Ce,ye):(ye=C(ye,Me),ye.return=Ce,ye)}function ge(Ce,ye,Me,lt){var xt=Me.type;return xt===_?Ge(Ce,ye,Me.props.children,lt,Me.key):ye!==null&&(ye.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===$&&hh(xt)===ye.type)?(lt=C(ye,Me.props),lt.ref=Ad(Ce,ye,Me),lt.return=Ce,lt):(lt=Yh(Me.type,Me.key,Me.props,null,Ce.mode,lt),lt.ref=Ad(Ce,ye,Me),lt.return=Ce,lt)}function Pe(Ce,ye,Me,lt){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Me.containerInfo||ye.stateNode.implementation!==Me.implementation?(ye=cg(Me,Ce.mode,lt),ye.return=Ce,ye):(ye=C(ye,Me.children||[]),ye.return=Ce,ye)}function Ge(Ce,ye,Me,lt,xt){return ye===null||ye.tag!==7?(ye=Au(Me,Ce.mode,lt,xt),ye.return=Ce,ye):(ye=C(ye,Me),ye.return=Ce,ye)}function rt(Ce,ye,Me){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ye=ug(""+ye,Ce.mode,Me),ye.return=Ce,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case R:return Me=Yh(ye.type,ye.key,ye.props,null,Ce.mode,Me),Me.ref=Ad(Ce,null,ye),Me.return=Ce,Me;case L:return ye=cg(ye,Ce.mode,Me),ye.return=Ce,ye;case $:var lt=ye._init;return rt(Ce,lt(ye._payload),Me)}if(Vt(ye)||ue(ye))return ye=Au(ye,Ce.mode,Me,null),ye.return=Ce,ye;Fd(Ce,ye)}return null}function qe(Ce,ye,Me,lt){var xt=ye!==null?ye.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number")return xt!==null?null:le(Ce,ye,""+Me,lt);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case R:return Me.key===xt?ge(Ce,ye,Me,lt):null;case L:return Me.key===xt?Pe(Ce,ye,Me,lt):null;case $:return xt=Me._init,qe(Ce,ye,xt(Me._payload),lt)}if(Vt(Me)||ue(Me))return xt!==null?null:Ge(Ce,ye,Me,lt,null);Fd(Ce,Me)}return null}function yt(Ce,ye,Me,lt,xt){if(typeof lt=="string"&&lt!==""||typeof lt=="number")return Ce=Ce.get(Me)||null,le(ye,Ce,""+lt,xt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case R:return Ce=Ce.get(lt.key===null?Me:lt.key)||null,ge(ye,Ce,lt,xt);case L:return Ce=Ce.get(lt.key===null?Me:lt.key)||null,Pe(ye,Ce,lt,xt);case $:var Pt=lt._init;return yt(Ce,ye,Me,Pt(lt._payload),xt)}if(Vt(lt)||ue(lt))return Ce=Ce.get(Me)||null,Ge(ye,Ce,lt,xt,null);Fd(ye,lt)}return null}function Dt(Ce,ye,Me,lt){for(var xt=null,Pt=null,jt=ye,Wt=ye=0,Kr=null;jt!==null&&Wt<Me.length;Wt++){jt.index>Wt?(Kr=jt,jt=null):Kr=jt.sibling;var En=qe(Ce,jt,Me[Wt],lt);if(En===null){jt===null&&(jt=Kr);break}s&&jt&&En.alternate===null&&u(Ce,jt),ye=O(En,ye,Wt),Pt===null?xt=En:Pt.sibling=En,Pt=En,jt=Kr}if(Wt===Me.length)return m(Ce,jt),Xn&&Su(Ce,Wt),xt;if(jt===null){for(;Wt<Me.length;Wt++)jt=rt(Ce,Me[Wt],lt),jt!==null&&(ye=O(jt,ye,Wt),Pt===null?xt=jt:Pt.sibling=jt,Pt=jt);return Xn&&Su(Ce,Wt),xt}for(jt=b(Ce,jt);Wt<Me.length;Wt++)Kr=yt(jt,Ce,Wt,Me[Wt],lt),Kr!==null&&(s&&Kr.alternate!==null&&jt.delete(Kr.key===null?Wt:Kr.key),ye=O(Kr,ye,Wt),Pt===null?xt=Kr:Pt.sibling=Kr,Pt=Kr);return s&&jt.forEach(function(Nl){return u(Ce,Nl)}),Xn&&Su(Ce,Wt),xt}function Et(Ce,ye,Me,lt){var xt=ue(Me);if(typeof xt!="function")throw Error(n(150));if(Me=xt.call(Me),Me==null)throw Error(n(151));for(var Pt=xt=null,jt=ye,Wt=ye=0,Kr=null,En=Me.next();jt!==null&&!En.done;Wt++,En=Me.next()){jt.index>Wt?(Kr=jt,jt=null):Kr=jt.sibling;var Nl=qe(Ce,jt,En.value,lt);if(Nl===null){jt===null&&(jt=Kr);break}s&&jt&&Nl.alternate===null&&u(Ce,jt),ye=O(Nl,ye,Wt),Pt===null?xt=Nl:Pt.sibling=Nl,Pt=Nl,jt=Kr}if(En.done)return m(Ce,jt),Xn&&Su(Ce,Wt),xt;if(jt===null){for(;!En.done;Wt++,En=Me.next())En=rt(Ce,En.value,lt),En!==null&&(ye=O(En,ye,Wt),Pt===null?xt=En:Pt.sibling=En,Pt=En);return Xn&&Su(Ce,Wt),xt}for(jt=b(Ce,jt);!En.done;Wt++,En=Me.next())En=yt(jt,Ce,Wt,En.value,lt),En!==null&&(s&&En.alternate!==null&&jt.delete(En.key===null?Wt:En.key),ye=O(En,ye,Wt),Pt===null?xt=En:Pt.sibling=En,Pt=En);return s&&jt.forEach(function(sS){return u(Ce,sS)}),Xn&&Su(Ce,Wt),xt}function br(Ce,ye,Me,lt){if(typeof Me=="object"&&Me!==null&&Me.type===_&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case R:e:{for(var xt=Me.key,Pt=ye;Pt!==null;){if(Pt.key===xt){if(xt=Me.type,xt===_){if(Pt.tag===7){m(Ce,Pt.sibling),ye=C(Pt,Me.props.children),ye.return=Ce,Ce=ye;break e}}else if(Pt.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===$&&hh(xt)===Pt.type){m(Ce,Pt.sibling),ye=C(Pt,Me.props),ye.ref=Ad(Ce,Pt,Me),ye.return=Ce,Ce=ye;break e}m(Ce,Pt);break}else u(Ce,Pt);Pt=Pt.sibling}Me.type===_?(ye=Au(Me.props.children,Ce.mode,lt,Me.key),ye.return=Ce,Ce=ye):(lt=Yh(Me.type,Me.key,Me.props,null,Ce.mode,lt),lt.ref=Ad(Ce,ye,Me),lt.return=Ce,Ce=lt)}return W(Ce);case L:e:{for(Pt=Me.key;ye!==null;){if(ye.key===Pt)if(ye.tag===4&&ye.stateNode.containerInfo===Me.containerInfo&&ye.stateNode.implementation===Me.implementation){m(Ce,ye.sibling),ye=C(ye,Me.children||[]),ye.return=Ce,Ce=ye;break e}else{m(Ce,ye);break}else u(Ce,ye);ye=ye.sibling}ye=cg(Me,Ce.mode,lt),ye.return=Ce,Ce=ye}return W(Ce);case $:return Pt=Me._init,br(Ce,ye,Pt(Me._payload),lt)}if(Vt(Me))return Dt(Ce,ye,Me,lt);if(ue(Me))return Et(Ce,ye,Me,lt);Fd(Ce,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"?(Me=""+Me,ye!==null&&ye.tag===6?(m(Ce,ye.sibling),ye=C(ye,Me),ye.return=Ce,Ce=ye):(m(Ce,ye),ye=ug(Me,Ce.mode,lt),ye.return=Ce,Ce=ye),W(Ce)):m(Ce,ye)}return br}var yl=_y(!0),xm=_y(!1),Ec={},yi=Xa(Ec),wl=Xa(Ec),Od=Xa(Ec);function bl(s){if(s===Ec)throw Error(n(174));return s}function ph(s,u){switch(qn(Od,u),qn(wl,s),qn(yi,Ec),s=u.nodeType,s){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:pt(null,"");break;default:s=s===8?u.parentNode:u,u=s.namespaceURI||null,s=s.tagName,u=pt(u,s)}Qn(yi),qn(yi,u)}function Cc(){Qn(yi),Qn(wl),Qn(Od)}function Mm(s){bl(Od.current);var u=bl(yi.current),m=pt(u,s.type);u!==m&&(qn(wl,s),qn(yi,m))}function km(s){wl.current===s&&(Qn(yi),Qn(wl))}var er=Xa(0);function Pd(s){for(var u=s;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var jd=[];function Nm(){for(var s=0;s<jd.length;s++)jd[s]._workInProgressVersionPrimary=null;jd.length=0}var xc=k.ReactCurrentDispatcher,rn=k.ReactCurrentBatchConfig,Eu=0,or=null,ir=null,Br=null,mh=!1,Ld=!1,Sa=0,Y1=0;function Hr(){throw Error(n(321))}function Rd(s,u){if(u===null)return!1;for(var m=0;m<u.length&&m<s.length;m++)if(!Oe(s[m],u[m]))return!1;return!0}function gh(s,u,m,b,C,O){if(Eu=O,or=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,xc.current=s===null||s.memoizedState===null?Bd:V1,s=m(b,C),Ld){O=0;do{if(Ld=!1,Sa=0,25<=O)throw Error(n(301));O+=1,Br=ir=null,u.updateQueue=null,xc.current=Wy,s=m(b,C)}while(Ld)}if(xc.current=Cs,u=ir!==null&&ir.next!==null,Eu=0,Br=ir=or=null,mh=!1,u)throw Error(n(300));return s}function vh(){var s=Sa!==0;return Sa=0,s}function hr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?or.memoizedState=Br=s:Br=Br.next=s,Br}function Ur(){if(ir===null){var s=or.alternate;s=s!==null?s.memoizedState:null}else s=ir.next;var u=Br===null?or.memoizedState:Br.next;if(u!==null)Br=u,ir=s;else{if(s===null)throw Error(n(310));ir=s,s={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},Br===null?or.memoizedState=Br=s:Br=Br.next=s}return Br}function Cu(s,u){return typeof u=="function"?u(s):u}function yh(s){var u=Ur(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=s;var b=ir,C=b.baseQueue,O=m.pending;if(O!==null){if(C!==null){var W=C.next;C.next=O.next,O.next=W}b.baseQueue=C=O,m.pending=null}if(C!==null){O=C.next,b=b.baseState;var le=W=null,ge=null,Pe=O;do{var Ge=Pe.lane;if((Eu&Ge)===Ge)ge!==null&&(ge=ge.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),b=Pe.hasEagerState?Pe.eagerState:s(b,Pe.action);else{var rt={lane:Ge,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};ge===null?(le=ge=rt,W=b):ge=ge.next=rt,or.lanes|=Ge,Il|=Ge}Pe=Pe.next}while(Pe!==null&&Pe!==O);ge===null?W=b:ge.next=le,Oe(b,u.memoizedState)||(Da=!0),u.memoizedState=b,u.baseState=W,u.baseQueue=ge,m.lastRenderedState=b}if(s=m.interleaved,s!==null){C=s;do O=C.lane,or.lanes|=O,Il|=O,C=C.next;while(C!==s)}else C===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function Mc(s){var u=Ur(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=s;var b=m.dispatch,C=m.pending,O=u.memoizedState;if(C!==null){m.pending=null;var W=C=C.next;do O=s(O,W.action),W=W.next;while(W!==C);Oe(O,u.memoizedState)||(Da=!0),u.memoizedState=O,u.baseQueue===null&&(u.baseState=O),m.lastRenderedState=O}return[O,b]}function Am(){}function wh(s,u){var m=or,b=Ur(),C=u(),O=!Oe(b.memoizedState,C);if(O&&(b.memoizedState=C,Da=!0),b=b.queue,Pm(Sh.bind(null,m,b,s),[s]),b.getSnapshot!==u||O||Br!==null&&Br.memoizedState.tag&1){if(m.flags|=2048,kc(9,bh.bind(null,m,b,C,u),void 0,null),Jr===null)throw Error(n(349));Eu&30||Fm(m,u,C)}return C}function Fm(s,u,m){s.flags|=16384,s={getSnapshot:u,value:m},u=or.updateQueue,u===null?(u={lastEffect:null,stores:null},or.updateQueue=u,u.stores=[s]):(m=u.stores,m===null?u.stores=[s]:m.push(s))}function bh(s,u,m,b){u.value=m,u.getSnapshot=b,Is(u)&&By(s)}function Sh(s,u,m){return m(function(){Is(u)&&By(s)})}function Is(s){var u=s.getSnapshot;s=s.value;try{var m=u();return!Oe(s,m)}catch{return!0}}function By(s){var u=gi(s,1);u!==null&&Si(u,s,1,-1)}function Es(s){var u=hr();return typeof s=="function"&&(s=s()),u.memoizedState=u.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cu,lastRenderedState:s},u.queue=s,s=s.dispatch=zy.bind(null,or,s),[u.memoizedState,s]}function kc(s,u,m,b){return s={tag:s,create:u,destroy:m,deps:b,next:null},u=or.updateQueue,u===null?(u={lastEffect:null,stores:null},or.updateQueue=u,u.lastEffect=s.next=s):(m=u.lastEffect,m===null?u.lastEffect=s.next=s:(b=m.next,m.next=s,s.next=b,u.lastEffect=s)),s}function Om(){return Ur().memoizedState}function Nc(s,u,m,b){var C=hr();or.flags|=s,C.memoizedState=kc(1|u,m,void 0,b===void 0?null:b)}function Dh(s,u,m,b){var C=Ur();b=b===void 0?null:b;var O=void 0;if(ir!==null){var W=ir.memoizedState;if(O=W.destroy,b!==null&&Rd(b,W.deps)){C.memoizedState=kc(u,m,O,b);return}}or.flags|=s,C.memoizedState=kc(1|u,m,O,b)}function Hy(s,u){return Nc(8390656,8,s,u)}function Pm(s,u){return Dh(2048,8,s,u)}function jm(s,u){return Dh(4,2,s,u)}function Lm(s,u){return Dh(4,4,s,u)}function Uy(s,u){if(typeof u=="function")return s=s(),u(s),function(){u(null)};if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function Rm(s,u,m){return m=m!=null?m.concat([s]):null,Dh(4,4,Uy.bind(null,u,s),m)}function Th(){}function Ha(s,u){var m=Ur();u=u===void 0?null:u;var b=m.memoizedState;return b!==null&&u!==null&&Rd(u,b[1])?b[0]:(m.memoizedState=[s,u],s)}function wi(s,u){var m=Ur();u=u===void 0?null:u;var b=m.memoizedState;return b!==null&&u!==null&&Rd(u,b[1])?b[0]:(s=s(),m.memoizedState=[s,u],s)}function Yy(s,u,m){return Eu&21?(Oe(m,u)||(m=ie(),or.lanes|=m,Il|=m,s.baseState=!0),u):(s.baseState&&(s.baseState=!1,Da=!0),s.memoizedState=m)}function z1(s,u){var m=ct;ct=m!==0&&4>m?m:4,s(!0);var b=rn.transition;rn.transition={};try{s(!1),u()}finally{ct=m,rn.transition=b}}function _d(){return Ur().memoizedState}function Ac(s,u,m){var b=Cl(s);if(m={lane:b,action:m,hasEagerState:!1,eagerState:null,next:null},_m(s))Vy(u,m);else if(m=ba(s,u,m,b),m!==null){var C=Ya();Si(m,s,b,C),Bm(m,u,b)}}function zy(s,u,m){var b=Cl(s),C={lane:b,action:m,hasEagerState:!1,eagerState:null,next:null};if(_m(s))Vy(u,C);else{var O=s.alternate;if(s.lanes===0&&(O===null||O.lanes===0)&&(O=u.lastRenderedReducer,O!==null))try{var W=u.lastRenderedState,le=O(W,m);if(C.hasEagerState=!0,C.eagerState=le,Oe(le,W)){var ge=u.interleaved;ge===null?(C.next=C,uh(u)):(C.next=ge.next,ge.next=C),u.interleaved=C;return}}catch{}m=ba(s,u,C,b),m!==null&&(C=Ya(),Si(m,s,b,C),Bm(m,u,b))}}function _m(s){var u=s.alternate;return s===or||u!==null&&u===or}function Vy(s,u){Ld=mh=!0;var m=s.pending;m===null?u.next=u:(u.next=m.next,m.next=u),s.pending=u}function Bm(s,u,m){if(m&4194240){var b=u.lanes;b&=s.pendingLanes,m|=b,u.lanes=m,it(s,m)}}var Cs={readContext:Ba,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},Bd={readContext:Ba,useCallback:function(s,u){return hr().memoizedState=[s,u===void 0?null:u],s},useContext:Ba,useEffect:Hy,useImperativeHandle:function(s,u,m){return m=m!=null?m.concat([s]):null,Nc(4194308,4,Uy.bind(null,u,s),m)},useLayoutEffect:function(s,u){return Nc(4194308,4,s,u)},useInsertionEffect:function(s,u){return Nc(4,2,s,u)},useMemo:function(s,u){var m=hr();return u=u===void 0?null:u,s=s(),m.memoizedState=[s,u],s},useReducer:function(s,u,m){var b=hr();return u=m!==void 0?m(u):u,b.memoizedState=b.baseState=u,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:u},b.queue=s,s=s.dispatch=Ac.bind(null,or,s),[b.memoizedState,s]},useRef:function(s){var u=hr();return s={current:s},u.memoizedState=s},useState:Es,useDebugValue:Th,useDeferredValue:function(s){return hr().memoizedState=s},useTransition:function(){var s=Es(!1),u=s[0];return s=z1.bind(null,s[1]),hr().memoizedState=s,[u,s]},useMutableSource:function(){},useSyncExternalStore:function(s,u,m){var b=or,C=hr();if(Xn){if(m===void 0)throw Error(n(407));m=m()}else{if(m=u(),Jr===null)throw Error(n(349));Eu&30||Fm(b,u,m)}C.memoizedState=m;var O={value:m,getSnapshot:u};return C.queue=O,Hy(Sh.bind(null,b,O,s),[s]),b.flags|=2048,kc(9,bh.bind(null,b,O,m,u),void 0,null),m},useId:function(){var s=hr(),u=Jr.identifierPrefix;if(Xn){var m=Vi,b=zi;m=(b&~(1<<32-Rr(b)-1)).toString(32)+m,u=":"+u+"R"+m,m=Sa++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=Y1++,u=":"+u+"r"+m.toString(32)+":";return s.memoizedState=u},unstable_isNewReconciler:!1},V1={readContext:Ba,useCallback:Ha,useContext:Ba,useEffect:Pm,useImperativeHandle:Rm,useInsertionEffect:jm,useLayoutEffect:Lm,useMemo:wi,useReducer:yh,useRef:Om,useState:function(){return yh(Cu)},useDebugValue:Th,useDeferredValue:function(s){var u=Ur();return Yy(u,ir.memoizedState,s)},useTransition:function(){var s=yh(Cu)[0],u=Ur().memoizedState;return[s,u]},useMutableSource:Am,useSyncExternalStore:wh,useId:_d,unstable_isNewReconciler:!1},Wy={readContext:Ba,useCallback:Ha,useContext:Ba,useEffect:Pm,useImperativeHandle:Rm,useInsertionEffect:jm,useLayoutEffect:Lm,useMemo:wi,useReducer:Mc,useRef:Om,useState:function(){return Mc(Cu)},useDebugValue:Th,useDeferredValue:function(s){var u=Ur();return ir===null?u.memoizedState=s:Yy(u,ir.memoizedState,s)},useTransition:function(){var s=Mc(Cu)[0],u=Ur().memoizedState;return[s,u]},useMutableSource:Am,useSyncExternalStore:wh,useId:_d,unstable_isNewReconciler:!1};function xu(s,u){try{var m="",b=u;do m+=Fe(b),b=b.return;while(b);var C=m}catch(O){C=`
Error generating stack: `+O.message+`
`+O.stack}return{value:s,source:u,stack:C,digest:null}}function Fc(s,u,m){return{value:s,source:null,stack:m??null,digest:u??null}}function Ih(s,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var Eh=typeof WeakMap=="function"?WeakMap:Map;function Ch(s,u,m){m=vi(-1,m),m.tag=3,m.payload={element:null};var b=u.value;return m.callback=function(){Lh||(Lh=!0,eg=b),Ih(s,u)},m}function Hd(s,u,m){m=vi(-1,m),m.tag=3;var b=s.type.getDerivedStateFromError;if(typeof b=="function"){var C=u.value;m.payload=function(){return b(C)},m.callback=function(){Ih(s,u)}}var O=s.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(m.callback=function(){Ih(s,u),typeof b!="function"&&(El===null?El=new Set([this]):El.add(this));var W=u.stack;this.componentDidCatch(u.value,{componentStack:W!==null?W:""})}),m}function $y(s,u,m){var b=s.pingCache;if(b===null){b=s.pingCache=new Eh;var C=new Set;b.set(u,C)}else C=b.get(u),C===void 0&&(C=new Set,b.set(u,C));C.has(m)||(C.add(m),s=Q1.bind(null,s,u,m),u.then(s,s))}function Hm(s){do{var u;if((u=s.tag===13)&&(u=s.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return s;s=s.return}while(s!==null);return null}function Ud(s,u,m,b,C){return s.mode&1?(s.flags|=65536,s.lanes=C,s):(s===u?s.flags|=65536:(s.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=vi(-1,1),u.tag=2,gl(m,u,1))),m.lanes|=1),s)}var Zy=k.ReactCurrentOwner,Da=!1;function Ua(s,u,m,b){u.child=s===null?xm(u,null,m,b):yl(u,s.child,m,b)}function Um(s,u,m,b,C){m=m.render;var O=u.ref;return pl(u,C),b=gh(s,u,m,b,O,C),m=vh(),s!==null&&!Da?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~C,Ji(s,u,C)):(Xn&&m&&Md(u),u.flags|=1,Ua(s,u,b,C),u.child)}function qi(s,u,m,b,C){if(s===null){var O=m.type;return typeof O=="function"&&!lg(O)&&O.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=O,Ym(s,u,O,b,C)):(s=Yh(m.type,null,b,u,u.mode,C),s.ref=u.ref,s.return=u,u.child=s)}if(O=s.child,!(s.lanes&C)){var W=O.memoizedProps;if(m=m.compare,m=m!==null?m:vt,m(W,b)&&s.ref===u.ref)return Ji(s,u,C)}return u.flags|=1,s=kl(O,b),s.ref=u.ref,s.return=u,u.child=s}function Ym(s,u,m,b,C){if(s!==null){var O=s.memoizedProps;if(vt(O,b)&&s.ref===u.ref)if(Da=!1,u.pendingProps=b=O,(s.lanes&C)!==0)s.flags&131072&&(Da=!0);else return u.lanes=s.lanes,Ji(s,u,C)}return xh(s,u,m,b,C)}function zm(s,u,m){var b=u.pendingProps,C=b.children,O=s!==null?s.memoizedState:null;if(b.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},qn(Rc,Io),Io|=m;else{if(!(m&1073741824))return s=O!==null?O.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:s,cachePool:null,transitions:null},u.updateQueue=null,qn(Rc,Io),Io|=s,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=O!==null?O.baseLanes:m,qn(Rc,Io),Io|=b}else O!==null?(b=O.baseLanes|m,u.memoizedState=null):b=m,qn(Rc,Io),Io|=b;return Ua(s,u,C,m),u.child}function qy(s,u){var m=u.ref;(s===null&&m!==null||s!==null&&s.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function xh(s,u,m,b,C){var O=to(m)?_a:va.current;return O=Dc(u,O),pl(u,C),m=gh(s,u,m,b,O,C),b=vh(),s!==null&&!Da?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~C,Ji(s,u,C)):(Xn&&b&&Md(u),u.flags|=1,Ua(s,u,m,C),u.child)}function Gy(s,u,m,b,C){if(to(m)){var O=!0;Ho(u)}else O=!1;if(pl(u,C),u.stateNode===null)Oc(s,u),Em(u,m,b),Cm(u,m,b,C),b=!0;else if(s===null){var W=u.stateNode,le=u.memoizedProps;W.props=le;var ge=W.context,Pe=m.contextType;typeof Pe=="object"&&Pe!==null?Pe=Ba(Pe):(Pe=to(m)?_a:va.current,Pe=Dc(u,Pe));var Ge=m.getDerivedStateFromProps,rt=typeof Ge=="function"||typeof W.getSnapshotBeforeUpdate=="function";rt||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(le!==b||ge!==Pe)&&Ry(u,W,b,Pe),ml=!1;var qe=u.memoizedState;W.state=qe,ch(u,b,W,C),ge=u.memoizedState,le!==b||qe!==ge||eo.current||ml?(typeof Ge=="function"&&(Im(u,m,Ge,b),ge=u.memoizedState),(le=ml||fh(u,m,le,b,qe,ge,Pe))?(rt||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(u.flags|=4194308)):(typeof W.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=ge),W.props=b,W.state=ge,W.context=Pe,b=le):(typeof W.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{W=u.stateNode,jy(s,u),le=u.memoizedProps,Pe=u.type===u.elementType?le:mi(u.type,le),W.props=Pe,rt=u.pendingProps,qe=W.context,ge=m.contextType,typeof ge=="object"&&ge!==null?ge=Ba(ge):(ge=to(m)?_a:va.current,ge=Dc(u,ge));var yt=m.getDerivedStateFromProps;(Ge=typeof yt=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(le!==rt||qe!==ge)&&Ry(u,W,b,ge),ml=!1,qe=u.memoizedState,W.state=qe,ch(u,b,W,C);var Dt=u.memoizedState;le!==rt||qe!==Dt||eo.current||ml?(typeof yt=="function"&&(Im(u,m,yt,b),Dt=u.memoizedState),(Pe=ml||fh(u,m,Pe,b,qe,Dt,ge)||!1)?(Ge||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(b,Dt,ge),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(b,Dt,ge)),typeof W.componentDidUpdate=="function"&&(u.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof W.componentDidUpdate!="function"||le===s.memoizedProps&&qe===s.memoizedState||(u.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||le===s.memoizedProps&&qe===s.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=Dt),W.props=b,W.state=Dt,W.context=ge,b=Pe):(typeof W.componentDidUpdate!="function"||le===s.memoizedProps&&qe===s.memoizedState||(u.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||le===s.memoizedProps&&qe===s.memoizedState||(u.flags|=1024),b=!1)}return Vm(s,u,m,b,O,C)}function Vm(s,u,m,b,C,O){qy(s,u);var W=(u.flags&128)!==0;if(!b&&!W)return C&&Ny(u,m,!1),Ji(s,u,O);b=u.stateNode,Zy.current=u;var le=W&&typeof m.getDerivedStateFromError!="function"?null:b.render();return u.flags|=1,s!==null&&W?(u.child=yl(u,s.child,null,O),u.child=yl(u,null,le,O)):Ua(s,u,le,O),u.memoizedState=b.state,C&&Ny(u,m,!0),u.child}function Gi(s){var u=s.stateNode;u.pendingContext?My(s,u.pendingContext,u.pendingContext!==u.context):u.context&&My(s,u.context,!1),ph(s,u.containerInfo)}function Mh(s,u,m,b,C){return $i(),Zi(C),u.flags|=256,Ua(s,u,m,b),u.child}var Yd={dehydrated:null,treeContext:null,retryLane:0};function zd(s){return{baseLanes:s,cachePool:null,transitions:null}}function Vd(s,u,m){var b=u.pendingProps,C=er.current,O=!1,W=(u.flags&128)!==0,le;if((le=W)||(le=s!==null&&s.memoizedState===null?!1:(C&2)!==0),le?(O=!0,u.flags&=-129):(s===null||s.memoizedState!==null)&&(C|=1),qn(er,C&1),s===null)return no(u),s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(u.mode&1?s.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(W=b.children,s=b.fallback,O?(b=u.mode,O=u.child,W={mode:"hidden",children:W},!(b&1)&&O!==null?(O.childLanes=0,O.pendingProps=W):O=zh(W,b,0,null),s=Au(s,b,m,null),O.return=u,s.return=u,O.sibling=s,u.child=O,u.child.memoizedState=zd(m),u.memoizedState=Yd,s):Sl(u,W));if(C=s.memoizedState,C!==null&&(le=C.dehydrated,le!==null))return kh(s,u,W,b,le,C,m);if(O){O=b.fallback,W=u.mode,C=s.child,le=C.sibling;var ge={mode:"hidden",children:b.children};return!(W&1)&&u.child!==C?(b=u.child,b.childLanes=0,b.pendingProps=ge,u.deletions=null):(b=kl(C,ge),b.subtreeFlags=C.subtreeFlags&14680064),le!==null?O=kl(le,O):(O=Au(O,W,m,null),O.flags|=2),O.return=u,b.return=u,b.sibling=O,u.child=b,b=O,O=u.child,W=s.child.memoizedState,W=W===null?zd(m):{baseLanes:W.baseLanes|m,cachePool:null,transitions:W.transitions},O.memoizedState=W,O.childLanes=s.childLanes&~m,u.memoizedState=Yd,b}return O=s.child,s=O.sibling,b=kl(O,{mode:"visible",children:b.children}),!(u.mode&1)&&(b.lanes=m),b.return=u,b.sibling=null,s!==null&&(m=u.deletions,m===null?(u.deletions=[s],u.flags|=16):m.push(s)),u.child=b,u.memoizedState=null,b}function Sl(s,u){return u=zh({mode:"visible",children:u},s.mode,0,null),u.return=s,s.child=u}function Ot(s,u,m,b){return b!==null&&Zi(b),yl(u,s.child,null,m),s=Sl(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function kh(s,u,m,b,C,O,W){if(m)return u.flags&256?(u.flags&=-257,b=Fc(Error(n(422))),Ot(s,u,W,b)):u.memoizedState!==null?(u.child=s.child,u.flags|=128,null):(O=b.fallback,C=u.mode,b=zh({mode:"visible",children:b.children},C,0,null),O=Au(O,C,W,null),O.flags|=2,b.return=u,O.return=u,b.sibling=O,u.child=b,u.mode&1&&yl(u,s.child,null,W),u.child.memoizedState=zd(W),u.memoizedState=Yd,O);if(!(u.mode&1))return Ot(s,u,W,null);if(C.data==="$!"){if(b=C.nextSibling&&C.nextSibling.dataset,b)var le=b.dgst;return b=le,O=Error(n(419)),b=Fc(O,b,void 0),Ot(s,u,W,b)}if(le=(W&s.childLanes)!==0,Da||le){if(b=Jr,b!==null){switch(W&-W){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=C&(b.suspendedLanes|W)?0:C,C!==0&&C!==O.retryLane&&(O.retryLane=C,gi(s,C),Si(b,s,C,-1))}return ig(),b=Fc(Error(n(421))),Ot(s,u,W,b)}return C.data==="$?"?(u.flags|=128,u.child=s.child,u=X1.bind(null,s),C._reactRetry=u,null):(s=O.treeContext,bo=cl(C.nextSibling),wa=u,Xn=!0,pi=null,s!==null&&(Uo[Yo++]=zi,Uo[Yo++]=Vi,Uo[Yo++]=bu,zi=s.id,Vi=s.overflow,bu=u),u=Sl(u,b.children),u.flags|=4096,u)}function Nh(s,u,m){s.lanes|=u;var b=s.alternate;b!==null&&(b.lanes|=u),zo(s.return,u,m)}function xs(s,u,m,b,C){var O=s.memoizedState;O===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:m,tailMode:C}:(O.isBackwards=u,O.rendering=null,O.renderingStartTime=0,O.last=b,O.tail=m,O.tailMode=C)}function Jy(s,u,m){var b=u.pendingProps,C=b.revealOrder,O=b.tail;if(Ua(s,u,b.children,m),b=er.current,b&2)b=b&1|2,u.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Nh(s,m,u);else if(s.tag===19)Nh(s,m,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}b&=1}if(qn(er,b),!(u.mode&1))u.memoizedState=null;else switch(C){case"forwards":for(m=u.child,C=null;m!==null;)s=m.alternate,s!==null&&Pd(s)===null&&(C=m),m=m.sibling;m=C,m===null?(C=u.child,u.child=null):(C=m.sibling,m.sibling=null),xs(u,!1,C,m,O);break;case"backwards":for(m=null,C=u.child,u.child=null;C!==null;){if(s=C.alternate,s!==null&&Pd(s)===null){u.child=C;break}s=C.sibling,C.sibling=m,m=C,C=s}xs(u,!0,m,null,O);break;case"together":xs(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Oc(s,u){!(u.mode&1)&&s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2)}function Ji(s,u,m){if(s!==null&&(u.dependencies=s.dependencies),Il|=u.lanes,!(m&u.childLanes))return null;if(s!==null&&u.child!==s.child)throw Error(n(153));if(u.child!==null){for(s=u.child,m=kl(s,s.pendingProps),u.child=m,m.return=u;s.sibling!==null;)s=s.sibling,m=m.sibling=kl(s,s.pendingProps),m.return=u;m.sibling=null}return u.child}function Ta(s,u,m){switch(u.tag){case 3:Gi(u),$i();break;case 5:Mm(u);break;case 1:to(u.type)&&Ho(u);break;case 4:ph(u,u.stateNode.containerInfo);break;case 10:var b=u.type._context,C=u.memoizedProps.value;qn(Tu,b._currentValue),b._currentValue=C;break;case 13:if(b=u.memoizedState,b!==null)return b.dehydrated!==null?(qn(er,er.current&1),u.flags|=128,null):m&u.child.childLanes?Vd(s,u,m):(qn(er,er.current&1),s=Ji(s,u,m),s!==null?s.sibling:null);qn(er,er.current&1);break;case 19:if(b=(m&u.childLanes)!==0,s.flags&128){if(b)return Jy(s,u,m);u.flags|=128}if(C=u.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),qn(er,er.current),b)break;return null;case 22:case 23:return u.lanes=0,zm(s,u,m)}return Ji(s,u,m)}var Ky,Wm,$m,Qy;Ky=function(s,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Wm=function(){},$m=function(s,u,m,b){var C=s.memoizedProps;if(C!==b){s=u.stateNode,bl(yi.current);var O=null;switch(m){case"input":C=nt(s,C),b=nt(s,b),O=[];break;case"select":C=X({},C,{value:void 0}),b=X({},b,{value:void 0}),O=[];break;case"textarea":C=dn(s,C),b=dn(s,b),O=[];break;default:typeof C.onClick!="function"&&typeof b.onClick=="function"&&(s.onclick=Qf)}nr(m,b);var W;m=null;for(Pe in C)if(!b.hasOwnProperty(Pe)&&C.hasOwnProperty(Pe)&&C[Pe]!=null)if(Pe==="style"){var le=C[Pe];for(W in le)le.hasOwnProperty(W)&&(m||(m={}),m[W]="")}else Pe!=="dangerouslySetInnerHTML"&&Pe!=="children"&&Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&Pe!=="autoFocus"&&(a.hasOwnProperty(Pe)?O||(O=[]):(O=O||[]).push(Pe,null));for(Pe in b){var ge=b[Pe];if(le=C!=null?C[Pe]:void 0,b.hasOwnProperty(Pe)&&ge!==le&&(ge!=null||le!=null))if(Pe==="style")if(le){for(W in le)!le.hasOwnProperty(W)||ge&&ge.hasOwnProperty(W)||(m||(m={}),m[W]="");for(W in ge)ge.hasOwnProperty(W)&&le[W]!==ge[W]&&(m||(m={}),m[W]=ge[W])}else m||(O||(O=[]),O.push(Pe,m)),m=ge;else Pe==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,le=le?le.__html:void 0,ge!=null&&le!==ge&&(O=O||[]).push(Pe,ge)):Pe==="children"?typeof ge!="string"&&typeof ge!="number"||(O=O||[]).push(Pe,""+ge):Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&(a.hasOwnProperty(Pe)?(ge!=null&&Pe==="onScroll"&&Kn("scroll",s),O||le===ge||(O=[])):(O=O||[]).push(Pe,ge))}m&&(O=O||[]).push("style",m);var Pe=O;(u.updateQueue=Pe)&&(u.flags|=4)}},Qy=function(s,u,m,b){m!==b&&(u.flags|=4)};function Pc(s,u){if(!Xn)switch(s.tailMode){case"hidden":u=s.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:b.sibling=null}}function Ia(s){var u=s.alternate!==null&&s.alternate.child===s.child,m=0,b=0;if(u)for(var C=s.child;C!==null;)m|=C.lanes|C.childLanes,b|=C.subtreeFlags&14680064,b|=C.flags&14680064,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)m|=C.lanes|C.childLanes,b|=C.subtreeFlags,b|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=b,s.childLanes=m,u}function W1(s,u,m){var b=u.pendingProps;switch(Du(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ia(u),null;case 1:return to(u.type)&&nh(),Ia(u),null;case 3:return b=u.stateNode,Cc(),Qn(eo),Qn(va),Nm(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(s===null||s.child===null)&&(kd(u)?u.flags|=4:s===null||s.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,pi!==null&&(rg(pi),pi=null))),Wm(s,u),Ia(u),null;case 5:km(u);var C=bl(Od.current);if(m=u.type,s!==null&&u.stateNode!=null)$m(s,u,m,b,C),s.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!b){if(u.stateNode===null)throw Error(n(166));return Ia(u),null}if(s=bl(yi.current),kd(u)){b=u.stateNode,m=u.type;var O=u.memoizedProps;switch(b[Ui]=u,b[dl]=O,s=(u.mode&1)!==0,m){case"dialog":Kn("cancel",b),Kn("close",b);break;case"iframe":case"object":case"embed":Kn("load",b);break;case"video":case"audio":for(C=0;C<Ss.length;C++)Kn(Ss[C],b);break;case"source":Kn("error",b);break;case"img":case"image":case"link":Kn("error",b),Kn("load",b);break;case"details":Kn("toggle",b);break;case"input":ht(b,O),Kn("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!O.multiple},Kn("invalid",b);break;case"textarea":en(b,O),Kn("invalid",b)}nr(m,O),C=null;for(var W in O)if(O.hasOwnProperty(W)){var le=O[W];W==="children"?typeof le=="string"?b.textContent!==le&&(O.suppressHydrationWarning!==!0&&Id(b.textContent,le,s),C=["children",le]):typeof le=="number"&&b.textContent!==""+le&&(O.suppressHydrationWarning!==!0&&Id(b.textContent,le,s),C=["children",""+le]):a.hasOwnProperty(W)&&le!=null&&W==="onScroll"&&Kn("scroll",b)}switch(m){case"input":tn(b),Gt(b,O,!0);break;case"textarea":tn(b),Dn(b);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(b.onclick=Qf)}b=C,u.updateQueue=b,b!==null&&(u.flags|=4)}else{W=C.nodeType===9?C:C.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Er(m)),s==="http://www.w3.org/1999/xhtml"?m==="script"?(s=W.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof b.is=="string"?s=W.createElement(m,{is:b.is}):(s=W.createElement(m),m==="select"&&(W=s,b.multiple?W.multiple=!0:b.size&&(W.size=b.size))):s=W.createElementNS(s,m),s[Ui]=u,s[dl]=b,Ky(s,u,!1,!1),u.stateNode=s;e:{switch(W=Lr(m,b),m){case"dialog":Kn("cancel",s),Kn("close",s),C=b;break;case"iframe":case"object":case"embed":Kn("load",s),C=b;break;case"video":case"audio":for(C=0;C<Ss.length;C++)Kn(Ss[C],s);C=b;break;case"source":Kn("error",s),C=b;break;case"img":case"image":case"link":Kn("error",s),Kn("load",s),C=b;break;case"details":Kn("toggle",s),C=b;break;case"input":ht(s,b),C=nt(s,b),Kn("invalid",s);break;case"option":C=b;break;case"select":s._wrapperState={wasMultiple:!!b.multiple},C=X({},b,{value:void 0}),Kn("invalid",s);break;case"textarea":en(s,b),C=dn(s,b),Kn("invalid",s);break;default:C=b}nr(m,C),le=C;for(O in le)if(le.hasOwnProperty(O)){var ge=le[O];O==="style"?ha(s,ge):O==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,ge!=null&&Jt(s,ge)):O==="children"?typeof ge=="string"?(m!=="textarea"||ge!=="")&&sn(s,ge):typeof ge=="number"&&sn(s,""+ge):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(a.hasOwnProperty(O)?ge!=null&&O==="onScroll"&&Kn("scroll",s):ge!=null&&B(s,O,ge,W))}switch(m){case"input":tn(s),Gt(s,b,!1);break;case"textarea":tn(s),Dn(s);break;case"option":b.value!=null&&s.setAttribute("value",""+Ze(b.value));break;case"select":s.multiple=!!b.multiple,O=b.value,O!=null?Xt(s,!!b.multiple,O,!1):b.defaultValue!=null&&Xt(s,!!b.multiple,b.defaultValue,!0);break;default:typeof C.onClick=="function"&&(s.onclick=Qf)}switch(m){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Ia(u),null;case 6:if(s&&u.stateNode!=null)Qy(s,u,s.memoizedProps,b);else{if(typeof b!="string"&&u.stateNode===null)throw Error(n(166));if(m=bl(Od.current),bl(yi.current),kd(u)){if(b=u.stateNode,m=u.memoizedProps,b[Ui]=u,(O=b.nodeValue!==m)&&(s=wa,s!==null))switch(s.tag){case 3:Id(b.nodeValue,m,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Id(b.nodeValue,m,(s.mode&1)!==0)}O&&(u.flags|=4)}else b=(m.nodeType===9?m:m.ownerDocument).createTextNode(b),b[Ui]=u,u.stateNode=b}return Ia(u),null;case 13:if(Qn(er),b=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Xn&&bo!==null&&u.mode&1&&!(u.flags&128))Sm(),$i(),u.flags|=98560,O=!1;else if(O=kd(u),b!==null&&b.dehydrated!==null){if(s===null){if(!O)throw Error(n(318));if(O=u.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[Ui]=u}else $i(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;Ia(u),O=!1}else pi!==null&&(rg(pi),pi=null),O=!0;if(!O)return u.flags&65536?u:null}return u.flags&128?(u.lanes=m,u):(b=b!==null,b!==(s!==null&&s.memoizedState!==null)&&b&&(u.child.flags|=8192,u.mode&1&&(s===null||er.current&1?Yr===0&&(Yr=3):ig())),u.updateQueue!==null&&(u.flags|=4),Ia(u),null);case 4:return Cc(),Wm(s,u),s===null&&ll(u.stateNode.containerInfo),Ia(u),null;case 10:return lh(u.type._context),Ia(u),null;case 17:return to(u.type)&&nh(),Ia(u),null;case 19:if(Qn(er),O=u.memoizedState,O===null)return Ia(u),null;if(b=(u.flags&128)!==0,W=O.rendering,W===null)if(b)Pc(O,!1);else{if(Yr!==0||s!==null&&s.flags&128)for(s=u.child;s!==null;){if(W=Pd(s),W!==null){for(u.flags|=128,Pc(O,!1),b=W.updateQueue,b!==null&&(u.updateQueue=b,u.flags|=4),u.subtreeFlags=0,b=m,m=u.child;m!==null;)O=m,s=b,O.flags&=14680066,W=O.alternate,W===null?(O.childLanes=0,O.lanes=s,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=W.childLanes,O.lanes=W.lanes,O.child=W.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=W.memoizedProps,O.memoizedState=W.memoizedState,O.updateQueue=W.updateQueue,O.type=W.type,s=W.dependencies,O.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),m=m.sibling;return qn(er,er.current&1|2),u.child}s=s.sibling}O.tail!==null&&An()>Bc&&(u.flags|=128,b=!0,Pc(O,!1),u.lanes=4194304)}else{if(!b)if(s=Pd(W),s!==null){if(u.flags|=128,b=!0,m=s.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),Pc(O,!0),O.tail===null&&O.tailMode==="hidden"&&!W.alternate&&!Xn)return Ia(u),null}else 2*An()-O.renderingStartTime>Bc&&m!==1073741824&&(u.flags|=128,b=!0,Pc(O,!1),u.lanes=4194304);O.isBackwards?(W.sibling=u.child,u.child=W):(m=O.last,m!==null?m.sibling=W:u.child=W,O.last=W)}return O.tail!==null?(u=O.tail,O.rendering=u,O.tail=u.sibling,O.renderingStartTime=An(),u.sibling=null,m=er.current,qn(er,b?m&1|2:m&1),u):(Ia(u),null);case 22:case 23:return og(),b=u.memoizedState!==null,s!==null&&s.memoizedState!==null!==b&&(u.flags|=8192),b&&u.mode&1?Io&1073741824&&(Ia(u),u.subtreeFlags&6&&(u.flags|=8192)):Ia(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function $1(s,u){switch(Du(u),u.tag){case 1:return to(u.type)&&nh(),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return Cc(),Qn(eo),Qn(va),Nm(),s=u.flags,s&65536&&!(s&128)?(u.flags=s&-65537|128,u):null;case 5:return km(u),null;case 13:if(Qn(er),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(n(340));$i()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return Qn(er),null;case 4:return Cc(),null;case 10:return lh(u.type._context),null;case 22:case 23:return og(),null;case 24:return null;default:return null}}var Vo=!1,Fn=!1,Zm=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Dl(s,u){var m=s.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(b){pr(s,u,b)}else m.current=null}function qm(s,u,m){try{m()}catch(b){pr(s,u,b)}}var Xy=!1;function Wd(s,u){if(Ed=vo,s=Un(),yd(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var b=m.getSelection&&m.getSelection();if(b&&b.rangeCount!==0){m=b.anchorNode;var C=b.anchorOffset,O=b.focusNode;b=b.focusOffset;try{m.nodeType,O.nodeType}catch{m=null;break e}var W=0,le=-1,ge=-1,Pe=0,Ge=0,rt=s,qe=null;t:for(;;){for(var yt;rt!==m||C!==0&&rt.nodeType!==3||(le=W+C),rt!==O||b!==0&&rt.nodeType!==3||(ge=W+b),rt.nodeType===3&&(W+=rt.nodeValue.length),(yt=rt.firstChild)!==null;)qe=rt,rt=yt;for(;;){if(rt===s)break t;if(qe===m&&++Pe===C&&(le=W),qe===O&&++Ge===b&&(ge=W),(yt=rt.nextSibling)!==null)break;rt=qe,qe=rt.parentNode}rt=yt}m=le===-1||ge===-1?null:{start:le,end:ge}}else m=null}m=m||{start:0,end:0}}else m=null;for(yu={focusedElem:s,selectionRange:m},vo=!1,wt=u;wt!==null;)if(u=wt,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,wt=s;else for(;wt!==null;){u=wt;try{var Dt=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Dt!==null){var Et=Dt.memoizedProps,br=Dt.memoizedState,Ce=u.stateNode,ye=Ce.getSnapshotBeforeUpdate(u.elementType===u.type?Et:mi(u.type,Et),br);Ce.__reactInternalSnapshotBeforeUpdate=ye}break;case 3:var Me=u.stateNode.containerInfo;Me.nodeType===1?Me.textContent="":Me.nodeType===9&&Me.documentElement&&Me.removeChild(Me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(lt){pr(u,u.return,lt)}if(s=u.sibling,s!==null){s.return=u.return,wt=s;break}wt=u.return}return Dt=Xy,Xy=!1,Dt}function jc(s,u,m){var b=u.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var C=b=b.next;do{if((C.tag&s)===s){var O=C.destroy;C.destroy=void 0,O!==void 0&&qm(u,m,O)}C=C.next}while(C!==b)}}function $d(s,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&s)===s){var b=m.create;m.destroy=b()}m=m.next}while(m!==u)}}function Gm(s){var u=s.ref;if(u!==null){var m=s.stateNode;switch(s.tag){case 5:s=m;break;default:s=m}typeof u=="function"?u(s):u.current=s}}function e0(s){var u=s.alternate;u!==null&&(s.alternate=null,e0(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&(delete u[Ui],delete u[dl],delete u[eh],delete u[J],delete u[bc])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function t0(s){return s.tag===5||s.tag===3||s.tag===4}function n0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||t0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ah(s,u,m){var b=s.tag;if(b===5||b===6)s=s.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(s,u):m.insertBefore(s,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(s,m)):(u=m,u.appendChild(s)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=Qf));else if(b!==4&&(s=s.child,s!==null))for(Ah(s,u,m),s=s.sibling;s!==null;)Ah(s,u,m),s=s.sibling}function Fh(s,u,m){var b=s.tag;if(b===5||b===6)s=s.stateNode,u?m.insertBefore(s,u):m.appendChild(s);else if(b!==4&&(s=s.child,s!==null))for(Fh(s,u,m),s=s.sibling;s!==null;)Fh(s,u,m),s=s.sibling}var ia=null,Do=!1;function Ms(s,u,m){for(m=m.child;m!==null;)Lc(s,u,m),m=m.sibling}function Lc(s,u,m){if(Pa&&typeof Pa.onCommitFiberUnmount=="function")try{Pa.onCommitFiberUnmount(ho,m)}catch{}switch(m.tag){case 5:Fn||Dl(m,u);case 6:var b=ia,C=Do;ia=null,Ms(s,u,m),ia=b,Do=C,ia!==null&&(Do?(s=ia,m=m.stateNode,s.nodeType===8?s.parentNode.removeChild(m):s.removeChild(m)):ia.removeChild(m.stateNode));break;case 18:ia!==null&&(Do?(s=ia,m=m.stateNode,s.nodeType===8?ym(s.parentNode,m):s.nodeType===1&&ym(s,m),pn(s)):ym(ia,m.stateNode));break;case 4:b=ia,C=Do,ia=m.stateNode.containerInfo,Do=!0,Ms(s,u,m),ia=b,Do=C;break;case 0:case 11:case 14:case 15:if(!Fn&&(b=m.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){C=b=b.next;do{var O=C,W=O.destroy;O=O.tag,W!==void 0&&(O&2||O&4)&&qm(m,u,W),C=C.next}while(C!==b)}Ms(s,u,m);break;case 1:if(!Fn&&(Dl(m,u),b=m.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=m.memoizedProps,b.state=m.memoizedState,b.componentWillUnmount()}catch(le){pr(m,u,le)}Ms(s,u,m);break;case 21:Ms(s,u,m);break;case 22:m.mode&1?(Fn=(b=Fn)||m.memoizedState!==null,Ms(s,u,m),Fn=b):Ms(s,u,m);break;default:Ms(s,u,m)}}function Oh(s){var u=s.updateQueue;if(u!==null){s.updateQueue=null;var m=s.stateNode;m===null&&(m=s.stateNode=new Zm),u.forEach(function(b){var C=eS.bind(null,s,b);m.has(b)||(m.add(b),b.then(C,C))})}}function Wo(s,u){var m=u.deletions;if(m!==null)for(var b=0;b<m.length;b++){var C=m[b];try{var O=s,W=u,le=W;e:for(;le!==null;){switch(le.tag){case 5:ia=le.stateNode,Do=!1;break e;case 3:ia=le.stateNode.containerInfo,Do=!0;break e;case 4:ia=le.stateNode.containerInfo,Do=!0;break e}le=le.return}if(ia===null)throw Error(n(160));Lc(O,W,C),ia=null,Do=!1;var ge=C.alternate;ge!==null&&(ge.return=null),C.return=null}catch(Pe){pr(C,u,Pe)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)Jm(u,s),u=u.sibling}function Jm(s,u){var m=s.alternate,b=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Wo(u,s),To(s),b&4){try{jc(3,s,s.return),$d(3,s)}catch(Et){pr(s,s.return,Et)}try{jc(5,s,s.return)}catch(Et){pr(s,s.return,Et)}}break;case 1:Wo(u,s),To(s),b&512&&m!==null&&Dl(m,m.return);break;case 5:if(Wo(u,s),To(s),b&512&&m!==null&&Dl(m,m.return),s.flags&32){var C=s.stateNode;try{sn(C,"")}catch(Et){pr(s,s.return,Et)}}if(b&4&&(C=s.stateNode,C!=null)){var O=s.memoizedProps,W=m!==null?m.memoizedProps:O,le=s.type,ge=s.updateQueue;if(s.updateQueue=null,ge!==null)try{le==="input"&&O.type==="radio"&&O.name!=null&&St(C,O),Lr(le,W);var Pe=Lr(le,O);for(W=0;W<ge.length;W+=2){var Ge=ge[W],rt=ge[W+1];Ge==="style"?ha(C,rt):Ge==="dangerouslySetInnerHTML"?Jt(C,rt):Ge==="children"?sn(C,rt):B(C,Ge,rt,Pe)}switch(le){case"input":Tt(C,O);break;case"textarea":Zn(C,O);break;case"select":var qe=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!O.multiple;var yt=O.value;yt!=null?Xt(C,!!O.multiple,yt,!1):qe!==!!O.multiple&&(O.defaultValue!=null?Xt(C,!!O.multiple,O.defaultValue,!0):Xt(C,!!O.multiple,O.multiple?[]:"",!1))}C[dl]=O}catch(Et){pr(s,s.return,Et)}}break;case 6:if(Wo(u,s),To(s),b&4){if(s.stateNode===null)throw Error(n(162));C=s.stateNode,O=s.memoizedProps;try{C.nodeValue=O}catch(Et){pr(s,s.return,Et)}}break;case 3:if(Wo(u,s),To(s),b&4&&m!==null&&m.memoizedState.isDehydrated)try{pn(u.containerInfo)}catch(Et){pr(s,s.return,Et)}break;case 4:Wo(u,s),To(s);break;case 13:Wo(u,s),To(s),C=s.child,C.flags&8192&&(O=C.memoizedState!==null,C.stateNode.isHidden=O,!O||C.alternate!==null&&C.alternate.memoizedState!==null||(jh=An())),b&4&&Oh(s);break;case 22:if(Ge=m!==null&&m.memoizedState!==null,s.mode&1?(Fn=(Pe=Fn)||Ge,Wo(u,s),Fn=Pe):Wo(u,s),To(s),b&8192){if(Pe=s.memoizedState!==null,(s.stateNode.isHidden=Pe)&&!Ge&&s.mode&1)for(wt=s,Ge=s.child;Ge!==null;){for(rt=wt=Ge;wt!==null;){switch(qe=wt,yt=qe.child,qe.tag){case 0:case 11:case 14:case 15:jc(4,qe,qe.return);break;case 1:Dl(qe,qe.return);var Dt=qe.stateNode;if(typeof Dt.componentWillUnmount=="function"){b=qe,m=qe.return;try{u=b,Dt.props=u.memoizedProps,Dt.state=u.memoizedState,Dt.componentWillUnmount()}catch(Et){pr(b,m,Et)}}break;case 5:Dl(qe,qe.return);break;case 22:if(qe.memoizedState!==null){a0(rt);continue}}yt!==null?(yt.return=qe,wt=yt):a0(rt)}Ge=Ge.sibling}e:for(Ge=null,rt=s;;){if(rt.tag===5){if(Ge===null){Ge=rt;try{C=rt.stateNode,Pe?(O=C.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(le=rt.stateNode,ge=rt.memoizedProps.style,W=ge!=null&&ge.hasOwnProperty("display")?ge.display:null,le.style.display=fr("display",W))}catch(Et){pr(s,s.return,Et)}}}else if(rt.tag===6){if(Ge===null)try{rt.stateNode.nodeValue=Pe?"":rt.memoizedProps}catch(Et){pr(s,s.return,Et)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===s)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===s)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===s)break e;Ge===rt&&(Ge=null),rt=rt.return}Ge===rt&&(Ge=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:Wo(u,s),To(s),b&4&&Oh(s);break;case 21:break;default:Wo(u,s),To(s)}}function To(s){var u=s.flags;if(u&2){try{e:{for(var m=s.return;m!==null;){if(t0(m)){var b=m;break e}m=m.return}throw Error(n(160))}switch(b.tag){case 5:var C=b.stateNode;b.flags&32&&(sn(C,""),b.flags&=-33);var O=n0(s);Fh(s,O,C);break;case 3:case 4:var W=b.stateNode.containerInfo,le=n0(s);Ah(s,le,W);break;default:throw Error(n(161))}}catch(ge){pr(s,s.return,ge)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function r0(s,u,m){wt=s,bi(s)}function bi(s,u,m){for(var b=(s.mode&1)!==0;wt!==null;){var C=wt,O=C.child;if(C.tag===22&&b){var W=C.memoizedState!==null||Vo;if(!W){var le=C.alternate,ge=le!==null&&le.memoizedState!==null||Fn;le=Vo;var Pe=Fn;if(Vo=W,(Fn=ge)&&!Pe)for(wt=C;wt!==null;)W=wt,ge=W.child,W.tag===22&&W.memoizedState!==null?Km(C):ge!==null?(ge.return=W,wt=ge):Km(C);for(;O!==null;)wt=O,bi(O),O=O.sibling;wt=C,Vo=le,Fn=Pe}Tl(s)}else C.subtreeFlags&8772&&O!==null?(O.return=C,wt=O):Tl(s)}}function Tl(s){for(;wt!==null;){var u=wt;if(u.flags&8772){var m=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:Fn||$d(5,u);break;case 1:var b=u.stateNode;if(u.flags&4&&!Fn)if(m===null)b.componentDidMount();else{var C=u.elementType===u.type?m.memoizedProps:mi(u.type,m.memoizedProps);b.componentDidUpdate(C,m.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var O=u.updateQueue;O!==null&&Ly(u,O,b);break;case 3:var W=u.updateQueue;if(W!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}Ly(u,W,m)}break;case 5:var le=u.stateNode;if(m===null&&u.flags&4){m=le;var ge=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ge.autoFocus&&m.focus();break;case"img":ge.src&&(m.src=ge.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Pe=u.alternate;if(Pe!==null){var Ge=Pe.memoizedState;if(Ge!==null){var rt=Ge.dehydrated;rt!==null&&pn(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Fn||u.flags&512&&Gm(u)}catch(qe){pr(u,u.return,qe)}}if(u===s){wt=null;break}if(m=u.sibling,m!==null){m.return=u.return,wt=m;break}wt=u.return}}function a0(s){for(;wt!==null;){var u=wt;if(u===s){wt=null;break}var m=u.sibling;if(m!==null){m.return=u.return,wt=m;break}wt=u.return}}function Km(s){for(;wt!==null;){var u=wt;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{$d(4,u)}catch(ge){pr(u,m,ge)}break;case 1:var b=u.stateNode;if(typeof b.componentDidMount=="function"){var C=u.return;try{b.componentDidMount()}catch(ge){pr(u,C,ge)}}var O=u.return;try{Gm(u)}catch(ge){pr(u,O,ge)}break;case 5:var W=u.return;try{Gm(u)}catch(ge){pr(u,W,ge)}}}catch(ge){pr(u,u.return,ge)}if(u===s){wt=null;break}var le=u.sibling;if(le!==null){le.return=u.return,wt=le;break}wt=u.return}}var Z1=Math.ceil,Ph=k.ReactCurrentDispatcher,Qm=k.ReactCurrentOwner,$o=k.ReactCurrentBatchConfig,bn=0,Jr=null,Nr=null,sa=0,Io=0,Rc=Xa(0),Yr=0,_c=null,Il=0,Zd=0,Xm=0,qd=null,ro=null,jh=0,Bc=1/0,ks=null,Lh=!1,eg=null,El=null,Rh=!1,zr=null,_h=0,Gd=0,tg=null,Jd=-1,Bh=0;function Ya(){return bn&6?An():Jd!==-1?Jd:Jd=An()}function Cl(s){return s.mode&1?bn&2&&sa!==0?sa&-sa:Py.transition!==null?(Bh===0&&(Bh=ie()),Bh):(s=ct,s!==0||(s=window.event,s=s===void 0?16:fd(s.type)),s):1}function Si(s,u,m,b){if(50<Gd)throw Gd=0,tg=null,Error(n(185));Ie(s,m,b),(!(bn&2)||s!==Jr)&&(s===Jr&&(!(bn&2)&&(Zd|=m),Yr===4&&xl(s,sa)),Ea(s,b),m===1&&bn===0&&!(u.mode&1)&&(Bc=An()+500,rh&&hl()))}function Ea(s,u){var m=s.callbackNode;Y(s,u);var b=mo(s,s===Jr?sa:0);if(b===0)m!==null&&lu(m),s.callbackNode=null,s.callbackPriority=0;else if(u=b&-b,s.callbackPriority!==u){if(m!=null&&lu(m),u===1)s.tag===0?wu(i0.bind(null,s)):Ay(i0.bind(null,s)),Xf(function(){!(bn&6)&&hl()}),m=null;else{switch(Ft(b)){case 1:m=qs;break;case 4:m=Gs;break;case 16:m=ui;break;case 536870912:m=Fo;break;default:m=ui}m=h0(m,o0.bind(null,s))}s.callbackPriority=u,s.callbackNode=m}}function o0(s,u){if(Jd=-1,Bh=0,bn&6)throw Error(n(327));var m=s.callbackNode;if(Ml()&&s.callbackNode!==m)return null;var b=mo(s,s===Jr?sa:0);if(b===0)return null;if(b&30||b&s.expiredLanes||u)u=Hh(s,b);else{u=b;var C=bn;bn|=2;var O=l0();(Jr!==s||sa!==u)&&(ks=null,Bc=An()+500,ku(s,u));do try{J1();break}catch(le){s0(s,le)}while(!0);Nd(),Ph.current=O,bn=C,Nr!==null?u=0:(Jr=null,sa=0,u=Yr)}if(u!==0){if(u===2&&(C=K(s),C!==0&&(b=C,u=ng(s,C))),u===1)throw m=_c,ku(s,0),xl(s,b),Ea(s,An()),m;if(u===6)xl(s,b);else{if(C=s.current.alternate,!(b&30)&&!q1(C)&&(u=Hh(s,b),u===2&&(O=K(s),O!==0&&(b=O,u=ng(s,O))),u===1))throw m=_c,ku(s,0),xl(s,b),Ea(s,An()),m;switch(s.finishedWork=C,s.finishedLanes=b,u){case 0:case 1:throw Error(n(345));case 2:Nu(s,ro,ks);break;case 3:if(xl(s,b),(b&130023424)===b&&(u=jh+500-An(),10<u)){if(mo(s,0)!==0)break;if(C=s.suspendedLanes,(C&b)!==b){Ya(),s.pingedLanes|=s.suspendedLanes&C;break}s.timeoutHandle=ul(Nu.bind(null,s,ro,ks),u);break}Nu(s,ro,ks);break;case 4:if(xl(s,b),(b&4194240)===b)break;for(u=s.eventTimes,C=-1;0<b;){var W=31-Rr(b);O=1<<W,W=u[W],W>C&&(C=W),b&=~O}if(b=C,b=An()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*Z1(b/1960))-b,10<b){s.timeoutHandle=ul(Nu.bind(null,s,ro,ks),b);break}Nu(s,ro,ks);break;case 5:Nu(s,ro,ks);break;default:throw Error(n(329))}}}return Ea(s,An()),s.callbackNode===m?o0.bind(null,s):null}function ng(s,u){var m=qd;return s.current.memoizedState.isDehydrated&&(ku(s,u).flags|=256),s=Hh(s,u),s!==2&&(u=ro,ro=m,u!==null&&rg(u)),s}function rg(s){ro===null?ro=s:ro.push.apply(ro,s)}function q1(s){for(var u=s;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var b=0;b<m.length;b++){var C=m[b],O=C.getSnapshot;C=C.value;try{if(!Oe(O(),C))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function xl(s,u){for(u&=~Xm,u&=~Zd,s.suspendedLanes|=u,s.pingedLanes&=~u,s=s.expirationTimes;0<u;){var m=31-Rr(u),b=1<<m;s[m]=-1,u&=~b}}function i0(s){if(bn&6)throw Error(n(327));Ml();var u=mo(s,0);if(!(u&1))return Ea(s,An()),null;var m=Hh(s,u);if(s.tag!==0&&m===2){var b=K(s);b!==0&&(u=b,m=ng(s,b))}if(m===1)throw m=_c,ku(s,0),xl(s,u),Ea(s,An()),m;if(m===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=u,Nu(s,ro,ks),Ea(s,An()),null}function ag(s,u){var m=bn;bn|=1;try{return s(u)}finally{bn=m,bn===0&&(Bc=An()+500,rh&&hl())}}function Mu(s){zr!==null&&zr.tag===0&&!(bn&6)&&Ml();var u=bn;bn|=1;var m=$o.transition,b=ct;try{if($o.transition=null,ct=1,s)return s()}finally{ct=b,$o.transition=m,bn=u,!(bn&6)&&hl()}}function og(){Io=Rc.current,Qn(Rc)}function ku(s,u){s.finishedWork=null,s.finishedLanes=0;var m=s.timeoutHandle;if(m!==-1&&(s.timeoutHandle=-1,xd(m)),Nr!==null)for(m=Nr.return;m!==null;){var b=m;switch(Du(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&nh();break;case 3:Cc(),Qn(eo),Qn(va),Nm();break;case 5:km(b);break;case 4:Cc();break;case 13:Qn(er);break;case 19:Qn(er);break;case 10:lh(b.type._context);break;case 22:case 23:og()}m=m.return}if(Jr=s,Nr=s=kl(s.current,null),sa=Io=u,Yr=0,_c=null,Xm=Zd=Il=0,ro=qd=null,So!==null){for(u=0;u<So.length;u++)if(m=So[u],b=m.interleaved,b!==null){m.interleaved=null;var C=b.next,O=m.pending;if(O!==null){var W=O.next;O.next=C,b.next=W}m.pending=b}So=null}return s}function s0(s,u){do{var m=Nr;try{if(Nd(),xc.current=Cs,mh){for(var b=or.memoizedState;b!==null;){var C=b.queue;C!==null&&(C.pending=null),b=b.next}mh=!1}if(Eu=0,Br=ir=or=null,Ld=!1,Sa=0,Qm.current=null,m===null||m.return===null){Yr=1,_c=u,Nr=null;break}e:{var O=s,W=m.return,le=m,ge=u;if(u=sa,le.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Pe=ge,Ge=le,rt=Ge.tag;if(!(Ge.mode&1)&&(rt===0||rt===11||rt===15)){var qe=Ge.alternate;qe?(Ge.updateQueue=qe.updateQueue,Ge.memoizedState=qe.memoizedState,Ge.lanes=qe.lanes):(Ge.updateQueue=null,Ge.memoizedState=null)}var yt=Hm(W);if(yt!==null){yt.flags&=-257,Ud(yt,W,le,O,u),yt.mode&1&&$y(O,Pe,u),u=yt,ge=Pe;var Dt=u.updateQueue;if(Dt===null){var Et=new Set;Et.add(ge),u.updateQueue=Et}else Dt.add(ge);break e}else{if(!(u&1)){$y(O,Pe,u),ig();break e}ge=Error(n(426))}}else if(Xn&&le.mode&1){var br=Hm(W);if(br!==null){!(br.flags&65536)&&(br.flags|=256),Ud(br,W,le,O,u),Zi(xu(ge,le));break e}}O=ge=xu(ge,le),Yr!==4&&(Yr=2),qd===null?qd=[O]:qd.push(O),O=W;do{switch(O.tag){case 3:O.flags|=65536,u&=-u,O.lanes|=u;var Ce=Ch(O,ge,u);Tm(O,Ce);break e;case 1:le=ge;var ye=O.type,Me=O.stateNode;if(!(O.flags&128)&&(typeof ye.getDerivedStateFromError=="function"||Me!==null&&typeof Me.componentDidCatch=="function"&&(El===null||!El.has(Me)))){O.flags|=65536,u&=-u,O.lanes|=u;var lt=Hd(O,le,u);Tm(O,lt);break e}}O=O.return}while(O!==null)}c0(m)}catch(xt){u=xt,Nr===m&&m!==null&&(Nr=m=m.return);continue}break}while(!0)}function l0(){var s=Ph.current;return Ph.current=Cs,s===null?Cs:s}function ig(){(Yr===0||Yr===3||Yr===2)&&(Yr=4),Jr===null||!(Il&268435455)&&!(Zd&268435455)||xl(Jr,sa)}function Hh(s,u){var m=bn;bn|=2;var b=l0();(Jr!==s||sa!==u)&&(ks=null,ku(s,u));do try{G1();break}catch(C){s0(s,C)}while(!0);if(Nd(),bn=m,Ph.current=b,Nr!==null)throw Error(n(261));return Jr=null,sa=0,Yr}function G1(){for(;Nr!==null;)u0(Nr)}function J1(){for(;Nr!==null&&!ds();)u0(Nr)}function u0(s){var u=f0(s.alternate,s,Io);s.memoizedProps=s.pendingProps,u===null?c0(s):Nr=u,Qm.current=null}function c0(s){var u=s;do{var m=u.alternate;if(s=u.return,u.flags&32768){if(m=$1(m,u),m!==null){m.flags&=32767,Nr=m;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Yr=6,Nr=null;return}}else if(m=W1(m,u,Io),m!==null){Nr=m;return}if(u=u.sibling,u!==null){Nr=u;return}Nr=u=s}while(u!==null);Yr===0&&(Yr=5)}function Nu(s,u,m){var b=ct,C=$o.transition;try{$o.transition=null,ct=1,K1(s,u,m,b)}finally{$o.transition=C,ct=b}return null}function K1(s,u,m,b){do Ml();while(zr!==null);if(bn&6)throw Error(n(327));m=s.finishedWork;var C=s.finishedLanes;if(m===null)return null;if(s.finishedWork=null,s.finishedLanes=0,m===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var O=m.lanes|m.childLanes;if(Ye(s,O),s===Jr&&(Nr=Jr=null,sa=0),!(m.subtreeFlags&2064)&&!(m.flags&2064)||Rh||(Rh=!0,h0(ui,function(){return Ml(),null})),O=(m.flags&15990)!==0,m.subtreeFlags&15990||O){O=$o.transition,$o.transition=null;var W=ct;ct=1;var le=bn;bn|=4,Qm.current=null,Wd(s,m),Jm(m,s),H1(yu),vo=!!Ed,yu=Ed=null,s.current=m,r0(m),rc(),bn=le,ct=W,$o.transition=O}else s.current=m;if(Rh&&(Rh=!1,zr=s,_h=C),O=s.pendingLanes,O===0&&(El=null),fs(m.stateNode),Ea(s,An()),u!==null)for(b=s.onRecoverableError,m=0;m<u.length;m++)C=u[m],b(C.value,{componentStack:C.stack,digest:C.digest});if(Lh)throw Lh=!1,s=eg,eg=null,s;return _h&1&&s.tag!==0&&Ml(),O=s.pendingLanes,O&1?s===tg?Gd++:(Gd=0,tg=s):Gd=0,hl(),null}function Ml(){if(zr!==null){var s=Ft(_h),u=$o.transition,m=ct;try{if($o.transition=null,ct=16>s?16:s,zr===null)var b=!1;else{if(s=zr,zr=null,_h=0,bn&6)throw Error(n(331));var C=bn;for(bn|=4,wt=s.current;wt!==null;){var O=wt,W=O.child;if(wt.flags&16){var le=O.deletions;if(le!==null){for(var ge=0;ge<le.length;ge++){var Pe=le[ge];for(wt=Pe;wt!==null;){var Ge=wt;switch(Ge.tag){case 0:case 11:case 15:jc(8,Ge,O)}var rt=Ge.child;if(rt!==null)rt.return=Ge,wt=rt;else for(;wt!==null;){Ge=wt;var qe=Ge.sibling,yt=Ge.return;if(e0(Ge),Ge===Pe){wt=null;break}if(qe!==null){qe.return=yt,wt=qe;break}wt=yt}}}var Dt=O.alternate;if(Dt!==null){var Et=Dt.child;if(Et!==null){Dt.child=null;do{var br=Et.sibling;Et.sibling=null,Et=br}while(Et!==null)}}wt=O}}if(O.subtreeFlags&2064&&W!==null)W.return=O,wt=W;else e:for(;wt!==null;){if(O=wt,O.flags&2048)switch(O.tag){case 0:case 11:case 15:jc(9,O,O.return)}var Ce=O.sibling;if(Ce!==null){Ce.return=O.return,wt=Ce;break e}wt=O.return}}var ye=s.current;for(wt=ye;wt!==null;){W=wt;var Me=W.child;if(W.subtreeFlags&2064&&Me!==null)Me.return=W,wt=Me;else e:for(W=ye;wt!==null;){if(le=wt,le.flags&2048)try{switch(le.tag){case 0:case 11:case 15:$d(9,le)}}catch(xt){pr(le,le.return,xt)}if(le===W){wt=null;break e}var lt=le.sibling;if(lt!==null){lt.return=le.return,wt=lt;break e}wt=le.return}}if(bn=C,hl(),Pa&&typeof Pa.onPostCommitFiberRoot=="function")try{Pa.onPostCommitFiberRoot(ho,s)}catch{}b=!0}return b}finally{ct=m,$o.transition=u}}return!1}function sg(s,u,m){u=xu(m,u),u=Ch(s,u,1),s=gl(s,u,1),u=Ya(),s!==null&&(Ie(s,1,u),Ea(s,u))}function pr(s,u,m){if(s.tag===3)sg(s,s,m);else for(;u!==null;){if(u.tag===3){sg(u,s,m);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(El===null||!El.has(b))){s=xu(m,s),s=Hd(u,s,1),u=gl(u,s,1),s=Ya(),u!==null&&(Ie(u,1,s),Ea(u,s));break}}u=u.return}}function Q1(s,u,m){var b=s.pingCache;b!==null&&b.delete(u),u=Ya(),s.pingedLanes|=s.suspendedLanes&m,Jr===s&&(sa&m)===m&&(Yr===4||Yr===3&&(sa&130023424)===sa&&500>An()-jh?ku(s,0):Xm|=m),Ea(s,u)}function d0(s,u){u===0&&(s.mode&1?(u=hs,hs<<=1,!(hs&130023424)&&(hs=4194304)):u=1);var m=Ya();s=gi(s,u),s!==null&&(Ie(s,u,m),Ea(s,m))}function X1(s){var u=s.memoizedState,m=0;u!==null&&(m=u.retryLane),d0(s,m)}function eS(s,u){var m=0;switch(s.tag){case 13:var b=s.stateNode,C=s.memoizedState;C!==null&&(m=C.retryLane);break;case 19:b=s.stateNode;break;default:throw Error(n(314))}b!==null&&b.delete(u),d0(s,m)}var f0;f0=function(s,u,m){if(s!==null)if(s.memoizedProps!==u.pendingProps||eo.current)Da=!0;else{if(!(s.lanes&m)&&!(u.flags&128))return Da=!1,Ta(s,u,m);Da=!!(s.flags&131072)}else Da=!1,Xn&&u.flags&1048576&&Fy(u,oh,u.index);switch(u.lanes=0,u.tag){case 2:var b=u.type;Oc(s,u),s=u.pendingProps;var C=Dc(u,va.current);pl(u,m),C=gh(null,u,b,s,C,m);var O=vh();return u.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,to(b)?(O=!0,Ho(u)):O=!1,u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Dm(u),C.updater=dh,u.stateNode=C,C._reactInternals=u,Cm(u,b,s,m),u=Vm(null,u,b,!0,O,m)):(u.tag=0,Xn&&O&&Md(u),Ua(null,u,C,m),u=u.child),u;case 16:b=u.elementType;e:{switch(Oc(s,u),s=u.pendingProps,C=b._init,b=C(b._payload),u.type=b,C=u.tag=Uh(b),s=mi(b,s),C){case 0:u=xh(null,u,b,s,m);break e;case 1:u=Gy(null,u,b,s,m);break e;case 11:u=Um(null,u,b,s,m);break e;case 14:u=qi(null,u,b,mi(b.type,s),m);break e}throw Error(n(306,b,""))}return u;case 0:return b=u.type,C=u.pendingProps,C=u.elementType===b?C:mi(b,C),xh(s,u,b,C,m);case 1:return b=u.type,C=u.pendingProps,C=u.elementType===b?C:mi(b,C),Gy(s,u,b,C,m);case 3:e:{if(Gi(u),s===null)throw Error(n(387));b=u.pendingProps,O=u.memoizedState,C=O.element,jy(s,u),ch(u,b,null,m);var W=u.memoizedState;if(b=W.element,O.isDehydrated)if(O={element:b,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},u.updateQueue.baseState=O,u.memoizedState=O,u.flags&256){C=xu(Error(n(423)),u),u=Mh(s,u,b,m,C);break e}else if(b!==C){C=xu(Error(n(424)),u),u=Mh(s,u,b,m,C);break e}else for(bo=cl(u.stateNode.containerInfo.firstChild),wa=u,Xn=!0,pi=null,m=xm(u,null,b,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if($i(),b===C){u=Ji(s,u,m);break e}Ua(s,u,b,m)}u=u.child}return u;case 5:return Mm(u),s===null&&no(u),b=u.type,C=u.pendingProps,O=s!==null?s.memoizedProps:null,W=C.children,Cd(b,C)?W=null:O!==null&&Cd(b,O)&&(u.flags|=32),qy(s,u),Ua(s,u,W,m),u.child;case 6:return s===null&&no(u),null;case 13:return Vd(s,u,m);case 4:return ph(u,u.stateNode.containerInfo),b=u.pendingProps,s===null?u.child=yl(u,null,b,m):Ua(s,u,b,m),u.child;case 11:return b=u.type,C=u.pendingProps,C=u.elementType===b?C:mi(b,C),Um(s,u,b,C,m);case 7:return Ua(s,u,u.pendingProps,m),u.child;case 8:return Ua(s,u,u.pendingProps.children,m),u.child;case 12:return Ua(s,u,u.pendingProps.children,m),u.child;case 10:e:{if(b=u.type._context,C=u.pendingProps,O=u.memoizedProps,W=C.value,qn(Tu,b._currentValue),b._currentValue=W,O!==null)if(Oe(O.value,W)){if(O.children===C.children&&!eo.current){u=Ji(s,u,m);break e}}else for(O=u.child,O!==null&&(O.return=u);O!==null;){var le=O.dependencies;if(le!==null){W=O.child;for(var ge=le.firstContext;ge!==null;){if(ge.context===b){if(O.tag===1){ge=vi(-1,m&-m),ge.tag=2;var Pe=O.updateQueue;if(Pe!==null){Pe=Pe.shared;var Ge=Pe.pending;Ge===null?ge.next=ge:(ge.next=Ge.next,Ge.next=ge),Pe.pending=ge}}O.lanes|=m,ge=O.alternate,ge!==null&&(ge.lanes|=m),zo(O.return,m,u),le.lanes|=m;break}ge=ge.next}}else if(O.tag===10)W=O.type===u.type?null:O.child;else if(O.tag===18){if(W=O.return,W===null)throw Error(n(341));W.lanes|=m,le=W.alternate,le!==null&&(le.lanes|=m),zo(W,m,u),W=O.sibling}else W=O.child;if(W!==null)W.return=O;else for(W=O;W!==null;){if(W===u){W=null;break}if(O=W.sibling,O!==null){O.return=W.return,W=O;break}W=W.return}O=W}Ua(s,u,C.children,m),u=u.child}return u;case 9:return C=u.type,b=u.pendingProps.children,pl(u,m),C=Ba(C),b=b(C),u.flags|=1,Ua(s,u,b,m),u.child;case 14:return b=u.type,C=mi(b,u.pendingProps),C=mi(b.type,C),qi(s,u,b,C,m);case 15:return Ym(s,u,u.type,u.pendingProps,m);case 17:return b=u.type,C=u.pendingProps,C=u.elementType===b?C:mi(b,C),Oc(s,u),u.tag=1,to(b)?(s=!0,Ho(u)):s=!1,pl(u,m),Em(u,b,C),Cm(u,b,C,m),Vm(null,u,b,!0,s,m);case 19:return Jy(s,u,m);case 22:return zm(s,u,m)}throw Error(n(156,u.tag))};function h0(s,u){return cs(s,u)}function tS(s,u,m,b){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Eo(s,u,m,b){return new tS(s,u,m,b)}function lg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Uh(s){if(typeof s=="function")return lg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===G)return 11;if(s===fe)return 14}return 2}function kl(s,u){var m=s.alternate;return m===null?(m=Eo(s.tag,u,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=u,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&14680064,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,u=s.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m}function Yh(s,u,m,b,C,O){var W=2;if(b=s,typeof s=="function")lg(s)&&(W=1);else if(typeof s=="string")W=5;else e:switch(s){case _:return Au(m.children,C,O,u);case V:W=8,C|=8;break;case U:return s=Eo(12,m,u,C|2),s.elementType=U,s.lanes=O,s;case re:return s=Eo(13,m,u,C),s.elementType=re,s.lanes=O,s;case de:return s=Eo(19,m,u,C),s.elementType=de,s.lanes=O,s;case he:return zh(m,C,O,u);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Z:W=10;break e;case Q:W=9;break e;case G:W=11;break e;case fe:W=14;break e;case $:W=16,b=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return u=Eo(W,m,u,C),u.elementType=s,u.type=b,u.lanes=O,u}function Au(s,u,m,b){return s=Eo(7,s,b,u),s.lanes=m,s}function zh(s,u,m,b){return s=Eo(22,s,b,u),s.elementType=he,s.lanes=m,s.stateNode={isHidden:!1},s}function ug(s,u,m){return s=Eo(6,s,null,u),s.lanes=m,s}function cg(s,u,m){return u=Eo(4,s.children!==null?s.children:[],s.key,u),u.lanes=m,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}function nS(s,u,m,b,C){this.tag=u,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ne(0),this.expirationTimes=Ne(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.identifierPrefix=b,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function dg(s,u,m,b,C,O,W,le,ge){return s=new nS(s,u,m,le,ge),u===1?(u=1,O===!0&&(u|=8)):u=0,O=Eo(3,null,null,u),s.current=O,O.stateNode=s,O.memoizedState={element:b,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dm(O),s}function rS(s,u,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:b==null?null:""+b,children:s,containerInfo:u,implementation:m}}function p0(s){if(!s)return fl;s=s._reactInternals;e:{if(si(s)!==s||s.tag!==1)throw Error(n(170));var u=s;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(to(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(s.tag===1){var m=s.type;if(to(m))return ky(s,m,u)}return u}function m0(s,u,m,b,C,O,W,le,ge){return s=dg(m,b,!0,s,C,O,W,le,ge),s.context=p0(null),m=s.current,b=Ya(),C=Cl(m),O=vi(b,C),O.callback=u??null,gl(m,O,C),s.current.lanes=C,Ie(s,C,b),Ea(s,b),s}function Vh(s,u,m,b){var C=u.current,O=Ya(),W=Cl(C);return m=p0(m),u.context===null?u.context=m:u.pendingContext=m,u=vi(O,W),u.payload={element:s},b=b===void 0?null:b,b!==null&&(u.callback=b),s=gl(C,u,W),s!==null&&(Si(s,C,W,O),vl(s,C,W)),W}function Wh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function g0(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<u?m:u}}function fg(s,u){g0(s,u),(s=s.alternate)&&g0(s,u)}function aS(){return null}var hg=typeof reportError=="function"?reportError:function(s){console.error(s)};function $h(s){this._internalRoot=s}Zh.prototype.render=$h.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(n(409));Vh(s,u,null,null)},Zh.prototype.unmount=$h.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;Mu(function(){Vh(null,s,null,null)}),u[wo]=null}};function Zh(s){this._internalRoot=s}Zh.prototype.unstable_scheduleHydration=function(s){if(s){var u=ja();s={blockedOn:null,target:s,priority:u};for(var m=0;m<Ri.length&&u!==0&&u<Ri[m].priority;m++);Ri.splice(m,0,s),m===0&&Po(s)}};function pg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function qh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function v0(){}function Gh(s,u,m,b,C){if(C){if(typeof b=="function"){var O=b;b=function(){var Pe=Wh(W);O.call(Pe)}}var W=m0(u,b,s,0,null,!1,!1,"",v0);return s._reactRootContainer=W,s[wo]=W.current,ll(s.nodeType===8?s.parentNode:s),Mu(),W}for(;C=s.lastChild;)s.removeChild(C);if(typeof b=="function"){var le=b;b=function(){var Pe=Wh(ge);le.call(Pe)}}var ge=dg(s,0,!1,null,null,!1,!1,"",v0);return s._reactRootContainer=ge,s[wo]=ge.current,ll(s.nodeType===8?s.parentNode:s),Mu(function(){Vh(u,ge,m,b)}),ge}function Jh(s,u,m,b,C){var O=m._reactRootContainer;if(O){var W=O;if(typeof C=="function"){var le=C;C=function(){var ge=Wh(W);le.call(ge)}}Vh(u,W,s,C)}else W=Gh(m,u,s,C,b);return Wh(W)}$t=function(s){switch(s.tag){case 3:var u=s.stateNode;if(u.current.memoizedState.isDehydrated){var m=ci(u.pendingLanes);m!==0&&(it(u,m|1),Ea(u,An()),!(bn&6)&&(Bc=An()+500,hl()))}break;case 13:Mu(function(){var b=gi(s,1);if(b!==null){var C=Ya();Si(b,s,1,C)}}),fg(s,1)}},Pn=function(s){if(s.tag===13){var u=gi(s,134217728);if(u!==null){var m=Ya();Si(u,s,134217728,m)}fg(s,134217728)}},Ga=function(s){if(s.tag===13){var u=Cl(s),m=gi(s,u);if(m!==null){var b=Ya();Si(m,s,u,b)}fg(s,u)}},ja=function(){return ct},ra=function(s,u){var m=ct;try{return ct=s,u()}finally{ct=m}},xe=function(s,u,m){switch(u){case"input":if(Tt(s,m),u=m.name,m.type==="radio"&&u!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var b=m[u];if(b!==s&&b.form===s.form){var C=th(b);if(!C)throw Error(n(90));_e(b),Tt(b,C)}}}break;case"textarea":Zn(s,m);break;case"select":u=m.value,u!=null&&Xt(s,!!m.multiple,u,!1)}},Ut=ag,On=Mu;var oS={usingClientEntryPoint:!1,Events:[ga,nn,th,tt,kt,ag]},Kd={findFiberByHostInstance:Yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iS={bundleType:Kd.bundleType,version:Kd.version,rendererPackageName:Kd.rendererPackageName,rendererConfig:Kd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=us(s),s===null?null:s.stateNode},findFiberByHostInstance:Kd.findFiberByHostInstance||aS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kh.isDisabled&&Kh.supportsFiber)try{ho=Kh.inject(iS),Pa=Kh}catch{}}return Jo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oS,Jo.createPortal=function(s,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pg(u))throw Error(n(200));return rS(s,u,null,m)},Jo.createRoot=function(s,u){if(!pg(s))throw Error(n(299));var m=!1,b="",C=hg;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),u=dg(s,1,!1,null,null,m,!1,b,C),s[wo]=u.current,ll(s.nodeType===8?s.parentNode:s),new $h(u)},Jo.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=us(u),s=s===null?null:s.stateNode,s},Jo.flushSync=function(s){return Mu(s)},Jo.hydrate=function(s,u,m){if(!qh(u))throw Error(n(200));return Jh(null,s,u,!0,m)},Jo.hydrateRoot=function(s,u,m){if(!pg(s))throw Error(n(405));var b=m!=null&&m.hydratedSources||null,C=!1,O="",W=hg;if(m!=null&&(m.unstable_strictMode===!0&&(C=!0),m.identifierPrefix!==void 0&&(O=m.identifierPrefix),m.onRecoverableError!==void 0&&(W=m.onRecoverableError)),u=m0(u,null,s,1,m??null,C,!1,O,W),s[wo]=u.current,ll(s),b)for(s=0;s<b.length;s++)m=b[s],C=m._getVersion,C=C(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,C]:u.mutableSourceEagerHydrationData.push(m,C);return new Zh(u)},Jo.render=function(s,u,m){if(!qh(u))throw Error(n(200));return Jh(null,s,u,!1,m)},Jo.unmountComponentAtNode=function(s){if(!qh(s))throw Error(n(40));return s._reactRootContainer?(Mu(function(){Jh(null,null,s,!1,function(){s._reactRootContainer=null,s[wo]=null})}),!0):!1},Jo.unstable_batchedUpdates=ag,Jo.unstable_renderSubtreeIntoContainer=function(s,u,m,b){if(!qh(m))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Jh(s,u,m,!1,b)},Jo.version="18.2.0-next-9e3b772b8-20220608",Jo}function T6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T6)}catch(e){console.error(e)}}T6();D6.exports=KH();var G2=D6.exports;const J2=qt(G2);var Rv,I6=G2;Rv=rs.createRoot=I6.createRoot;rs.hydrateRoot=I6.hydrateRoot;const QH=e=>{const{children:t,className:n,clickSpaceDestroy:r,destroy:a}=e,o=()=>{r&&a()},i=l=>{(l.key==="Escape"||(l.ctrlKey||l.metaKey)&&l.key.toLowerCase()==="w")&&a()};return v.jsx("div",{className:`dialog-wrapper ${n}`,onClick:o,onKeyDown:l=>i(l),children:v.jsx("div",{className:"dialog-container",onClick:l=>l.stopPropagation(),children:t})})};function Db(e,t,n){const r=document.createElement("div");document.body.append(r),setTimeout(()=>{var c;(c=r.firstElementChild)==null||c.classList.add("showup")},0);const a={destroy:()=>{var c,f;(c=r.firstElementChild)==null||c.classList.remove("showup"),(f=r.firstElementChild)==null||f.classList.add("showoff"),setTimeout(()=>{r.detach(),l.unmount(),document.body.find(".domtoimage-thino")&&document.body.findAll(".domtoimage-thino").forEach(g=>{g.detach()})},cA)}},o={...n,destroy:a.destroy};let i=v.jsx(QH,{destroy:a.destroy,clickSpaceDestroy:!0,...e,children:v.jsx(t,{...o})});i=v.jsx(is,{store:Le,context:Lt,children:i});const l=rs.createRoot(r);return l.render(i),a}class XH extends x.Modal{constructor(n,r,a){super(n);Se(this,"plugin");this.version=a,this.plugin=r}onOpen(){super.onOpen(),this.titleEl.setText(E("Submit issue")),new x.Setting(this.contentEl).setName(E("Current version")+": "+this.version),new x.Setting(this.contentEl).setName(E("Bug report")).setDesc(E("Click the button to copy debug info and open the issue page")).addButton(n=>{n.setButtonText(E("Copy and go")).onClick(async()=>{await sC(this.plugin),new x.Notice(E("Debug info copied")),setTimeout(()=>{window.open("https://github.com/Quorafind/Obsidian-Thino/issues/new/choose","_blank"),this.close()},100)})}),new x.Setting(this.contentEl).setName(E("Feature request")).setDesc(E("Submit your feature request to the issue page")).addButton(n=>{n.setButtonText(E("Go")).onClick(async()=>{window.open("https://github.com/Quorafind/Obsidian-Thino/issues/new/choose","_blank"),this.close()})})}}function E6(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=E6(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ar(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=E6(e))&&(r&&(r+=" "),r+=t);return r}const eU=e=>{const t={};return e.forEach(n=>{const r=n.createdAt.split(" ")[0];t[r]?t[r]++:t[r]=1}),Object.keys(t).sort((n,r)=>t[r]-t[n])[0]},tU=e=>{const t={};return e.forEach(n=>{const r=n.createdAt.slice(11,13);t[r]?t[r]++:t[r]=1}),Object.keys(t).sort((n,r)=>t[r]-t[n])[0]};function vx(e,t,n){const r=P.useRef(),a=P.useRef();P.useEffect(()=>{const i=t-e,l=c=>{a.current||(a.current=c);const f=c-a.current;if(f<1e3){const h=f/1e3;n(e+i*h),r.current=requestAnimationFrame(l)}else n(t)};return r.current=requestAnimationFrame(l),()=>cancelAnimationFrame(r.current)},[t,n,e])}const K2=({statusType:e})=>{const{memoState:{memos:t,tags:n},locationState:{pathname:r},dailyNotesState:{settings:a,app:o}}=P.useContext(Lt),[i,l]=P.useState(0),[c,f]=P.useState(0),[h,g]=P.useState(0),[y,w]=P.useState(null),[S,D]=P.useState(!1),I=ne.useRef(null),[M,N]=P.useState(0),[B,k]=P.useState(0),[R,L]=P.useState(0),[_,V]=P.useState(""),[U,Z]=P.useState(""),[Q,G]=P.useState(!1),[re,de]=P.useState(null);P.useEffect(()=>{if(e==="banner")return;const se=t.filter(ue=>!ue.deletedAt&&ue.rowStatus!=="ARCHIVED");L(se.filter(ue=>{var X;return(X=ue.thinoType)==null?void 0:X.startsWith("TASK")}).length),V(eU(t)),Z(tU(t))},[t]),P.useLayoutEffect(()=>{if(!o)return;const{tags:se,memos:ue,days:X}=nU(o);g(se),l(ue),f(X)},[o]),P.useEffect(()=>{!a||!o||(D(i>9999||h>999||c>999),rU({tags:h,memos:i,days:c},o))},[i,h,c]),P.useEffect(()=>{we.initialized&&t&&r==="/"&&(g(n.length),l(t.filter(se=>!(se.deletedAt!==""&&se.deletedAt)).length),w(t.length>0?t[t.length-1]:null))},[n,t,r]),P.useEffect(()=>{if(!we.initialized)return;if(!y){f(0);return}if(!I.current||!(y!=null&&y.createdAt))return;x.requireApiVersion("1.4.4")&&x.setTooltip(I.current,E("Started from")+" "+ut.getDateTimeString((y==null?void 0:y.createdAt)??""));const se=x.moment().diff(x.moment(y.createdAt,"YYYY/MM/DD HH:mm:ss"),"days")+1;f(t?se:0)},[y]);const fe=(se,ue)=>{if(Q&&ue===re){at.setMemoFilter(""),G(!1);return}const X=on.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([se]));on.pushQuery(X),at.setMemoFilter(X.id),G(!0),de(ue)},$=()=>{fe({type:"LIST",value:{operator:"IS_NOT",value:"LIST"},relation:"AND"},"LIST")},he=()=>{fe({type:"TYPE",value:{operator:"IS_NOT",value:"NOT_TAGGED"},relation:"AND"},"TYPE")};return vx(M,i,N),vx(B,c,k),v.jsx("div",{className:ar("status-text-container",S?"text-overflow":"",e),children:e==="banner"?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"status-text memos-text",children:[v.jsx("span",{className:"amount-text",children:Math.round(M)}),v.jsx("span",{className:"type-text",children:"THINO"})]}),v.jsxs("div",{className:"status-text tags-text",children:[v.jsx("span",{className:"amount-text",children:h}),v.jsx("span",{className:"type-text",children:E("TAG")})]}),v.jsxs("div",{ref:I,className:"status-text duration-text",onClick:()=>{dt.setShowSiderbarInMobileView(!1),at.setPathname("/daily")},children:[v.jsx("span",{className:"amount-text",children:Math.round(B)??0}),v.jsx("span",{className:"type-text",children:E("DAY")})]})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"status-sidebar-header title-text",children:v.jsx("span",{className:"normal-text",children:E("Thino status")})}),v.jsxs("div",{className:"status-sidebar-wrapper",children:[v.jsxs("div",{className:"status-text memos-text",children:[v.jsx("span",{className:"type-text",children:E("Thino amount")}),v.jsx("span",{className:"amount-text",children:Math.round(M)})]}),v.jsxs("div",{className:"status-text memos-text",onClick:$,children:[v.jsx("span",{className:"type-text",children:E("Task amount")}),v.jsx("span",{className:"amount-text",children:Math.round(R)??0})]}),v.jsxs("div",{className:"status-text tags-text",onClick:he,children:[v.jsx("span",{className:"type-text",children:E("Used tags")}),v.jsx("span",{className:"amount-text",children:h})]}),v.jsxs("div",{ref:I,className:"status-text duration-text",onClick:()=>{dt.setShowSiderbarInMobileView(!1),at.setPathname("/daily")},children:[v.jsx("span",{className:"type-text",children:E("Used days")}),v.jsx("span",{className:"amount-text",children:Math.round(B)??0})]}),v.jsxs("div",{className:"status-text most-active-day-text",onClick:()=>{const se=x.moment(_,"YYYY/MM/DD").startOf("day").valueOf(),ue=x.moment(_,"YYYY/MM/DD").endOf("day").valueOf();at.setFromAndToQuery(se,ue)},children:[v.jsx("span",{className:"type-text",children:E("Most active day")}),v.jsx("span",{className:"amount-text",children:_})]}),v.jsxs("div",{className:"status-text most-active-hour-text",children:[v.jsx("span",{className:"type-text",children:E("Most active hour")}),v.jsx("span",{className:"amount-text",children:U})]})]})]})})};function C6(e){return`userBannerCache:${e}`}function nU(e){try{const t=C6(e==null?void 0:e.appId),n=la.get([t])[t];return n?JSON.parse(n):{tags:0,memos:0,days:0}}catch(t){return console.error(t),{tags:0,memos:0,days:0}}}function rU({tags:e,memos:t,days:n},r){try{const a={tags:e,memos:t,days:n},o=C6(r==null?void 0:r.appId);la.set({[o]:JSON.stringify(a)})}catch(a){console.error(a)}}function Gl(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function x6(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function aU(e,t){const n=Gl(e);return isNaN(t)?x6(e,NaN):(t&&n.setDate(n.getDate()+t),n)}let oU={};function M6(){return oU}function yx(e,t){var l,c,f,h;const n=M6(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,a=Gl(e),o=a.getDay(),i=(o<r?7:0)+o-r;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function iU(e){const t=Gl(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function wx(e){const t=Gl(e);return t.setDate(1),t.setHours(0,0,0,0),t}function sU(e){const t=Gl(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function bx(e){const t=Gl(e),n=x6(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function lU(e,t){var l,c,f,h;const n=M6(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,a=Gl(e),o=a.getDay(),i=(o<r?-7:0)+6-(o-r);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function uU(e,t){const n=+Gl(e),[r,a]=[+Gl(t.start),+Gl(t.end)].sort((o,i)=>o-i);return n>=r&&n<=a}function np(e,t){return aU(e,-t)}const cU=[{text:E("AND"),value:"AND"},{text:E("OR"),value:"OR"}],jl={TAG:{value:"TAG",text:E("TAG"),operators:[{text:E("INCLUDE"),value:"CONTAIN"},{text:E("EXCLUDE"),value:"NOT_CONTAIN"}]},TYPE:{value:"TYPE",text:E("TYPE"),operators:[{value:"IS",text:E("IS")},{value:"IS_NOT",text:E("ISNOT")}],values:[{value:"CONNECTED",text:E("LINKED")},{value:"NOT_TAGGED",text:E("NO TAGS")},{value:"LINKED",text:E("HAS LINKS")},{value:"IMAGED",text:E("HAS IMAGES")}]},TEXT:{value:"TEXT",text:E("TEXT"),operators:[{value:"CONTAIN",text:E("INCLUDE")},{value:"NOT_CONTAIN",text:E("EXCLUDE")}]},DATE:{value:"DATE",text:E("DATE"),operators:[{value:"NOT_CONTAIN",text:E("BEFORE")},{value:"CONTAIN",text:E("AFTER")}]},LIST:{value:"LIST",text:E("LIST"),operators:[{value:"IS",text:E("IS")},{value:"IS_NOT",text:E("ISNOT")}],values:[{value:"TODO",text:E("TODO")},{value:"DONE",text:E("DONE")},{value:"LIST",text:E("JOURNAL")},{value:"OTHER",text:E("OTHER")}]},SOURCE:{value:"SOURCE",text:E("SOURCE"),operators:[{value:"IS",text:E("IS")},{value:"IS_NOT",text:E("ISNOT")}],values:[{value:"DAILY",text:E("DAILY")},{value:"MULTI",text:E("MULTI")},{value:"FILE",text:E("FILE")},{value:"CANVAS",text:E("CANVAS")}]},PATH:{value:"PATH",text:E("PATH"),operators:[{value:"CONTAIN",text:E("INCLUDE")},{value:"NOT_CONTAIN",text:E("EXCLUDE")}]},METADATA:{value:"METADATA",text:E("METADATA"),operators:[{value:"CONTAIN",text:E("INCLUDE")},{value:"NOT_CONTAIN",text:E("EXCLUDE")}]},TIME_RANGE:{value:"TIME_RANGE",text:E("TIME RANGE"),operators:[{value:"WITHIN",text:E("WITHIN")},{value:"BEFORE",text:E("BEFORE")}],values:[{value:"7d",text:E("7 days")},{value:"14d",text:E("14 days")},{value:"30d",text:E("30 days")},{value:"90d",text:E("3 months")},{value:"180d",text:E("6 months")},{value:"365d",text:E("1 year")},{value:"thisWeek",text:E("This week")},{value:"thisMonth",text:E("This month")},{value:"thisYear",text:E("This year")},{value:"lastWeek",text:E("Last week")},{value:"lastMonth",text:E("Last month")},{value:"lastYear",text:E("Last year")}]}},TT=jl.TYPE.values,dU=e=>{for(const t of TT)if(t.value===e)return t.text;return""},Sx=()=>({type:"TAG",value:{operator:"CONTAIN",value:""},relation:"AND"}),Vp=(e,t)=>{let n=!0;for(const r of t){const{relation:a}=r,o=fU(e,r);a==="OR"?n=n||o:n=n&&o}return n},fU=(e,t)=>{var i,l;const{type:n,value:{operator:r,value:a}}=t;if(a==="")return!0;let o=!0;if(n==="TAG"){let c=!0;const f=new Set;for(const h of Array.from(e.content.match($r)||[])){const y=h.replace($r,"$1").trim().split("/");let w="";for(const S of y)w+=S,f.add(w),w+="/"}for(const h of Array.from(e.content.match(ua)||[])){const y=h.replace(ua,"$1").trim().split("/");let w="";for(const S of y)w+=S,f.add(w),w+="/"}f.has(a)||(c=!1),r==="NOT_CONTAIN"&&(c=!c),o=c}else if(n==="TYPE"){let c=!1;(a==="NOT_TAGGED"&&e.content.match($r)===null&&e.content.match(Wa)===null||a==="LINKED"&&e.content.match(Af)!==null||a==="IMAGED"&&e.content.match(Ff)!==null||a==="CONNECTED"&&e.content.match(ad)!==null)&&(c=!0),r==="IS_NOT"&&(c=!c),o=c}else if(n==="TEXT"){let c=!1;x.prepareSimpleSearch(a.toLowerCase())(e.content.toLowerCase())&&(c=!0),r==="NOT_CONTAIN"&&(c=!c),o=c}else if(n==="LIST"){let f=(e.thinoType==="JOURNAL"?"LIST":e.thinoType==="TASK-TODO"?"TODO":e.thinoType==="TASK-DONE"?"DONE":"OTHER").contains(a);r==="IS_NOT"&&(f=!f),o=f}else if(n==="PATH"){let c=e.path.toLowerCase().includes(a.toLowerCase());r==="NOT_CONTAIN"&&(c=!c),o=c}else if(n==="METADATA"){let c=!1;const f=(i=e==null?void 0:e.fileInfo)==null?void 0:i.frontmatter;a.name?f&&Object.keys(f).length>0&&a.name&&(f[a.name]?c=f[a.name]&&((l=f[a.name])==null?void 0:l.toString().contains(a.value)):c=!1):c=!0,r==="NOT_CONTAIN"&&(c=!c),o=c}else if(n==="SOURCE"){let c=e.sourceType===a;r==="IS_NOT"&&(c=!c),o=c}else if(n==="TIME_RANGE"){let c=!1;if(["7d","14d","30d","90d","180d","365d"].includes(a)){const f=new Date(e.createdAt).valueOf(),h=Date.now(),g=t.value.value.slice(0,-1),y=parseInt(g)*(24*60*60*1e3);r==="WITHIN"?c=h-f<=y:r==="BEFORE"&&(c=h-f>y)}else{const f=new Date(e.createdAt),h=new Date,{value:g,operator:y}=t.value;let w;switch(g){case"thisWeek":w={start:yx(h),end:h};break;case"thisMonth":w={start:wx(h),end:h};break;case"thisYear":w={start:bx(h),end:h};break;case"lastWeek":w={start:yx(np(h,7)),end:lU(np(h,7))};break;case"lastMonth":w={start:wx(np(h,30)),end:iU(np(h,30))};break;case"lastYear":w={start:bx(np(h,365)),end:sU(np(h,365))};break}w&&(c=uU(f,w)),y==="BEFORE"&&(c=!c)}o=c}else if(n==="DATE"){const c=x.moment(a,"YYYY-MM-DD").isValid();let f,h;if(c)f=x.moment(a,"YYYY-MM-DD"),h=f.isBefore(x.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),"day");else{const y=(app.plugins.enabledPlugins.has("nldates-obsidian")&&app.plugins.getPlugin("nldates-obsidian")).parseDate(a);y.date!==null&&(h=y.moment.isBefore(x.moment(e.createdAt),"day"))}r==="NOT_CONTAIN"&&(h=!h),o=h}return o=e.linkId===""?o:!1,o};function Xl(e){const[t,n]=P.useState(()=>!!e),r=P.useCallback(a=>{n(typeof a=="boolean"?a:o=>!o)},[]);return[t,r]}const _v=()=>{const{dailyNotesState:{app:e,view:t},locationState:{query:{type:n}}}=P.useContext(Lt),r=ne.useRef(null),a=ne.useRef(null),[o,i]=Xl(!1);P.useEffect(()=>{!r||!t||!e||(t.registerEvent(e.workspace.on("blur-on-memos",()=>{var g;(g=r.current)==null||g.blur()})),t.registerEvent(e.workspace.on("focus-on-searchBar",()=>{var g;(g=r.current)==null||g.focus()})))},[r,e,t]),P.useEffect(()=>{a&&x.setIcon(a.current,"search")},[a]);const l=g=>{const{type:y}=at.getState().query;g===y&&(g=""),at.setMemoTypeQuery(g)},c=g=>{const y=g.currentTarget.value;if(!y.contains(" -time: ")){at.setTextQuery(y);return}const w=y.split(" -time: ")[1],S=w.length>10?w.match(/\d{4}-\d{2}-\d{2}/g):null;if(S==null){at.setTextQuery(y.split(" -time: ")[0]);return}if(S.length===1){const D=x.moment(S[0]);at.setTimeQuery({from:D.startOf("day").valueOf(),to:D.endOf("day").valueOf()})}else if(S.length===2){const D=x.moment(S[0]),I=x.moment(S[1]);at.setTimeQuery({from:D.startOf("day").valueOf(),to:I.endOf("day").valueOf()})}at.setTextQuery(y.split(" -time: ")[0])},f=()=>{i(!0)},h=()=>{i(!1)};return v.jsxs("div",{className:"search-bar-container",children:[v.jsxs("div",{className:"search-bar-inputer",children:[v.jsx("span",{ref:a,className:"btn icon-img"}),v.jsx("input",{ref:r,className:"text-input",type:"text",onMouseOver:f,onMouseOut:h,placeholder:o?E("Type here"):"",onChange:c})]}),v.jsx("div",{className:"quickly-action-wrapper",children:v.jsxs("div",{className:"quickly-action-container",children:[v.jsx("span",{className:"title-text",children:E("Quick filter")}),v.jsxs("div",{className:"section-container types-container",children:[v.jsxs("span",{className:"section-text",children:[E("TYPE"),":"]}),v.jsx("div",{className:"values-container",children:TT.map((g,y)=>v.jsxs("div",{children:[v.jsx("span",{className:`type-item ${n===g.value?"selected":""}`,onClick:()=>{l(g.value)},children:g.text}),y+1<TT.length?v.jsx("span",{className:"split-text",children:"/"}):null]},g.value))})]})]})})]})},hU=e=>{const{children:t,when:n}=e;return n?v.jsx(v.Fragment,{children:t}):null},ts=hU;function fn(){const e=document.createDocumentFragment();e.createEl("div",{cls:"thino-info"}).createEl("div",{text:E("This is a pro feature, please upgrade to pro version to use it.")});const r=e.createEl("div",{cls:"thino-link"}).createEl("div",{text:E("You can get pro version from: ")}),a=localStorage.getItem("language");let o="https://pkmer.cn/products/UserProfile/";a&&a==="zh"?o="https://pkmer.cn/products/thino/":o="https://thino.pkmer.net/en/",r.createEl("a",{text:"PKMer",attr:{href:o}}),new x.Notice(e,5e3)}const{exec:pU,execSync:mke}=x.Platform.isDesktop&&require("child_process"),{createHash:mU}=x.Platform.isDesktop&&require("crypto"),gU={native:"%windir%\\System32",mixed:"%windir%\\sysnative\\cmd.exe /c %windir%\\System32"},vU=x.Platform.isDesktop&&{darwin:"ioreg -rd1 -c IOPlatformExpertDevice",win32:`${gU[yU()]}\\REG.exe QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid`,linux:"( cat /var/lib/dbus/machine-id /etc/machine-id 2> /dev/null || hostname ) | head -n 1 || :",freebsd:"kenv -q smbios.system.uuid || sysctl -n kern.hostuuid"};function yU(){return process.platform!=="win32"?"":process.arch==="ia32"&&Object.hasOwnProperty.call(process.env,"PROCESSOR_ARCHITEW6432")?"mixed":"native"}function wU(e){return mU("sha256").update(e).digest("hex")}function bU(e){switch(process.platform){case"darwin":return e.split("IOPlatformUUID")[1].split(`
`)[0].replace(/\=|\s+|\"/gi,"").toLowerCase();case"win32":return e.toString().split("REG_SZ")[1].replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"linux":return e.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"freebsd":return e.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();default:throw new Error(`Unsupported platform: ${process.platform}`)}}function cr(e=!1){return new Promise((t,n)=>{pU(vU[process.platform],{},(r,a)=>{if(r)return n(new Error(`Error while obtaining machine id: ${r.stack}`));const o=bU(a.toString());return t(e?o:wU(o))})})}const Dx={list:"align-left",waterfall:"layout-grid",calendar:"calendar",minimal:"list",table:"table",chat:"message-square",moments:"chrome"},SU=e=>{const{dailyNotesState:{app:t,view:n,verifyState:r,settings:a},globalState:{manifest:o,isMobileView:i}}=P.useContext(Lt),l=P.useRef(null),c=P.useRef(null),[f,h]=P.useState((window.app||t).loadLocalStorage("thinoListView")),[g,y]=P.useState(null);P.useEffect(()=>{if(!o||!t)return;const S=t==null?void 0:t.plugins.getPlugin(o.id);y(S),h(S==null?void 0:S.settings.MemoListView),dt.setMemoListView(S==null?void 0:S.settings.MemoListView)},[o,t]),P.useEffect(()=>{if(!t||!n||!g||!g.settings)return;const S=()=>{var I,M;if(n.leaf.height===0)return;const D=(I=g==null?void 0:g.settings)==null?void 0:I.MemoListView;(M=g==null?void 0:g.settings)!=null&&M.SupportSelectOtherView||D==="chat"||D==="moments"||(n.leaf.width>950?(h(D),dt.setMemoListView(D)):n.leaf.width<=950&&(dt.setMemoListView("list"),h("list")))};S(),c.current||(c.current=t.workspace.on("resize",S),n.registerEvent(c.current))},[t,n,g]),P.useEffect(()=>{l&&(x.setIcon(l.current,Dx[f||"list"]),dt.setMemoListView(f),x.requireApiVersion("1.4.4")&&x.setTooltip(l.current,E("Switch view")))},[f]);const w=async S=>{var k;const D=!x.Platform.isDesktop&&await((k=window.Capacitor)==null?void 0:k.Plugins.Device.getId()),I=x.Platform.isDesktop?await cr():D.identifier||D.uuid;if(!r||(r==null?void 0:r.appId)!==I){fn();return}const M=async R=>{dt.setMemoListView(R),g&&(g.settings.MemoListView=R,await g.saveSettings()),h(R)},N=[{view:"list",title:E("List")},{view:"chat",title:E("Chat")},{view:"moments",title:E("Moments")}];(!i||a!=null&&a.SupportSelectOtherView)&&N.push({view:"waterfall",title:E("Waterfall")},{view:"calendar",title:E("Calendar")},{view:"table",title:E("Table")});const B=new x.Menu;N.forEach(({view:R,title:L})=>{B.addItem(_=>{_.setChecked(f===R).setIcon(Dx[R]).setTitle(L).onClick(()=>{f!==R&&M(R)})})}),B.showAtMouseEvent(S.nativeEvent)};return v.jsx("div",{className:`memos-view-switcher-wrapper ${e.className?e.className:""} pro`,ref:l,onClick:w})},DU=()=>{const e=P.useRef(null);return P.useEffect(()=>{e&&(x.setIcon(e.current,"calendar-check"),x.setTooltip&&x.setTooltip(e.current,E("Daily Memos")))},[e]),v.jsx("div",{className:"memos-review-entry-wrapper",ref:e,onClick:()=>{at.setPathname("/daily")}})},OS=()=>({type:"initialText",value:"",timestamp:Date.now(),selectionStart:0,selectionEnd:0}),Tx={initialValue:"",interval:300};class TU{constructor(t,n=Tx){this.listeners=[],this.runUndo=()=>{const r=this.actions[this.currentIndex].selectionStart;this.currentIndex>0&&this.currentIndex--,this.element.value=this.actions[this.currentIndex].value,this.element.setSelectionRange(r,r),this.dispatchChange()},this.runRedo=()=>{this.currentIndex<this.actions.length-1&&this.currentIndex++;const r=this.actions[this.currentIndex].selectionEnd;this.element.value=this.actions[this.currentIndex].value,this.element.setSelectionRange(r,r),this.dispatchChange()},this.getActions=()=>this.actions,this.setState=(r,a)=>{this.actions=[...r],this.currentIndex=a<this.actions.length?a:this.actions.length-1,this.dispatchChange()},this.resetState=()=>{this.actions=[OS()],this.currentIndex=0,this.dispatchChange()},this.destroy=()=>{this.rmEventListeners()},this.subscribe=r=>{this.listeners.push(r)},this.handleElementKeydown=r=>{const a=r;a.key==="z"&&!a.shiftKey&&(a.metaKey||a.ctrlKey)?(r.preventDefault(),this.runUndo()):(a.key==="z"&&a.shiftKey&&(a.metaKey||a.ctrlKey)||a.key==="y"&&(a.metaKey||a.ctrlKey))&&(r.preventDefault(),this.runRedo())},this.handleElementInput=r=>{const a=r,o=this.actions[this.currentIndex];this.pushNewAction({type:a.inputType,value:this.element.value,timestamp:Date.now(),selectionStart:this.element.selectionEnd-(this.element.value.length-o.value.length),selectionEnd:this.element.selectionEnd})},this.addEventListeners=()=>{this.element.addEventListener("keydown",this.handleElementKeydown),this.element.addEventListener("input",this.handleElementInput)},this.rmEventListeners=()=>{this.element.removeEventListener("keydown",this.handleElementKeydown),this.element.removeEventListener("input",this.handleElementInput)},this.pushNewAction=r=>{const a=this.actions[this.currentIndex];a&&a.type===r.type&&r.timestamp-a.timestamp<this.config.interval?this.actions[this.currentIndex]=Object.assign(Object.assign({},a),{value:r.value,selectionEnd:r.selectionEnd,timestamp:r.timestamp}):(this.config.maxSize&&this.currentIndex>=this.config.maxSize?(this.actions.shift(),this.actions[0]=OS()):this.currentIndex++,this.actions[this.currentIndex]=r,this.actions=this.actions.slice(0,this.currentIndex+1)),this.dispatchChange()},this.dispatchChange=()=>{for(const r of this.listeners)r([...this.actions],this.currentIndex)},this.element=t,this.config=Object.assign(Object.assign({},Tx),n),this.config.initialActions&&this.config.initialActions.length>0?(this.actions=this.config.initialActions,this.config.initialIndex!==void 0&&this.config.initialIndex<this.actions.length?this.currentIndex=this.config.initialIndex:this.currentIndex=this.actions.length-1):(this.actions=[OS()],this.currentIndex=0,this.config.initialValue!==""&&(this.actions.push({type:"insertText",value:this.config.initialValue,timestamp:Date.now(),selectionStart:0,selectionEnd:this.config.initialValue.length}),this.currentIndex++)),this.element.value=this.actions[this.currentIndex].value,this.addEventListeners()}}function IU(){const[,e]=P.useState(!1);return P.useCallback(()=>{e(n=>!n)},[])}var k6={exports:{}};(function(e){(function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n=typeof window<"u",r=n&&window.mozInnerScreenX!=null;function a(o,i,l){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var c=l&&l.debug||!1;if(c){var f=document.querySelector("#input-textarea-caret-position-mirror-div");f&&f.parentNode.removeChild(f)}var h=document.createElement("div");h.id="input-textarea-caret-position-mirror-div",document.body.appendChild(h);var g=h.style,y=window.getComputedStyle?getComputedStyle(o):o.currentStyle;g.whiteSpace="pre-wrap",o.nodeName!=="INPUT"&&(g.wordWrap="break-word"),g.position="absolute",c||(g.visibility="hidden"),t.forEach(function(D){g[D]=y[D]}),r?o.scrollHeight>parseInt(y.height)&&(g.overflowY="scroll"):g.overflow="hidden",h.textContent=o.value.substring(0,i),o.nodeName==="INPUT"&&(h.textContent=h.textContent.replace(/\s/g,"¬†"));var w=document.createElement("span");w.textContent=o.value.substring(i)||".",h.appendChild(w);var S={top:w.offsetTop+parseInt(y.borderTopWidth),left:w.offsetLeft+parseInt(y.borderLeftWidth)};return c?w.style.backgroundColor="#aaa":document.body.removeChild(h),S}e.exports=a})()})(k6);var EU=k6.exports;const CU=qt(EU);var N6=dr.CustomEvent;function xU(){try{var e=new N6("cat",{detail:{foo:"bar"}});return e.type==="cat"&&e.detail.foo==="bar"}catch{}return!1}var MU=xU()?N6:typeof document<"u"&&typeof document.createEvent=="function"?function(t,n){var r=document.createEvent("CustomEvent");return n?r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):r.initCustomEvent(t,!1,!1,void 0),r}:function(t,n){var r=document.createEventObject();return r.type=t,n?(r.bubbles=!!n.bubbles,r.cancelable=!!n.cancelable,r.detail=n.detail):(r.bubbles=!1,r.cancelable=!1,r.detail=void 0),r};const kU=qt(MU);function NU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){NU(e,a,n[a])})}return e}function Bv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ix(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tb(e,t,n){return t&&Ix(e.prototype,t),n&&Ix(e,n),e}function yp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yp=function(n){return typeof n}:yp=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yp(e)}function iw(e){return typeof Symbol=="function"&&yp(Symbol.iterator)==="symbol"?iw=function(n){return yp(n)}:iw=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":yp(n)},iw(e)}function FU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ib(e,t){return t&&(iw(t)==="object"||typeof t=="function")?t:FU(e)}function Sp(e){return Sp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Sp(e)}function IT(e,t){return IT=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},IT(e,t)}function Eb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IT(e,t)}function OU(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function PU(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function jU(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function LU(e){return OU(e)||PU(e)||jU()}var xi={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},RU=function e(){var t=this;Bv(this,e),this.startListen=function(n){n&&n.addEventListener("keydown",t.f)},this.stopListen=function(n){n&&n.removeEventListener("keydown",t.f)},this.add=function(n,r){var a=n;return typeof a!="object"&&(a=[a]),t.listeners[t.index]={keyCode:a,fn:r},t.index++},this.remove=function(n){delete t.listeners[n]},this.removeAll=function(){t.listeners={},t.index=1},this.index=1,this.listeners={},this.f=function(n){if(n){var r=n.keyCode||n.which;Object.values(t.listeners).forEach(function(a){var o=a.keyCode,i=a.fn;o.includes(r)&&(n.stopPropagation(),n.preventDefault(),i(n))})}}},df=new RU,_U=function(e){Eb(t,e);function t(){var n,r;Bv(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=Ib(this,(n=Sp(t)).call.apply(n,[this].concat(o))),r.selectItem=function(){var l=r.props,c=l.item,f=l.onSelectHandler;f(c)},r}return Tb(t,[{key:"shouldComponentUpdate",value:function(r){return this.props.item!==r.item||this.props.selected!==r.selected||this.props.style!==r.style||this.props.className!==r.className}},{key:"render",value:function(){var r=this,a=this.props,o=a.component,i=a.style,l=a.onClickHandler,c=a.item,f=a.selected,h=a.className,g=a.innerRef;return ne.createElement("li",{className:"rta__item  ".concat(f===!0?"rta__item--selected":""," ").concat(h||""),style:i},ne.createElement("div",{className:"rta__entity ".concat(f===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:l,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){r.clicked=!0,r.selectItem()},onTouchEnd:function(w){w.preventDefault(),r.clicked&&l(w)},onTouchMove:function(){r.clicked=!1},onTouchCancel:function(){r.clicked=!1},ref:g},ne.createElement(o,{selected:f,entity:c})))}}]),t}(ne.Component),BU=function(e){Eb(t,e);function t(){var n,r;Bv(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=Ib(this,(n=Sp(t)).call.apply(n,[this].concat(o))),r.state={selectedItem:null},r.cachedIdOfItems=new Map,r.onPressEnter=function(l){typeof l<"u"&&l.preventDefault();var c=r.props.values;r.modifyText(c[r.getPositionInList()])},r.getPositionInList=function(){var l=r.props.values,c=r.state.selectedItem;return c?l.findIndex(function(f){return r.getId(f)===r.getId(c)}):0},r.getId=function(l){if(r.cachedIdOfItems.has(l))return r.cachedIdOfItems.get(l);var c=r.props.getTextToReplace(l),f=function(){if(c){if(c.key)return c.key;if(typeof l=="string"||!l.key)return c.text}if(!l.key)throw new Error("Item ".concat(JSON.stringify(l),' has to have defined "key" property'));return l.key},h=f();return r.cachedIdOfItems.set(l,h),h},r.listeners=[],r.itemsRef={},r.modifyText=function(l){if(l){var c=r.props.onSelect;c(l)}},r.selectItem=function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=r.props.onItemHighlighted;r.state.selectedItem!==l&&r.setState({selectedItem:l},function(){f(l),c&&r.props.dropdownScroll(r.itemsRef[r.getId(l)])})},r.scroll=function(l){l.preventDefault();var c=r.props.values,f=l.keyCode||l.which,h=r.getPositionInList(),g;switch(f){case xi.DOWN:g=h+1;break;case xi.UP:g=h-1;break;default:g=h;break}g=(g%c.length+c.length)%c.length,r.selectItem(c[g],[xi.DOWN,xi.UP].includes(f))},r.isSelected=function(l){var c=r.state.selectedItem;return c?r.getId(c)===r.getId(l):!1},r}return Tb(t,[{key:"componentDidMount",value:function(){this.listeners.push(df.add([xi.DOWN,xi.UP],this.scroll),df.add([xi.ENTER,xi.TAB],this.onPressEnter));var r=this.props.values;r&&r[0]&&this.selectItem(r[0])}},{key:"componentDidUpdate",value:function(r){var a=this,o=r.values,i=this.props.values,l=o.map(function(f){return a.getId(f)}).join(""),c=i.map(function(f){return a.getId(f)}).join("");l!==c&&i&&i[0]&&this.selectItem(i[0])}},{key:"componentWillUnmount",value:function(){for(var r;this.listeners.length;)r=this.listeners.pop(),df.remove(r)}},{key:"render",value:function(){var r=this,a=this.props,o=a.values,i=a.component,l=a.style,c=a.itemClassName,f=a.className,h=a.itemStyle;return ne.createElement("ul",{className:"rta__list ".concat(f||""),style:l},o.map(function(g){return ne.createElement(_U,{key:r.getId(g),innerRef:function(w){r.itemsRef[r.getId(g)]=w},selected:r.isSelected(g),item:g,className:c,style:h,onClickHandler:r.onPressEnter,onSelectHandler:r.selectItem,component:i})}))}}]),t}(ne.Component);function HU(e,t){var n=parseInt(getComputedStyle(t).getPropertyValue("height"),10),r=parseInt(getComputedStyle(e).getPropertyValue("height"),10)-n,a=t.offsetTop,o=e.scrollTop;a<o+r&&o<a||(e.scrollTop=a)}var Ex="next",zc={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},Cx=function(t){return console.error("RTA: dataProvider fails: ".concat(t,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},UU=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],x0=function(t){return LU(t).map(function(n){return UU.includes(n)?"\\".concat(n):n}).join("")},YU=function(e){Eb(t,e);function t(){return Bv(this,t),Ib(this,Sp(t).apply(this,arguments))}return Tb(t,[{key:"componentDidMount",value:function(){var r=this.props.boundariesElement;if(typeof r=="string"){var a=document.querySelector(r);if(!a)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=a}else if(r instanceof HTMLElement)this.containerElem=r;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var r,a,o=this.props.top||0,i=this.props.left||0,l=[],c=[],f=0,h=0,g=this.containerElem.getBoundingClientRect(),y=this.ref.getBoundingClientRect(),w=this.props.textareaRef.getBoundingClientRect(),S=window.getComputedStyle(this.ref),D=parseInt(S.getPropertyValue("margin-top"),10),I=parseInt(S.getPropertyValue("margin-bottom"),10),M=parseInt(S.getPropertyValue("margin-left"),10),N=parseInt(S.getPropertyValue("margin-right"),10),B=D+I+w.top+o+y.height,k=M+N+w.left+i+y.width;k>g.right&&w.left+i>y.width?(h=i-y.width,l.push(zc.X.LEFT),c.push(zc.X.RIGHT)):(h=i,l.push(zc.X.RIGHT),c.push(zc.X.LEFT)),B>g.bottom&&w.top+o>y.height?(f=o-y.height,l.push(zc.Y.TOP),c.push(zc.Y.BOTTOM)):(f=o,l.push(zc.Y.BOTTOM),c.push(zc.Y.TOP)),this.props.renderToBody&&(f+=w.top,h+=w.left),this.ref.style.top="".concat(f,"px"),this.ref.style.left="".concat(h,"px"),(r=this.ref.classList).remove.apply(r,c),(a=this.ref.classList).add.apply(a,l)}},{key:"render",value:function(){var r=this,a=this.props,o=a.style,i=a.className,l=a.innerRef,c=a.children,f=a.renderToBody,h=document.body,g=ne.createElement("div",{ref:function(w){r.ref=w,l(w)},className:"rta__autocomplete ".concat(i||""),style:o},c);return f&&h!==null?J2.createPortal(g,h):g}}]),t}(ne.Component),A6=function(e){Eb(t,e);function t(n){var r;Bv(this,t),r=Ib(this,Sp(t).call(this,n)),r.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},r.escListenerInit=function(){r.escListener||(r.escListener=df.add(xi.ESC,r._closeAutocomplete))},r.escListenerDestroy=function(){r.escListener&&(df.remove(r.escListener),r.escListener=null)},r.getSelectionPosition=function(){return r.textareaRef?{selectionStart:r.textareaRef.selectionStart,selectionEnd:r.textareaRef.selectionEnd}:null},r.getSelectedText=function(){if(!r.textareaRef)return null;var c=r.textareaRef,f=c.selectionStart,h=c.selectionEnd;return f===h?null:r.state.value.substr(f,h-f)},r.setCaretPosition=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;r.textareaRef&&(r.textareaRef.focus(),r.textareaRef.setSelectionRange(c,c))},r.getCaretPosition=function(){if(!r.textareaRef)return 0;var c=r.textareaRef.selectionEnd;return c},r._handleCaretChange=function(c){var f=function(){var y=r.getCaretPosition()-1;r.lastTrigger=r.lastTrigger?y:0};if(c.type==="keydown"){var h=c.keyCode||c.which;switch(h){case xi.UP:case xi.DOWN:r._isAutocompleteOpen()||f();break;case xi.LEFT:case xi.RIGHT:f();break}return}f()},r._onSelect=function(c){var f=r.state,h=f.selectionEnd,g=f.currentTrigger,y=f.value,w=r.props.onItemSelected;if(g){var S=r._getTextToReplace(g);if(!S){r._closeAutocomplete();return}var D=S(c);if(!D){r._closeAutocomplete();return}w&&w({currentTrigger:g,item:c});var I=function(Z,Q,G){switch(Z){case"start":return G;case"next":case"end":return G+Q.length;default:if(!Number.isInteger(Z))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return Z}},M=y.slice(0,h),N=x0(g),B=M.length-M.lastIndexOf(g),k=M.search(new RegExp("(?!".concat(N,")$")))-B,R=D.caretPosition==="next"?"".concat(D.text," "):D.text,L=I(D.caretPosition,R,k),_=M.substring(0,k)+R,V=y.replace(M,_);r.setState({value:V,dataLoading:!1},function(){var U=r.tokenRegExpEnding.exec(R),Z=U?U[0].length:1;r.lastTrigger=L&&L-Z,r.textareaRef.value=V,r.textareaRef.selectionEnd=L,r._changeHandler();var Q=r.textareaRef.scrollTop;r.setCaretPosition(L),window.chrome&&(r.textareaRef.scrollTop=Q)})}},r._getTextToReplace=function(c){var f=r.props.trigger[c];if(!c||!f)return null;var h=f.output;return function(g){if(typeof g=="object"&&(!h||typeof h!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if(h){var y=h(g,c);if(y===void 0||typeof y=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(y),'". Check the implementation for trigger "').concat(c,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(y===null)return null;if(typeof y=="string")return{text:y,caretPosition:Ex};if(!y.text&&typeof y.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(c,`"
`));if(!y.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(c,`"
`));return y}if(typeof g!="string")throw new Error(`Output item should be string
`);return{text:"".concat(c).concat(g).concat(c),caretPosition:Ex}}},r._getCurrentTriggerSettings=function(){var c=r.state.currentTrigger;return c?r.props.trigger[c]:null},r._getValuesFromProvider=function(){var c=r.state,f=c.currentTrigger,h=c.actualToken,g=r._getCurrentTriggerSettings();if(!(!f||!g)){var y=g.dataProvider,w=g.component;if(typeof y!="function")throw new Error("Trigger provider has to be a function!");r.setState({dataLoading:!0});var S=y(h);S instanceof Promise||(S=Promise.resolve(S)),S.then(function(D){if(!Array.isArray(D))throw new Error("Trigger provider has to provide an array!");if(typeof w!="function")throw new Error("Component should be defined!");if(f===r.state.currentTrigger){if(!D.length){r._closeAutocomplete();return}r.setState({dataLoading:!1,data:D,component:w})}}).catch(function(D){return Cx(D.message)})}},r._getSuggestions=function(){var c=r.state,f=c.currentTrigger,h=c.data;return!f||!h||h&&!h.length?null:h},r._createRegExp=function(){var c=r.props.trigger;r.tokenRegExp=new RegExp("(".concat(Object.keys(c).sort(function(f,h){return f<h?1:f>h?-1:0}).map(function(f){return x0(f)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),r.tokenRegExpEnding=new RegExp("(".concat(Object.keys(c).sort(function(f,h){return f<h?1:f>h?-1:0}).map(function(f){return x0(f)}).join("|"),")$"))},r._closeAutocomplete=function(){var c=r.state.currentTrigger;r.escListenerDestroy(),r.setState({data:null,dataLoading:!1,currentTrigger:null},function(){c&&r._onItemHighlightedHandler(null)})},r._cleanUpProps=function(){var c=AU({},r.props),f=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var h in c)f.includes(h)&&delete c[h];return c},r._changeHandler=function(c){var f=r.props,h=f.trigger,g=f.onChange,y=f.minChar,w=f.onCaretPositionChange,S=f.movePopupAsYouType,D=r.state,I=D.top,M=D.left,N=c;N||(N=new kU("change",{bubbles:!0}),r.textareaRef.dispatchEvent(N));var B=N.target||r.textareaRef,k=B.selectionEnd,R=B.value;if(r.lastValueBubbledEvent=R,g&&N&&(N.persist&&N.persist(),g(new Proxy(N,{get:function(X,oe,De){return oe==="target"?B:Reflect.get(X,oe,De)}}))),w){var L=r.getCaretPosition();w(L)}r.setState({value:R});var _=function(){var X=CU(B,k),oe=X.top,De=X.left;r.setState({top:oe-r.textareaRef.scrollTop||0,left:De})},V=function(X){r.lastTrigger=k-X,r._closeAutocomplete(),_()};if(k<=r.lastTrigger){var U=R.slice(0,k),Z=r.tokenRegExp.exec(U);V(Z?Z[0].length:0)}var Q=R.slice(r.lastTrigger,k),G=r.tokenRegExp.exec(Q),re=G&&G[0],de=G&&G[1]||null,fe=de?de.length-1:0,$=r.tokenRegExpEnding.exec(Q);if($?V($[0].length):r._isAutocompleteOpen()||r._closeAutocomplete(),(!re||re.length<=y+fe)&&(r.state.currentTrigger&&!h[r.state.currentTrigger].allowWhitespace||!r.state.currentTrigger)){r._closeAutocomplete();return}if(de&&h[de].afterWhitespace&&!/\s/.test(R[k-re.length-1])&&R[k-re.length-1]!==void 0){r._closeAutocomplete();return}if(r.state.currentTrigger&&h[r.state.currentTrigger].allowWhitespace){if(G=new RegExp("".concat(x0(r.state.currentTrigger),".*$")).exec(R.slice(0,k)),re=G&&G[0],!re){r._closeAutocomplete();return}de=Object.keys(h).find(function(ue){return ue.slice(0,fe+1)===re.slice(0,fe+1)})||null}var he=re.slice(1);if(de){(S||I===null&&M===null||r.state.currentTrigger!==de)&&_(),r.escListenerInit();var se=r._getTextToReplace(de);r.setState({selectionEnd:k,currentTrigger:de,textToReplace:se,actualToken:he},function(){try{r._getValuesFromProvider()}catch(ue){Cx(ue.message)}})}},r._selectHandler=function(c){var f=r.props,h=f.onCaretPositionChange,g=f.onSelect;if(h){var y=r.getCaretPosition();h(y)}g&&(c.persist(),g(c))},r._shouldStayOpen=function(c){var f=c.relatedTarget;return f===null&&(f=document.activeElement),!!(r.dropdownRef&&f instanceof Node&&r.dropdownRef.contains(f))},r._onClick=function(c){var f=r.props.onClick;f&&(c.persist(),f(c)),!r._shouldStayOpen(c)&&r._closeAutocomplete()},r._onBlur=function(c){var f=r.props.onBlur;f&&(c.persist(),f(c)),!r._shouldStayOpen(c)&&r._closeAutocomplete()},r._onScrollHandler=function(){r._closeAutocomplete()},r._onItemHighlightedHandler=function(c){var f=r.props.onItemHighlighted,h=r.state.currentTrigger;if(f)if(typeof f=="function")f({currentTrigger:h,item:c});else throw new Error("`onItemHighlighted` has to be a function")},r._dropdownScroll=function(c){var f=r.props.scrollToItem;if(f){if(f===!0){HU(r.dropdownRef,c);return}if(typeof f!="function"||f.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");f(r.dropdownRef,c)}},r._isAutocompleteOpen=function(){var c=r.state,f=c.dataLoading,h=c.currentTrigger,g=r._getSuggestions();return!!((f||g)&&h)},r._textareaRef=function(c){r.props.innerRef&&r.props.innerRef(c),r.textareaRef=c},r.lastTrigger=0,r.escListener=null;var a=r.props,o=a.loadingComponent,i=a.trigger,l=a.value;if(l&&(r.state.value=l),r._createRegExp(),!o)throw new Error("RTA: loadingComponent is not defined");if(!i)throw new Error("RTA: trigger is not defined");return r}return Tb(t,[{key:"componentDidMount",value:function(){df.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(r){var a=r.trigger,o=r.value,i=this.props,l=i.trigger,c=i.value;Object.keys(l).join("")!==Object.keys(a).join("")&&this._createRegExp(),o!==c&&this.lastValueBubbledEvent!==c&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),df.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var r=this,a=this.props,o=a.loadingComponent,i=a.style,l=a.className,c=a.listStyle,f=a.itemStyle,h=a.boundariesElement,g=a.movePopupAsYouType,y=a.listClassName,w=a.itemClassName,S=a.dropdownClassName,D=a.dropdownStyle,I=a.containerStyle,M=a.containerClassName,N=a.loaderStyle,B=a.loaderClassName,k=a.textAreaComponent,R=a.renderToBody,L=this.state,_=L.left,V=L.top,U=L.dataLoading,Z=L.component,Q=L.value,G=L.textToReplace,re=this._isAutocompleteOpen(),de=this._getSuggestions(),fe={},$;return k.component?($=k.component,fe[k.ref]=this._textareaRef):($=k,fe.ref=this._textareaRef),ne.createElement("div",{className:"rta ".concat(U===!0?"rta--loading":""," ").concat(M||""),style:I},ne.createElement($,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(l||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:Q,style:i},fe)),re&&ne.createElement(YU,{innerRef:function(se){r.dropdownRef=se},top:V,left:_,style:D,className:S,movePopupAsYouType:g,boundariesElement:h,textareaRef:this.textareaRef,renderToBody:R},de&&Z&&G&&ne.createElement(BU,{values:de,component:Z,style:c,className:y,itemClassName:w,itemStyle:f,getTextToReplace:G,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),U&&ne.createElement("div",{className:"rta__loader ".concat(de!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(B||""),style:N},ne.createElement(o,{data:de}))))}}],[{key:"getDerivedStateFromProps",value:function(r){var a=r.value;return a==null?null:{value:a}}}]),t}(ne.Component);A6.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1};const zU=()=>{const{app:e}=ft.getState(),t=e.metadataCache.getTags();return[...Object.keys(t)].map(n=>n.split("#").pop())},VU=e=>{let t=[];const n=ft.getState().settings;if(n&&(n!=null&&n.UseVaultTags))t=zU();else{const{tags:o}=we.getState();t=o}const r=e.toLowerCase(),a=[];return t.forEach(o=>{o&&o.toLowerCase().contains(r)&&a.push({name:o,char:o})}),a},WU=e=>{const{app:t}=ft.getState(),n=t.vault.getAllLoadedFiles(),r=[];let a;return n.forEach(o=>{e==="["?a="":e.contains("[")&&(a=e.slice(1));const i=a.toLowerCase();o instanceof x.TFile&&["md","png","jpg","canvas","jpeg","gif"].contains(o.extension)&&o.path.toLowerCase().contains(i)&&r.push({name:o.basename,char:o.name,file:o})}),r};var PS=P,$U=function(e){return typeof e=="function"},ZU=function(e){var t=PS.useState(e),n=t[0],r=t[1],a=PS.useRef(n),o=PS.useCallback(function(i){a.current=$U(i)?i(a.current):i,r(a.current)},[]);return[n,o,a]},qU=ZU;const xo=qt(qU);function GU(e){return e.containerEl.matches(".memos-list-view")}function jS(){}function JU(e){const n=e.app.workspace.getLeavesOfType("thino_view")[0];return{app:e.app,showSearch:jS,toggleMode:jS,onMarkdownScroll:jS,getMode:()=>"source",getViewType:()=>"thino_view",id:(n==null?void 0:n.id)||ut.randomId(6),scroll:0,editMode:null,get file(){var r;return((r=n==null?void 0:n.view)==null?void 0:r.file)||null},get path(){var r,a;return((a=(r=n==null?void 0:n.view)==null?void 0:r.file)==null?void 0:a.path)||""}}}const KU=(e,t)=>{const{dailyNotesState:{app:n,plugin:r,view:a,dailyNotes:o}}=P.useContext(Lt),[i,l]=P.useState(null),[c,f]=P.useState(!1),[h,g]=P.useState(""),[y,w]=P.useState(null),S=P.useRef(x.debounce((_,V,U)=>{XU(_,V,U)},100)),D=P.useRef();P.useEffect(()=>{var _;if(!y){if(!o&&!(n&&window.app)){const V=(_=n||window.app)==null?void 0:_.vault.getMarkdownFiles();w(V[0]);return}for(const V in o)if(o[V]instanceof x.TFile){w(o[V]);break}}},[o]),P.useEffect(()=>{var G;if(!(r!=null&&r.MarkdownEditor)||!e)return;class _ extends r.MarkdownEditor{updateBottomPadding(){}onUpdate(de,fe){super.onUpdate(de,fe),M&&M(this.get())}}const V=JU(r),U=r.addChild(new _(n,e,V));U&&!t&&a&&dt.setInstance(`${(G=a.leaf)==null?void 0:G.id}`,U),V.editMode=U,U.owner.editor=U.editor;const Z=QU(n,t?"modal":"view");U.set&&U.set(Z||"",!0),n.workspace.trigger("thino-editor-created",e,U.editor);const Q=U.cm;return D.current=Q,f(!0),l(U),()=>{f(!1),i==null||i.destroy(),r.removeChild(U),D.current=null}},[e,r]),P.useEffect(()=>{!i||!n||S.current(h,n,t?"modal":"view")},[h,n]);const I=()=>{i&&i.toggleSource()},M=x.debounce(_=>N(_),500,!0),N=_=>{g(_)};return{instance:i,value:h,set:_=>{try{i&&((i==null?void 0:i.editor).replaceSelection(_),g(_))}catch(V){console.error(V)}},get:()=>i?i.get():"",append:(_,V)=>{if(!i||V&&V!==i.owner.id)return;const Z=(i.get()||"")+_;(i==null?void 0:i.editor).replaceSelection(_),g(Z)},clear:()=>{i&&(i.clear(),g(""))},toggleSource:I}};function F6(e,t){return`thinoEditorContentCache:${e}:${t||"view"}`}function QU(e,t){try{const n=F6(e==null?void 0:e.appId,t);return la.get([n])[n]||""}catch(n){return console.error(n),""}}function XU(e,t,n){try{const r=F6(t==null?void 0:t.appId,n);la.set({[r]:e})}catch(r){console.error(r)}}function eY(e,t){return{line:e.line,ch:e.ch+t}}const xx=({entity:{name:e,char:t,file:n}})=>v.jsx("div",{children:`${t}`}),tY=({data:e})=>v.jsx("div",{children:"Loading"});let Al;const nY=P.forwardRef((e,t)=>{var Re;const{globalState:{useTinyUndoHistoryCache:n,globalEditorShown:r,memoListView:a},dailyNotesState:{settings:o,app:i}}=P.useContext(Lt),{SaveMemoButtonLabel:l,SaveMemoButtonIcon:c}=o,{className:f,inputerType:h,initialContent:g,placeholder:y,showConfirmBtn:w,showCancelBtn:S,onConfirmBtnClick:D,onCancelBtnClick:I,onContentChange:M}=e,N=P.useRef(null),B=P.useRef(null),k=P.useRef(null),R=IU(),{instance:L,value:_,set:V,get:U,append:Z,clear:Q,toggleSource:G}=KU(B.current,e.modal),[,re,de]=xo(0),[fe,$]=xo(!1);P.useEffect(()=>{var Fe,Be;if(o&&o.FocusOnEditor)switch(h){case"minimal":case"memos":(Fe=N.current)==null||Fe.focus();break;case"obsidian":L&&((Be=L.editor)==null||Be.focus())}},[o,L]),P.useEffect(()=>{if(!i)return;const Fe=i.workspace.getLeavesOfType(lo);let Be,Xe;Fe.length>0?(Xe=Fe[0].view.containerEl,Be=Xe.offsetHeight):(Xe=document,Be=window.outerHeight),re(Be)},[i]),P.useEffect(()=>{!N.current||h==="obsidian"||g&&(N.current.value=g,R())},[]),P.useEffect(()=>{var Fe;if(h!=="obsidian")if(n){if(!N.current)return;const{tinyUndoActionsCache:Be,tinyUndoIndexCache:Xe}=la.get(["tinyUndoActionsCache","tinyUndoIndexCache"]);return k.current=new TU(N.current,{interval:5e3,initialActions:Be,initialIndex:Xe}),k.current.subscribe((Ze,st)=>{la.set({tinyUndoActionsCache:Ze,tinyUndoIndexCache:st})}),()=>{var Ze;(Ze=k.current)==null||Ze.destroy()}}else(Fe=k.current)==null||Fe.destroy(),k.current=null,la.remove(["tinyUndoActionsCache","tinyUndoIndexCache"])},[n]),P.useEffect(()=>{N.current&&(N.current.style.height="auto",N.current.style.height=(N.current.scrollHeight??0)+"px")},[(Re=N.current)==null?void 0:Re.value]),P.useImperativeHandle(t,()=>({element:N.current,blur:()=>{var Fe,Be;switch(h){case"minimal":case"memos":(Fe=N.current)==null||Fe.blur();break;case"obsidian":L&&((Be=L.editor)==null||Be.blur())}},focus:Fe=>{var Be,Xe,Ze,st,Ct;switch(h){case"minimal":case"memos":(Be=N.current)==null||Be.focus();break;case"obsidian":if(L){if(Fe&&Fe!==((st=(Ze=(Xe=L==null?void 0:L.owner)==null?void 0:Xe.view)==null?void 0:Ze.leaf)==null?void 0:st.id))return;(Ct=L.editor)==null||Ct.focus()}}},insertTag:Fe=>{var Be,Xe,Ze;switch(h){case"minimal":case"memos":{if(!N.current)return;const st=N.current.value;N.current.value=st.slice(0,N.current.selectionStart)+"# "+st.slice(N.current.selectionStart),M(N.current.value),R();break}case"obsidian":if(Fe&&Fe!==((Ze=(Xe=(Be=L==null?void 0:L.owner)==null?void 0:Be.view)==null?void 0:Xe.leaf)==null?void 0:Ze.id))return;if(L){const st=L.editor,Ct=st.getCursor("from");st.replaceRange("#",Ct),st.setSelection(eY(Ct,1))}break}},insertText:(Fe,Be)=>{switch(h){case"minimal":case"memos":{if(!N.current)return;const Xe=N.current.value;N.current.value=Xe.slice(0,N.current.selectionStart)+Fe+Xe.slice(N.current.selectionStart),M(N.current.value),R()}break;case"obsidian":L&&Z(Fe,Be);break}},setContent:Fe=>{switch(h){case"minimal":case"memos":N.current&&(N.current.value=Fe,M(N.current.value),R());break;case"obsidian":L&&V(Fe);break}},getContent:()=>{switch(h){case"minimal":case"memos":return N.current?N.current.value:"";case"obsidian":return U()}},toggleSource:()=>{switch(h){case"minimal":case"memos":break;case"obsidian":G();break}},clear:()=>{switch(h){case"minimal":case"memos":N.current&&(N.current.value="",M(N.current.value),R());break;case"obsidian":Q();break}}}),[L,h]);const he=Fe=>{if(!N.current)return;const{fileManager:Be}=Le.getState().dailyNotesState.app;if(Fe.currentTrigger==="#"){const Xe=N.current.value;let Ze;Al!=null?Ze=Al.length:Ze=0;let st=N.current.selectionStart;for(let Ct=0;Ct<Xe.length;Ct++)/\s/g.test(Xe[st])||st++;N.current.value=Xe.slice(0,N.current.selectionStart-Ze)+Fe.item.char+Xe.slice(st),M(N.current.value),R()}else if(Fe.currentTrigger==="[["){const Xe=Be.generateMarkdownLink(Fe.item.file,Fe.item.file.path,"",""),Ze=N.current.value;let st;Al!=null?Xe.contains("[[")||Fe.item.file.extension!=="md"?st=Al.length+1:st=Al.length+2:st=2;let Ct=N.current.selectionStart;for(let tn=0;tn<Ze.length;tn++)/\s/g.test(Ze[Ct])||Ct++;N.current.value=Ze.slice(0,N.current.selectionStart-st)+Xe+Ze.slice(Ct),M(N.current.value),R()}},se=P.useCallback(()=>{var Fe;M(((Fe=N.current)==null?void 0:Fe.value)||""),R()},[]),ue=()=>{var Fe;switch(h){case"minimal":case"memos":if(!N.current)return;N.current.value=oe(),D(N.current.value),N.current.value="",R(),(Fe=k.current)==null||Fe.resetState();break;case"obsidian":D(U()),Q(),R();break}},X=P.useCallback(()=>{switch(h){case"minimal":case"memos":N.current&&(N.current.value="",M(N.current.value),R());break;case"obsidian":Q();break}I()},[h,L,N]),oe=()=>la.get(["thinoEditorContentCache"]).thinoEditorContentCache||"",De=()=>{if(N.current)return N.current.value=oe(),N.current.value},je=Fe=>{switch(Fe){case"memos":return v.jsx(A6,{className:`common-editor-inputer scroll ${fe?" editing":""}`,loadingComponent:tY,placeholder:y,movePopupAsYouType:!0,value:De(),innerRef:Be=>{N.current=Be},onFocus:()=>{$(!0)},onBlur:()=>{$(!1)},onInput:se,style:{maxHeight:`${de.current>400?de.current-400:100}px`},dropdownStyle:{minWidth:180,maxHeight:250,overflowY:"auto"},minChar:0,onItemSelected:he,scrollToItem:!0,trigger:{"#":{dataProvider:Be=>(Al=Be,VU(Be).map(({name:Xe,char:Ze})=>({name:Xe,char:Ze}))),component:xx,afterWhitespace:!0,output:Be=>Be.char},"[[":{dataProvider:Be=>(Al=Be,WU(Be).slice(0,10).map(({name:Xe,char:Ze,file:st})=>({name:Xe,char:Ze,file:st}))),component:xx,afterWhitespace:!0,output:Be=>Be.char}}});case"minimal":return v.jsx("textarea",{style:{minHeight:48},className:"common-editor-inputer scroll",rows:1,placeholder:y,ref:N,onInput:se});case"obsidian":return v.jsx("div",{className:"common-editor-inputer common-editor-mod-cm6",onClick:()=>{var Be;(Be=L==null?void 0:L.editor)==null||Be.focus()},ref:B});default:return v.jsx("div",{className:"common-editor-inputer common-editor-mod-cm6",ref:B})}};return v.jsxs("div",{className:"common-editor-wrapper "+f,children:[je(h),v.jsxs("div",{className:"common-tools-wrapper",children:[v.jsx("div",{className:"common-tools-container",children:v.jsx(ts,{when:e.tools!==void 0,children:e.tools})}),v.jsxs("div",{className:"btns-container",children:[v.jsx(ts,{when:S,children:v.jsx("button",{className:"action-btn cancel-btn",onClick:()=>{o&&o.DefaultEditorLocation==="Top"&&!r&&X()},onPointerDown:()=>{(o&&o.DefaultEditorLocation==="Bottom"||r)&&X()},children:at.getState().pathname==="/"&&a==="chat"&&((o==null?void 0:o.chatViewStyle)==="fluent"||(o==null?void 0:o.chatViewStyle)==="inline")?"":E("CANCEL EDIT")})}),v.jsx(ts,{when:w,children:v.jsxs("button",{title:"Ctrl/Cmd + Enter to save thino",className:"action-btn confirm-btn",onClick:()=>{o&&o.DefaultEditorLocation==="Top"&&!r&&ue()},onPointerDown:()=>{(o&&o.DefaultEditorLocation==="Bottom"||r)&&ue()},children:[a==="chat"&&((o==null?void 0:o.chatViewStyle)==="fluent"||(o==null?void 0:o.chatViewStyle)==="inline")?"":l,v.jsx("span",{className:"icon-text",children:null})]})})]})]})]})}),rY=typeof window<"u"?P.useLayoutEffect:P.useEffect;function aY(e,t,n,r){const a=P.useRef(t);rY(()=>{a.current=t},[t]),P.useEffect(()=>{const o=(n==null?void 0:n.current)||window;if(!(o&&o.addEventListener))return;const i=l=>{a.current(l)};return o.addEventListener(e,i,r),()=>{o.removeEventListener(e,i,r)}},[e,n,r])}function Hv(e,t,n="mousedown"){aY(n,r=>{const a=r.target;if(!a||!a.isConnected||a.closest(".suggestion-container")||a.closest(".menu"))return;(Array.isArray(e)?e.every(i=>i.current&&!i.current.contains(a)):e.current&&!e.current.contains(a))&&t(r)})}const O6=e=>{const{year:t,handleYearChange:n}=e,[r,a]=P.useState([]),[o,i]=P.useState(t),l=P.useRef(null),c=P.useRef(null),[f,h]=ne.useState(!1),g=ne.useRef(null);Hv(g,()=>{h(!1)}),P.useEffect(()=>{l.current&&x.setIcon(l.current,"chevron-left"),c.current&&x.setIcon(c.current,"chevron-right")},[l,c,f]),P.useEffect(()=>{w(o)},[t]);const w=S=>{const D=parseInt(S),I=D-D%10,M=[];for(let N=0;N<10;N++)M.push(`${I+N}`);a(M)};return v.jsxs(v.Fragment,{children:[v.jsxs("span",{className:"btn year-btn",onClick:()=>{h(!f)},children:[v.jsx("span",{children:t}),v.jsx("span",{children:E("year")})]}),f&&v.jsxs("div",{ref:g,className:"year-picker-wrapper",children:[v.jsxs("div",{className:"year-picker-header",children:[v.jsxs("div",{className:"year-picker-header-title",children:[o," "+(E("year")||"")]}),v.jsxs("div",{className:"year-picker-header-btns",children:[v.jsx("span",{className:"btn",ref:l,onClick:()=>{const S=parseInt(o)-10;i(S.toString()),w(S.toString())}}),v.jsx("span",{className:"btn",ref:c,onClick:()=>{const S=parseInt(o)+10;i(S.toString()),w(S.toString())}})]})]}),v.jsx("div",{className:"year-picker-body",children:v.jsx("div",{className:"year-picker-body-list",children:r.map(S=>v.jsx("div",{className:`year-picker-body-item ${S===o?"selected":""}`,onClick:()=>{i(S),n(S),h(!1)},children:S},S))})})]})]})},P6=e=>{const{month:t,handleMonthChange:n}=e,[r,a]=P.useState([]),[o,i]=P.useState((parseInt(t)+1).toString()),[l,c]=ne.useState(!1),f=ne.useRef(null);Hv(f,()=>{c(!1)}),P.useEffect(()=>{g()},[t]);const g=()=>{const y=[];for(let w=1;w<=12;w++)y.push(`${w}`);a(y)};return v.jsxs(v.Fragment,{children:[v.jsxs("span",{className:"btn month-btn",onClick:()=>{c(!l)},children:[v.jsxs("span",{children:[E("monthsShort")[parseInt(t)]||parseInt(t)+1," "]}),v.jsx("span",{children:E("month")||""})]}),l&&v.jsxs("div",{ref:f,className:"month-picker-wrapper",children:[v.jsxs("div",{className:"month-picker-header",children:[v.jsxs("div",{className:"month-picker-header-title",children:[o," "+(E("month")||"")]}),v.jsx("div",{className:"month-picker-header-btns"})]}),v.jsx("div",{className:"month-picker-body",children:v.jsx("div",{className:"month-picker-body-list",children:r.map(y=>v.jsx("div",{className:`month-picker-body-item ${y===o?"selected":""}`,onClick:()=>{i(y),n(y),c(!1)},children:y},y))})})]})]})},Cb=e=>{const{className:t,datestamp:n,handleDateStampChange:r}=e,[a,o]=P.useState(Sg(n)),[i,l]=P.useState(n);P.useEffect(()=>{o(Sg(n))},[n]);const c=new Date(a),f=c.getDay(),h=[];for(let S=0;S<f;S++)h.push({date:0,datestamp:c.getTime()-ei*(7-S)});const g=oY(a);for(let S=1;S<=g;S++)h.push({date:S,datestamp:c.getTime()+ei*(S-1)});const y=(S,D)=>{r(D,S.nativeEvent),l(D)},w=S=>{const D=c.getFullYear(),I=c.getMonth()+1;let M=0;I===1&&S===-1?M=new Date(`${D-1}/12/1`).getTime():I===12&&S===1?M=new Date(`${D+1}/1/1`).getTime():M=new Date(`${D}/${I+S}/1`).getTime(),o(Sg(M))};return v.jsxs("div",{className:`date-picker-wrapper ${t}`,children:[v.jsxs("div",{className:"date-picker-header",children:[v.jsx("span",{ref:S=>{S&&x.setIcon(S,"chevron-left")},className:"btn btn-text",onClick:()=>w(-1)}),v.jsxs("span",{className:"normal-text",children:[v.jsx(O6,{year:c.getFullYear().toString(),handleYearChange:S=>{o(Sg(new Date(`${S}/${c.getMonth()+1}/1`).getTime()))}}),v.jsx(P6,{month:c.getMonth().toString(),handleMonthChange:S=>{o(Sg(new Date(`${c.getFullYear()}/${parseInt(S)}/1`).getTime()))}})]}),v.jsx("span",{ref:S=>{S&&x.setIcon(S,"chevron-right")},className:"btn btn-text",onClick:()=>w(1)})]}),v.jsxs("div",{className:"date-picker-day-container",children:[v.jsx("div",{className:"date-picker-day-header",children:E("weekDaysShort").map(S=>v.jsx("span",{className:"day-item",children:S},S))}),v.jsx("div",{className:"date-picker-day-content",children:h.map(S=>S.date===0?v.jsx("span",{className:"day-item null",children:""},S.datestamp):v.jsx("span",{className:`day-item ${S.datestamp===n?"current":""} ${S.datestamp===i?"selected":""}`,onClick:D=>y(D,S.datestamp),children:v.jsx("span",{className:"day-item-text",children:S.date})},S.datestamp))})]})]})};function oY(e){const t=new Date(e),n=new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`);return((n.getMonth()===11?new Date(`${n.getFullYear()+1}/1/1`):new Date(`${n.getFullYear()}/${n.getMonth()+2}/1`)).getTime()-n.getTime())/ei}function Sg(e){const t=new Date(e);return new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`).getTime()}var Mx=function(t){return t.reduce(function(n,r){var a=r[0],o=r[1];return n[a]=o,n},{})},kx=typeof window<"u"&&window.document&&window.document.createElement?P.useLayoutEffect:P.useEffect,ti="top",as="bottom",os="right",ni="left",Q2="auto",Uv=[ti,as,os,ni],Dp="start",tv="end",iY="clippingParents",j6="viewport",Dg="popper",sY="reference",Nx=Uv.reduce(function(e,t){return e.concat([t+"-"+Dp,t+"-"+tv])},[]),X2=[].concat(Uv,[Q2]).reduce(function(e,t){return e.concat([t,t+"-"+Dp,t+"-"+tv])},[]),lY="beforeRead",uY="read",cY="afterRead",dY="beforeMain",fY="main",hY="afterMain",pY="beforeWrite",mY="write",gY="afterWrite",vY=[lY,uY,cY,dY,fY,hY,pY,mY,gY];function eu(e){return e?(e.nodeName||"").toLowerCase():null}function Ni(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function bf(e){var t=Ni(e).Element;return e instanceof t||e instanceof Element}function ns(e){var t=Ni(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function eI(e){if(typeof ShadowRoot>"u")return!1;var t=Ni(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function yY(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},a=t.attributes[n]||{},o=t.elements[n];!ns(o)||!eu(o)||(Object.assign(o.style,r),Object.keys(a).forEach(function(i){var l=a[i];l===!1?o.removeAttribute(i):o.setAttribute(i,l===!0?"":l)}))})}function wY(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],o=t.attributes[r]||{},i=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=i.reduce(function(c,f){return c[f]="",c},{});!ns(a)||!eu(a)||(Object.assign(a.style,l),Object.keys(o).forEach(function(c){a.removeAttribute(c)}))})}}const bY={name:"applyStyles",enabled:!0,phase:"write",fn:yY,effect:wY,requires:["computeStyles"]};function Jl(e){return e.split("-")[0]}var pf=Math.max,Ow=Math.min,Tp=Math.round;function ET(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function L6(){return!/^((?!chrome|android).)*safari/i.test(ET())}function Ip(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),a=1,o=1;t&&ns(e)&&(a=e.offsetWidth>0&&Tp(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Tp(r.height)/e.offsetHeight||1);var i=bf(e)?Ni(e):window,l=i.visualViewport,c=!L6()&&n,f=(r.left+(c&&l?l.offsetLeft:0))/a,h=(r.top+(c&&l?l.offsetTop:0))/o,g=r.width/a,y=r.height/o;return{width:g,height:y,top:h,right:f+g,bottom:h+y,left:f,x:f,y:h}}function tI(e){var t=Ip(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function R6(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&eI(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Vu(e){return Ni(e).getComputedStyle(e)}function SY(e){return["table","td","th"].indexOf(eu(e))>=0}function od(e){return((bf(e)?e.ownerDocument:e.document)||window.document).documentElement}function xb(e){return eu(e)==="html"?e:e.assignedSlot||e.parentNode||(eI(e)?e.host:null)||od(e)}function Ax(e){return!ns(e)||Vu(e).position==="fixed"?null:e.offsetParent}function DY(e){var t=/firefox/i.test(ET()),n=/Trident/i.test(ET());if(n&&ns(e)){var r=Vu(e);if(r.position==="fixed")return null}var a=xb(e);for(eI(a)&&(a=a.host);ns(a)&&["html","body"].indexOf(eu(a))<0;){var o=Vu(a);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return a;a=a.parentNode}return null}function Yv(e){for(var t=Ni(e),n=Ax(e);n&&SY(n)&&Vu(n).position==="static";)n=Ax(n);return n&&(eu(n)==="html"||eu(n)==="body"&&Vu(n).position==="static")?t:n||DY(e)||t}function nI(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Vg(e,t,n){return pf(e,Ow(t,n))}function TY(e,t,n){var r=Vg(e,t,n);return r>n?n:r}function _6(){return{top:0,right:0,bottom:0,left:0}}function B6(e){return Object.assign({},_6(),e)}function H6(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var IY=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,B6(typeof t!="number"?t:H6(t,Uv))};function EY(e){var t,n=e.state,r=e.name,a=e.options,o=n.elements.arrow,i=n.modifiersData.popperOffsets,l=Jl(n.placement),c=nI(l),f=[ni,os].indexOf(l)>=0,h=f?"height":"width";if(!(!o||!i)){var g=IY(a.padding,n),y=tI(o),w=c==="y"?ti:ni,S=c==="y"?as:os,D=n.rects.reference[h]+n.rects.reference[c]-i[c]-n.rects.popper[h],I=i[c]-n.rects.reference[c],M=Yv(o),N=M?c==="y"?M.clientHeight||0:M.clientWidth||0:0,B=D/2-I/2,k=g[w],R=N-y[h]-g[S],L=N/2-y[h]/2+B,_=Vg(k,L,R),V=c;n.modifiersData[r]=(t={},t[V]=_,t.centerOffset=_-L,t)}}function CY(e){var t=e.state,n=e.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||R6(t.elements.popper,a)&&(t.elements.arrow=a))}const U6={name:"arrow",enabled:!0,phase:"main",fn:EY,effect:CY,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ep(e){return e.split("-")[1]}var xY={top:"auto",right:"auto",bottom:"auto",left:"auto"};function MY(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:Tp(n*a)/a||0,y:Tp(r*a)/a||0}}function Fx(e){var t,n=e.popper,r=e.popperRect,a=e.placement,o=e.variation,i=e.offsets,l=e.position,c=e.gpuAcceleration,f=e.adaptive,h=e.roundOffsets,g=e.isFixed,y=i.x,w=y===void 0?0:y,S=i.y,D=S===void 0?0:S,I=typeof h=="function"?h({x:w,y:D}):{x:w,y:D};w=I.x,D=I.y;var M=i.hasOwnProperty("x"),N=i.hasOwnProperty("y"),B=ni,k=ti,R=window;if(f){var L=Yv(n),_="clientHeight",V="clientWidth";if(L===Ni(n)&&(L=od(n),Vu(L).position!=="static"&&l==="absolute"&&(_="scrollHeight",V="scrollWidth")),a===ti||(a===ni||a===os)&&o===tv){k=as;var U=g&&L===R&&R.visualViewport?R.visualViewport.height:L[_];D-=U-r.height,D*=c?1:-1}if(a===ni||(a===ti||a===as)&&o===tv){B=os;var Z=g&&L===R&&R.visualViewport?R.visualViewport.width:L[V];w-=Z-r.width,w*=c?1:-1}}var Q=Object.assign({position:l},f&&xY),G=h===!0?MY({x:w,y:D},Ni(n)):{x:w,y:D};if(w=G.x,D=G.y,c){var re;return Object.assign({},Q,(re={},re[k]=N?"0":"",re[B]=M?"0":"",re.transform=(R.devicePixelRatio||1)<=1?"translate("+w+"px, "+D+"px)":"translate3d("+w+"px, "+D+"px, 0)",re))}return Object.assign({},Q,(t={},t[k]=N?D+"px":"",t[B]=M?w+"px":"",t.transform="",t))}function kY(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,o=n.adaptive,i=o===void 0?!0:o,l=n.roundOffsets,c=l===void 0?!0:l,f={placement:Jl(t.placement),variation:Ep(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Fx(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Fx(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Y6={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:kY,data:{}};var M0={passive:!0};function NY(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,o=a===void 0?!0:a,i=r.resize,l=i===void 0?!0:i,c=Ni(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&f.forEach(function(h){h.addEventListener("scroll",n.update,M0)}),l&&c.addEventListener("resize",n.update,M0),function(){o&&f.forEach(function(h){h.removeEventListener("scroll",n.update,M0)}),l&&c.removeEventListener("resize",n.update,M0)}}const z6={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:NY,data:{}};var AY={left:"right",right:"left",bottom:"top",top:"bottom"};function sw(e){return e.replace(/left|right|bottom|top/g,function(t){return AY[t]})}var FY={start:"end",end:"start"};function Ox(e){return e.replace(/start|end/g,function(t){return FY[t]})}function rI(e){var t=Ni(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function aI(e){return Ip(od(e)).left+rI(e).scrollLeft}function OY(e,t){var n=Ni(e),r=od(e),a=n.visualViewport,o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;var f=L6();(f||!f&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:o,height:i,x:l+aI(e),y:c}}function PY(e){var t,n=od(e),r=rI(e),a=(t=e.ownerDocument)==null?void 0:t.body,o=pf(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),i=pf(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-r.scrollLeft+aI(e),c=-r.scrollTop;return Vu(a||n).direction==="rtl"&&(l+=pf(n.clientWidth,a?a.clientWidth:0)-o),{width:o,height:i,x:l,y:c}}function oI(e){var t=Vu(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function V6(e){return["html","body","#document"].indexOf(eu(e))>=0?e.ownerDocument.body:ns(e)&&oI(e)?e:V6(xb(e))}function Wg(e,t){var n;t===void 0&&(t=[]);var r=V6(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),o=Ni(r),i=a?[o].concat(o.visualViewport||[],oI(r)?r:[]):r,l=t.concat(i);return a?l:l.concat(Wg(xb(i)))}function CT(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function jY(e,t){var n=Ip(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Px(e,t,n){return t===j6?CT(OY(e,n)):bf(t)?jY(t,n):CT(PY(od(e)))}function LY(e){var t=Wg(xb(e)),n=["absolute","fixed"].indexOf(Vu(e).position)>=0,r=n&&ns(e)?Yv(e):e;return bf(r)?t.filter(function(a){return bf(a)&&R6(a,r)&&eu(a)!=="body"}):[]}function RY(e,t,n,r){var a=t==="clippingParents"?LY(e):[].concat(t),o=[].concat(a,[n]),i=o[0],l=o.reduce(function(c,f){var h=Px(e,f,r);return c.top=pf(h.top,c.top),c.right=Ow(h.right,c.right),c.bottom=Ow(h.bottom,c.bottom),c.left=pf(h.left,c.left),c},Px(e,i,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function W6(e){var t=e.reference,n=e.element,r=e.placement,a=r?Jl(r):null,o=r?Ep(r):null,i=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,c;switch(a){case ti:c={x:i,y:t.y-n.height};break;case as:c={x:i,y:t.y+t.height};break;case os:c={x:t.x+t.width,y:l};break;case ni:c={x:t.x-n.width,y:l};break;default:c={x:t.x,y:t.y}}var f=a?nI(a):null;if(f!=null){var h=f==="y"?"height":"width";switch(o){case Dp:c[f]=c[f]-(t[h]/2-n[h]/2);break;case tv:c[f]=c[f]+(t[h]/2-n[h]/2);break}}return c}function nv(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=r===void 0?e.placement:r,o=n.strategy,i=o===void 0?e.strategy:o,l=n.boundary,c=l===void 0?iY:l,f=n.rootBoundary,h=f===void 0?j6:f,g=n.elementContext,y=g===void 0?Dg:g,w=n.altBoundary,S=w===void 0?!1:w,D=n.padding,I=D===void 0?0:D,M=B6(typeof I!="number"?I:H6(I,Uv)),N=y===Dg?sY:Dg,B=e.rects.popper,k=e.elements[S?N:y],R=RY(bf(k)?k:k.contextElement||od(e.elements.popper),c,h,i),L=Ip(e.elements.reference),_=W6({reference:L,element:B,strategy:"absolute",placement:a}),V=CT(Object.assign({},B,_)),U=y===Dg?V:L,Z={top:R.top-U.top+M.top,bottom:U.bottom-R.bottom+M.bottom,left:R.left-U.left+M.left,right:U.right-R.right+M.right},Q=e.modifiersData.offset;if(y===Dg&&Q){var G=Q[a];Object.keys(Z).forEach(function(re){var de=[os,as].indexOf(re)>=0?1:-1,fe=[ti,as].indexOf(re)>=0?"y":"x";Z[re]+=G[fe]*de})}return Z}function _Y(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=n.boundary,o=n.rootBoundary,i=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,f=c===void 0?X2:c,h=Ep(r),g=h?l?Nx:Nx.filter(function(S){return Ep(S)===h}):Uv,y=g.filter(function(S){return f.indexOf(S)>=0});y.length===0&&(y=g);var w=y.reduce(function(S,D){return S[D]=nv(e,{placement:D,boundary:a,rootBoundary:o,padding:i})[Jl(D)],S},{});return Object.keys(w).sort(function(S,D){return w[S]-w[D]})}function BY(e){if(Jl(e)===Q2)return[];var t=sw(e);return[Ox(e),t,Ox(t)]}function HY(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,o=a===void 0?!0:a,i=n.altAxis,l=i===void 0?!0:i,c=n.fallbackPlacements,f=n.padding,h=n.boundary,g=n.rootBoundary,y=n.altBoundary,w=n.flipVariations,S=w===void 0?!0:w,D=n.allowedAutoPlacements,I=t.options.placement,M=Jl(I),N=M===I,B=c||(N||!S?[sw(I)]:BY(I)),k=[I].concat(B).reduce(function(Re,Fe){return Re.concat(Jl(Fe)===Q2?_Y(t,{placement:Fe,boundary:h,rootBoundary:g,padding:f,flipVariations:S,allowedAutoPlacements:D}):Fe)},[]),R=t.rects.reference,L=t.rects.popper,_=new Map,V=!0,U=k[0],Z=0;Z<k.length;Z++){var Q=k[Z],G=Jl(Q),re=Ep(Q)===Dp,de=[ti,as].indexOf(G)>=0,fe=de?"width":"height",$=nv(t,{placement:Q,boundary:h,rootBoundary:g,altBoundary:y,padding:f}),he=de?re?os:ni:re?as:ti;R[fe]>L[fe]&&(he=sw(he));var se=sw(he),ue=[];if(o&&ue.push($[G]<=0),l&&ue.push($[he]<=0,$[se]<=0),ue.every(function(Re){return Re})){U=Q,V=!1;break}_.set(Q,ue)}if(V)for(var X=S?3:1,oe=function(Fe){var Be=k.find(function(Xe){var Ze=_.get(Xe);if(Ze)return Ze.slice(0,Fe).every(function(st){return st})});if(Be)return U=Be,"break"},De=X;De>0;De--){var je=oe(De);if(je==="break")break}t.placement!==U&&(t.modifiersData[r]._skip=!0,t.placement=U,t.reset=!0)}}const $6={name:"flip",enabled:!0,phase:"main",fn:HY,requiresIfExists:["offset"],data:{_skip:!1}};function jx(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Lx(e){return[ti,os,as,ni].some(function(t){return e[t]>=0})}function UY(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,o=t.modifiersData.preventOverflow,i=nv(t,{elementContext:"reference"}),l=nv(t,{altBoundary:!0}),c=jx(i,r),f=jx(l,a,o),h=Lx(c),g=Lx(f);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:f,isReferenceHidden:h,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":g})}const Z6={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:UY};function YY(e,t,n){var r=Jl(e),a=[ni,ti].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,i=o[0],l=o[1];return i=i||0,l=(l||0)*a,[ni,os].indexOf(r)>=0?{x:l,y:i}:{x:i,y:l}}function zY(e){var t=e.state,n=e.options,r=e.name,a=n.offset,o=a===void 0?[0,0]:a,i=X2.reduce(function(h,g){return h[g]=YY(g,t.rects,o),h},{}),l=i[t.placement],c=l.x,f=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=f),t.modifiersData[r]=i}const q6={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:zY};function VY(e){var t=e.state,n=e.name;t.modifiersData[n]=W6({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const G6={name:"popperOffsets",enabled:!0,phase:"read",fn:VY,data:{}};function WY(e){return e==="x"?"y":"x"}function $Y(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,o=a===void 0?!0:a,i=n.altAxis,l=i===void 0?!1:i,c=n.boundary,f=n.rootBoundary,h=n.altBoundary,g=n.padding,y=n.tether,w=y===void 0?!0:y,S=n.tetherOffset,D=S===void 0?0:S,I=nv(t,{boundary:c,rootBoundary:f,padding:g,altBoundary:h}),M=Jl(t.placement),N=Ep(t.placement),B=!N,k=nI(M),R=WY(k),L=t.modifiersData.popperOffsets,_=t.rects.reference,V=t.rects.popper,U=typeof D=="function"?D(Object.assign({},t.rects,{placement:t.placement})):D,Z=typeof U=="number"?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),Q=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,G={x:0,y:0};if(L){if(o){var re,de=k==="y"?ti:ni,fe=k==="y"?as:os,$=k==="y"?"height":"width",he=L[k],se=he+I[de],ue=he-I[fe],X=w?-V[$]/2:0,oe=N===Dp?_[$]:V[$],De=N===Dp?-V[$]:-_[$],je=t.elements.arrow,Re=w&&je?tI(je):{width:0,height:0},Fe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:_6(),Be=Fe[de],Xe=Fe[fe],Ze=Vg(0,_[$],Re[$]),st=B?_[$]/2-X-Ze-Be-Z.mainAxis:oe-Ze-Be-Z.mainAxis,Ct=B?-_[$]/2+X+Ze+Xe+Z.mainAxis:De+Ze+Xe+Z.mainAxis,tn=t.elements.arrow&&Yv(t.elements.arrow),_e=tn?k==="y"?tn.clientTop||0:tn.clientLeft||0:0,et=(re=Q==null?void 0:Q[k])!=null?re:0,nt=he+st-et-_e,ht=he+Ct-et,St=Vg(w?Ow(se,nt):se,he,w?pf(ue,ht):ue);L[k]=St,G[k]=St-he}if(l){var Tt,Gt=k==="x"?ti:ni,_t=k==="x"?as:os,Vt=L[R],Xt=R==="y"?"height":"width",dn=Vt+I[Gt],en=Vt-I[_t],Zn=[ti,ni].indexOf(M)!==-1,Dn=(Tt=Q==null?void 0:Q[R])!=null?Tt:0,Er=Zn?dn:Vt-_[Xt]-V[Xt]-Dn+Z.altAxis,pt=Zn?Vt+_[Xt]+V[Xt]-Dn-Z.altAxis:en,Mt=w&&Zn?TY(Er,Vt,pt):Vg(w?Er:dn,Vt,w?pt:en);L[R]=Mt,G[R]=Mt-Vt}t.modifiersData[r]=G}}const J6={name:"preventOverflow",enabled:!0,phase:"main",fn:$Y,requiresIfExists:["offset"]};function ZY(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function qY(e){return e===Ni(e)||!ns(e)?rI(e):ZY(e)}function GY(e){var t=e.getBoundingClientRect(),n=Tp(t.width)/e.offsetWidth||1,r=Tp(t.height)/e.offsetHeight||1;return n!==1||r!==1}function JY(e,t,n){n===void 0&&(n=!1);var r=ns(t),a=ns(t)&&GY(t),o=od(t),i=Ip(e,a,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((eu(t)!=="body"||oI(o))&&(l=qY(t)),ns(t)?(c=Ip(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=aI(o))),{x:i.left+l.scrollLeft-c.x,y:i.top+l.scrollTop-c.y,width:i.width,height:i.height}}function KY(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function a(o){n.add(o.name);var i=[].concat(o.requires||[],o.requiresIfExists||[]);i.forEach(function(l){if(!n.has(l)){var c=t.get(l);c&&a(c)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||a(o)}),r}function QY(e){var t=KY(e);return vY.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function XY(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function ez(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Rx={placement:"bottom",modifiers:[],strategy:"absolute"};function _x(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function K6(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,o=a===void 0?Rx:a;return function(l,c,f){f===void 0&&(f=o);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Rx,o),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},g=[],y=!1,w={state:h,setOptions:function(M){var N=typeof M=="function"?M(h.options):M;D(),h.options=Object.assign({},o,h.options,N),h.scrollParents={reference:bf(l)?Wg(l):l.contextElement?Wg(l.contextElement):[],popper:Wg(c)};var B=QY(ez([].concat(r,h.options.modifiers)));return h.orderedModifiers=B.filter(function(k){return k.enabled}),S(),w.update()},forceUpdate:function(){if(!y){var M=h.elements,N=M.reference,B=M.popper;if(_x(N,B)){h.rects={reference:JY(N,Yv(B),h.options.strategy==="fixed"),popper:tI(B)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(Z){return h.modifiersData[Z.name]=Object.assign({},Z.data)});for(var k=0;k<h.orderedModifiers.length;k++){if(h.reset===!0){h.reset=!1,k=-1;continue}var R=h.orderedModifiers[k],L=R.fn,_=R.options,V=_===void 0?{}:_,U=R.name;typeof L=="function"&&(h=L({state:h,options:V,name:U,instance:w})||h)}}}},update:XY(function(){return new Promise(function(I){w.forceUpdate(),I(h)})}),destroy:function(){D(),y=!0}};if(!_x(l,c))return w;w.setOptions(f).then(function(I){!y&&f.onFirstUpdate&&f.onFirstUpdate(I)});function S(){h.orderedModifiers.forEach(function(I){var M=I.name,N=I.options,B=N===void 0?{}:N,k=I.effect;if(typeof k=="function"){var R=k({state:h,name:M,instance:w,options:B}),L=function(){};g.push(R||L)}})}function D(){g.forEach(function(I){return I()}),g=[]}return w}}var tz=[z6,G6,Y6,bY,q6,$6,J6,U6,Z6],Q6=K6({defaultModifiers:tz}),nz=typeof Element<"u",rz=typeof Map=="function",az=typeof Set=="function",oz=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function lw(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!lw(e[r],t[r]))return!1;return!0}var o;if(rz&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!lw(r.value[1],t.get(r.value[0])))return!1;return!0}if(az&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(oz&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;if(nz&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((a[r]==="_owner"||a[r]==="__v"||a[r]==="__o")&&e.$$typeof)&&!lw(e[a[r]],t[a[r]]))return!1;return!0}return e!==e&&t!==t}var iz=function(t,n){try{return lw(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const sz=qt(iz);var lz=[],Mb=function(t,n,r){r===void 0&&(r={});var a=P.useRef(null),o={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||lz},i=P.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=i[0],c=i[1],f=P.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(w){var S=w.state,D=Object.keys(S.elements);G2.flushSync(function(){c({styles:Mx(D.map(function(I){return[I,S.styles[I]||{}]})),attributes:Mx(D.map(function(I){return[I,S.attributes[I]]}))})})},requires:["computeStyles"]}},[]),h=P.useMemo(function(){var y={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[f,{name:"applyStyles",enabled:!1}])};return sz(a.current,y)?a.current||y:(a.current=y,y)},[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,f]),g=P.useRef();return kx(function(){g.current&&g.current.setOptions(h)},[h]),kx(function(){if(!(t==null||n==null)){var y=r.createPopper||Q6,w=y(t,n,h);return g.current=w,function(){w.destroy(),g.current=null}}},[t,n,r.createPopper]),{state:g.current?g.current.state:null,styles:l.styles,attributes:l.attributes,update:g.current?g.current.update:null,forceUpdate:g.current?g.current.forceUpdate:null}},uz=function(){},cz=uz;const dz=qt(cz),fz=(e,t)=>({placement:e,modifiers:[{name:"flip",options:{allowedAutoPlacements:t,rootBoundary:"document"}},{name:"preventOverflow",options:{rootBoundary:"document"}}]}),hz=e=>{const n=P.useRef(null),[r,a]=P.useState(null),[o,i]=P.useState(0);let l,c;const f=()=>{if(x.Platform.isMobile){l="right-end",c=["bottom"];return}const g=window.innerWidth-o>280*1.2,y=window.innerWidth-o<280,w=window.innerWidth>280*1.5;if(e.DefaultEditorLocation!=="Bottom"){g?(l="right-end",c=["left-end"]):y&&w?(l="left-end",c=["right-end"]):(l="bottom",c=["bottom"]);return}g?(l="top-end",c=["top-start"]):y&&o>280?(l="top-start",c=["top-end"]):(l="top",c=["top"])};P.useEffect(()=>{e&&f()},[o,e==null?void 0:e.DefaultEditorLocation]);const h=Mb(n.current,r,fz(l,c));return{setPosX:i,popperRef:n,setPopperElement:a,popper:h}},pz=()=>{const e=new Set,t=at.getState().query.filter,n=at.getState().query.tag,r=on.getQueryById(t||"");if(r&&r.querystring){const a=JSON.parse(r.querystring);if(Array.isArray(a))for(const o of a)o.type==="TAG"&&o.value&&o.value.operator==="CONTAIN"&&e.add(o.value.value)}return n&&e.add(n),Array.from(e)},mz=e=>{const{offsetLeft:t,offsetTop:n,offsetHeight:r,offsetWidth:a,selectionEnd:o}=e,i=document.createElement("div"),l=window.getComputedStyle(e);for(const D of l)i.style.setProperty(D,l.getPropertyValue(D));i.style.position="fixed",i.style.visibility="hidden",i.style.whiteSpace="pre-wrap";const f=e.tagName==="INPUT"?e.value.replace(/ /g,"."):e.value;i.textContent=f.substring(0,o||0),e.tagName==="TEXTAREA"&&(i.style.height="auto");const h=document.createElement("span");h.textContent=f.substring(o||0)||".",i.appendChild(h),document.body.appendChild(i);const{offsetLeft:g,offsetTop:y,offsetHeight:w,offsetWidth:S}=h;return document.body.removeChild(i),{x:t+g,y:n+y,h:r+w,w:a+S}},mf=({className:e,editorType:t,destroy:n,modal:r})=>{const{globalState:a,dailyNotesState:{app:o,settings:i,view:l,verifyState:c}}=P.useContext(Lt),[f,h]=Xl(!0),g=P.useRef(f),[y,w]=xo(!0),S=P.useRef(null),D=P.useRef(null),I=P.useRef(a),[M,N]=xo(!1),[B,k]=xo(!1),{setPosX:R,popperRef:L,setPopperElement:_,popper:V}=hz(i),[U]=xo(parseInt(x.moment().format("x"))),Z=P.useRef(null),[Q,G]=xo((i==null?void 0:i.EnabledLocationList.length)===1?i==null?void 0:i.EnabledLocationList[0].value:(i==null?void 0:i.MemoSaveLocation)||"DAILY"),re=P.useRef(i.MemoSaveLocation||"DAILY");P.useEffect(()=>{g.current=f},[f]),P.useEffect(()=>{!D.current||!o||!l||(l.registerEvent(o.workspace.on("focus-on-textarea",_e=>{var et;(et=D.current)==null||et.focus(_e==null?void 0:_e.id)})),l.registerEvent(o.workspace.on("blur-on-memos",()=>{var _e;(_e=D.current)==null||_e.blur()})),l.registerEvent(o.workspace.on("send-to-thino",async(_e,et)=>{var nt,ht;if(typeof _e=="string")(nt=D.current)==null||nt.insertText(_e+`
`,et.id);else{const St=_e.toPNG(),Tt=new Blob([St],{type:"image/png"}),Gt=new File([Tt],"image.png",{type:"image/png",lastModified:Date.now()});if(!Gt)return;const _t=await ue(Gt);_t&&((ht=D.current)==null||ht.insertText(_t+`
`,et.id))}})))},[D,l,o]),P.useEffect(()=>{i&&h(i.DefaultPrefix==="List")},[i==null?void 0:i.DefaultPrefix]),P.useEffect(()=>{if(i){if(i.EnabledLocationList.length===1){G(i.EnabledLocationList[0].value);return}G(i.MemoSaveLocation||"DAILY")}},[i==null?void 0:i.MemoSaveLocation,i==null?void 0:i.EnabledLocationList]),P.useEffect(()=>{var nt;if(!i||!Z.current)return;const _e=(nt=Qg.find(ht=>ht.title===Q))==null?void 0:nt.icon;x.setIcon(Z.current,_e),x.requireApiVersion("1.4.4")&&x.setTooltip(Z.current,E("Thino Save To: ")+Q),re.current=Q;const et=a.manifest;if(et){const ht=o==null?void 0:o.plugins.getPlugin(et.id);if(ht){if(ht.settings.MemoSaveLocation===Q)return;ht.settings.MemoSaveLocation=Q,ht.saveSettings()}}},[Q,y]),P.useEffect(()=>{D.current&&i.MemoSaveLocation&&G(i.MemoSaveLocation)},[Z,i]),P.useEffect(()=>{if(!D.current||!i||x.Platform.isDesktop||a.globalEditorShown)return;const _e=i.UseButtonToShowEditor&&i.DefaultEditorLocation==="Bottom";if(x.Platform.isDesktop){w(!0);return}if(t&&t==="inline"){w(!0);return}if(w(x.Platform.isMobile&&!_e),!_e||a.memoListView==="chat")return;const et=document.body.find(".memolist-scrollview");et&&(et.onscroll=()=>{if(a.globalEditorShown)return;if(!a.memoListView&&dt.getState().memoListView==="chat"){et.onscroll=null;return}const nt=D.current.getContent();x.Platform.isMobile&&_e&&!nt&&w(!1)})},[a.globalEditorShown,t,D]);const de=()=>{k(!1)};P.useEffect(()=>{var _e,et,nt,ht,St,Tt,Gt,_t,Vt;if(o&&(a.markMemoId||(_e=a.editMemoId)!=null&&_e.trim()&&a.editMemoId!==I.current.editMemoId)){const Xt=o.workspace.getLeavesOfType("thino_view");Xt.length>0&&o.workspace.revealLeaf(Xt[0])}if(a.markMemoId){const Xt=`${E("MARK")}: [@THINO](${a.markMemoId})`;(et=D.current)==null||et.insertText(Xt),(nt=D.current)==null||nt.focus(),dt.setMarkMemoId("");return}if((ht=a.editMemoId)!=null&&ht.trim()&&a.editMemoId!==I.current.editMemoId){const Xt=we.getMemoById(a.editMemoId);if(Xt)switch(h(Xt.thinoType==="JOURNAL"),i.EditorType){case"memos":(St=D.current)==null||St.setContent(Xt.content.replace(/ \^\S{6}$/,"")||""),(Tt=D.current)==null||Tt.focus();break;case"obsidian":(Gt=D.current)==null||Gt.clear(),(_t=D.current)==null||_t.setContent(Xt.content.replace(/ \^\S{6}$/,"")||""),(Vt=D.current)==null||Vt.focus();break}}I.current=a},[a.markMemoId,a.editMemoId]),P.useEffect(()=>{var _e,et,nt;!D.current||M||i.EditorType==="memos"&&((_e=D.current)==null||_e.element.addEventListener("paste",fe),(et=D.current)==null||et.element.addEventListener("drop",$),(nt=D.current)==null||nt.element.addEventListener("click",he),N(!0))},[D.current]);const fe=async _e=>{var et;if(_e.clipboardData&&_e.clipboardData.files.length>0){_e.preventDefault();const nt=_e.clipboardData.files;for(const ht of nt){const St=await ue(ht);St&&((et=D.current)==null||et.insertText(St))}}},$=async _e=>{var et;if(_e.dataTransfer&&_e.dataTransfer.files.length>0){_e.preventDefault();const nt=_e.dataTransfer.files;for(const ht of nt){const St=await ue(ht);St&&((et=D.current)==null||et.insertText(St))}}},he=()=>{var _e;De(((_e=D.current)==null?void 0:_e.element.value)||"")},se=async(_e,et)=>{var St,Tt,Gt;const nt=_e.ctrlKey||_e.metaKey,ht=_e.altKey;if(_e.key==="Escape"&&a.globalEditorShown&&(dt.setGlobalEditorShown(!1),_e.preventDefault()),nt&&_e.key==="Enter"){_e.preventDefault(),_e.stopPropagation(),et?(await X((Tt=D.current)==null?void 0:Tt.getContent()),(Gt=D.current)==null||Gt.clear()):await X((St=D.current)==null?void 0:St.element.value);return}if(ht)for(let _t=0;_t<i.EnabledLocationList.length;_t++)_e.key===(_t+1).toString()&&G(i.EnabledLocationList[_t].value);setTimeout(()=>{var _t;et||De(((_t=D.current)==null?void 0:_t.element.value)||"")})},ue=P.useCallback(async _e=>{const{type:et}=_e;if(et.startsWith("image"))try{return`${await q2.upload(_e)}`}catch(nt){new x.Notice(nt)}},[]),X=async _e=>{if(!_e||_e.trim()===""){new x.Notice(E("Content cannot be empty"));return}const et=ft.getState().settings,nt=et==null?void 0:et.addTagAutomatically,ht=et==null?void 0:et.addTagWithNewline,St=et==null?void 0:et.addTagPosition,Gt=(pz()||[]).filter(dn=>!_e.includes(`#${dn}`)),_t=async(dn,en)=>{en=en.replaceAll("&nbsp;"," "),k0("");try{if(!dn){let Dn;switch(re.current){case"CANVAS":Dn=await we.createMemoCanvas({text:en,isList:g.current});break;case"MULTI":Dn=await we.createMemoMultiFile({content:en,isList:g.current});break;case"DAILY":Dn=await we.createMemoDaily(en,g.current);break;case"FILE":Dn=await we.createMemoSingleFile({content:en,isList:g.current});break}if(!Dn)return;we.pushMemo(Dn),(!nt||Gt.length===0)&&at.clearQuery();const Er=o||ft.getState().app,pt=Er==null?void 0:Er.loadLocalStorage("tokenForSync");Dn&&pt&&i.startSync&&setTimeout(async()=>{try{if(re.current!=="DAILY"){const Mt=await N2({content:en,thinoType:"FILE",thinoStatus:Dn.thinoType==="JOURNAL"?"JOURNAL":Dn.thinoType==="TASK-TODO"?"TASK-TODO":"TASK-DONE"});await we.updateMemoById(Dn.id,Mt,!0)}}catch(Mt){console.error(Mt)}},200);return}const Zn=we.getMemoById(dn);if(Zn&&(Zn.content!==en||Zn.thinoType!==(g.current?"JOURNAL":"TASK-TODO"))){const Dn=await we.updateMemo(Zn.id,en,g.current?"JOURNAL":Zn.thinoType.startsWith("TASK")?Zn.thinoType:"TASK-TODO");Dn.updatedAt=ut.getDateTimeString(Date.now()),we.editMemo(Dn)}dt.setEditMemoId("")}catch(Zn){new x.Notice(Zn.message)}};n&&n();const{editMemoId:Vt}=dt.getState(),Xt=Gt&&Gt.length>0&&nt&&!Vt?St==="Beginning"?`${Gt.map(dn=>`#${dn}`).join(" ")} ${ht?`
`:""}${_e}`:`${_e} ${ht?`
`:""}${Gt.map(dn=>`#${dn}`).join(" ")}`:_e;await _t(Vt,Xt),k0("")},oe=P.useCallback(()=>{var _e;dt.setEditMemoId(""),(_e=D.current)==null||_e.setContent(""),k0("")},[]),De=P.useCallback(_e=>{if(k0(_e??""),!D.current)return;const et=D.current.getContent(),nt=D.current.element.selectionStart,ht=et.slice(0,nt),St=et.slice(nt);(ht.endsWith("@")||ht.endsWith("üìÜ"))&&St.startsWith(" ")||(ht.endsWith("@")||ht.endsWith("üìÜ"))&&St===""?(Ze(),k(!0)):k(!1),setTimeout(()=>{var Tt;(Tt=D.current)==null||Tt.focus()})},[i.EditorType]),je=_e=>{if(!D.current||!i)return;_e&&(de(),h(!1));const et=D.current.getContent(),nt=D.current.element.selectionStart,ht=et.slice(0,nt),St=et.slice(nt),Tt=x.moment(_e);if(ht.endsWith("@"))switch(i.InsertDateFormat){case"Dataview":D.current.element.value=et.slice(0,D.current.element.selectionStart-1)+"[due:: "+Tt.format("YYYY-MM-DD")+"]"+St,D.current.element.setSelectionRange(nt+17,nt+17),D.current.focus(),De(D.current.element.value);break;case"Tasks":D.current.element.value=et.slice(0,D.current.element.selectionStart-1)+"üìÖ "+Tt.format("YYYY-MM-DD")+St,D.current.element.setSelectionRange(nt+11,nt+11),D.current.focus(),De(D.current.element.value)}else{D.current.element.value=ht+Tt.format("YYYY-MM-DD")+St,D.current.element.setSelectionRange(nt+10,nt+10),D.current.focus(),De(D.current.element.value);return}},Re=()=>{D.current&&h()},Fe=async()=>{var nt;const _e=!x.Platform.isDesktop&&await((nt=window.Capacitor)==null?void 0:nt.Plugins.Device.getId()),et=x.Platform.isDesktop?await cr():_e.identifier||_e.uuid;return!c||(c==null?void 0:c.appId)!==et?(fn(),!1):!0},Be=async _e=>{if(!await Fe())return;const et=new x.Menu;i.EnabledLocationList.forEach(Tt=>{et.addItem(Gt=>{var _t;Gt.setTitle(E(Tt.value)).setIcon(((_t=Qg.find(Vt=>Vt.title===Tt.value))==null?void 0:_t.icon)??"file").setChecked(Q===Tt.value).onClick(()=>{G(Tt.value)})})});let nt=_e.target,ht=null;for(;!nt.hasClass("location-wrapper")&&(ht=nt.parentElement,ht);)nt=ht;const St=nt.getBoundingClientRect();setTimeout(()=>{et.showAtPosition({x:St.x,y:St.bottom,width:St.width,left:!1,overlap:!0})},200)},Xe=P.useCallback(()=>{var _e,et;if(!(!D.current&&i.EditorType==="memos"))switch(i.EditorType){case"obsidian":(_e=D.current)==null||_e.focus(),(et=D.current)==null||et.insertTag();break;case"memos":{const nt=D.current.getContent(),ht=D.current.element.selectionStart,St=nt.slice(0,ht),Tt=nt.slice(ht);let Gt=St+"# "+Tt,_t=St.length+1;St.endsWith("#")&&Tt.startsWith(" ")&&(Gt=St.slice(0,St.length-1)+Tt.slice(1),_t=St.length-1),D.current.element.value=Gt,D.current.element.setSelectionRange(_t,_t),D.current.focus();const Vt=new Event("input",{bubbles:!0,cancelable:!0});D.current.element.dispatchEvent(Vt),De(D.current.element.value)}}},[o]),Ze=P.useCallback(()=>{if(!D.current||!L.current||!i||!o)return;const nt=o.workspace.getLeavesOfType(lo)[0].view.containerEl,ht=280,St=nt.clientWidth,{x:Tt,y:Gt}=mz(D.current.element);let _t,Vt;x.Platform.isMobile?(window.innerWidth-Tt>ht?_t=(Tt+ht+16>St,Tt+18):window.innerWidth-Tt<ht?_t=(Tt+ht+16>St,Tt+34):_t=D.current.element.clientWidth/2,i.DefaultEditorLocation==="Bottom"&&window.innerWidth>875?Vt=Gt+4:i.DefaultEditorLocation==="Bottom"&&window.innerWidth<=875?Vt=Gt+19:i.DefaultEditorLocation==="Top"&&window.innerWidth<=875&&(Vt=Gt+36)):(_t=(Tt+ht+16>St,Tt+18),Vt=Gt+34),R(Tt),L.current.style.left=`${_t}px`,L.current.style.top=`${Vt}px`},[i,o]),st=P.useCallback(()=>{const _e=document.createElement("input");document.body.appendChild(_e),_e.type="file",_e.multiple=!1,_e.accept="image/png, image/gif, image/jpeg",_e.onchange=async()=>{var ht;if(!_e.files||_e.files.length===0)return;const et=_e.files[0],nt=await ue(et);nt&&((ht=D.current)==null||ht.insertText(nt)),document.body.removeChild(_e)},_e.click()},[]),Ct=!!a.editMemoId,tn=P.useMemo(()=>({className:"memo-editor",inputerType:i.EditorType||"obsidian",modal:r,initialContent:gz(),placeholder:E("What do you think now..."),showConfirmBtn:!0,showCancelBtn:Ct,showTools:!0,onConfirmBtnClick:X,onCancelBtnClick:oe,onContentChange:De}),[Ct,i.EditorType]);return v.jsxs(v.Fragment,{children:[!a.globalEditorShown&&t==="block"&&v.jsx("div",{ref:_e=>{S.current=_e,_e&&x.setIcon&&x.setIcon(_e,"plus-circle")},className:`memo-show-editor-button ${y?"thino-hidden":""}`,onClick:()=>{var _e;(_e=S.current.firstElementChild)==null||_e.toggleClass("rotate-hidden",!0),setTimeout(()=>{w(!0),S.current.firstElementChild.toggleClass("rotate-hidden",!1)},500),setTimeout(()=>{var et;(et=D.current)==null||et.focus()},600)}}),v.jsxs("div",{className:`memo-editor-wrapper ${e||""} ${Ct?"edit-ing":""} ${a.globalEditorShown?"fullscreen-editor":""} ${y?"":"thino-hidden"}`,onKeyDownCapture:_e=>se(_e,!0),children:[v.jsx("span",{className:`tip-text ${Ct?"":"thino-hidden"}`,children:"Modifying..."}),v.jsx(nY,{ref:D,...tn,tools:v.jsxs(v.Fragment,{children:[v.jsx("span",{ref:_e=>{_e&&x.setIcon(_e,"hash")},className:"btn action-btn add-tag",onClick:()=>{i&&i.DefaultEditorLocation==="Top"&&!a.globalEditorShown&&Xe()},onPointerDown:()=>{(i&&i.DefaultEditorLocation==="Bottom"||a.globalEditorShown)&&Xe()}}),v.jsx("span",{ref:_e=>{_e&&x.setIcon(_e,"paperclip")},className:"btn action-btn file-upload",onClick:()=>{i&&i.DefaultEditorLocation==="Top"&&!a.globalEditorShown&&st()},onPointerDown:()=>{(i&&i.DefaultEditorLocation==="Bottom"||a.globalEditorShown)&&st()}}),a.editMemoId===""&&v.jsx("span",{ref:_e=>{_e&&x.setIcon(_e,f?"layout-list":"check-square")},className:ar("btn action-btn list-or-task",f?"list":"task"),onClick:()=>{i&&i.DefaultEditorLocation==="Top"&&!a.globalEditorShown&&Re()},onPointerDown:()=>{(i&&i.DefaultEditorLocation==="Bottom"||a.globalEditorShown)&&Re()}}),v.jsx("div",{ref:_e=>{_e&&(x.setIcon&&x.setIcon(_e,a.globalEditorShown?"shrink":"expand"),x.setTooltip&&x.setTooltip(_e,a.globalEditorShown?E("Exit fullscreen mode"):E("Enter fullscreen mode")))},className:"action-btn show-editor pro",onPointerDown:async()=>{await Fe()&&(w(!0),dt.setGlobalEditorShown(!a.globalEditorShown))}}),v.jsx("div",{className:"action-btn split-line pro"}),v.jsx("div",{className:"action-btn location-wrapper pro",onClick:async _e=>{i&&i.DefaultEditorLocation==="Top"&&!a.globalEditorShown&&await Be(_e)},onPointerDown:async _e=>{(i&&i.DefaultEditorLocation==="Bottom"||a.globalEditorShown)&&await Be(_e)},children:v.jsx("div",{ref:Z,className:"action-btn file-location-btn"})})]})}),v.jsx("div",{ref:L,className:"date-picker",children:B&&v.jsx("div",{tabIndex:-1,style:V.styles.popper,...V.attributes.popper,ref:_,role:"dialog",children:v.jsx(Cb,{className:`editor-date-picker ${B?"":"thino-hidden"}`,datestamp:U,handleDateStampChange:je})})})]})]})};function gz(){return la.get(["thinoEditorContentCache"]).thinoEditorContentCache??""}function k0(e){la.set({thinoEditorContentCache:e})}const vz=e=>{const t=[];return e.map(n=>{t.length==0?t.push({date:x.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),have:[n]}):t.some(a=>{if(a.date==x.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"))return a.have.push(n),!0})||t.push({date:x.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),have:[n]})}),t},yz=e=>we.getState().commentMemos.filter(t=>t.linkId===e.hasId).sort((t,n)=>ut.getTimeStampByDate(t.createdAt)-ut.getTimeStampByDate(n.createdAt)).map(t=>({...t,createdAtStr:ut.getDateTimeString(t.createdAt),dateStr:ut.getDateString(t.createdAt)})),wz=e=>{const t=ft.getState().settings,n=vR(),r=t!=null&&t.ShowDate?"    ":"",a="YYYY/MM/DD HH:mm:ss",o=/comment:(.*)$/g,i=/^\d{14}/g,l=(g,y,w)=>{const S=x.moment(g.createdAt,a).format("HH:mm");return w?w.replace(/{TIME}/g,S).replace(/{CONTENT}/g,y):`${S} ${y}`},c=g=>{const y=g.match(/TASK-(.*)?/g);return y?y[1]:""},f=g=>g==="TASK-TODO"?"- [ ] ":g==="TASK-DONE"?"- [x] ":g.match(/TASK-(.*)?/g)?`- [${c(g)}] `:"- ",h=g=>g.reduce((y,w)=>{const S=w.sourceType!=="MULTI"?`${w.content}`:`[[${w.path}]]`,D=t!=null&&t.ShowTime?l(w,S,t==null?void 0:t.DefaultMemoComposition):S,I=`${f(w.thinoType)}${D}`;let M="";return t.CommentOnMemos&&w.hasId!==void 0&&w.hasId!==""&&(M=yz(w).reduce((B,k)=>{const R=f(k.thinoType),L=k.content.replace(o,"").replace(i,""),_=t!=null&&t.ShowDate?`${R}[[${x.moment(k.createdAt).format(n)}]] ${x.moment(k.createdAt).format("HH:mm")} ${L}`:`${R}${L}`;return B+r+"    "+_+`
`},"")),y+r+I.replace(/ \^\S{6}/g,"")+`
`+M},"");return e.reduce((g,y)=>{const w=t!=null&&t.ShowDate?`- [[${x.moment(y.date,"YYYY-MM-DD").format(n)}]]
`:"",S=h(y.have),D=t!=null&&t.ShowDate&&(t!=null&&t.AddBlankLineWhenDate)&&!(t!=null&&t.CommentOnMemos)?`
`:"";return g+w+S+D},"").replace(/<br>/g,`
    `)},bz=[{label:E("Today"),value:x.moment().format("YYYY-MM-DD")},{label:E("Yesterday"),value:x.moment().subtract(1,"days").format("YYYY-MM-DD")},{label:E("Last 7 days"),value:x.moment().subtract(7,"days").format("YYYY-MM-DD")},{label:E("Last 30 days"),value:x.moment().subtract(30,"days").format("YYYY-MM-DD")},{label:E("Last 90 days"),value:x.moment().subtract(90,"days").format("YYYY-MM-DD")},{label:E("Last 180 days"),value:x.moment().subtract(180,"days").format("YYYY-MM-DD")},{label:E("Last 365 days"),value:x.moment().subtract(365,"days").format("YYYY-MM-DD")}],X6=e=>{const{handleValueChange:t,setShownStatus:n}=e;return v.jsxs(v.Fragment,{children:[e.type==="icon"&&v.jsx("div",{className:"quick-date-btn-group",children:bz.map((r,a)=>v.jsx("div",{className:"btn action-btn quick-date-btn",onClick:()=>{t(r.value),n&&n(!1)},children:r.label},a))}),v.jsx(Cb,{className:"calendar-date-picker",datestamp:(e==null?void 0:e.defaultValue)||x.moment().startOf("day").valueOf(),handleDateStampChange:(r,a)=>{t(e.type==="icon"?x.moment(r).format("YYYY-MM-DD"):r.toString()),n&&n(!1)}})]})},Pw=e=>{const{handleValueChange:t}=e,[n,r]=ne.useState(!1),a=ne.useRef(null),o=ne.useRef(null),i=Mb(o.current,a.current,{placement:"bottom-start"});return Hv(a,()=>{r(!1)}),v.jsxs(v.Fragment,{children:[v.jsx("span",{ref:c=>{o.current=c,c&&e.type==="icon"&&x.setIcon(c,"calendar")},className:`btn calendar-btn ${e.type==="icon"?"icon-btn":"text-btn"}`,onClick:()=>{!x.Platform.isMobile&&r(!n),!x.Platform.isMobile&&(i!=null&&i.update)&&(i==null||i.update()),x.Platform.isMobile&&new e9(ft.getState().app,e.type,t).open()},children:e.type==="text"&&e.defaultValue?e.defaultText?e.defaultText:x.moment(e.defaultValue,"x").subtract(e.startOrEnd==="end"?1:0,"days").format("YYYY/MM/DD"):""}),v.jsx("div",{className:`menu-btns-popup ${n?"":"thino-hidden"}`,ref:a,style:i.styles.popper,children:v.jsx(X6,{type:e.defaultText?"icon":e.type,handleValueChange:t,setShownStatus:r})})]})};class e9 extends x.Modal{constructor(n,r,a){super(n);Se(this,"root");Se(this,"type");Se(this,"handleValueChange");this.type=r,this.handleValueChange=a}onOpen(){const{contentEl:n}=this;this.root=Rv(n),this.root.render(v.jsx(X6,{type:this.type,handleValueChange:this.handleValueChange.bind(this),setShownStatus:r=>{!r&&this.close()}}))}onClose(){var n;(n=this.root)==null||n.unmount()}}const Sz=(e,t)=>(e%t+t)%t;class Dz{constructor(t,n,r){Se(this,"owner");Se(this,"values");Se(this,"suggestions");Se(this,"selectedItem");Se(this,"containerEl");this.owner=t,this.containerEl=n,n.on("click",".suggestion-item",this.onSuggestionClick.bind(this)),n.on("mousemove",".suggestion-item",this.onSuggestionMouseover.bind(this)),r.register([],"ArrowUp",a=>{if(!a.isComposing)return this.setSelectedItem(this.selectedItem-1,!0),!1}),r.register([],"ArrowDown",a=>{if(!a.isComposing)return this.setSelectedItem(this.selectedItem+1,!0),!1}),r.register([],"Enter",a=>{if(!a.isComposing)return this.useSelectedItem(a),!1})}onSuggestionClick(t,n){t.preventDefault();const r=this.suggestions.indexOf(n);this.setSelectedItem(r,!1),this.useSelectedItem(t)}onSuggestionMouseover(t,n){const r=this.suggestions.indexOf(n);this.setSelectedItem(r,!1)}setSuggestions(t){this.containerEl.empty();const n=[];t.forEach(r=>{const a=this.containerEl.createDiv("suggestion-item");this.owner.renderSuggestion(r,a),n.push(a)}),this.values=t,this.suggestions=n,this.setSelectedItem(0,!1)}useSelectedItem(t){const n=this.values[this.selectedItem];n&&this.owner.selectSuggestion(n,t)}setSelectedItem(t,n){const r=Sz(t,this.suggestions.length),a=this.suggestions[this.selectedItem],o=this.suggestions[r];a==null||a.removeClass("is-selected"),o==null||o.addClass("is-selected"),this.selectedItem=r,n&&o.scrollIntoView(!1)}}class t9{constructor(t,n){Se(this,"inputEl");Se(this,"popper");Se(this,"scope");Se(this,"suggestEl");Se(this,"suggest");Se(this,"cb");this.inputEl=t,this.scope=new x.Scope,this.cb=n,this.suggestEl=createDiv("suggestion-container");const r=this.suggestEl.createDiv("suggestion");this.suggest=new Dz(this,r,this.scope),this.scope.register([],"Escape",this.close.bind(this)),this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("click",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.suggestEl.on("mousedown",".suggestion-container",a=>{a.preventDefault()})}clearInput(){this.inputEl.value="",this.inputEl.trigger("blur"),this.inputEl.trigger("focus"),this.inputEl.trigger("input"),this.onInputChanged()}onInputChanged(){const t=this.inputEl.value,n=this.getSuggestions(t);if(!n){this.close();return}n.length>0?(this.suggest.setSuggestions(n),this.open(app.dom.appContainerEl,this.inputEl)):this.close()}open(t,n){app.keymap.pushScope(this.scope),t.appendChild(this.suggestEl),this.popper=Q6(n,this.suggestEl,{placement:"bottom-start",modifiers:[{name:"sameWidth",enabled:!0,fn:({state:r,instance:a})=>{const o=`${r.rects.reference.width}px`;r.styles.popper.width!==o&&(r.styles.popper.width=o,a.update())},phase:"beforeWrite",requires:["computeStyles"]}]})}close(){app.keymap.popScope(this.scope),this.suggest.setSuggestions([]),this.popper&&this.popper.destroy(),this.suggestEl.detach()}destroy(){this.inputEl.removeEventListener("input",this.onInputChanged.bind(this)),this.inputEl.removeEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.removeEventListener("blur",this.close.bind(this)),this.close()}updateCb(t){this.cb=t}}const Tz=e=>{const t=e.metadataCache.getTags();return[...Object.keys(t)].map(n=>n.split("#").pop())};let rv=class extends t9{fuzzySearchItemsOptimized(t,n){const r=x.prepareFuzzySearch(t);return n.map(a=>{const o=r(a);return o?{item:a,match:o,score:o.score}:null}).sort((a,o)=>(o==null?void 0:o.score)-(a==null?void 0:a.score)).filter(Boolean)}getSuggestions(t){const{settings:n,app:r}=ft.getState(),a=t.toLocaleLowerCase(),o=n.UseVaultTags?Tz(r):we.getState().tags;return this.fuzzySearchItemsOptimized(a,o).map(i=>i.item)}renderSuggestion(t,n){n.toggleClass("thino-image-suggest-item",!0),n.createSpan({cls:"suggestion-name",text:t})}selectSuggestion(t){this.inputEl.value=t,this.cb&&this.cb(t),this.inputEl.dispatchEvent(new Event("change")),this.inputEl.trigger("change"),this.close()}};const Iz=e=>{const t=new Set;return e.forEach(n=>{const r=new RegExp($r).exec(n.content),a=new RegExp(ua).exec(n.content);if(r)for(let o=1;o<r.length;o++)t.add(r[o]);if(a)for(let o=1;o<a.length;o++)t.add(a[o])}),Array.from(t)};class Ez extends x.Modal{constructor(n,r){super(n);Se(this,"root");Se(this,"cb");Se(this,"tags",[]);this.cb=r}onOpen(){super.onOpen(),this.containerEl.toggleClass(["thino-bulk-action-dialog","tag-actions"],!0),this.root=rs.createRoot(this.contentEl),this.root.render(v.jsx(is,{store:Le,context:Lt,children:v.jsx(Cz,{closeDialog:this.closeDialog.bind(this)})}))}closeDialog(n){this.tags=n,this.close()}onClose(){var n;this.cb(this.tags),super.onClose(),(n=this.root)==null||n.unmount()}}const Cz=({closeDialog:e})=>{const[t,n]=ne.useState([]),r=ne.useRef(null),a=ne.useRef(null);P.useEffect(()=>{if(a.current){if(r.current){r.current.updateCb(o);return}r.current=new rv(a.current,o)}},[a.current,t]);const o=l=>{if(!l)return;const c=new Set(t);c.add(l),n(Array.from(c)),r.current.clearInput()},i=()=>{e(t)};return v.jsxs("div",{className:"thino-tag-operation",children:[v.jsx("div",{className:"tag-operation-title",children:E("Tag Bulk Select")}),v.jsxs("div",{className:"tag-operation-content",children:[v.jsxs("div",{className:"tag-operation-content-title selected-tags",children:[v.jsx("div",{className:"name",children:E("Selected Tags")}),v.jsx("div",{className:"desc",children:E("Click to remove selected tag")})]}),v.jsx("div",{className:"tag-operation-content-tags selected-tags",children:t.map(l=>v.jsx("div",{className:"tag-operation-content-tag",onClick:()=>{n(t.filter(c=>c!==l))},children:l},l))}),v.jsx("div",{className:"tag-operation-content-inputer",children:v.jsx("input",{placeholder:E("Input to select exist tag"),ref:a,onKeyDown:l=>{l.key==="Enter"&&o(a.current.value)}})}),v.jsxs("div",{className:"tag-operation-content-btn-group",children:[v.jsx("button",{className:"cancel-btn",onClick:()=>{e([])},children:E("Cancel")}),v.jsx("button",{className:"save-btn",onClick:i,children:E("Save")})]})]})]})},xz=({app:e,thinos:t,closeDialog:n})=>{const[r,a]=ne.useState([]),[o,i]=ne.useState([]),[l,c]=ne.useState([]),f=ne.useRef(null),h=ne.useRef(null),g=ne.useRef(null),y=ne.useRef("End"),w=ne.useRef(!1),S=ne.useRef(null);P.useEffect(()=>{t&&t.length&&a(Iz(t))},[t]),P.useEffect(()=>{!g.current||!h.current||(new x.Setting(h.current).setName(E("Add tag position")).addDropdown(N=>{N.addOption("End",E("End")),N.addOption("Beginning",E("Beginning")),N.setValue("End").onChange(async B=>{y.current=B})}),new x.Setting(g.current).setName(E("Add tag with new line")).addToggle(N=>{N.setValue(!1).onChange(async B=>{w.current=B})}))},[]);const D=N=>{if(!N)return;const B=new Set(o);B.add(N),i(Array.from(B)),f.current.clearInput()};P.useEffect(()=>{if(S.current){if(f.current){f.current.updateCb(D);return}f.current=new rv(S.current,D)}},[S.current,o]);const I=()=>{n(),M({remove:l,add:o,targetThinos:t})},M=async({remove:N,add:B,targetThinos:k})=>{const R=w.current||!1,L=[];for(const _ of k){let V=_.content;for(const U of N)V=V.replace(new RegExp(`#${U}`,"g"),"");if(V=V.trim(),B.length>0&&(V=y.current==="Beginning"?`${B.map(U=>`#${U}`).join(" ")} ${R?`
`:""}${V}`:`${V} ${R?`
`:""}${B.map(U=>`#${U}`).join(" ")}`),_&&_.content!==V){const U=await we.updateMemo(_.id,V==null?void 0:V.trim());L.push(U)}}L.length>0&&we.editMemoBulk(L),L.length>0&&at.clearQuery()};return v.jsxs("div",{className:"thino-tag-operation",children:[v.jsx("div",{className:"tag-operation-title",children:E("Tag Bulk Edit")}),v.jsxs("div",{className:"tag-operation-content",children:[r.length>0&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"tag-operation-content-title exist-tags",children:[v.jsx("div",{className:"name",children:E("Exist Tags")}),v.jsx("div",{className:"desc",children:E("Click to remove exist tag")})]}),v.jsx("div",{className:"tag-operation-content-tags exist-tags",children:r.map(N=>v.jsx("div",{className:ar("tag-operation-content-tag",l.includes(N)&&"tag-operation-content-tag-removed"),onClick:()=>{l.includes(N)||c([...l,N]),l.includes(N)&&c(l.filter(B=>B!==N)),o.includes(N)&&i(o.filter(B=>B!==N))},children:N},N))})]}),v.jsxs("div",{className:"tag-operation-content-title selected-tags",children:[v.jsx("div",{className:"name",children:E("Selected Tags")}),v.jsx("div",{className:"desc",children:E("Click to remove selected tag")})]}),v.jsx("div",{className:"tag-operation-content-tags selected-tags",children:o.map(N=>v.jsx("div",{className:"tag-operation-content-tag",onClick:()=>{i(o.filter(B=>B!==N))},children:N},N))}),v.jsx("div",{className:"tag-operation-content-inputer",children:v.jsx("input",{placeholder:E("Input to select exist tag"),ref:S,onKeyDown:N=>{N.key==="Enter"&&D(S.current.value)}})}),v.jsxs("div",{className:"tag-operation-settings",children:[v.jsx("div",{ref:h}),v.jsx("div",{ref:g})]}),v.jsxs("div",{className:"tag-operation-content-btn-group",children:[v.jsx("button",{className:"cancel-btn",onClick:n,children:E("Cancel")}),v.jsx("button",{className:"save-btn",onClick:I,children:E("Save")})]})]})]})},xT=new Map,Sf=async(e,t=!0)=>{const{vault:n,metadataCache:r}=ft.getState().app;if(t&&xT.has(e))return Promise.resolve(xT.get(e));if(e.contains("data:image"))return e;let a;const o=await n.adapter.exists(x.normalizePath(e));let i="";try{if(!o&&!/(http|https)/g.test(e)&&!e.includes("data:image")){let l;if(e.startsWith("app://")){const c=x.normalizePath(decodeURIComponent(e).replace(x.Platform.resourcePathPrefix,"").replace(/\?(.*)$/,"").replace(x.normalizePath(app==null?void 0:app.vault.adapter.basePath),""));i=x.normalizePath(decodeURIComponent(c))}else{if(l=r.getFirstLinkpathDest(e,""),!l){new x.Notice(E("File not exist"));return}i=l.path}}else i=e}catch(l){console.error(l)}if(i){if(/(http|https)/g.test(i))if(i.startsWith("http://localhost")){let l=i;l=l.replace("http://localhost/_capacitor_file_",""),l=decodeURIComponent(l).replace(/\?(.*)$/,"").replace(app==null?void 0:app.vault.adapter.basePath,""),l=x.normalizePath(decodeURIComponent(l));const c=await n.adapter.readBinary(l),f=new Uint8Array(c);a=new Blob([f],{type:"image/png"})}else try{const l=await x.requestUrl(e),c=new Uint8Array(l.arrayBuffer);a=new Blob([c],{type:"image/png"})}catch{}else if(i){const l=await n.adapter.readBinary(i),c=new Uint8Array(l);a=new Blob([c],{type:"image/png"})}return a?await Mz(a,e):""}},Mz=(e,t)=>new Promise(n=>{const r=new FileReader;r.onloadend=()=>{const a=r.result;xT.set(t,a),n(a)},r.readAsDataURL(e)}),Rg=async e=>{if(!e.style.backgroundImage.includes("url(")&&!e.style.backgroundImage.includes("http"))return;let t=e.style.backgroundImage.includes("url(")?e.style.backgroundImage.slice(5,-2):e.style.backgroundImage;return t?(t.startsWith("http://localhost")&&(t=t.replace("http://localhost/_capacitor_file_",""),t=decodeURIComponent(t).replace(/\?(.*)$/,"").replace(app==null?void 0:app.vault.adapter.basePath,""),t=x.normalizePath(decodeURIComponent(t))),await Sf(t)):void 0},kz=async e=>{var n;return e.getAttribute("src")?(n=e==null?void 0:e.src)!=null&&n.startsWith("http://localhost")?await Sf(e.getAttribute("path")||x.normalizePath(e==null?void 0:e.parentElement.getAttribute("src"))):await Sf(e.getAttribute("src")):void 0},Zt=Bz(),jw=Hz(),n9=Uz(),r9=Yz(),ef={copyDefaultStyles:!0,imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1,httpTimeout:3e4,styleCaching:"strict",corsImg:void 0},wn={toSvg:a9,toPng:Fz,toJpeg:Oz,toBlob:Pz,toPixelData:Az,toCanvas:jz,impl:{fontFaces:n9,images:r9,util:Zt,inliner:jw,urlCache:[],options:{}}},iI=(typeof Node<"u"?Node.ELEMENT_NODE:void 0)||1,uw=(typeof global<"u"?global.getComputedStyle:void 0)||(typeof window<"u"?window.getComputedStyle:void 0)||globalThis.getComputedStyle,Nz=(typeof global<"u"?global.atob:void 0)||(typeof window<"u"?window.atob:void 0)||globalThis.atob;function a9(e,t){wn.impl.util.getWindow(e),t=t||{},Lz(t);let n=[];return Promise.resolve(e).then(r).then(function(c){return o9(c,t,null)}).then(Rz).then(_z).then(i).then(l).then(a).then(o);function r(c){if(c.nodeType===iI)return c;const f=c,h=c.parentNode,g=document.createElement("span");return h.replaceChild(g,f),g.append(c),n.push({parent:h,child:f,wrapper:g}),g}function a(c){for(;n.length>0;){const f=n.pop();f.parent.replaceChild(f.child,f.wrapper)}return c}function o(c){return wn.impl.urlCache=[],qz(),c}function i(c){t.bgcolor&&(c.style.backgroundColor=t.bgcolor),t.width&&(c.style.width=`${t.width}px`),t.height&&(c.style.height=`${t.height}px`),t.style&&Object.keys(t.style).forEach(function(h){c.style[h]=t.style[h]});let f=null;return typeof t.onclone=="function"&&(f=t.onclone(c)),Promise.resolve(f).then(function(){return c})}function l(c){let f=t.width||Zt.width(c),h=t.height||Zt.height(c);return Promise.resolve(c).then(function(g){return g.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(g)}).then(Zt.escapeXhtml).then(function(g){const y=(Zt.isDimensionMissing(f)?' width="100%"':` width="${f}"`)+(Zt.isDimensionMissing(h)?' height="100%"':` height="${h}"`);return`<svg xmlns="http://www.w3.org/2000/svg"${(Zt.isDimensionMissing(f)?"":` width="${f}"`)+(Zt.isDimensionMissing(h)?"":` height="${h}"`)}><foreignObject${y}>${g}</foreignObject></svg>`}).then(function(g){return`data:image/svg+xml;charset=utf-8,${g}`})}}function Az(e,t){return zv(e,t).then(function(n){return n.getContext("2d").getImageData(0,0,Zt.width(e),Zt.height(e)).data})}function Fz(e,t){return zv(e,t).then(function(n){return n.toDataURL()})}function Oz(e,t){return zv(e,t).then(function(n){return n.toDataURL("image/jpeg",(t?t.quality:void 0)||1)})}function Pz(e,t){return zv(e,t).then(Zt.canvasToBlob)}function jz(e,t){return zv(e,t)}function Lz(e){typeof e.copyDefaultStyles>"u"?wn.impl.options.copyDefaultStyles=ef.copyDefaultStyles:wn.impl.options.copyDefaultStyles=e.copyDefaultStyles,typeof e.imagePlaceholder>"u"?wn.impl.options.imagePlaceholder=ef.imagePlaceholder:wn.impl.options.imagePlaceholder=e.imagePlaceholder,typeof e.cacheBust>"u"?wn.impl.options.cacheBust=ef.cacheBust:wn.impl.options.cacheBust=e.cacheBust,typeof e.corsImg>"u"?wn.impl.options.corsImg=ef.corsImg:wn.impl.options.corsImg=e.corsImg,typeof e.useCredentials>"u"?wn.impl.options.useCredentials=ef.useCredentials:wn.impl.options.useCredentials=e.useCredentials,typeof e.httpTimeout>"u"?wn.impl.options.httpTimeout=ef.httpTimeout:wn.impl.options.httpTimeout=e.httpTimeout,typeof e.styleCaching>"u"?wn.impl.options.styleCaching=ef.styleCaching:wn.impl.options.styleCaching=e.styleCaching,wn.impl.options.requestUrl=e.requestUrl,wn.impl.options.type=e.type||"image/png"}function zv(e,t){return t=t||{},a9(e,t).then(Zt.makeImage).then(function(r){const a=typeof t.scale!="number"?1:t.scale,o=n(e,a),i=o.getContext("2d");return i.msImageSmoothingEnabled=!1,i.imageSmoothingEnabled=!1,r&&(i.scale(a,a),i.drawImage(r,0,0)),o});function n(r,a){let o=t.width||Zt.width(r),i=t.height||Zt.height(r);Zt.isDimensionMissing(o)&&(o=Zt.isDimensionMissing(i)?300:i*2),Zt.isDimensionMissing(i)&&(i=o/2);const l=document.createElement("canvas");if(l.width=o*a,l.height=i*a,t.bgcolor){const c=l.getContext("2d");c.fillStyle=t.bgcolor,c.fillRect(0,0,l.width,l.height)}return l}}let Ci=null;function o9(e,t,n,r){const a=t.filter;if(e===Ci||Zt.isHTMLScriptElement(e)||Zt.isHTMLStyleElement(e)||Zt.isHTMLLinkElement(e)||n!==null&&a&&!a(e))return Promise.resolve();return Promise.resolve(e).then(o).then(function(f){return l(f,i(e))}).then(function(f){return c(f,e)});function o(f){return Zt.isHTMLCanvasElement(f)?Zt.makeImage(f.toDataURL()):f.cloneNode(!1)}function i(f){return Zt.isElementHostForOpenShadowRoot(f)?f.shadowRoot:f}function l(f,h){const g=S(h);let y=Promise.resolve();if(g.length!==0){const D=uw(w(h));Zt.asArray(g).forEach(function(I){y=y.then(function(){return o9(I,t,D).then(function(M){M&&f.appendChild(M)})})})}return y.then(function(){return f});function w(D){return Zt.isShadowRoot(D)?D.host:D}function S(D){return Zt.isShadowSlotElement(D)?D.assignedNodes():D.childNodes}}function c(f,h){if(!Zt.isElement(f)||Zt.isShadowSlotElement(h))return Promise.resolve(f);return Promise.resolve().then(g).then(y).then(w).then(S).then(function(){return f});function g(){I(h,f);function D(M,N){N.font=M.font,N.fontFamily=M.fontFamily,N.fontFeatureSettings=M.fontFeatureSettings,N.fontKerning=M.fontKerning,N.fontSize=M.fontSize,N.fontStretch=M.fontStretch,N.fontStyle=M.fontStyle,N.fontVariant=M.fontVariant,N.fontVariantCaps=M.fontVariantCaps,N.fontVariantEastAsian=M.fontVariantEastAsian,N.fontVariantLigatures=M.fontVariantLigatures,N.fontVariantNumeric=M.fontVariantNumeric,N.fontVariationSettings=M.fontVariationSettings,N.fontWeight=M.fontWeight}function I(M,N){const B=uw(M);B.cssText?(N.style.cssText=B.cssText,D(B,N.style)):(Vz(t,M,B,n,N),n===null&&(["inset-block","inset-block-start","inset-block-end"].forEach(k=>N.style.removeProperty(k)),["left","right","top","bottom"].forEach(k=>{N.style.getPropertyValue(k)&&N.style.setProperty(k,"0px")})))}}function y(){const D=Zt.uid();[":before",":after"].forEach(function(M){I(M)});function I(M){const N=uw(h,M),B=N.getPropertyValue("content");if(B===""||B==="none")return;const k=f.getAttribute("class")||"";f.setAttribute("class",`${k} ${D}`);const R=document.createElement("style");R.appendChild(L()),f.appendChild(R);function L(){const _=`.${D}:${M}`,V=N.cssText?U():Z();return document.createTextNode(`${_}{${V}}`);function U(){return`${N.cssText} content: ${B};`}function Z(){return`${Zt.asArray(N).map(G).join("; ")};`;function G(re){const de=N.getPropertyValue(re),fe=N.getPropertyPriority(re)?" !important":"";return`${re}: ${de}${fe}`}}}}}function w(){Zt.isHTMLTextAreaElement(h)&&(f.innerHTML=h.value),Zt.isHTMLInputElement(h)&&f.setAttribute("value",h.value)}function S(){Zt.isSVGElement(f)&&(f.setAttribute("xmlns","http://www.w3.org/2000/svg"),Zt.isSVGRectElement(f)&&["width","height"].forEach(function(D){const I=f.getAttribute(D);I&&f.style.setProperty(D,I)}))}}}function Rz(e){return n9.resolveAll().then(function(t){if(t!==""){const n=document.createElement("style");e.appendChild(n),n.appendChild(document.createTextNode(t))}return e})}function _z(e){return r9.inlineAll(e).then(function(){return e})}function Bz(){let e=0;return{escape:U,isDataUrl:M,canvasToBlob:k,resolveUrl:R,getAndEncode:V,uid:L,delay:Z,asArray:Q,escapeXhtml:G,makeImage:_,width:re,height:de,getWindow:t,isElement:o,isElementHostForOpenShadowRoot:n,isShadowRoot:r,isInShadowRoot:a,isHTMLElement:l,isHTMLCanvasElement:i,isHTMLInputElement:f,isHTMLImageElement:c,isHTMLLinkElement:h,isHTMLScriptElement:g,isHTMLStyleElement:y,isHTMLTextAreaElement:w,isShadowSlotElement:S,isSVGElement:D,isSVGRectElement:I,isDimensionMissing:N};function t($){const he=$?$.ownerDocument:void 0;return(he?he.defaultView:void 0)||global||window}function n($){return o($)&&$.shadowRoot!==null}function r($){return $ instanceof t($).ShadowRoot}function a($){return $!==null&&Object.prototype.hasOwnProperty.call($,"getRootNode")&&r($.getRootNode())}function o($){return $ instanceof t($).Element}function i($){return $ instanceof t($).HTMLCanvasElement}function l($){return $ instanceof t($).HTMLElement}function c($){return $ instanceof t($).HTMLImageElement}function f($){return $ instanceof t($).HTMLInputElement}function h($){return $ instanceof t($).HTMLLinkElement}function g($){return $ instanceof t($).HTMLScriptElement}function y($){return $ instanceof t($).HTMLStyleElement}function w($){return $ instanceof t($).HTMLTextAreaElement}function S($){return a($)&&$ instanceof t($).HTMLSlotElement}function D($){return $ instanceof t($).SVGElement}function I($){return $ instanceof t($).SVGRectElement}function M($){return $.search(/^(data:)/)!==-1}function N($){return isNaN($)||$<=0}function B($){return new Promise(function(he){const se=Nz($.toDataURL().split(",")[1]),ue=se.length,X=new Uint8Array(ue);for(let oe=0;oe<ue;oe++)X[oe]=se.charCodeAt(oe);he(new Blob([X],{type:wn.impl.options.type}))})}function k($){return $.toBlob?new Promise(function(he){$.toBlob(he)}):B($)}function R($,he){const se=document.implementation.createHTMLDocument(),ue=se.createElement("base");se.head.appendChild(ue);const X=se.createElement("a");return se.body.appendChild(X),ue.href=he,X.href=$,X.href}function L(){return`u${$()}${e++}`;function $(){return`0000${(Math.random()*Math.pow(36,4)<<0).toString(36)}`.slice(-4)}}function _($){return $==="data:,"?Promise.resolve():new Promise(function(he,se){const ue=new Image;wn.impl.options.useCredentials&&(ue.crossOrigin="use-credentials"),ue.onload=function(){window&&window.requestAnimationFrame?window.requestAnimationFrame(function(){he(ue)}):he(ue)},ue.onerror=se,ue.src=$})}function V($){let he=wn.impl.urlCache.find(function(se){return se.url===$});return he||(he={url:$,promise:null},wn.impl.urlCache.push(he)),he.promise===null&&(wn.impl.options.cacheBust&&($+=(/\?/.test($)?"&":"?")+new Date().getTime()),wn.impl.options.requestUrl&&/^http/.test($)?he.promise=wn.impl.options.requestUrl({url:$,method:"GET"}).then(se=>new Promise(ue=>{const X=new FileReader;X.onload=function(oe){ue(oe.target.result)},X.readAsDataURL(new Blob([se.arrayBuffer],{type:se.headers["content-type"]}))})).catch(se=>(console.error("cannot fetch resource: "+$+", error: "+se),"")):he.promise=new Promise(function(se){const ue=wn.impl.options.httpTimeout,X=new XMLHttpRequest;if(X.onreadystatechange=De,X.ontimeout=je,X.responseType="blob",X.timeout=ue,wn.impl.options.useCredentials&&(X.withCredentials=!0),wn.impl.options.corsImg&&$.indexOf("http")===0&&$.indexOf(window.location.origin)===-1){const Be=(wn.impl.options.corsImg.method||"GET").toUpperCase()==="POST"?"POST":"GET";X.open(Be,(wn.impl.options.corsImg.url||"").replace("#{cors}",$),!0);let Xe=!1;const Ze=wn.impl.options.corsImg.headers||{};Object.keys(Ze).forEach(function(Ct){Ze[Ct].indexOf("application/json")!==-1&&(Xe=!0),X.setRequestHeader(Ct,Ze[Ct])});const st=Re(wn.impl.options.corsImg.data||"");Object.keys(st).forEach(function(Ct){typeof st[Ct]=="string"&&(st[Ct]=st[Ct].replace("#{cors}",$))}),X.send(Xe?JSON.stringify(st):st)}else X.open("GET",$,!0),X.send();let oe;if(wn.impl.options.imagePlaceholder){const Be=wn.impl.options.imagePlaceholder.split(/,/);Be&&Be[1]&&(oe=Be[1])}function De(){if(X.readyState!==4)return;if(X.status>=300){oe?se(oe):Fe(`cannot fetch resource: ${$}, status: ${X.status}`);return}const Be=new FileReader;Be.onloadend=function(){se(Be.result)},Be.readAsDataURL(X.response)}function je(){oe?se(oe):Fe(`timeout of ${ue}ms occured while fetching resource: ${$}`)}function Re(Be){try{return JSON.parse(JSON.stringify(Be))}catch{Fe("corsImg.data is missing or invalid");return}}function Fe(Be){console.error(Be),se("")}})),he.promise}function U($){return $.replace(/([.*+?^${}()|[]\/\\])/g,"\\$1")}function Z($){return function(he){return new Promise(function(se){setTimeout(function(){se(he)},$)})}}function Q($){const he=[],se=$.length;for(let ue=0;ue<se;ue++)he.push($[ue]);return he}function G($){return $.replace(/%/g,"%25").replace(/#/g,"%23").replace(/\n/g,"%0A")}function re($){const he=fe($,"width");if(!isNaN(he))return he;const se=fe($,"border-left-width"),ue=fe($,"border-right-width");return $.scrollWidth+se+ue}function de($){const he=fe($,"height");if(!isNaN(he))return he;const se=fe($,"border-top-width"),ue=fe($,"border-bottom-width");return $.scrollHeight+se+ue}function fe($,he){if($.nodeType===iI){let se=uw($).getPropertyValue(he);if(se.slice(-2)==="px")return se=se.slice(0,-2),parseFloat(se)}return NaN}}function Hz(){const e=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:a,shouldProcess:t,impl:{readUrls:n,inline:r}};function t(o){return o.search(e)!==-1}function n(o){const i=[];let l;for(;(l=e.exec(o))!==null;)i.push(l[1]);return i.filter(function(c){return!Zt.isDataUrl(c)})}function r(o,i,l,c){return Promise.resolve(i).then(function(h){return l?Zt.resolveUrl(h,l):h}).then(c||Zt.getAndEncode).then(function(h){return o.replace(f(i),`$1${h}$3`)});function f(h){return new RegExp(`(url\\(['"]?)(${Zt.escape(h)})(['"]?\\))`,"g")}}function a(o,i,l){if(c())return Promise.resolve(o);return Promise.resolve(o).then(n).then(function(f){let h=Promise.resolve(o);return f.forEach(function(g){h=h.then(function(y){return r(y,g,i,l)})}),h});function c(){return!t(o)}}}function Uz(){return{resolveAll:e,impl:{readAll:t}};function e(){return t().then(function(n){return Promise.all(n.map(function(r){return r.resolve()}))}).then(function(n){return n.join(`
`)})}function t(){return Promise.resolve(Zt.asArray(document.styleSheets)).then(r).then(n).then(function(o){return o.map(a)});function n(o){return o.filter(function(i){return i.type===CSSRule.FONT_FACE_RULE}).filter(function(i){return jw.shouldProcess(i.style.getPropertyValue("src"))})}function r(o){const i=[];return o.forEach(function(l){if(Object.prototype.hasOwnProperty.call(Object.getPrototypeOf(l),"cssRules"))try{Zt.asArray(l.cssRules||[]).forEach(i.push.bind(i))}catch(c){console.error(`domtoimage: Error while reading CSS rules from ${l.href}`,c.toString())}}),i}function a(o){return{resolve:function(){const l=(o.parentStyleSheet||{}).href;return jw.inlineAll(o.cssText,l)},src:function(){return o.style.getPropertyValue("src")}}}}}function Yz(){return{inlineAll:t,impl:{newImage:e}};function e(n){return{inline:r};function r(a){return Zt.isDataUrl(n.src)?Promise.resolve():Promise.resolve(n.src).then(a||Zt.getAndEncode).then(function(o){return new Promise(function(i){n.onload=i,n.onerror=i,n.src=o})})}}function t(n){if(!Zt.isElement(n))return Promise.resolve(n);return r(n).then(function(){return Zt.isHTMLImageElement(n)?e(n).inline():Promise.all(Zt.asArray(n.childNodes).map(function(a){return t(a)}))});function r(a){const i=["background","background-image"].map(function(l){const c=a.style.getPropertyValue(l),f=a.style.getPropertyPriority(l);return c?jw.inlineAll(c).then(function(h){a.style.setProperty(l,h,f)}):Promise.resolve()});return Promise.all(i).then(function(){return a})}}}function zz(e,t,n,r){const a=["background-clip"].indexOf(t)>=0;r?(e.setProperty(t,n,r),a&&e.setProperty(`-webkit-${t}`,n,r)):(e.setProperty(t,n),a&&e.setProperty(`-webkit-${t}`,n))}function Vz(e,t,n,r,a){const o=wn.impl.options.copyDefaultStyles?$z(e,t):{},i=a.style;Zt.asArray(n).forEach(function(l){const c=n.getPropertyValue(l),f=o[l],h=r?r.getPropertyValue(l):void 0;if(c!==f||r&&c!==h){const g=n.getPropertyPriority(l);zz(i,l,c,g)}})}let N0=null,cw={};const Wz=["ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","DETAILS","DIALOG","DD","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","MAIN","NAV","OL","P","PRE","SECTION","SVG","TABLE","UL","math","svg","BODY","HEAD","HTML"];function $z(e,t){const n=l(t),r=c(n);if(cw[r])return cw[r];const a=Zz(),o=f(a.document,n),i=h(a,o);return g(o),cw[r]=i,i;function l(y){const w=[];do{if(y.nodeType===iI){const S=y.tagName;if(w.push(S),Wz.includes(S))break}y=y.parentNode}while(y);return w}function c(y){return e.styleCaching==="relaxed"?y.filter((w,S,D)=>S===0||S===D.length-1).join(">"):y.join(">")}function f(y,w){let S=y.body;do{const D=w.pop(),I=y.createElement(D);S.appendChild(I),S=I}while(w.length>0);return S.textContent="‚Äã",S}function h(y,w){const S={},D=y.getComputedStyle(w);return Zt.asArray(D).forEach(function(I){S[I]=I==="width"||I==="height"?"auto":D.getPropertyValue(I)}),S}function g(y){do{const w=y.parentElement;w!==null&&w.removeChild(y),y=w}while(y&&y.tagName!=="BODY")}}function Zz(){if(Ci)return Ci.contentWindow;const e=document.characterSet||"UTF-8",t=document.doctype,n=t?`<!DOCTYPE ${r(t.name)} ${r(t.publicId)} ${r(t.systemId)}`.trim()+">":"";return Ci=document.createElement("iframe"),Ci.id="domtoimage-sandbox-"+Zt.uid(),Ci.className="domtoimage-thino",Ci.style.visibility="hidden",Ci.style.position="fixed",document.body.appendChild(Ci),a(Ci,n,e,"domtoimage-sandbox");function r(o){if(o){const i=document.createElement("div");return i.innerText=o,i.innerHTML}else return""}function a(o,i,l,c){try{return o.contentWindow.document.write(`${i}<html><head><meta charset='${l}'><title>${c}</title></head><body></body></html>`),o.contentWindow}catch{}const f=document.createElement("meta");f.setAttribute("charset",l);try{const h=document.implementation.createHTMLDocument(c);h.head.appendChild(f);const g=i+h.documentElement.outerHTML;return o.setAttribute("srcdoc",g),o.contentWindow}catch{}return o.contentDocument.head.appendChild(f),o.contentDocument.title=c,o.contentWindow}}function qz(){Ci&&(document.body.removeChild(Ci),Ci=null),N0&&clearTimeout(N0),N0=setTimeout(()=>{N0=null,cw={}},20*1e3)}async function Gz(e,t,n){return await wn.toCanvas(e,{width:e.clientWidth,height:e.clientHeight,quality:1,scale:t?2:1,requestUrl:x.requestUrl,type:n})}const kb=async(e,t)=>(await Gz(e,!0,"image/jpeg")).toDataURL(),Bx=async e=>{e.startsWith("http")&&(e=await Sf(e));const t=e.split("base64,")[1],n=gb(t,"image/png");await i9(n),new x.Notice(E("Send to clipboard successfully"))},Jz=async(e,t)=>{const n=await e.vault.adapter.exists(t);let r="";if(n)r=t;else{const l=e.metadataCache.getFirstLinkpathDest(t,"");if(!l){new x.Notice(E("File not exist"));return}r=l.path}const a=await e.vault.adapter.readBinary(r),o=new Uint8Array(a),i=new Blob([o],{type:"image/png"});await i9(i)},i9=async e=>{const t=new ClipboardItem({"image/png":e});await window.navigator.clipboard.write([t])},Hx=1.1,Ux=300,Yx=20,Kz=({destroy:e,imgUrl:t,filepath:n,otherIMGEls:r,currentIndex:a})=>{const o=P.useRef(null),[i,l]=P.useState(-1),c=Le.getState().dailyNotesState.app,[f,h]=P.useState(a),[g,y]=P.useState(t),w={close:P.useRef(null),previous:P.useRef(null),next:P.useRef(null),decrease:P.useRef(null),increase:P.useRef(null),zoom:P.useRef(null),copy:P.useRef(null)};P.useEffect(()=>{!n&&!t||(x.setIcon(w.close.current,"x"),w.previous.current&&x.setIcon(w.previous.current,"arrow-left"),w.next.current&&x.setIcon(w.next.current,"arrow-right"),x.setIcon(w.decrease.current,"zoom-out"),x.setIcon(w.increase.current,"zoom-in"),x.setIcon(w.zoom.current,"circle"),x.setIcon(w.copy.current,"clipboard"))},[w]),P.useEffect(()=>{ut.getImageSize(g).then(({width:L})=>{l(L!==0?40:0)})},[g]);const S=()=>{let L=f-1;L<0&&(L=r.length-1),h(L),y(r[L].src)},D=()=>{let L=f+1;L>=r.length&&(L=0),h(L),y(r[L].src)},I=()=>{e()},M=()=>{i>30&&l(i-10)},N=()=>{l(i+10)},B=L=>{L.target!==o.current&&L.target===o.current.parentElement&&I()},k=L=>{if(L.ctrlKey){L.preventDefault();const _=o.current,V=L.nativeEvent.offsetX,U=L.nativeEvent.offsetY,Z=V/_.clientWidth,Q=U/_.clientHeight;let G;L.deltaY>0?G=i/Hx:G=i*Hx,G>Ux?G=Ux:G<Yx&&(G=Yx);const re=i;l(G);const de=L.currentTarget;de.scrollLeft+=(G-re)*Z,de.scrollTop+=(G-re)*Q}else L.deltaX!==0&&(L.currentTarget.scrollLeft+=L.deltaX)},R=async()=>{if(g&&!n)await Bx(t);else if(n){const _=r[f].parentElement.getAttribute("src");if(!_){await Bx(g);return}await Jz(c,_)}};return v.jsxs(v.Fragment,{children:[v.jsx("button",{ref:w.close,className:"btn close-btn",onClick:I}),v.jsxs("div",{className:"img-container internal-embed image-embed is-loaded",onClick:B,onWheel:k,children:[v.jsx("img",{className:i<=0?"thino-hidden":"",ref:o,height:i+"%",src:g}),v.jsx("span",{className:"loading-text "+(i===-1?"":"thino-hidden"),children:E("Image is loading...")}),v.jsx("span",{className:"loading-text "+(i===0?"":"thino-hidden"),children:E("üòü Cannot load image, image link maybe broken")})]}),v.jsxs("div",{className:"action-btns-container",children:[r&&(r==null?void 0:r.length)>1&&v.jsxs(v.Fragment,{children:[v.jsx("button",{ref:w.previous,className:"btn",onClick:S}),v.jsx("button",{ref:w.next,className:"btn",onClick:D})]}),v.jsx("button",{ref:w.decrease,className:"btn",onClick:M}),v.jsx("button",{ref:w.increase,className:"btn",onClick:N}),v.jsx("button",{ref:w.zoom,className:"btn",onClick:()=>l(80)}),v.jsx("button",{ref:w.copy,className:"btn",onClick:R})]})]})};function Nb({imgUrl:e,filepath:t,otherIMGEls:n,currentIndex:r}){Db({className:"preview-image-dialog"},Kz,{...{imgUrl:e,otherIMGEls:n,currentIndex:r},filepath:t})}var Qz=class extends Error{constructor(e){super(`react-collapsed: ${e}`)}},Lw=(...e)=>(e[0],`${e[1]}`,void 0);function s9(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useCallback((...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Xz(e,t,n){const[r,a]=P.useState(t),o=P.useRef(typeof e<"u"),i=o.current?e:r,l=s9(n),c=P.useCallback(f=>{const g=typeof f=="function"?f(i):f;o.current||a(g),l==null||l(g)},[l,i]);return P.useEffect(()=>{Lw(!(o.current&&e==null),"`isExpanded` state is changing from controlled to uncontrolled. useCollapse should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled collapse for the lifetime of the component. Check the `isExpanded` prop."),Lw(!(!o.current&&e!=null),"`isExpanded` state is changing from uncontrolled to controlled. useCollapse should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled collapse for the lifetime of the component. Check the `isExpanded` prop.")},[e]),[i,c]}var eV="(prefers-reduced-motion: reduce)";function tV(){const[e,t]=P.useState(!1);return P.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const n=window.matchMedia(eV);t(n.matches);const r=a=>{t(a.matches)};if(n.addEventListener)return n.addEventListener("change",r),()=>{n.removeEventListener("change",r)};if(n.addListener)return n.addListener(r),()=>{n.removeListener(r)}},[]),e}var nV=XL.useId||(()=>{});function rV(){return nV()??""}var aV=typeof window<"u"?P.useLayoutEffect:P.useEffect,LS=!1,oV=0,zx=()=>++oV;function iV(e){const t=e||(LS?zx():null),[n,r]=P.useState(t);return aV(()=>{n===null&&r(zx())},[]),P.useEffect(()=>{LS===!1&&(LS=!0)},[]),n!=null?String(n):void 0}function sV(e){const t=rV(),n=iV(e);return typeof e=="string"?e:typeof t=="string"?t:n}function lV(e,t){const n=performance.now(),r={};function a(){r.id=requestAnimationFrame(o=>{o-n>t?e():a()})}return a(),r}function Vx(e){e.id&&cancelAnimationFrame(e.id)}function Wx(e){return e!=null&&e.current?e.current.scrollHeight:(Lw(!0,"Was not able to find a ref to the collapse element via `getCollapseProps`. Ensure that the element exposes its `ref` prop. If it exposes the ref prop under a different name (like `innerRef`), use the `refKey` property to change it. Example:\n\nconst collapseProps = getCollapseProps({refKey: 'innerRef'})"),0)}function uV(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function cV(e,t){if(e!=null)if(typeof e=="function")e(t);else try{e.current=t}catch{throw new Qz(`Cannot assign value "${t}" to ref "${e}"`)}}function $x(...e){return e.every(t=>t==null)?null:t=>{e.forEach(n=>{cV(n,t)})}}function dV(e){let t=n=>{};t=n=>{if(!(n!=null&&n.current))return;const{paddingTop:r,paddingBottom:a}=window.getComputedStyle(n.current);Lw(!(r&&r!=="0px"||a&&a!=="0px"),`Padding applied to the collapse element will cause the animation to break and not perform as expected. To fix, apply equivalent padding to the direct descendent of the collapse element. Example:

Before:   <div {...getCollapseProps({style: {padding: 10}})}>{children}</div>

After:   <div {...getCollapseProps()}>
             <div style={{padding: 10}}>
                 {children}
             </div>
          </div>`)},P.useEffect(()=>{t(e)},[e])}var fV=typeof window>"u"?P.useEffect:P.useLayoutEffect;function hV({duration:e,easing:t="cubic-bezier(0.4, 0, 0.2, 1)",onTransitionStateChange:n=()=>{},isExpanded:r,defaultExpanded:a=!1,hasDisabledAnimation:o,id:i,...l}={}){const c=s9(n),f=sV(i?`${i}`:void 0),[h,g]=Xz(r,a),y=P.useRef(h),[w,S]=P.useState(!1),D=tV(),I=o??D,M=P.useRef(),N=P.useRef(),B=P.useRef(null),[k,R]=P.useState(null);dV(B);const L=`${l.collapsedHeight||0}px`;function _(V){if(!B.current)return;const U=B.current;for(const Z in V){const Q=V[Z];Q?U.style[Z]=Q:U.style.removeProperty(Z)}}return fV(()=>{if(!B.current||h===y.current)return;y.current=h;function U(G){return I?0:e??uV(G)}const Z=G=>`height ${U(G)}ms ${t}`,Q=G=>{function re(){h?(_({height:"",overflow:"",transition:"",display:""}),c("expandEnd")):(_({transition:""}),c("collapseEnd")),S(!1)}N.current&&Vx(N.current),N.current=lV(re,G)};return S(!0),h?M.current=requestAnimationFrame(()=>{c("expandStart"),_({display:"block",overflow:"hidden",height:L}),M.current=requestAnimationFrame(()=>{c("expanding");const G=Wx(B);Q(U(G)),B.current&&(B.current.style.transition=Z(G),B.current.style.height=`${G}px`)})}):M.current=requestAnimationFrame(()=>{c("collapseStart");const G=Wx(B);Q(U(G)),_({transition:Z(G),height:`${G}px`}),M.current=requestAnimationFrame(()=>{c("collapsing"),_({height:L,overflow:"hidden"})})}),()=>{M.current&&cancelAnimationFrame(M.current),N.current&&Vx(N.current)}},[h,L,I,e,t,c]),{isExpanded:h,setExpanded:g,getToggleProps(V){const{disabled:U,onClick:Z,refKey:Q,...G}={refKey:"ref",onClick(){},disabled:!1,...V},re=k?k.tagName==="BUTTON":void 0,de=V==null?void 0:V[Q||"ref"],fe={id:`react-collapsed-toggle-${f}`,"aria-controls":`react-collapsed-panel-${f}`,"aria-expanded":h,onClick(se){U||(Z==null||Z(se),g(ue=>!ue))},[Q||"ref"]:$x(de,R)},$={type:"button",disabled:U?!0:void 0},he={"aria-disabled":U?!0:void 0,role:"button",tabIndex:U?-1:0};return re===!1?{...fe,...he,...G}:re===!0?{...fe,...$,...G}:{...fe,...$,...he,...G}},getCollapseProps(V){const{style:U,refKey:Z}={refKey:"ref",style:{},...V},Q=V==null?void 0:V[Z||"ref"];return{id:`react-collapsed-panel-${f}`,"aria-hidden":!h,"aria-labelledby":`react-collapsed-toggle-${f}`,role:"region",...V,[Z||"ref"]:$x(B,Q),style:{boxSizing:"border-box",...!w&&!h?{display:L==="0px"?"none":"block",height:L,overflow:"hidden"}:{},...U}}}}}const pV=e=>{const{dailyNotesState:{app:t,view:n,settings:r},globalState:{memoListView:a}}=P.useContext(Lt),{getCollapseProps:o,getToggleProps:i,isExpanded:l,setExpanded:c}=hV({defaultExpanded:!0,collapsedHeight:(r==null?void 0:r.ThinoCollapsedHeight)??100}),{memo:f,handleMemoContentClick:h,handleMemoDoubleClick:g}=e,y=ne.useRef(null),[w,S]=ne.useState(""),D=ne.useRef(w),I=ne.useRef(0),[M,N]=ne.useState(!1),[B,k]=ne.useState(!1),R=x.debounce((_,V,U)=>{for(const Z of _){const{height:Q}=Z.contentRect,G=(V==null?void 0:V.ThinoMaxHeight)||340,re=Q>G;N(re),c(!re),U.disconnect()}},500);P.useEffect(()=>{var _;if(f.content!==D.current){if(r!=null&&r.OptimizeForCallout&&f.content.split("> [!").length>3&&f.content.split(`
`).length>10&&!B){const V=y.current.createEl("button");V.setText(E("Render content")),V.onclick=async()=>{k(!0),await L()};const U=y.current.createEl("textarea");U.setText(f.content),U.disabled=!0,(_=y.current)==null||_.toggleClass(["raw-content"],!0),c(!0),N(!1);return}L()}},[f.content]),P.useEffect(()=>{B&&I.current!==(r==null?void 0:r.ThinoMaxHeight)&&(y!=null&&y.current.hasChildNodes()&&k(!1),L())},[r==null?void 0:r.ThinoMaxHeight]),P.useEffect(()=>{if(!B)return;const _=y.current;if(!_)return;if(!(r!=null&&r.ThinoMaxHeight)){c(!0),N(!1);return}const V=new ResizeObserver(U=>{R(U,r,V)});return V.observe(_),()=>V.disconnect()},[B]);const L=async()=>{var _,V,U;if(y.current&&n&&t&&f.content!==D.current){y.current.empty(),await x.MarkdownRenderer.render(t,f.content,y.current,f.path,n);const Z=(_=y.current)==null?void 0:_.querySelectorAll(".internal-link");Z==null||Z.forEach(Q=>{const G=Q,re=G.getAttribute("data-href");if(!re)return;t.metadataCache.getFirstLinkpathDest(re,f.path)||Q.classList.add("is-unresolved"),G.addEventListener("mouseover",fe=>{fe.stopPropagation(),t.workspace.trigger("hover-link",{event:fe,source:"thino",hoverParent:n.containerEl,targetEl:G,linktext:re,sourcePath:G.href})})})}D.current=f.content,(V=y.current)==null||V.toggleClass(["markdown-rendered"],!0),(U=y.current)==null||U.toggleClass(["raw-content"],!1),k&&k(!0),I.current=(r==null?void 0:r.ThinoMaxHeight)||340};return v.jsxs(v.Fragment,{children:[M&&a==="moments"&&v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"thino-collapse-button",...i({style:{display:"block",marginTop:2}}),children:E(l?"Collapse":"Expand")}),!l&&(r==null?void 0:r.ThinoCollapsedHeight)!==0&&v.jsx("div",{className:"thino-collapse-shadowOverlay",onDoubleClick:g})]}),v.jsx("div",{...o({style:{margin:0}}),ref:y,className:"memo-content-text",onClick:_=>h(_,f),onDoubleClick:g,onContextMenu:_=>{_.preventDefault()}}),M&&a!=="moments"&&v.jsxs(v.Fragment,{children:[!l&&(r==null?void 0:r.ThinoCollapsedHeight)!==0&&v.jsx("div",{className:"thino-collapse-shadowOverlay",onDoubleClick:g}),v.jsx("button",{className:"thino-collapse-button",...i({style:{display:"block",marginTop:2}}),children:E(l?"Collapse":"Expand")})]})]})},l9=P.memo(pV,(e,t)=>e.memo.content===t.memo.content),mV=e=>{const[t,n]=P.useState({...e.memo,createdAtStr:ut.getDateTimeString(e.memo.createdAt)}),[r,a]=P.useState([]),[o,i]=P.useState([]);P.useEffect(()=>{(async()=>{try{const g=[],y=[...t.content.matchAll(ad)];for(const S of y)if(S&&S.length===3){const D=S[2],I=we.getMemoById(D);I&&g.push({...I,createdAtStr:ut.getDateTimeString(I.createdAt),dateStr:ut.getDateString(I.createdAt)})}a([...g]);const w=await we.getLinkedMemos(t.id);i(w.sort((S,D)=>ut.getTimeStampByDate(D.createdAt)-ut.getTimeStampByDate(S.createdAt)).map(S=>({...S,createdAtStr:ut.getDateTimeString(S.createdAt),dateStr:ut.getDateString(S.createdAt)})))}catch(g){console.error(g)}})()},[t.id]);const l=P.useCallback(async h=>{var y;const g=h.target;if(g.className==="memo-link-text"){const w=(y=g.dataset)==null?void 0:y.value,S=we.getMemoById(w??"");if(S){const D={...S,createdAtStr:ut.getDateTimeString(S.createdAt)};a([]),i([]),n(D)}else new x.Notice(E("Thino not found")),g.classList.remove("memo-link-text")}},[]),c=P.useCallback(h=>{a([]),i([]),n({...h,createdAtStr:ut.getDateTimeString(h.createdAt)})},[t.id]),f=P.useCallback(()=>{e.destroy(),dt.setEditMemoId(t.id)},[t.id]);return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"memo-card-container",children:[v.jsxs("div",{className:"header-container",children:[v.jsx("span",{className:"time-text",children:t.createdAtStr}),v.jsxs("div",{className:"btns-container",children:[v.jsx("button",{ref:h=>{h&&x.setIcon(h,"edit")},className:"btn edit-btn",onClick:f}),v.jsx("button",{ref:h=>{h&&x.setIcon(h,"x")},className:"btn close-btn",onClick:e.destroy})]})]}),v.jsx("div",{className:"memo-container",children:v.jsx("div",{className:"memo-content-text",children:v.jsx(l9,{memo:t,handleMemoContentClick:l,handleMemoDoubleClick:()=>{}})})}),v.jsx("div",{className:"layer-container"})]}),r.length>0?v.jsxs("div",{className:"linked-memos-wrapper",children:[v.jsxs("span",{className:"normal-text",children:[E("LINKED")," ",r.length," THINO"," "]}),r.map(h=>{const g=AC(dT(h.content)).replaceAll(`
`," ");return v.jsxs("div",{className:"linked-memo-container",onClick:()=>c(h),children:[v.jsxs("span",{className:"time-text",children:[h.dateStr," "]}),g]},h.id)})]}):null,o.length>0?v.jsxs("div",{className:"linked-memos-wrapper",children:[v.jsxs("span",{className:"normal-text",children:[o.length," THINO ",E("LINK TO THE")," THINO"]}),o.map(h=>{const g=AC(dT(h.content)).replaceAll(`
`," ");return v.jsxs("div",{className:"linked-memo-container",onClick:()=>c(h),children:[v.jsxs("span",{className:"time-text",children:[h.dateStr," "]}),g]},h.id)})]}):null]})};function Df(e){Db({className:"memo-card-dialog"},mV,{memo:e})}function gV({mouseEnterDelayMS:e=0,mouseLeaveDelayMS:t=0}={}){const[n,r]=P.useState(!1);let a,o;return[n,{onMouseEnter:()=>{clearTimeout(o),a=window.setTimeout(()=>r(!0),e)},onMouseLeave:()=>{clearTimeout(a),o=window.setTimeout(()=>r(!1),t)}}]}const vV=e=>{const{memo:t,handlePinMemoClick:n,handleFixMemoClick:r,handleSourceMemoClick:a,handleShowMemoStoryDialog:o,handleCopyMemoClick:i,handleEditMemoClick:l,handleGenMemoImageBtnClick:c,handleMarkMemoClick:f,handleArchiveMemo:h,handleDeleteMemoClick:g,handleSplitMemoClick:y}=e,w=Le.getState().dailyNotesState.settings,S=w.EnabledLocationList.find(U=>U.value==="MULTI"),[D,I]=Xl(!1),M=P.useRef(null),N={pinRef:P.useRef(null),fixRef:P.useRef(null),typeRef:P.useRef(null),moreRef:P.useRef(null)},[B,k]=gV({mouseEnterDelayMS:500}),R=P.useRef();P.useEffect(()=>{if(!N.typeRef)return;const U=Qg.find(Z=>Z.title===t.sourceType);x.setIcon(N.typeRef.current,U.icon),x.requireApiVersion("1.4.4")&&x.setTooltip(N.typeRef.current,t.path),N.fixRef&&(x.setIcon(N.fixRef.current,"shield-alert"),x.requireApiVersion("1.4.4")&&x.setTooltip(N.fixRef.current,"Update Thino property"))},[N.typeRef]),P.useEffect(()=>{N.pinRef&&(t.pinned?(x.setIcon(N.pinRef.current,"pin-off"),x.requireApiVersion("1.4.4")&&x.setTooltip(N.pinRef.current,E("UNPIN"))):(x.setIcon(N.pinRef.current,"pin"),x.requireApiVersion("1.4.4")&&x.setTooltip(N.pinRef.current,E("PIN"))))},[N.pinRef,t.pinned]);const L=x.debounce(()=>{var U;if(B&&N.moreRef.current){if(R.current&&R.current._loaded||(U=R.current)!=null&&U.useNativeMenu||document.body.find(".more-action-btns-wrapper"))return;const Z=_(),Q=N.moreRef.current.getBoundingClientRect();Z.showAtPosition({x:Q.left,y:Q.bottom})}},200);P.useEffect(()=>{L()},[B]);const _=()=>{var Z;const U=new x.Menu;return U.dom.toggleClass(["more-action-btns-wrapper"],!0),U.useNativeMenu?(U.setNoIcon(),U.addItem(Q=>{Q.setTitle(E("COPY")).onClick(i)}),U.addItem(Q=>{Q.setTitle(E("EDIT")).onClick(l)}),U.addItem(Q=>{Q.setTitle(E("SHARE")).onClick(c)})):U.addItem(Q=>{const G=Q.dom;Q.dom.empty(),Q.dom.toggleClass(["more-action-btn-group","more-action-menu-item"],!0);const re=G.createEl("span");new x.ExtraButtonComponent(re).setIcon("copy"),re.toggleClass(["menu-item-icon","more-action-item-icon"],!0),re.onclick=$=>{$.stopPropagation(),$.preventDefault(),i(),U.close()};const de=G.createEl("span");de.toggleClass(["menu-item-icon","more-action-item-icon"],!0),de.onclick=$=>{$.stopPropagation(),$.preventDefault(),l(),U.close()},new x.ExtraButtonComponent(de).setIcon("pencil");const fe=G.createEl("span");fe.toggleClass(["menu-item-icon","more-action-item-icon"],!0),fe.onclick=$=>{$.stopPropagation(),$.preventDefault(),c(),U.close()},new x.ExtraButtonComponent(fe).setIcon("share-2")}),U.addSeparator(),U.addItem(Q=>{Q.setIcon("book-open").setTitle(E("READ")).onClick(o)}),U.addItem(Q=>{Q.setIcon("bookmark").setTitle(E("MARK")).onClick(f)}),((Z=/(^|\n)#{1,6}\s/g.exec(t.content))==null?void 0:Z.length)>1&&S&&U.addItem(Q=>{Q.setIcon("separator-horizontal").setTitle(E("SPLIT")).onClick(y)}),U.addItem(Q=>{Q.setIcon("home").setTitle(E("SOURCE")).onClick(()=>a(t))}),U.addSeparator(),U.addItem(Q=>{Q.setWarning(!0).setIcon("archive").setTitle(E("ARCHIVE").toUpperCase()).onClick(()=>h(t))}),U.addItem(Q=>{Q.setWarning(!0).setIcon("trash").setTitle(w.DeleteThinoDirectly?E("DELETE"):E("TRASH BOX").toUpperCase().toUpperCase()).onClick(G=>{if(U.useNativeMenu)g(G),U.close();else if(G.stopPropagation(),G.preventDefault(),!D){I(!0),Q.setTitle(E("CONFIRMÔºÅ")).onClick(re=>{g(re),U.close()});return}})}),U.addSeparator(),U.addItem(Q=>{Q.setDisabled(!0).setTitle(ut.getWordCount(t.content.replace(/```[^\S\r\n]*[a-z]*\n.*?\n```/g,""))+` ${E("words")}`)}),U.onHide(()=>{I(!1)}),R.current=U,U},V=U=>{_().showAtMouseEvent(U.nativeEvent)};return v.jsx("div",{ref:M,className:"memo-top-right-wrapper",children:v.jsxs("div",{className:"btns-container",children:[v.jsx("span",{ref:N.fixRef,className:`btn ${t.sourceType!=="MULTI"||t.id!==""?"thino-hidden":""} fix-memo-btn`,onClick:()=>r(t)}),v.jsx("span",{ref:N.typeRef,className:`btn ${t.sourceType==="DAILY"?"thino-hidden":""} source-type-btn`,onClick:()=>a(t)}),v.jsx("span",{ref:N.pinRef,className:`btn ${e.memo.pinned?"pinned-btn":"unpinned-btn"} pro`,onClick:n}),v.jsx("span",{...k,ref:U=>{N.moreRef.current=U,U&&x.setIcon(U,"more-horizontal")},onClick:V,className:"btn more-action-btn"})]})})},yV=e=>{var i,l,c;const{memo:t,handleMemoTypeToggle:n,handleShowMemoStoryDialog:r,settings:a}=e,o=((l=(i=t.fileInfo)==null?void 0:i.frontmatter)==null?void 0:l.title)||t.path.split("/").pop().split(".").shift();return v.jsxs("div",{className:"memo-top-left-wrapper",children:[e.children,v.jsx("span",{title:t.createdAt,className:"time-text",onClick:r,children:t.createdAt}),v.jsx("div",{className:`btn memo-type-img ${a!=null&&a.ShowTaskLabel?"":"thino-hidden"}`,onClick:n,children:t.thinoType!=="JOURNAL"&&v.jsx("input",{className:"task-list-item-checkbox",type:"checkbox",checked:t.thinoType!=="TASK-TODO","data-task":t.thinoType==="TASK-TODO"?"":t.thinoType==="TASK-DONE"?"x":(c=t.thinoType)==null?void 0:c.slice(5)})}),(a==null?void 0:a.ShowSourcePath)&&(t.sourceType==="FILE"||t.sourceType==="MULTI")&&v.jsx("span",{className:"time-text source-path","aria-label":o,onClick:()=>{at.setPathQuery(o)},children:o})]})};class wV extends x.SuggestModal{constructor(t,n){super(t),this.thino=n}sanitisedFileName(t){const n=mR;return t.replace(n,"").trim().slice(0,255)}ensureUniqueFileNames(t){const n=[];return t.map(a=>{const o=this.sanitisedFileName(a[0]),i=n.filter(l=>l==o);return n.push(o),i.length>=1?`${o}${i.length+1}`:o})}contentSplitByHeading(t,n){const r=t.split(`
`),a=new Array(n).join("#")+" ",o=new Array(n+1).join("#")+" ",i=[];let l=[];return r.forEach((c,f)=>{c.startsWith(o)?(l.length>0&&(i.push(l),l=[]),l.push(c)):l.length>0&&!c.startsWith(a)?l.push(c):l.length>0&&(i.push(l),l=[]),f===r.length-1&&l.length>0&&i.push(l)}),i}onChooseSuggestion(t,n){this.selectSuggestion(t,n)}renderSuggestion(t,n){n.setText(t.title)}getSuggestions(){return[{id:"splitByHeading1",title:E("Split by Heading 1")},{id:"splitByHeading2",title:E("Split by Heading 2")},{id:"splitByHeading3",title:E("Split by Heading 3")}]}async selectSuggestion(t,n){let r=[];if(t.id==="splitByHeading1"?r=this.contentSplitByHeading(this.thino.content,1):t.id==="splitByHeading2"?r=this.contentSplitByHeading(this.thino.content,2):t.id==="splitByHeading3"&&(r=this.contentSplitByHeading(this.thino.content,3)),r.length===0){new x.Notice("No headings found"),this.close();return}const a=this.ensureUniqueFileNames(r);for(const l of r){const c=r.indexOf(l),f=await we.createThino({content:l.join(`
`),name:a[c],type:"MULTI",isList:!0});we.pushMemo(f)}let o=this.thino.content;r.forEach((l,c)=>{o=o.replace(l.join(`
`),`[[${a[c]}]]`)});const i=await we.updateMemo(this.thino.id,o);i&&we.editMemo(i),this.close()}}const bV=async(e,t,n)=>{const r=n.getAttribute("href"),a=n.className;if(a.contains("tag"))SV(n.innerText.slice(1));else if(a.contains("internal-link")){const o=n.getAttribute("data-href"),i=we.getMemoById(o??"");i?Df(i):await e.workspace.openLinkText(o,o,!x.Platform.isMobile&&t.navigation!==!0)}else r&&window.open(r,"_blank")},SV=e=>{const t=at.getState().query.tag;at.setTagQuery(t.contains(",")?t.split(",").includes(e)?t.split(",").filter(n=>n!==e).join(","):t+","+e:t===e?"":e)},DV=(e,t)=>{const n=t==null?void 0:t.getAttribute("src"),r=t==null?void 0:t.parentElement.getAttribute("src"),a=[...(e==null?void 0:e.querySelectorAll("img"))||[]],o=a.indexOf(t);Nb({imgUrl:n,filepath:n.startsWith("app")?r:void 0,otherIMGEls:a,currentIndex:o})},TV=e=>{var r;const t=(r=e.dataset)==null?void 0:r.value,n=we.getMemoById(t??"");n?Df(n):(new x.Notice("Thino Not Found"),e.classList.remove("memo-link-text"))},IV=async(e,t,n,r)=>{var l;const a=e!=null&&e.AppendDateWhenTaskDone?" ‚úÖ "+x.moment().format("YYYY-MM-DD"):"",o=((l=r.parentElement.dataset)==null?void 0:l.task)==="x"?"DONE":"TODO",i=[...(n==null?void 0:n.querySelectorAll("li.task-list-item"))||[]];for(const c of i)if(c===r||c===r.closest("li.task-list-item")){const f=i.indexOf(c),h=t.content.split(/\n/),g=[];for(let M=0;M<h.length;M++)/^\s*(-|\*|\d+\.)\s\[.\]\s/.test(h[M])&&g.push(M);const y=g[f],w=h[y],S=w.match(/^\s*(-|\*|\d+\.)\s\[.\]\s/)[0];let D=w.replace(/^\s*(-|\*|\d+\.)\s\[.\]\s/,S.replace(/\[.\]/,o==="TODO"?"[x]":"[ ]"))+(o==="TODO"?a:"");e.AppendDateWhenTaskDone&&o!=="TODO"&&(D=D.replace(/ ‚úÖ \d{4}-\d{2}-\d{2}/g,"")),h[y]=D;const I=h.join(`
`).trim();if(t&&t.content!==I){const M=await we.updateMemo(t.id,I);we.editMemo(M)}}},EV=e=>{const{globalState:{editMemoId:t},dailyNotesState:{app:n,view:r,settings:a,verifyState:o},locationState:{pathname:i}}=P.useContext(Lt),{memo:l,type:c="inline"}=e,f=P.useRef(null),h=P.useRef(null),[g,y]=P.useState(!1);P.useEffect(()=>{g&&setTimeout(()=>{dt.setEditMemoId(l.id)},100)},[g]),P.useEffect(()=>{(i==="/review"||i==="/daily")&&t!==l.id&&g&&y(!1)},[t]);const w=$=>{if($.ctrlKey||$.metaKey){const he=x.moment(l.createdAt,"YYYY/MM/DD HH:mm:ss");at.setFromAndToQuery(he.startOf("day").valueOf(),he.endOf("day").valueOf());return}Df(l)},S=()=>{if(a!=null&&a.UseButtonToShowEditor&&(a==null?void 0:a.DefaultEditorLocation)==="Bottom"){const $=document.querySelector("div[data-type='thino_view'] .view-content .memo-show-editor-button:not(.thino-hidden)");$&&$.trigger("click")}dt.setMarkMemoId(l.id)},D=async()=>{var se;const $=!x.Platform.isDesktop&&await((se=window.Capacitor)==null?void 0:se.Plugins.Device.getId()),he=x.Platform.isDesktop?await cr():$.identifier||$.uuid;if(!o||(o==null?void 0:o.appId)!==he){fn();return}l.pinned?await we.unpinMemoById(l.id):await we.pinMemoById(l.id)},I=()=>{if(a!=null&&a.UseButtonToShowEditor&&(a==null?void 0:a.DefaultEditorLocation)==="Bottom"&&x.Platform.isMobile){const $=document.querySelector("div[data-type='thino_view'] .view-content .memo-show-editor-button:not(.thino-hidden)");$&&$.trigger("click")}(i==="/review"||i==="/daily")&&y(!0),i!=="/review"&&i!=="/daily"&&dt.setEditMemoId(l.id)},M=async $=>{$.sourceType==="MULTI"&&$.id.trim()===""&&await we.updateMemoProperty($)},N=async $=>{await we.openThinoByID($.id)},B=async $=>{try{const he=await we.archiveMemo($);he&&we.editMemo(he)}catch(he){console.error(he),new x.Notice(he.message)}},k=async()=>{try{if(a.DeleteThinoDirectly)await we.deleteMemoById(l.id);else{const $=await we.hideMemoById(l.id);$&&we.editMemo($)}}catch($){new x.Notice($.message)}dt.getState().editMemoId===l.id&&dt.setEditMemoId("")},R=()=>{if(h.current&&!h.current.confirmStatus){h.current&&h.current.toggleConfirm(!1);return}},L=()=>{uf(l)},_=async()=>{const $=await we.updateMemo(l.id,l.content,l.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");$&&we.editMemo($)},V=async()=>{navigator.clipboard.writeText(l.content).then(()=>{new x.Notice(E("COPY SUCCEED"))}).catch(()=>{new x.Notice(E("COPY FAILED"))})},U=async()=>{new wV(n,l).open()},Z=$=>{$&&$.target.tagName!=="INPUT"&&I()},Q=async($,he)=>{$.preventDefault(),$.stopPropagation();const se=$.target;if($.ctrlKey||$.metaKey){await N(he);return}if(se.tagName==="A"){await bV(n,r,se);return}if(se.tagName==="IMG"){DV(f.current,se);return}if(se.tagName==="A"&&se.getAttribute("href")){const ue=se.getAttribute("href");window.open(ue,"_blank");return}if(se.className==="memo-link-text"){TV(se);return}if(se.tagName==="INPUT"&&se.hasClass("task-list-item-checkbox")){await IV(a,he,f.current,se);return}},G=$=>{const he=new x.Menu;he.dom.toggleClass("memo-context-menu",!0);const se=window.getSelection();(se==null?void 0:se.toString().length)>0&&he.addItem(ue=>{ue.setIcon("copy").setTitle(E("Copy selected text")).onClick(()=>{navigator.clipboard.writeText(se.toString()).then(()=>{new x.Notice(E("COPY SUCCEED"))}).catch(()=>{new x.Notice(E("COPY FAILED"))})})}).addSeparator(),he.addItem(ue=>{ue.setIcon("copy").setTitle(E("Copy thino").toLocaleUpperCase()).onClick(async()=>{await V(),he.close()})}).addItem(ue=>{ue.setIcon("book-open").setTitle(E("READ")).onClick(w)}).addItem(ue=>{ue.setIcon(l.pinned?"pin-off":"pin").setTitle(l.pinned?E("UNPIN"):E("PIN")).onClick(D)}).addItem(ue=>{ue.setIcon("bookmark").setTitle(E("MARK")).onClick(S)}).addItem(ue=>{ue.setIcon("share-2").setTitle(E("SHARE")).onClick(L)}).addItem(ue=>{ue.setIcon("pencil").setTitle(E("EDIT")).onClick(I)}).addItem(ue=>{ue.setIcon("home").setTitle(E("SOURCE")).onClick(()=>N(l))}).addSeparator().addItem(ue=>{ue.setIcon("archive").setTitle(E("ARCHIVE").toLocaleUpperCase()).onClick(()=>B(l))}).addItem(ue=>{ue.setIcon("trash").setTitle(E("DELETE")).onClick(async()=>{await k()})}),he.showAtMouseEvent($.nativeEvent)},re=P.useMemo(()=>({memo:l,handlePinMemoClick:D,handleFixMemoClick:M,handleSourceMemoClick:N,handleArchiveMemo:B,handleDeleteMemoClick:k,handleGenMemoImageBtnClick:L,handleMarkMemoClick:S,handleEditMemoClick:I,handleCopyMemoClick:V,handleShowMemoStoryDialog:w,handleSplitMemoClick:U}),[l]),de=P.useMemo(()=>({memo:l,handleMemoTypeToggle:_,handleShowMemoStoryDialog:w,settings:a}),[l,a]),fe=P.useMemo(()=>v.jsxs("div",{ref:f,className:`memo-wrapper ${l.pinned?"pinned":""}`,"data-source-type":l.sourceType,"data-thino-type":l.thinoType,"data-thino-id":l.id,onMouseLeave:R,onMouseOver:$=>{$.shiftKey&&($.stopPropagation(),n.workspace.trigger("hover-link",{event:$,source:"thino",hoverParent:r.containerEl,targetEl:f.current,linktext:l.path,sourcePath:l.path,state:{scroll:l.sourceType==="DAILY"?parseInt(l.id.slice(14)):0}}))},onContextMenu:G,children:[g&&v.jsx(mf,{editorType:"inline"}),!g&&v.jsxs(v.Fragment,{children:[c==="inline"&&v.jsxs("div",{className:"memo-top-wrapper",draggable:!0,onDragStart:$=>{$.target.classList.add("dragging"),$.dataTransfer.setDragImage(f.current,0,0),$.dataTransfer.setData("text/plain",l.content)},onDragEnd:$=>{$.target.classList.remove("dragging")},children:[v.jsx(yV,{...de}),v.jsx(vV,{...re})]}),v.jsx(l9,{memo:l,handleMemoContentClick:Q,handleMemoDoubleClick:Z})]})]}),[l,g]);return v.jsx(v.Fragment,{children:fe})},ai=P.memo(EV,(e,t)=>Cw.isEqual(e.memo,t.memo));class Je extends x.Setting{constructor(n,r){super(n);Se(this,"settingTab");Se(this,"name","");Se(this,"desc","");this.settingTab=r}setName(n){return super.setName(n),this.name=n,this}setDesc(n){return super.setDesc(n),this.desc=n,this}setTab(n){const r=typeof this.name=="string"?this.name:this.name.textContent||"",a=typeof this.desc=="string"?this.desc:this.desc.textContent||"";return this.settingTab.addSettingToMasterSettingsList(n,this.settingEl,r,a),this}}class CV extends x.Modal{constructor(n,r,a,o,i){super(n);Se(this,"plugin");Se(this,"settingTab");Se(this,"target",5);Se(this,"cb");this.app=n,this.settingTab=r,this.plugin=a,this.target=o,this.cb=i}onOpen(){var l;const{contentEl:n}=this;(l=n.parentElement)==null||l.classList.add("memo-save-location-modal"),n.createEl("h3",{text:E("Thino Daily Target")});const r=n.createDiv("modal-setting");new Je(r,this.settingTab).setName(E("Target Thino Count")).addSlider(c=>{c.setDynamicTooltip().setValue(this.target).setLimits(1,30,1).onChange(async f=>{this.target=f})});const a=n.createDiv("button-group"),o=a.createEl("button",{text:E("Cancel")}),i=a.createEl("button",{text:E("Save")});i.onclick=async()=>{this.plugin.settings.MemoDailyTarget=this.target,this.settingTab.applySettingsUpdate(),this.cb(this.target),this.close()},o.onclick=async()=>{this.close()}}onClose(){const{contentEl:n}=this;n.empty()}}const xV=({allStat:e,todayTimeStamp:t,calendarType:n,handleCalendarTypeChange:r})=>{const{dailyNotesState:{app:a,settings:o},globalState:{manifest:i}}=P.useContext(Lt),[l,c]=P.useState(),[f,h]=P.useState(5),[g,y]=P.useState(0),[w,S]=P.useState(0),[D,I]=P.useState(o.HeatmapColorScheme||"default"),M=P.useRef(null),N=P.useRef(null);P.useEffect(()=>{o.HeatmapColorScheme&&I(o.HeatmapColorScheme)},[o.HeatmapColorScheme]),P.useEffect(()=>{let k,R=5;i&&a&&(k=a==null?void 0:a.plugins.getPlugin(i.id),R=k==null?void 0:k.settings.MemoDailyTarget,c(k)),h(R)},[i,a]),P.useEffect(()=>{const k=e.find(_=>_.timestamp===t),R=k?k.count:0;S(R);const L=Math.min(100,R/f*100);y(L)},[e,f]),P.useEffect(()=>{x.requireApiVersion("1.4.4")&&(x.setTooltip(N.current,g.toFixed(2)+"%"),x.setTooltip(M.current,E("Set daily target")+` (${w}/${f})`))},[g,w]),P.useEffect(()=>{M.current&&(M.current.hasChildNodes()||x.setIcon(M.current,"crosshair"),x.requireApiVersion("1.4.4")&&x.setTooltip(N.current,g+"%"))},[M,f]);const B=P.useCallback(()=>{if(!l)return;new CV(a,l==null?void 0:l.settingTab,l,f,R=>{h(R)}).open()},[l,f]);return v.jsx(v.Fragment,{children:v.jsxs("div",{className:`usage-daily-progress-wrapper heatmap-${D}`,children:[v.jsx("div",{ref:N,className:"daily-progress-bar",children:v.jsx("div",{className:"daily-progress-bar-inner",style:{width:`${g}%`}})}),v.jsx("div",{ref:M,className:"daily-progress-target",onClick:B}),v.jsx("div",{ref:k=>{k&&x.setIcon(k,n==="basic"?"layout-grid":"calendar"),k&&x.setTooltip&&x.setTooltip(k,E("Switch calendar type"))},className:"switch-calendar-type-btn",onClick:()=>r&&r(n==="basic"?"heatmap":"basic")})]})})},MV=(e,t)=>{const n=[],r=Math.floor((e-t)/ei);for(let a=0;a<=r;a++)n.push({timestamp:t+ei*a,count:0,list:0});return n},kV=e=>{const{className:t,view:n,datestamp:r,handleDateStampChange:a,handleDateItemClick:o,handleMonthChange:i,dailyStat:l}=e,c=x.moment().startOf("day").valueOf(),[f,h]=P.useState(rp(r)),[g,y]=P.useState(null),[w,S]=P.useState(e.dailyStat);P.useEffect(()=>{h(rp(r));const k=MV(AV(r),rp(r)),R=e.thinos.filter(L=>!L.deletedAt&&L.rowStatus!=="ARCHIVED");for(const L of R){const V=x.moment(L.createdAt,"YYYY/MM/DD HH:mm:ss").startOf("day").diff(x.moment(f).startOf("day"),"days");V>=0&&V<k.length&&(k[V].count+=1,L.thinoType==="JOURNAL"&&(k[V].list+=1))}S(k)},[r,e.thinos]);const D=new Date(f),I=D.getDay(),M=[];for(let k=0;k<I;k++)M.push({date:0,datestamp:D.getTime()-ei*(7-k)});const N=NV(f);for(let k=1;k<=N;k++)M.push({date:k,datestamp:D.getTime()+ei*(k-1)});const B=k=>{const R=D.getFullYear(),L=D.getMonth()+1;let _=0;L===1&&k===-1?_=new Date(`${R-1}/12/1`).getTime():L===12&&k===1?_=new Date(`${R+1}/1/1`).getTime():_=new Date(`${R}/${L+k}/1`).getTime(),h(rp(_)),i&&i(_)};return v.jsxs("div",{className:`heatmap-date-picker-wrapper ${t}`,children:[v.jsxs("div",{className:"date-picker-header",children:[v.jsx("span",{ref:k=>{k&&x.setIcon(k,"chevron-left")},className:"btn btn-text",onClick:()=>B(-1)}),v.jsxs("span",{className:"normal-text",children:[v.jsx(O6,{year:D.getFullYear().toString(),handleYearChange:k=>{h(rp(new Date(`${k}/${D.getMonth()+1}/1`).getTime()))}}),v.jsx(P6,{month:D.getMonth().toString(),handleMonthChange:k=>{h(rp(new Date(`${D.getFullYear()}/${parseInt(k)}/1`).getTime()))}})]}),v.jsx("span",{ref:k=>{k&&x.setIcon(k,"chevron-right")},className:"btn btn-text",onClick:()=>B(1)})]}),v.jsxs("div",{className:"date-picker-day-container",children:[v.jsx("div",{className:"date-picker-day-header",children:E("weekDaysShort").map(k=>v.jsx("span",{className:"day-item",children:k},k))}),v.jsx("div",{className:"date-picker-day-content",children:M.map(k=>{if(k.date===0)return v.jsx("span",{className:"day-item null",children:""},k.datestamp);const R=w.find(V=>V.timestamp===k.datestamp)||{count:0,timestamp:k.datestamp,list:0},L=R.count-R.list,_=R.list;return v.jsxs("span",{className:`day-item ${k.datestamp===c?"current":""} ${k.datestamp===g?"selected":""} ${RS(R.count)}`,onClick:V=>{a(r,V.nativeEvent),y(k.datestamp===g?null:k.datestamp),o&&o(V,R)},onMouseOver:V=>{if(!R||!R.count)return;const U=new x.HoverPopover(n,V.currentTarget,100);u9(U,{d:k,list:_,task:L})},children:[v.jsx("span",{className:"day-item-text",children:k.date}),v.jsx(v.Fragment,{children:R&&R.count!==0&&v.jsxs("span",{className:"day-item-dots",children:[L>0&&v.jsx("div",{className:`day-item-dot thino-task-dot ${RS(L)}`}),_>0&&v.jsx("div",{className:`day-item-dot thino-list-dot ${RS(_)}`})]})})]},k.datestamp)})})]})]})};function u9(e,{d:t,list:n,task:r}){e.hoverEl.toggleClass("thino-hover-popover",!0);const a=e.hoverEl.createDiv({cls:"thino-hover-popover-content"});a.createDiv({cls:"thino-date-item",text:`${x.moment(t.datestamp).format("YYYY-MM-DD")}`});const o=a.createDiv({cls:"thino-task-item"});o.createSpan({cls:"thino-task-item-title-text",text:`${E("Task")}: `}),o.createSpan({cls:"thino-task-item-title-count",text:`${r}`});const i=a.createDiv({cls:"thino-list-item"});i.createSpan({cls:"thino-list-item-title-text",text:`${E("List")}: `}),i.createSpan({cls:"thino-list-item-title-count",text:`${n}`})}function NV(e){const t=new Date(e),n=new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`);return((n.getMonth()===11?new Date(`${n.getFullYear()+1}/1/1`):new Date(`${n.getFullYear()}/${n.getMonth()+2}/1`)).getTime()-n.getTime())/ei}function rp(e){const t=new Date(e);return new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`).getTime()}function AV(e){const t=new Date(e),n=new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`);return(n.getMonth()===11?new Date(`${n.getFullYear()+1}/1/1`):new Date(`${n.getFullYear()}/${n.getMonth()+2}/1`)).getTime()-ei}function RS(e){return e<=0?"":e<=1?"stat-day-L1-bg":e<=2?"stat-day-L2-bg":e<=4?"stat-day-L3-bg":"stat-day-L4-bg"}const Zx={width:12,height:7},qx=(e,t)=>{const n=[];for(let r=0;r<=e;r++)n.push({timestamp:t+ei*r,count:0,list:0});return n},av=({initThinos:e,basicType:t})=>{const n=parseInt(x.moment().endOf("day").format("x"));new Date(n).getDay();const r=parseInt(x.moment().startOf("day").format("x")),a=new Array(6-new Date(n).getDay()).fill(0),o=Zx.width*Zx.height,i=parseInt(x.moment().startOf("day").subtract(o,"days").format("x")),l=x.moment().startOf("day").subtract(o,"days"),{memoState:{memos:c},dailyNotesState:{view:f,app:h,settings:g,verifyState:y}}=P.useContext(Lt),[w,S]=xo(t||OV(h||window.app)||"heatmap"),[D,I]=xo(x.moment().startOf("day").valueOf()),[M,N]=xo(g.HeatmapColorScheme||"default"),[B,k]=xo(qx(o,i)),[R,L]=xo(null),[_,V,U]=xo(""),Z=P.useRef(null);P.useEffect(()=>{const fe=qx(o,i),$=(e||c).filter(he=>!he.deletedAt&&he.rowStatus!=="ARCHIVED");for(const he of $){const ue=x.moment(he.createdAt.replaceAll("/","-"),"YYYY-MM-DD HH:mm:ss").startOf("day").diff(l,"days");ue>=0&&ue<fe.length&&(fe[ue].count+=1,he.thinoType==="JOURNAL"&&(fe[ue].list+=1))}k([...fe])},[c,e]),P.useEffect(()=>{g.HeatmapColorScheme&&N(g.HeatmapColorScheme)},[g.HeatmapColorScheme]);const Q=P.useCallback((fe,$)=>{if(!$||!$.count)return;const he=$.count-$.list,se=$.list,ue={date:$.timestamp,datestamp:$.timestamp},X=new x.HoverPopover(f,fe.currentTarget,100);u9(X,{d:ue,list:se,task:he})},[]),G=()=>{S(w==="heatmap"?"basic":"heatmap"),FV(h,w==="heatmap"?"basic":"heatmap"),I(x.moment().startOf("day").valueOf())},re=P.useCallback(async(fe,$)=>{if($.count===0)return;const he=at.getState().query.duration,se=he==null?void 0:he.from,ue=he==null?void 0:he.to,X=x.moment(se).diff(ue,"day")==0;if(se===$.timestamp&&X)at.setFromAndToQuery(0,0),L(null),V(null);else if(se!==$.timestamp&&se>0&&fe.shiftKey){const oe=x.moment($.timestamp).endOf("day").diff(ue,"day");se===0&&fe.shiftKey?V("from"):oe<0&&X&&V("to"),x.moment(se).isBefore($.timestamp)?U.current==="to"?oe<0?at.setFromAndToQuery($.timestamp,ue):(at.setFromAndToQuery(parseInt(x.moment(ue).startOf("day").format("x")),parseInt(x.moment($.timestamp).endOf("day").format("x"))),V("from")):U.current==="from"&&(oe<0,at.setFromAndToQuery(se,parseInt(x.moment($.timestamp).endOf("day").format("x")))):U.current==="to"?at.setFromAndToQuery($.timestamp,ue):U.current==="from"&&(at.setFromAndToQuery($.timestamp,parseInt(x.moment(se).endOf("day").format("x"))),V("to"))}else if(se===0&&fe.shiftKey)at.setFromAndToQuery($.timestamp,parseInt(x.moment().endOf("day").format("x")));else if($.count>0&&(fe.ctrlKey||fe.metaKey)){const{app:oe,dailyNotes:De}=ft.getState(),je=pb(x.moment($.timestamp),De);if(!x.Platform.isMobile)await oe.workspace.getLeaf(!0).openFile(je);else{let Re=oe.workspace.activeLeaf;Re===null&&(Re=oe.workspace.getLeaf(!0)),Re.openFile(je)}}else $.count>0&&!fe.shiftKey&&!fe.ctrlKey&&!fe.metaKey&&(["/","/recycle"].includes(at.getState().pathname)||at.setPathname("/"),at.setFromAndToQuery($.timestamp,ut.getTimeStampByDate(x.moment($.timestamp+ei).subtract(1,"days").endOf("day").format("YYYY-MM-DD HH:mm:ss"))),L($))},[]),de=P.useMemo(()=>v.jsx(kV,{className:`heatmap-${M}`,view:f,datestamp:D,dailyStat:B,thinos:e||c,handleMonthChange:fe=>{I(fe)},handleDateStampChange:fe=>{},handleDateItemClick:(fe,$)=>re(fe,$)}),[JSON.stringify(B),e,c,f,D,M]);return v.jsxs(v.Fragment,{children:[w==="basic"&&de,w==="heatmap"&&v.jsxs("div",{className:`usage-heat-map-wrapper heatmap-${M}`,ref:Z,children:[v.jsxs("div",{className:"day-tip-text-container",children:[v.jsx("span",{className:"tip-text",children:E("weekDaysShort")[0]}),v.jsx("span",{className:"tip-text"}),v.jsx("span",{className:"tip-text",children:E("weekDaysShort")[2]}),v.jsx("span",{className:"tip-text"}),v.jsx("span",{className:"tip-text",children:E("weekDaysShort")[4]}),v.jsx("span",{className:"tip-text"}),v.jsx("span",{className:"tip-text",children:E("weekDaysShort")[6]})]}),v.jsxs("div",{className:"usage-heat-map",children:[B.slice(B.length-84+a.length,B.length).map((fe,$)=>{const he=fe.count,se=he<=0?"":he<=1?"stat-day-L1-bg":he<=2?"stat-day-L2-bg":he<=4?"stat-day-L3-bg":"stat-day-L4-bg";return v.jsx("span",{"data-timestamp":fe.timestamp,"data-count":fe.count,"data-list-count":fe.list,"data-task-count":fe.count-fe.list,className:`stat-container ${se} ${R===fe?"current":""} ${r===fe.timestamp?"today":""}`,onMouseOver:ue=>Q(ue,fe),onClick:ue=>re(ue,fe)},$)}),a.map((fe,$)=>v.jsx("span",{className:"stat-container null"},$))]})]}),!t&&v.jsx(xV,{allStat:B,todayTimeStamp:r,calendarType:w,handleCalendarTypeChange:G})]})};function FV(e,t){try{e==null||e.saveLocalStorage("calendarType",t)}catch(n){console.error(n)}}function OV(e){try{return(e==null?void 0:e.loadLocalStorage("calendarType"))||"heatmap"}catch(t){return console.error(t),"heatmap"}}const c9=({type:e,timestamp:t})=>{const{memoState:{memos:n}}=P.useContext(Lt),[r,a]=P.useState([]),o=ne.useRef(null);return P.useEffect(()=>{if(e==="daily"){if(t){const l=n.filter(c=>x.moment(c.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(x.moment(t,"YYYY/MM/DD HH:mm:ss"),"day"));a(l);return}const i=n.filter(l=>x.moment(l.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(x.moment(),"day"));a(i)}else if(e==="latest"){const i=n.filter(f=>!f.deletedAt&&f.rowStatus!=="ARCHIVED"),l=i.filter(f=>f.pinned),c=i.filter(f=>!f.pinned).slice(0,5);a([...l,...c])}},[n]),P.useEffect(()=>{o.current&&(o.current.scrollTop=0)},[n]),r.length>0?v.jsx("div",{ref:o,className:"thino-list-container",children:r.map(i=>v.jsx(ai,{memo:i}))}):v.jsx("div",{className:"tip-text-container",children:v.jsx("span",{className:"tip-text",children:E("Here is No Memos.")})})},PV=(e,t)=>{rs.createRoot(e).render(v.jsx(ne.StrictMode,{children:v.jsx(is,{store:Le,context:Lt,children:v.jsx(jV,{plugin:t})})}))},jV=({plugin:e})=>v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"thino-error-code-block",children:E("Please open thino first")}),v.jsx("button",{className:"thino-open-view",onClick:()=>e.openMemos("center"),children:E("Open thino in center window")})]}),LV=(e,t)=>{rs.createRoot(e).render(v.jsx(ne.StrictMode,{children:v.jsx(is,{store:Le,context:Lt,children:v.jsx(RV,{yaml:t})})}))},RV=({yaml:e})=>{const t=Object.keys(e).filter(a=>e[a]),n=e.daily?e.daily:"",r=a=>{switch(a){case"editor":return Gx;case"heatmap":return BV;case"calendar":return HV;case"daily":return YV;case"list":return zV;case"status":return UV;default:return Gx}};return v.jsx(v.Fragment,{children:t.map(a=>v.jsx("div",{"data-embed-type":a,className:ar("thino-embed-container",a==="editor"?"thino-editor-modal":""),children:a==="daily"?r(a)(n):r(a)()}))})};function Gx(){return v.jsx(mf,{editorType:"inline",modal:!0})}function _V(e,t,n){try{const r=rs.createRoot(e);return r.render(v.jsx(ne.StrictMode,{children:v.jsx(is,{store:Le,context:Lt,children:v.jsx(mf,{editorType:"inline",destroy:t,modal:n})})})),r}catch(r){console.error(r)}}function BV(){return v.jsx(av,{basicType:"heatmap"})}function HV(){return v.jsx(av,{basicType:"basic"})}function UV(){return v.jsx(K2,{statusType:"banner"})}function YV(e){return v.jsx(c9,{type:"daily",timestamp:e})}function zV(){return v.jsx(c9,{type:"latest"})}class MT extends x.Modal{constructor(n){super(n);Se(this,"root")}getViewType(){return"thino_view"}onOpen(){const{contentEl:n,modalEl:r}=this;try{this.root=_V(n,this.close.bind(this),this),r.toggleClass("thino-editor-modal",!0),setTimeout(()=>{var a;(a=n.querySelector("textarea"))==null||a.focus(),this.app.workspace.trigger("focus-on-textarea")},10)}catch(a){console.error(a)}}onClose(){this.root.unmount(),this.containerEl&&this.containerEl.empty()}}function VV(e,t){if(e==null)return{};var n=WV(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function WV(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Rw(){return Rw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rw.apply(this,arguments)}function Jx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jx(Object(n),!0).forEach(function(r){$V(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ZV={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},_S=2;class _w extends ne.Component{constructor(t){super(t),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let n;this.props.breakpointCols&&this.props.breakpointCols.default?n=this.props.breakpointCols.default:n=parseInt(this.props.breakpointCols)||_S,this.state={columnCount:n}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const t=window&&window.innerWidth||1/0;let n=this.props.breakpointCols;typeof n!="object"&&(n={default:parseInt(n)||_S});let r=1/0,a=n.default||_S;for(let o in n){const i=parseInt(o);i>0&&t<=i&&i<r&&(r=i,a=n[o])}a=Math.max(1,parseInt(a)||1),this.state.columnCount!==a&&this.setState({columnCount:a})}itemsInColumns(){const t=this.state.columnCount,n=new Array(t),r=ne.Children.toArray(this.props.children);for(let a=0;a<r.length;a++){const o=a%t;n[o]||(n[o]=[]),n[o].push(r[a])}return n}renderColumns(){const{column:t,columnAttrs:n={},columnClassName:r}=this.props,a=this.itemsInColumns(),o=`${100/a.length}%`;let i=r;i&&typeof i!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof i>"u"&&(i="my-masonry-grid_column"));const l=Tg(Tg(Tg({},t),n),{},{style:Tg(Tg({},n.style),{},{width:o}),className:i});return a.map((c,f)=>ne.createElement("div",Rw({},l,{key:f}),c))}logDeprecated(t){console.error("[Masonry]",t)}render(){const t=this.props,{children:n,breakpointCols:r,columnClassName:a,columnAttrs:o,column:i,className:l}=t,c=VV(t,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let f=l;return typeof l!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof l>"u"&&(f="my-masonry-grid")),ne.createElement("div",Rw({},c,{className:f}),this.renderColumns())}}_w.defaultProps=ZV;const kT=e=>{P.useContext(Lt);const t=Le.getState().dailyNotesState.settings,{thinos:n,dayMark:r,dayMarkRange:a="day",thinoWrapper:o}=e,[i,l]=ne.useState(!(t!=null&&t.hidePinnedGroup&&r==="PINNED")),c=ne.useRef(null);P.useEffect(()=>{c&&x.setTooltip&&x.setTooltip(c.current,E("Click to expand or fold, Cmd+Click to show all thinos of the day"))},[c]);const f=h=>{if(x.Keymap.isModifier(h.nativeEvent,"Mod")){const g={day:"YYYY-MM-DD",week:"YYYY-[W]WW",month:"YYYY-MM",quarter:"YYYY-[Q]Q",year:"YYYY"},y=x.moment(r,g[a]);at.setFromAndToQuery(y.startOf(a).valueOf(),y.endOf(a).valueOf());return}l(!i)};return v.jsx(v.Fragment,{children:e.type==="list"?v.jsxs(v.Fragment,{children:[v.jsx("div",{ref:c,className:`day-mark ${i?"":"folded"} PINNED`,onClick:f,children:v.jsxs("span",{className:"day-mark-text",children:[i?"‚ñº ":"‚ñ∂ ",r==="PINNED"?r+" üìå":r]})},r),i&&n.map((h,g)=>o?v.jsx("div",{children:o({thino:h})},`${h.id}-${x.moment(h.createdAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${g}`):v.jsx(ai,{memo:h},`${h.id}-${x.moment(h.createdAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${g}`))]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{ref:c,className:`day-mark ${i?"":"folded"}`,onClick:f,children:v.jsxs("span",{className:"day-mark-text",children:[i?"‚ñº ":"‚ñ∂ ",r==="PINNED"?r+" üìå":r]})},r),v.jsx(_w,{breakpointCols:e.type==="waterfall"?3:1,className:`${e.type}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:i&&n.map((h,g)=>o?v.jsx("div",{children:o({thino:h})},`${h.id}-${x.moment(h.updatedAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${g}`):v.jsx(ai,{memo:h},`${h.id}-${x.moment(h.updatedAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${g}`))})]})})};function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function qV(e,t){if(Wu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d9(e){var t=qV(e,"string");return Wu(t)=="symbol"?t:String(t)}function lf(e,t,n){return t=d9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kx(Object(n),!0).forEach(function(r){lf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ab(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function tu(e,t){if(e==null)return{};var n=Ab(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ma(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d9(r.key),r)}}function ka(e,t,n){return t&&Qx(e.prototype,t),n&&Qx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bw(e){return Bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bw(e)}function f9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f9=function(){return!!e})()}function h9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GV(e,t){if(t&&(Wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h9(e)}function No(e,t,n){return t=Bw(t),GV(e,f9()?Reflect.construct(t,n||[],Bw(e).constructor):t.apply(e,n))}function Hw(e,t){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Hw(e,t)}function Ao(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hw(e,t)}function p9(e){if(Array.isArray(e))return e}function JV(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,i,l=[],c=!0,f=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(f)throw a}}return l}}function NT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sI(e,t){if(e){if(typeof e=="string")return NT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NT(e,t)}}function m9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _u(e,t){return p9(e)||JV(e,t)||sI(e,t)||m9()}function Pr(){return Pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pr.apply(this,arguments)}var KV=function(e,t,n,r,a,o,i,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,r,a,o,i,l],h=0;c=new Error(t.replace(/%s/g,function(){return f[h++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},QV=KV;const ov=qt(QV);var XV=function(){};function eW(e,t){var n={};return Object.keys(e).forEach(function(r){n[dw(r)]=XV}),n}function Xx(e,t){return e[t]!==void 0}function dw(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function tW(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function nW(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Hw(e,t)}function g9(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function v9(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function y9(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}g9.__suppressDeprecationWarning=!0;v9.__suppressDeprecationWarning=!0;y9.__suppressDeprecationWarning=!0;function rW(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,a=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),n!==null||r!==null||a!==null){var o=e.displayName||e.name,i=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+i+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=g9,t.componentWillReceiveProps=v9),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=y9;var l=t.componentDidUpdate;t.componentDidUpdate=function(f,h,g){var y=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:g;l.call(this,f,h,y)}}return e}var aW="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function w9(e,t,n){n===void 0&&(n=[]);var r=e.displayName||e.name||"Component",a=tW(e),o=Object.keys(t),i=o.map(dw);a||!n.length||ov(!1);var l=function(f){nW(h,f);function h(){for(var y,w=arguments.length,S=new Array(w),D=0;D<w;D++)S[D]=arguments[D];y=f.call.apply(f,[this].concat(S))||this,y.handlers=Object.create(null),o.forEach(function(M){var N=t[M],B=function(R){if(y.props[N]){var L;y._notifying=!0;for(var _=arguments.length,V=new Array(_>1?_-1:0),U=1;U<_;U++)V[U-1]=arguments[U];(L=y.props)[N].apply(L,[R].concat(V)),y._notifying=!1}y.unmounted||y.setState(function(Z){var Q,G=Z.values;return{values:Pr(Object.create(null),G,(Q={},Q[M]=R,Q))}})};y.handlers[N]=B}),n.length&&(y.attachRef=function(M){y.inner=M});var I=Object.create(null);return o.forEach(function(M){I[M]=y.props[dw(M)]}),y.state={values:I,prevProps:{}},y}var g=h.prototype;return g.shouldComponentUpdate=function(){return!this._notifying},h.getDerivedStateFromProps=function(w,S){var D=S.values,I=S.prevProps,M={values:Pr(Object.create(null),D),prevProps:{}};return o.forEach(function(N){M.prevProps[N]=w[N],!Xx(w,N)&&Xx(I,N)&&(M.values[N]=w[dw(N)])}),M},g.componentWillUnmount=function(){this.unmounted=!0},g.render=function(){var w=this,S=this.props,D=S.innerRef,I=Ab(S,["innerRef"]);i.forEach(function(N){delete I[N]});var M={};return o.forEach(function(N){var B=w.props[N];M[N]=B!==void 0?B:w.state.values[N]}),ne.createElement(e,Pr({},I,M,this.handlers,{ref:D||this.attachRef}))},h}(ne.Component);rW(l),l.displayName="Uncontrolled("+r+")",l.propTypes=Pr({innerRef:function(){}},eW(t)),n.forEach(function(f){l.prototype[f]=function(){var g;return(g=this.inner)[f].apply(g,arguments)}});var c=l;return ne.forwardRef&&(c=ne.forwardRef(function(f,h){return ne.createElement(l,Pr({},f,{innerRef:h,__source:{fileName:aW,lineNumber:128},__self:this}))}),c.propTypes=l.propTypes),c.ControlledComponent=e,c.deferControlTo=function(f,h,g){return h===void 0&&(h={}),w9(f,Pr({},t,h),g)},c}function b9(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=b9(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ca(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=b9(e))&&(r&&(r+=" "),r+=t);return r}var S9={exports:{}},BS,eM;function oW(){if(eM)return BS;eM=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return BS=e,BS}var HS,tM;function iW(){if(tM)return HS;tM=1;var e=oW();function t(){}function n(){}return n.resetWarningCache=t,HS=function(){function r(i,l,c,f,h,g){if(g!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function a(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},HS}S9.exports=iW()();var sW=S9.exports;const ke=qt(sW);var Uw="milliseconds",iv="seconds",sv="minutes",lv="hours",Tf="day",Cp="week",uv="month",If="year",Ef="decade",Cf="century",D9={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},lW={month:1,year:12,decade:10*12,century:100*12};function uW(e){return[31,cW(e),31,30,31,30,31,31,30,31,30,31]}function cW(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Vs(e,t,n){switch(e=new Date(e),n){case Uw:case iv:case sv:case lv:case Tf:case Cp:return dW(e,t*D9[n]);case uv:case If:case Ef:case Cf:return fW(e,t*lW[n])}throw new TypeError('Invalid units: "'+n+'"')}function dW(e,t){var n=new Date(+e+t);return hW(e,n)}function fW(e,t){var n=e.getFullYear(),r=e.getMonth(),a=e.getDate(),o=n*12+r+t,i=Math.trunc(o/12),l=o%12,c=Math.min(a,uW(i)[l]),f=new Date(e);return f.setFullYear(i),f.setDate(1),f.setMonth(l),f.setDate(c),f}function hW(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset(),a=r-n;return new Date(+t+a*D9.minutes)}function cv(e,t,n){return Vs(e,-t,n)}function $a(e,t,n){switch(e=new Date(e),t){case Cf:case Ef:case If:e=zw(e,0);case uv:e=x9(e,1);case Cp:case Tf:e=hv(e,0);case lv:e=xp(e,0);case sv:e=fv(e,0);case iv:e=dv(e,0)}return t===Ef&&(e=cv(e,xf(e)%10,"year")),t===Cf&&(e=cv(e,xf(e)%100,"year")),t===Cp&&(e=M9(e,0,n)),e}function Yw(e,t,n){switch(e=new Date(e),e=$a(e,t,n),t){case Cf:case Ef:case If:case uv:case Cp:e=Vs(e,1,t),e=cv(e,1,Tf),e.setHours(23,59,59,999);break;case Tf:e.setHours(23,59,59,999);break;case lv:case sv:case iv:e=Vs(e,1,t),e=cv(e,1,Uw)}return e}var Vv=$p(function(e,t){return e===t}),lI=$p(function(e,t){return e!==t}),Fb=$p(function(e,t){return e>t}),Wv=$p(function(e,t){return e>=t}),uI=$p(function(e,t){return e<t}),Wp=$p(function(e,t){return e<=t});function T9(){return new Date(Math.min.apply(Math,arguments))}function I9(){return new Date(Math.max.apply(Math,arguments))}function E9(e,t,n,r){return r=r||"day",(!t||Wv(e,t,r))&&(!n||Wp(e,n,r))}var dv=id("Milliseconds"),fv=id("Seconds"),xp=id("Minutes"),hv=id("Hours"),C9=id("Day"),x9=id("Date"),zw=id("Month"),xf=id("FullYear");function pW(e,t){return t===void 0?xf($a(e,Ef)):Vs(e,t+10,If)}function mW(e,t){return t===void 0?xf($a(e,Cf)):Vs(e,t+100,If)}function M9(e,t,n){var r=(C9(e)+7-(n||0))%7;return t===void 0?r:Vs(e,t-r,Tf)}function gW(e,t,n,r){var a,o,i;switch(n){case Uw:case iv:case sv:case lv:case Tf:case Cp:a=t.getTime()-e.getTime();break;case uv:case If:case Ef:case Cf:a=(xf(t)-xf(e))*12+zw(t)-zw(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case Uw:o=1;break;case iv:o=1e3;break;case sv:o=1e3*60;break;case lv:o=1e3*60*60;break;case Tf:o=1e3*60*60*24;break;case Cp:o=1e3*60*60*24*7;break;case uv:o=1;break;case If:o=12;break;case Ef:o=120;break;case Cf:o=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return i=a/o,r?i:Math.round(i)}function id(e){var t=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(r===void 0)return n["get"+e]();var a=new Date(n);return a["set"+e](r),t&&a["get"+e]()!=r&&(e==="Hours"||r>=t&&a.getHours()-n.getHours()<Math.floor(r/t))&&a["set"+e](r+t),a}}function $p(e){return function(t,n,r){return e(+$a(t,r),+$a(n,r))}}const nM=Object.freeze(Object.defineProperty({__proto__:null,add:Vs,century:mW,date:x9,day:C9,decade:pW,diff:gW,endOf:Yw,eq:Vv,gt:Fb,gte:Wv,hours:hv,inRange:E9,lt:uI,lte:Wp,max:I9,milliseconds:dv,min:T9,minutes:xp,month:zw,neq:lI,seconds:fv,startOf:$a,subtract:cv,weekday:M9,year:xf},Symbol.toStringTag,{value:"Module"}));function vW(e){if(Array.isArray(e))return NT(e)}function k9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fw(e){return vW(e)||k9(e)||sI(e)||yW()}function wW(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(a);++r<a;)o[r]=e[r+t];return o}var N9=wW;function bW(e,t){return e===t||e!==e&&t!==t}var $v=bW,SW=typeof dr=="object"&&dr&&dr.Object===Object&&dr,A9=SW,DW=A9,TW=typeof self=="object"&&self&&self.Object===Object&&self,IW=DW||TW||Function("return this")(),nu=IW,EW=nu,CW=EW.Symbol,Zp=CW,rM=Zp,F9=Object.prototype,xW=F9.hasOwnProperty,MW=F9.toString,Ig=rM?rM.toStringTag:void 0;function kW(e){var t=xW.call(e,Ig),n=e[Ig];try{e[Ig]=void 0;var r=!0}catch{}var a=MW.call(e);return r&&(t?e[Ig]=n:delete e[Ig]),a}var NW=kW,AW=Object.prototype,FW=AW.toString;function OW(e){return FW.call(e)}var PW=OW,aM=Zp,jW=NW,LW=PW,RW="[object Null]",_W="[object Undefined]",oM=aM?aM.toStringTag:void 0;function BW(e){return e==null?e===void 0?_W:RW:oM&&oM in Object(e)?jW(e):LW(e)}var qp=BW;function HW(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Qu=HW,UW=qp,YW=Qu,zW="[object AsyncFunction]",VW="[object Function]",WW="[object GeneratorFunction]",$W="[object Proxy]";function ZW(e){if(!YW(e))return!1;var t=UW(e);return t==VW||t==WW||t==zW||t==$W}var cI=ZW,qW=9007199254740991;function GW(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qW}var dI=GW,JW=cI,KW=dI;function QW(e){return e!=null&&KW(e.length)&&!JW(e)}var Zv=QW,XW=9007199254740991,e$=/^(?:0|[1-9]\d*)$/;function t$(e,t){var n=typeof e;return t=t??XW,!!t&&(n=="number"||n!="symbol"&&e$.test(e))&&e>-1&&e%1==0&&e<t}var fI=t$,n$=$v,r$=Zv,a$=fI,o$=Qu;function i$(e,t,n){if(!o$(n))return!1;var r=typeof t;return(r=="number"?r$(n)&&a$(t,n.length):r=="string"&&t in n)?n$(n[t],e):!1}var Ob=i$,s$=/\s/;function l$(e){for(var t=e.length;t--&&s$.test(e.charAt(t)););return t}var u$=l$,c$=u$,d$=/^\s+/;function f$(e){return e&&e.slice(0,c$(e)+1).replace(d$,"")}var h$=f$;function p$(e){return e!=null&&typeof e=="object"}var sd=p$,m$=qp,g$=sd,v$="[object Symbol]";function y$(e){return typeof e=="symbol"||g$(e)&&m$(e)==v$}var qv=y$,w$=h$,iM=Qu,b$=qv,sM=NaN,S$=/^[-+]0x[0-9a-f]+$/i,D$=/^0b[01]+$/i,T$=/^0o[0-7]+$/i,I$=parseInt;function E$(e){if(typeof e=="number")return e;if(b$(e))return sM;if(iM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=iM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=w$(e);var n=D$.test(e);return n||T$.test(e)?I$(e.slice(2),n?2:8):S$.test(e)?sM:+e}var C$=E$,x$=C$,lM=1/0,M$=17976931348623157e292;function k$(e){if(!e)return e===0?e:0;if(e=x$(e),e===lM||e===-lM){var t=e<0?-1:1;return t*M$}return e===e?e:0}var O9=k$,N$=O9;function A$(e){var t=N$(e),n=t%1;return t===t?n?t-n:t:0}var P9=A$,F$=N9,O$=Ob,P$=P9,j$=Math.ceil,L$=Math.max;function R$(e,t,n){(n?O$(e,t,n):t===void 0)?t=1:t=L$(P$(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var a=0,o=0,i=Array(j$(r/t));a<r;)i[o++]=F$(e,a,a+=t);return i}var _$=R$;const B$=qt(_$);function Gv(e){return e&&e.ownerDocument||document}function H$(e){var t=Gv(e);return t&&t.defaultView||window}function U$(e,t){return H$(e).getComputedStyle(e,t)}var Y$=/([A-Z])/g;function z$(e){return e.replace(Y$,"-$1").toLowerCase()}var V$=/^ms-/;function A0(e){return z$(e).replace(V$,"-ms-")}var W$=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function $$(e){return!!(e&&W$.test(e))}function dp(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(A0(t))||U$(e).getPropertyValue(A0(t));Object.keys(t).forEach(function(a){var o=t[a];!o&&o!==0?e.style.removeProperty(A0(a)):$$(a)?r+=a+"("+o+") ":n+=A0(a)+": "+o+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}function pv(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function Z$(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function hI(e){return"window"in e&&e.window===e?e:Z$(e)&&e.defaultView||!1}function j9(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,a){var o=hI(r);if(a===void 0)return o?o[e]:r[t];o?o.scrollTo(o[e],a):r[t]=a}return n}const L9=j9("pageXOffset"),R9=j9("pageYOffset");function gf(e){var t=Gv(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!pv(r,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+R9(r)-(r.clientTop||0),left:n.left+L9(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var q$=function(t){return!!t&&"offsetParent"in t};function G$(e){for(var t=Gv(e),n=e&&e.offsetParent;q$(n)&&n.nodeName!=="HTML"&&dp(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}var J$=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function _9(e,t){var n={top:0,left:0},r;if(dp(e,"position")==="fixed")r=e.getBoundingClientRect();else{var a=t||G$(e);r=gf(e),J$(a)!=="html"&&(n=gf(a));var o=String(dp(a,"borderTopWidth")||0);n.top+=parseInt(o,10)-R9(a)||0;var i=String(dp(a,"borderLeftWidth")||0);n.left+=parseInt(i,10)-L9(a)||0}var l=String(dp(e,"marginTop")||0),c=String(dp(e,"marginLeft")||0);return Pr({},r,{top:r.top-n.top-(parseInt(l,10)||0),left:r.left-n.left-(parseInt(c,10)||0)})}const pI=!!(typeof window<"u"&&window.document&&window.document.createElement);var uM=new Date().getTime();function K$(e){var t=new Date().getTime(),n=Math.max(0,16-(t-uM)),r=setTimeout(e,n);return uM=t,r}var Q$=["","webkit","moz","o","ms"],AT="clearTimeout",FT=K$,cM=function(t,n){return t+(t?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};pI&&Q$.some(function(e){var t=cM(e,"request");return t in window&&(AT=cM(e,"cancel"),FT=function(r){return window[t](r)}),!!FT});var dM=function(t){typeof window[AT]=="function"&&window[AT](t)},B9=FT,US;function X$(e,t){if(!US){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;US=function(o,i){return r.call(o,i)}}return US(e,t)}var eZ=Function.prototype.bind.call(Function.prototype.call,[].slice);function tZ(e,t){return eZ(e.querySelectorAll(t))}var OT=!1,PT=!1;try{var YS={get passive(){return OT=!0},get once(){return PT=OT=!0}};pI&&(window.addEventListener("test",YS,YS),window.removeEventListener("test",YS,!0))}catch{}function nZ(e,t,n,r){if(r&&typeof r!="boolean"&&!PT){var a=r.once,o=r.capture,i=n;!PT&&a&&(i=n.__once||function l(c){this.removeEventListener(t,l,o),n.call(this,c)},n.__once=i),e.addEventListener(t,i,OT?r:o)}e.addEventListener(t,n,r)}function rZ(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e},[e]),t}function fM(e){const t=rZ(e);return P.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function hM(){return P.useState(null)}function aZ(){const e=P.useRef(!0),t=P.useRef(()=>e.current);return P.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function oZ(e){const t=aZ();return[e[0],P.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var iZ=K6({defaultModifiers:[Z6,G6,Y6,z6,q6,$6,J6,U6]}),pM=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},sZ={name:"applyStyles",enabled:!1},lZ={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var r=n.elements,a=r.reference,o=r.popper;if("removeAttribute"in a){var i=(a.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==o.id});i.length?a.setAttribute("aria-describedby",i.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var n,r=t.state,a=r.elements,o=a.popper,i=a.reference,l=(n=o.getAttribute("role"))==null?void 0:n.toLowerCase();if(o.id&&l==="tooltip"&&"setAttribute"in i){var c=i.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(o.id)!==-1)return;i.setAttribute("aria-describedby",c?c+","+o.id:o.id)}}},uZ=[];function cZ(e,t,n){var r=n===void 0?{}:n,a=r.enabled,o=a===void 0?!0:a,i=r.placement,l=i===void 0?"bottom":i,c=r.strategy,f=c===void 0?"absolute":c,h=r.modifiers,g=h===void 0?uZ:h,y=Ab(r,["enabled","placement","strategy","modifiers"]),w=P.useRef(),S=P.useCallback(function(){var k;(k=w.current)==null||k.update()},[]),D=P.useCallback(function(){var k;(k=w.current)==null||k.forceUpdate()},[]),I=oZ(P.useState({placement:l,update:S,forceUpdate:D,attributes:{},styles:{popper:pM(f),arrow:{}}})),M=I[0],N=I[1],B=P.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(R){var L=R.state,_={},V={};Object.keys(L.elements).forEach(function(U){_[U]=L.styles[U],V[U]=L.attributes[U]}),N({state:L,styles:_,attributes:V,update:S,forceUpdate:D,placement:L.placement})}}},[S,D,N]);return P.useEffect(function(){!w.current||!o||w.current.setOptions({placement:l,strategy:f,modifiers:[].concat(g,[B,sZ])})},[f,l,B,o]),P.useEffect(function(){if(!(!o||e==null||t==null))return w.current=iZ(e,t,Pr({},y,{placement:l,strategy:f,modifiers:[].concat(g,[lZ,B])})),function(){w.current!=null&&(w.current.destroy(),w.current=void 0,N(function(k){return Pr({},k,{attributes:{},styles:{popper:pM(f)}})}))}},[o,e,t]),M}function dZ(e,t,n,r){var a=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)}function _g(e,t,n,r){return nZ(e,t,n,r),function(){dZ(e,t,n,r)}}function fZ(e){return e&&"setState"in e?J2.findDOMNode(e):e??null}const hZ=function(e){return Gv(fZ(e))};var pZ=27,mM=function(){};function mZ(e){return e.button===0}function gZ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var gM=function(t){return t&&("current"in t?t.current:t)};function vZ(e,t,n){var r=n===void 0?{}:n,a=r.disabled,o=r.clickTrigger,i=o===void 0?"click":o,l=P.useRef(!1),c=t||mM,f=P.useCallback(function(y){var w,S=gM(e);dz(!!S,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!S||gZ(y)||!mZ(y)||!!pv(S,(w=y.composedPath==null?void 0:y.composedPath()[0])!=null?w:y.target)},[e]),h=fM(function(y){l.current||c(y)}),g=fM(function(y){y.keyCode===pZ&&c(y)});P.useEffect(function(){if(!(a||e==null)){var y=window.event,w=hZ(gM(e)),S=_g(w,i,f,!0),D=_g(w,i,function(N){if(N===y){y=void 0;return}h(N)}),I=_g(w,"keyup",function(N){if(N===y){y=void 0;return}g(N)}),M=[];return"ontouchstart"in w.documentElement&&(M=[].slice.call(w.body.children).map(function(N){return _g(N,"mousemove",mM)})),function(){S(),D(),I(),M.forEach(function(N){return N()})}}},[e,a,i,f,h,g])}function yZ(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(n){t[n.name]=n}),t):e||t}function wZ(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function bZ(e){var t,n,r,a,o=e.enabled,i=e.enableEvents,l=e.placement,c=e.flip,f=e.offset,h=e.fixed,g=e.containerPadding,y=e.arrowElement,w=e.popperConfig,S=w===void 0?{}:w,D=yZ(S.modifiers);return Pr({},S,{placement:l,enabled:o,strategy:h?"fixed":S.strategy,modifiers:wZ(Pr({},D,{eventListeners:{enabled:i},preventOverflow:Pr({},D.preventOverflow,{options:g?Pr({padding:g},(t=D.preventOverflow)==null?void 0:t.options):(n=D.preventOverflow)==null?void 0:n.options}),offset:{options:Pr({offset:f},(r=D.offset)==null?void 0:r.options)},arrow:Pr({},D.arrow,{enabled:!!y,options:Pr({},(a=D.arrow)==null?void 0:a.options,{element:y})}),flip:Pr({enabled:!!c},D.flip)}))})}function SZ(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function DZ(e,t){e.classList?e.classList.add(t):SZ(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function vM(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function TZ(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=vM(e.className,t):e.setAttribute("class",vM(e.className&&e.className.baseVal||"",t))}var F0;function H9(e){if((!F0&&F0!==0||e)&&pI){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),F0=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return F0}var zS=function(t){var n;return typeof document>"u"?null:t==null?Gv().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function yM(e,t){var n=P.useState(function(){return zS(e)}),r=n[0],a=n[1];if(!r){var o=zS(e);o&&a(o)}return P.useEffect(function(){t&&r&&t(r)},[t,r]),P.useEffect(function(){var i=zS(e);i!==r&&a(i)},[e,r]),r}const wM=e=>!e||typeof e=="function"?e:t=>{e.current=t};function IZ(e,t){const n=wM(e),r=wM(t);return a=>{n&&n(a),r&&r(a)}}function EZ(e,t){return P.useMemo(()=>IZ(e,t),[e,t])}var mI=ne.forwardRef(function(e,t){var n=e.flip,r=e.offset,a=e.placement,o=e.containerPadding,i=o===void 0?5:o,l=e.popperConfig,c=l===void 0?{}:l,f=e.transition,h=hM(),g=h[0],y=h[1],w=hM(),S=w[0],D=w[1],I=EZ(y,t),M=yM(e.container),N=yM(e.target),B=P.useState(!e.show),k=B[0],R=B[1],L=cZ(N,g,bZ({placement:a,enableEvents:!!e.show,containerPadding:i||5,flip:n,offset:r,arrowElement:S,popperConfig:c})),_=L.styles,V=L.attributes,U=Ab(L,["styles","attributes"]);e.show?k&&R(!1):!e.transition&&!k&&R(!0);var Z=function(){R(!0),e.onExited&&e.onExited.apply(e,arguments)},Q=e.show||f&&!k;if(vZ(g,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!Q)return null;var G=e.children(Pr({},U,{show:!!e.show,props:Pr({},V.popper,{style:_.popper,ref:I}),arrowProps:Pr({},V.arrow,{style:_.arrow,ref:D})}));if(f){var re=e.onExit,de=e.onExiting,fe=e.onEnter,$=e.onEntering,he=e.onEntered;G=ne.createElement(f,{in:e.show,appear:!0,onExit:re,onExiting:de,onExited:Z,onEnter:fe,onEntering:$,onEntered:he},G)}return M?J2.createPortal(G,M):null});mI.displayName="Overlay";mI.propTypes={show:ke.bool,placement:ke.oneOf(X2),target:ke.any,container:ke.any,flip:ke.bool,children:ke.func.isRequired,containerPadding:ke.number,popperConfig:ke.object,rootClose:ke.bool,rootCloseEvent:ke.oneOf(["click","mousedown"]),rootCloseDisabled:ke.bool,onHide:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(t.rootClose){var o;return(o=ke.func).isRequired.apply(o,[t].concat(r))}return ke.func.apply(ke,[t].concat(r))},transition:ke.elementType,onEnter:ke.func,onEntering:ke.func,onEntered:ke.func,onExit:ke.func,onExiting:ke.func,onExited:ke.func};const CZ=mI;function xZ(){this.__data__=[],this.size=0}var MZ=xZ,kZ=$v;function NZ(e,t){for(var n=e.length;n--;)if(kZ(e[n][0],t))return n;return-1}var Pb=NZ,AZ=Pb,FZ=Array.prototype,OZ=FZ.splice;function PZ(e){var t=this.__data__,n=AZ(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():OZ.call(t,n,1),--this.size,!0}var jZ=PZ,LZ=Pb;function RZ(e){var t=this.__data__,n=LZ(t,e);return n<0?void 0:t[n][1]}var _Z=RZ,BZ=Pb;function HZ(e){return BZ(this.__data__,e)>-1}var UZ=HZ,YZ=Pb;function zZ(e,t){var n=this.__data__,r=YZ(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var VZ=zZ,WZ=MZ,$Z=jZ,ZZ=_Z,qZ=UZ,GZ=VZ;function Gp(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Gp.prototype.clear=WZ;Gp.prototype.delete=$Z;Gp.prototype.get=ZZ;Gp.prototype.has=qZ;Gp.prototype.set=GZ;var jb=Gp,JZ=jb;function KZ(){this.__data__=new JZ,this.size=0}var QZ=KZ;function XZ(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var eq=XZ;function tq(e){return this.__data__.get(e)}var nq=tq;function rq(e){return this.__data__.has(e)}var aq=rq,oq=nu,iq=oq["__core-js_shared__"],sq=iq,VS=sq,bM=function(){var e=/[^.]+$/.exec(VS&&VS.keys&&VS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function lq(e){return!!bM&&bM in e}var uq=lq,cq=Function.prototype,dq=cq.toString;function fq(e){if(e!=null){try{return dq.call(e)}catch{}try{return e+""}catch{}}return""}var U9=fq,hq=cI,pq=uq,mq=Qu,gq=U9,vq=/[\\^$.*+?()[\]{}|]/g,yq=/^\[object .+?Constructor\]$/,wq=Function.prototype,bq=Object.prototype,Sq=wq.toString,Dq=bq.hasOwnProperty,Tq=RegExp("^"+Sq.call(Dq).replace(vq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Iq(e){if(!mq(e)||pq(e))return!1;var t=hq(e)?Tq:yq;return t.test(gq(e))}var Eq=Iq;function Cq(e,t){return e==null?void 0:e[t]}var xq=Cq,Mq=Eq,kq=xq;function Nq(e,t){var n=kq(e,t);return Mq(n)?n:void 0}var Pf=Nq,Aq=Pf,Fq=nu,Oq=Aq(Fq,"Map"),gI=Oq,Pq=Pf,jq=Pq(Object,"create"),Lb=jq,SM=Lb;function Lq(){this.__data__=SM?SM(null):{},this.size=0}var Rq=Lq;function _q(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Bq=_q,Hq=Lb,Uq="__lodash_hash_undefined__",Yq=Object.prototype,zq=Yq.hasOwnProperty;function Vq(e){var t=this.__data__;if(Hq){var n=t[e];return n===Uq?void 0:n}return zq.call(t,e)?t[e]:void 0}var Wq=Vq,$q=Lb,Zq=Object.prototype,qq=Zq.hasOwnProperty;function Gq(e){var t=this.__data__;return $q?t[e]!==void 0:qq.call(t,e)}var Jq=Gq,Kq=Lb,Qq="__lodash_hash_undefined__";function Xq(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Kq&&t===void 0?Qq:t,this}var eG=Xq,tG=Rq,nG=Bq,rG=Wq,aG=Jq,oG=eG;function Jp(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Jp.prototype.clear=tG;Jp.prototype.delete=nG;Jp.prototype.get=rG;Jp.prototype.has=aG;Jp.prototype.set=oG;var iG=Jp,DM=iG,sG=jb,lG=gI;function uG(){this.size=0,this.__data__={hash:new DM,map:new(lG||sG),string:new DM}}var cG=uG;function dG(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var fG=dG,hG=fG;function pG(e,t){var n=e.__data__;return hG(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Rb=pG,mG=Rb;function gG(e){var t=mG(this,e).delete(e);return this.size-=t?1:0,t}var vG=gG,yG=Rb;function wG(e){return yG(this,e).get(e)}var bG=wG,SG=Rb;function DG(e){return SG(this,e).has(e)}var TG=DG,IG=Rb;function EG(e,t){var n=IG(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var CG=EG,xG=cG,MG=vG,kG=bG,NG=TG,AG=CG;function Kp(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Kp.prototype.clear=xG;Kp.prototype.delete=MG;Kp.prototype.get=kG;Kp.prototype.has=NG;Kp.prototype.set=AG;var vI=Kp,FG=jb,OG=gI,PG=vI,jG=200;function LG(e,t){var n=this.__data__;if(n instanceof FG){var r=n.__data__;if(!OG||r.length<jG-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new PG(r)}return n.set(e,t),this.size=n.size,this}var RG=LG,_G=jb,BG=QZ,HG=eq,UG=nq,YG=aq,zG=RG;function Qp(e){var t=this.__data__=new _G(e);this.size=t.size}Qp.prototype.clear=BG;Qp.prototype.delete=HG;Qp.prototype.get=UG;Qp.prototype.has=YG;Qp.prototype.set=zG;var yI=Qp,VG="__lodash_hash_undefined__";function WG(e){return this.__data__.set(e,VG),this}var $G=WG;function ZG(e){return this.__data__.has(e)}var qG=ZG,GG=vI,JG=$G,KG=qG;function Vw(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new GG;++t<n;)this.add(e[t])}Vw.prototype.add=Vw.prototype.push=JG;Vw.prototype.has=KG;var QG=Vw;function XG(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var eJ=XG;function tJ(e,t){return e.has(t)}var nJ=tJ,rJ=QG,aJ=eJ,oJ=nJ,iJ=1,sJ=2;function lJ(e,t,n,r,a,o){var i=n&iJ,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var f=o.get(e),h=o.get(t);if(f&&h)return f==t&&h==e;var g=-1,y=!0,w=n&sJ?new rJ:void 0;for(o.set(e,t),o.set(t,e);++g<l;){var S=e[g],D=t[g];if(r)var I=i?r(D,S,g,t,e,o):r(S,D,g,e,t,o);if(I!==void 0){if(I)continue;y=!1;break}if(w){if(!aJ(t,function(M,N){if(!oJ(w,N)&&(S===M||a(S,M,n,r,o)))return w.push(N)})){y=!1;break}}else if(!(S===D||a(S,D,n,r,o))){y=!1;break}}return o.delete(e),o.delete(t),y}var Y9=lJ,uJ=nu,cJ=uJ.Uint8Array,z9=cJ;function dJ(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var fJ=dJ;function hJ(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var pJ=hJ,TM=Zp,IM=z9,mJ=$v,gJ=Y9,vJ=fJ,yJ=pJ,wJ=1,bJ=2,SJ="[object Boolean]",DJ="[object Date]",TJ="[object Error]",IJ="[object Map]",EJ="[object Number]",CJ="[object RegExp]",xJ="[object Set]",MJ="[object String]",kJ="[object Symbol]",NJ="[object ArrayBuffer]",AJ="[object DataView]",EM=TM?TM.prototype:void 0,WS=EM?EM.valueOf:void 0;function FJ(e,t,n,r,a,o,i){switch(n){case AJ:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case NJ:return!(e.byteLength!=t.byteLength||!o(new IM(e),new IM(t)));case SJ:case DJ:case EJ:return mJ(+e,+t);case TJ:return e.name==t.name&&e.message==t.message;case CJ:case MJ:return e==t+"";case IJ:var l=vJ;case xJ:var c=r&wJ;if(l||(l=yJ),e.size!=t.size&&!c)return!1;var f=i.get(e);if(f)return f==t;r|=bJ,i.set(e,t);var h=gJ(l(e),l(t),r,a,o,i);return i.delete(e),h;case kJ:if(WS)return WS.call(e)==WS.call(t)}return!1}var OJ=FJ;function PJ(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var wI=PJ,jJ=Array.isArray,ss=jJ,LJ=wI,RJ=ss;function _J(e,t,n){var r=t(e);return RJ(e)?r:LJ(r,n(e))}var V9=_J;function BJ(e,t){for(var n=-1,r=e==null?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}var HJ=BJ;function UJ(){return[]}var W9=UJ,YJ=HJ,zJ=W9,VJ=Object.prototype,WJ=VJ.propertyIsEnumerable,CM=Object.getOwnPropertySymbols,$J=CM?function(e){return e==null?[]:(e=Object(e),YJ(CM(e),function(t){return WJ.call(e,t)}))}:zJ,bI=$J;function ZJ(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var qJ=ZJ,GJ=qp,JJ=sd,KJ="[object Arguments]";function QJ(e){return JJ(e)&&GJ(e)==KJ}var XJ=QJ,xM=XJ,eK=sd,$9=Object.prototype,tK=$9.hasOwnProperty,nK=$9.propertyIsEnumerable,rK=xM(function(){return arguments}())?xM:function(e){return eK(e)&&tK.call(e,"callee")&&!nK.call(e,"callee")},SI=rK,Ww={exports:{}};function aK(){return!1}var oK=aK;Ww.exports;(function(e,t){var n=nu,r=oK,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,l=i?n.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||r;e.exports=f})(Ww,Ww.exports);var _b=Ww.exports,iK=qp,sK=dI,lK=sd,uK="[object Arguments]",cK="[object Array]",dK="[object Boolean]",fK="[object Date]",hK="[object Error]",pK="[object Function]",mK="[object Map]",gK="[object Number]",vK="[object Object]",yK="[object RegExp]",wK="[object Set]",bK="[object String]",SK="[object WeakMap]",DK="[object ArrayBuffer]",TK="[object DataView]",IK="[object Float32Array]",EK="[object Float64Array]",CK="[object Int8Array]",xK="[object Int16Array]",MK="[object Int32Array]",kK="[object Uint8Array]",NK="[object Uint8ClampedArray]",AK="[object Uint16Array]",FK="[object Uint32Array]",sr={};sr[IK]=sr[EK]=sr[CK]=sr[xK]=sr[MK]=sr[kK]=sr[NK]=sr[AK]=sr[FK]=!0;sr[uK]=sr[cK]=sr[DK]=sr[dK]=sr[TK]=sr[fK]=sr[hK]=sr[pK]=sr[mK]=sr[gK]=sr[vK]=sr[yK]=sr[wK]=sr[bK]=sr[SK]=!1;function OK(e){return lK(e)&&sK(e.length)&&!!sr[iK(e)]}var PK=OK;function jK(e){return function(t){return e(t)}}var Bb=jK,$w={exports:{}};$w.exports;(function(e,t){var n=A9,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===r,i=o&&n.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})($w,$w.exports);var DI=$w.exports,LK=PK,RK=Bb,MM=DI,kM=MM&&MM.isTypedArray,_K=kM?RK(kM):LK,TI=_K,BK=qJ,HK=SI,UK=ss,YK=_b,zK=fI,VK=TI,WK=Object.prototype,$K=WK.hasOwnProperty;function ZK(e,t){var n=UK(e),r=!n&&HK(e),a=!n&&!r&&YK(e),o=!n&&!r&&!a&&VK(e),i=n||r||a||o,l=i?BK(e.length,String):[],c=l.length;for(var f in e)(t||$K.call(e,f))&&!(i&&(f=="length"||a&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||zK(f,c)))&&l.push(f);return l}var Z9=ZK,qK=Object.prototype;function GK(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||qK;return e===n}var II=GK;function JK(e,t){return function(n){return e(t(n))}}var q9=JK,KK=q9,QK=KK(Object.keys,Object),XK=QK,eQ=II,tQ=XK,nQ=Object.prototype,rQ=nQ.hasOwnProperty;function aQ(e){if(!eQ(e))return tQ(e);var t=[];for(var n in Object(e))rQ.call(e,n)&&n!="constructor"&&t.push(n);return t}var oQ=aQ,iQ=Z9,sQ=oQ,lQ=Zv;function uQ(e){return lQ(e)?iQ(e):sQ(e)}var Jv=uQ,cQ=V9,dQ=bI,fQ=Jv;function hQ(e){return cQ(e,fQ,dQ)}var G9=hQ,NM=G9,pQ=1,mQ=Object.prototype,gQ=mQ.hasOwnProperty;function vQ(e,t,n,r,a,o){var i=n&pQ,l=NM(e),c=l.length,f=NM(t),h=f.length;if(c!=h&&!i)return!1;for(var g=c;g--;){var y=l[g];if(!(i?y in t:gQ.call(t,y)))return!1}var w=o.get(e),S=o.get(t);if(w&&S)return w==t&&S==e;var D=!0;o.set(e,t),o.set(t,e);for(var I=i;++g<c;){y=l[g];var M=e[y],N=t[y];if(r)var B=i?r(N,M,y,t,e,o):r(M,N,y,e,t,o);if(!(B===void 0?M===N||a(M,N,n,r,o):B)){D=!1;break}I||(I=y=="constructor")}if(D&&!I){var k=e.constructor,R=t.constructor;k!=R&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof R=="function"&&R instanceof R)&&(D=!1)}return o.delete(e),o.delete(t),D}var yQ=vQ,wQ=Pf,bQ=nu,SQ=wQ(bQ,"DataView"),DQ=SQ,TQ=Pf,IQ=nu,EQ=TQ(IQ,"Promise"),CQ=EQ,xQ=Pf,MQ=nu,kQ=xQ(MQ,"Set"),NQ=kQ,AQ=Pf,FQ=nu,OQ=AQ(FQ,"WeakMap"),PQ=OQ,jT=DQ,LT=gI,RT=CQ,_T=NQ,BT=PQ,J9=qp,Xp=U9,AM="[object Map]",jQ="[object Object]",FM="[object Promise]",OM="[object Set]",PM="[object WeakMap]",jM="[object DataView]",LQ=Xp(jT),RQ=Xp(LT),_Q=Xp(RT),BQ=Xp(_T),HQ=Xp(BT),of=J9;(jT&&of(new jT(new ArrayBuffer(1)))!=jM||LT&&of(new LT)!=AM||RT&&of(RT.resolve())!=FM||_T&&of(new _T)!=OM||BT&&of(new BT)!=PM)&&(of=function(e){var t=J9(e),n=t==jQ?e.constructor:void 0,r=n?Xp(n):"";if(r)switch(r){case LQ:return jM;case RQ:return AM;case _Q:return FM;case BQ:return OM;case HQ:return PM}return t});var Hb=of,$S=yI,UQ=Y9,YQ=OJ,zQ=yQ,LM=Hb,RM=ss,_M=_b,VQ=TI,WQ=1,BM="[object Arguments]",HM="[object Array]",O0="[object Object]",$Q=Object.prototype,UM=$Q.hasOwnProperty;function ZQ(e,t,n,r,a,o){var i=RM(e),l=RM(t),c=i?HM:LM(e),f=l?HM:LM(t);c=c==BM?O0:c,f=f==BM?O0:f;var h=c==O0,g=f==O0,y=c==f;if(y&&_M(e)){if(!_M(t))return!1;i=!0,h=!1}if(y&&!h)return o||(o=new $S),i||VQ(e)?UQ(e,t,n,r,a,o):YQ(e,t,c,n,r,a,o);if(!(n&WQ)){var w=h&&UM.call(e,"__wrapped__"),S=g&&UM.call(t,"__wrapped__");if(w||S){var D=w?e.value():e,I=S?t.value():t;return o||(o=new $S),a(D,I,n,r,o)}}return y?(o||(o=new $S),zQ(e,t,n,r,a,o)):!1}var qQ=ZQ,GQ=qQ,YM=sd;function K9(e,t,n,r,a){return e===t?!0:e==null||t==null||!YM(e)&&!YM(t)?e!==e&&t!==t:GQ(e,t,n,r,K9,a)}var EI=K9,JQ=EI;function KQ(e,t){return JQ(e,t)}var QQ=KQ;const XQ=qt(QQ);function ZS(e,t){var n=hI(e);return n?n.innerHeight:t?e.clientHeight:gf(e).height}function Q9(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(X$(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function eX(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var tX=eX,nX=yI,rX=EI,aX=1,oX=2;function iX(e,t,n,r){var a=n.length,o=a,i=!r;if(e==null)return!o;for(e=Object(e);a--;){var l=n[a];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){l=n[a];var c=l[0],f=e[c],h=l[1];if(i&&l[2]){if(f===void 0&&!(c in e))return!1}else{var g=new nX;if(r)var y=r(f,h,c,e,t,g);if(!(y===void 0?rX(h,f,aX|oX,r,g):y))return!1}}return!0}var sX=iX,lX=Qu;function uX(e){return e===e&&!lX(e)}var X9=uX,cX=X9,dX=Jv;function fX(e){for(var t=dX(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,cX(a)]}return t}var hX=fX;function pX(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var eF=pX,mX=sX,gX=hX,vX=eF;function yX(e){var t=gX(e);return t.length==1&&t[0][2]?vX(t[0][0],t[0][1]):function(n){return n===e||mX(n,e,t)}}var wX=yX,bX=ss,SX=qv,DX=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,TX=/^\w*$/;function IX(e,t){if(bX(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||SX(e)?!0:TX.test(e)||!DX.test(e)||t!=null&&e in Object(t)}var CI=IX,tF=vI,EX="Expected a function";function xI(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(EX);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(xI.Cache||tF),n}xI.Cache=tF;var CX=xI,xX=CX,MX=500;function kX(e){var t=xX(e,function(r){return n.size===MX&&n.clear(),r}),n=t.cache;return t}var NX=kX,AX=NX,FX=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,OX=/\\(\\)?/g,PX=AX(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(FX,function(n,r,a,o){t.push(a?o.replace(OX,"$1"):r||n)}),t}),jX=PX;function LX(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var MI=LX,zM=Zp,RX=MI,_X=ss,BX=qv,HX=1/0,VM=zM?zM.prototype:void 0,WM=VM?VM.toString:void 0;function nF(e){if(typeof e=="string")return e;if(_X(e))return RX(e,nF)+"";if(BX(e))return WM?WM.call(e):"";var t=e+"";return t=="0"&&1/e==-HX?"-0":t}var UX=nF,YX=UX;function zX(e){return e==null?"":YX(e)}var VX=zX,WX=ss,$X=CI,ZX=jX,qX=VX;function GX(e,t){return WX(e)?e:$X(e,t)?[e]:ZX(qX(e))}var Ub=GX,JX=qv,KX=1/0;function QX(e){if(typeof e=="string"||JX(e))return e;var t=e+"";return t=="0"&&1/e==-KX?"-0":t}var Kv=QX,XX=Ub,eee=Kv;function tee(e,t){t=XX(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[eee(t[n++])];return n&&n==r?e:void 0}var Yb=tee,nee=Yb;function ree(e,t,n){var r=e==null?void 0:nee(e,t);return r===void 0?n:r}var aee=ree;function oee(e,t){return e!=null&&t in Object(e)}var iee=oee,see=Ub,lee=SI,uee=ss,cee=fI,dee=dI,fee=Kv;function hee(e,t,n){t=see(t,e);for(var r=-1,a=t.length,o=!1;++r<a;){var i=fee(t[r]);if(!(o=e!=null&&n(e,i)))break;e=e[i]}return o||++r!=a?o:(a=e==null?0:e.length,!!a&&dee(a)&&cee(i,a)&&(uee(e)||lee(e)))}var pee=hee,mee=iee,gee=pee;function vee(e,t){return e!=null&&gee(e,t,mee)}var yee=vee,wee=EI,bee=aee,See=yee,Dee=CI,Tee=X9,Iee=eF,Eee=Kv,Cee=1,xee=2;function Mee(e,t){return Dee(e)&&Tee(t)?Iee(Eee(e),t):function(n){var r=bee(n,e);return r===void 0&&r===t?See(n,e):wee(t,r,Cee|xee)}}var kee=Mee;function Nee(e){return e}var zb=Nee;function Aee(e){return function(t){return t==null?void 0:t[e]}}var Fee=Aee,Oee=Yb;function Pee(e){return function(t){return Oee(t,e)}}var jee=Pee,Lee=Fee,Ree=jee,_ee=CI,Bee=Kv;function Hee(e){return _ee(e)?Lee(Bee(e)):Ree(e)}var Uee=Hee,Yee=wX,zee=kee,Vee=zb,Wee=ss,$ee=Uee;function Zee(e){return typeof e=="function"?e:e==null?Vee:typeof e=="object"?Wee(e)?zee(e[0],e[1]):Yee(e):$ee(e)}var Vb=Zee,qee=tX,Gee=Vb,Jee=P9,Kee=Math.max;function Qee(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:Jee(n);return a<0&&(a=Kee(r+a,0)),qee(e,Gee(t),a)}var Xee=Qee;const ete=qt(Xee);var tte=Math.ceil,nte=Math.max;function rte(e,t,n,r){for(var a=-1,o=nte(tte((t-e)/(n||1)),0),i=Array(o);o--;)i[r?o:++a]=e,e+=n;return i}var ate=rte,ote=ate,ite=Ob,qS=O9;function ste(e){return function(t,n,r){return r&&typeof r!="number"&&ite(t,n,r)&&(n=r=void 0),t=qS(t),n===void 0?(n=t,t=0):n=qS(n),r=r===void 0?t<n?1:-1:qS(r),ote(t,n,r,e)}}var lte=ste,ute=lte,cte=ute(),dte=cte;const fte=qt(dte);var $M=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function hte(e,t){return!!(e===t||$M(e)&&$M(t))}function pte(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!hte(e[n],t[n]))return!1;return!0}function rF(e,t){t===void 0&&(t=pte);var n=null;function r(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;var i=e.apply(this,a);return n={lastResult:i,lastArgs:a,lastThis:this},i}return r.clear=function(){n=null},r}var ZM=Zp,mte=SI,gte=ss,qM=ZM?ZM.isConcatSpreadable:void 0;function vte(e){return gte(e)||mte(e)||!!(qM&&e&&e[qM])}var yte=vte,wte=wI,bte=yte;function aF(e,t,n,r,a){var o=-1,i=e.length;for(n||(n=bte),a||(a=[]);++o<i;){var l=e[o];t>0&&n(l)?t>1?aF(l,t-1,n,r,a):wte(a,l):r||(a[a.length]=l)}return a}var oF=aF;function Ste(e){return function(t,n,r){for(var a=-1,o=Object(t),i=r(t),l=i.length;l--;){var c=i[e?l:++a];if(n(o[c],c,o)===!1)break}return t}}var Dte=Ste,Tte=Dte,Ite=Tte(),Ete=Ite,Cte=Ete,xte=Jv;function Mte(e,t){return e&&Cte(e,t,xte)}var kI=Mte,kte=Zv;function Nte(e,t){return function(n,r){if(n==null)return n;if(!kte(n))return e(n,r);for(var a=n.length,o=t?a:-1,i=Object(n);(t?o--:++o<a)&&r(i[o],o,i)!==!1;);return n}}var Ate=Nte,Fte=kI,Ote=Ate,Pte=Ote(Fte),jte=Pte,Lte=jte,Rte=Zv;function _te(e,t){var n=-1,r=Rte(e)?Array(e.length):[];return Lte(e,function(a,o,i){r[++n]=t(a,o,i)}),r}var Bte=_te;function Hte(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Ute=Hte,GM=qv;function Yte(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,o=GM(e),i=t!==void 0,l=t===null,c=t===t,f=GM(t);if(!l&&!f&&!o&&e>t||o&&i&&c&&!l&&!f||r&&i&&c||!n&&c||!a)return 1;if(!r&&!o&&!f&&e<t||f&&n&&a&&!r&&!o||l&&n&&a||!i&&a||!c)return-1}return 0}var zte=Yte,Vte=zte;function Wte(e,t,n){for(var r=-1,a=e.criteria,o=t.criteria,i=a.length,l=n.length;++r<i;){var c=Vte(a[r],o[r]);if(c){if(r>=l)return c;var f=n[r];return c*(f=="desc"?-1:1)}}return e.index-t.index}var $te=Wte,GS=MI,Zte=Yb,qte=Vb,Gte=Bte,Jte=Ute,Kte=Bb,Qte=$te,Xte=zb,ene=ss;function tne(e,t,n){t.length?t=GS(t,function(o){return ene(o)?function(i){return Zte(i,o.length===1?o[0]:o)}:o}):t=[Xte];var r=-1;t=GS(t,Kte(qte));var a=Gte(e,function(o,i,l){var c=GS(t,function(f){return f(o)});return{criteria:c,index:++r,value:o}});return Jte(a,function(o,i){return Qte(o,i,n)})}var nne=tne;function rne(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var ane=rne,one=ane,JM=Math.max;function ine(e,t,n){return t=JM(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=JM(r.length-t,0),i=Array(o);++a<o;)i[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(i),one(e,this,l)}}var iF=ine;function sne(e){return function(){return e}}var lne=sne,une=Pf,cne=function(){try{var e=une(Object,"defineProperty");return e({},"",{}),e}catch{}}(),sF=cne,dne=lne,KM=sF,fne=zb,hne=KM?function(e,t){return KM(e,"toString",{configurable:!0,enumerable:!1,value:dne(t),writable:!0})}:fne,pne=hne,mne=800,gne=16,vne=Date.now;function yne(e){var t=0,n=0;return function(){var r=vne(),a=gne-(r-n);if(n=r,a>0){if(++t>=mne)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var wne=yne,bne=pne,Sne=wne,Dne=Sne(bne),lF=Dne,Tne=zb,Ine=iF,Ene=lF;function Cne(e,t){return Ene(Ine(e,t,Tne),e+"")}var uF=Cne,xne=oF,Mne=nne,kne=uF,QM=Ob,Nne=kne(function(e,t){if(e==null)return[];var n=t.length;return n>1&&QM(e,t[0],t[1])?t=[]:n>2&&QM(t[0],t[1],t[2])&&(t=[t[0]]),Mne(e,xne(t,1),[])}),Ane=Nne;const Fne=qt(Ane);function HT(e,t){var n=hI(e);return n?n.innerWidth:t?e.clientWidth:gf(e).width}function cF(e){return p9(e)||k9(e)||sI(e)||m9()}function One(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var dF=One,XM=sF;function Pne(e,t,n){t=="__proto__"&&XM?XM(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var NI=Pne,jne=NI,Lne=$v,Rne=Object.prototype,_ne=Rne.hasOwnProperty;function Bne(e,t,n){var r=e[t];(!(_ne.call(e,t)&&Lne(r,n))||n===void 0&&!(t in e))&&jne(e,t,n)}var fF=Bne,Hne=fF,Une=NI;function Yne(e,t,n,r){var a=!n;n||(n={});for(var o=-1,i=t.length;++o<i;){var l=t[o],c=r?r(n[l],e[l],l,n,e):void 0;c===void 0&&(c=e[l]),a?Une(n,l,c):Hne(n,l,c)}return n}var Qv=Yne,zne=Qv,Vne=Jv;function Wne(e,t){return e&&zne(t,Vne(t),e)}var $ne=Wne;function Zne(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var qne=Zne,Gne=Qu,Jne=II,Kne=qne,Qne=Object.prototype,Xne=Qne.hasOwnProperty;function ere(e){if(!Gne(e))return Kne(e);var t=Jne(e),n=[];for(var r in e)r=="constructor"&&(t||!Xne.call(e,r))||n.push(r);return n}var tre=ere,nre=Z9,rre=tre,are=Zv;function ore(e){return are(e)?nre(e,!0):rre(e)}var Wb=ore,ire=Qv,sre=Wb;function lre(e,t){return e&&ire(t,sre(t),e)}var ure=lre,Zw={exports:{}};Zw.exports;(function(e,t){var n=nu,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===r,i=o?n.Buffer:void 0,l=i?i.allocUnsafe:void 0;function c(f,h){if(h)return f.slice();var g=f.length,y=l?l(g):new f.constructor(g);return f.copy(y),y}e.exports=c})(Zw,Zw.exports);var cre=Zw.exports;function dre(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var fre=dre,hre=Qv,pre=bI;function mre(e,t){return hre(e,pre(e),t)}var gre=mre,vre=q9,yre=vre(Object.getPrototypeOf,Object),$b=yre,wre=wI,bre=$b,Sre=bI,Dre=W9,Tre=Object.getOwnPropertySymbols,Ire=Tre?function(e){for(var t=[];e;)wre(t,Sre(e)),e=bre(e);return t}:Dre,hF=Ire,Ere=Qv,Cre=hF;function xre(e,t){return Ere(e,Cre(e),t)}var Mre=xre,kre=V9,Nre=hF,Are=Wb;function Fre(e){return kre(e,Are,Nre)}var pF=Fre,Ore=Object.prototype,Pre=Ore.hasOwnProperty;function jre(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Pre.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Lre=jre,e3=z9;function Rre(e){var t=new e.constructor(e.byteLength);return new e3(t).set(new e3(e)),t}var AI=Rre,_re=AI;function Bre(e,t){var n=t?_re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Hre=Bre,Ure=/\w*$/;function Yre(e){var t=new e.constructor(e.source,Ure.exec(e));return t.lastIndex=e.lastIndex,t}var zre=Yre,t3=Zp,n3=t3?t3.prototype:void 0,r3=n3?n3.valueOf:void 0;function Vre(e){return r3?Object(r3.call(e)):{}}var Wre=Vre,$re=AI;function Zre(e,t){var n=t?$re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var qre=Zre,Gre=AI,Jre=Hre,Kre=zre,Qre=Wre,Xre=qre,eae="[object Boolean]",tae="[object Date]",nae="[object Map]",rae="[object Number]",aae="[object RegExp]",oae="[object Set]",iae="[object String]",sae="[object Symbol]",lae="[object ArrayBuffer]",uae="[object DataView]",cae="[object Float32Array]",dae="[object Float64Array]",fae="[object Int8Array]",hae="[object Int16Array]",pae="[object Int32Array]",mae="[object Uint8Array]",gae="[object Uint8ClampedArray]",vae="[object Uint16Array]",yae="[object Uint32Array]";function wae(e,t,n){var r=e.constructor;switch(t){case lae:return Gre(e);case eae:case tae:return new r(+e);case uae:return Jre(e,n);case cae:case dae:case fae:case hae:case pae:case mae:case gae:case vae:case yae:return Xre(e,n);case nae:return new r;case rae:case iae:return new r(e);case aae:return Kre(e);case oae:return new r;case sae:return Qre(e)}}var bae=wae,Sae=Qu,a3=Object.create,Dae=function(){function e(){}return function(t){if(!Sae(t))return{};if(a3)return a3(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),mF=Dae,Tae=mF,Iae=$b,Eae=II;function Cae(e){return typeof e.constructor=="function"&&!Eae(e)?Tae(Iae(e)):{}}var xae=Cae,Mae=Hb,kae=sd,Nae="[object Map]";function Aae(e){return kae(e)&&Mae(e)==Nae}var Fae=Aae,Oae=Fae,Pae=Bb,o3=DI,i3=o3&&o3.isMap,jae=i3?Pae(i3):Oae,Lae=jae,Rae=Hb,_ae=sd,Bae="[object Set]";function Hae(e){return _ae(e)&&Rae(e)==Bae}var Uae=Hae,Yae=Uae,zae=Bb,s3=DI,l3=s3&&s3.isSet,Vae=l3?zae(l3):Yae,Wae=Vae,$ae=yI,Zae=dF,qae=fF,Gae=$ne,Jae=ure,Kae=cre,Qae=fre,Xae=gre,eoe=Mre,toe=G9,noe=pF,roe=Hb,aoe=Lre,ooe=bae,ioe=xae,soe=ss,loe=_b,uoe=Lae,coe=Qu,doe=Wae,foe=Jv,hoe=Wb,poe=1,moe=2,goe=4,gF="[object Arguments]",voe="[object Array]",yoe="[object Boolean]",woe="[object Date]",boe="[object Error]",vF="[object Function]",Soe="[object GeneratorFunction]",Doe="[object Map]",Toe="[object Number]",yF="[object Object]",Ioe="[object RegExp]",Eoe="[object Set]",Coe="[object String]",xoe="[object Symbol]",Moe="[object WeakMap]",koe="[object ArrayBuffer]",Noe="[object DataView]",Aoe="[object Float32Array]",Foe="[object Float64Array]",Ooe="[object Int8Array]",Poe="[object Int16Array]",joe="[object Int32Array]",Loe="[object Uint8Array]",Roe="[object Uint8ClampedArray]",_oe="[object Uint16Array]",Boe="[object Uint32Array]",rr={};rr[gF]=rr[voe]=rr[koe]=rr[Noe]=rr[yoe]=rr[woe]=rr[Aoe]=rr[Foe]=rr[Ooe]=rr[Poe]=rr[joe]=rr[Doe]=rr[Toe]=rr[yF]=rr[Ioe]=rr[Eoe]=rr[Coe]=rr[xoe]=rr[Loe]=rr[Roe]=rr[_oe]=rr[Boe]=!0;rr[boe]=rr[vF]=rr[Moe]=!1;function hw(e,t,n,r,a,o){var i,l=t&poe,c=t&moe,f=t&goe;if(n&&(i=a?n(e,r,a,o):n(e)),i!==void 0)return i;if(!coe(e))return e;var h=soe(e);if(h){if(i=aoe(e),!l)return Qae(e,i)}else{var g=roe(e),y=g==vF||g==Soe;if(loe(e))return Kae(e,l);if(g==yF||g==gF||y&&!a){if(i=c||y?{}:ioe(e),!l)return c?eoe(e,Jae(i,e)):Xae(e,Gae(i,e))}else{if(!rr[g])return a?e:{};i=ooe(e,g,l)}}o||(o=new $ae);var w=o.get(e);if(w)return w;o.set(e,i),doe(e)?e.forEach(function(I){i.add(hw(I,t,n,I,e,o))}):uoe(e)&&e.forEach(function(I,M){i.set(M,hw(I,t,n,M,e,o))});var S=f?c?noe:toe:c?hoe:foe,D=h?void 0:S(e);return Zae(D||e,function(I,M){D&&(M=I,I=e[M]),qae(i,M,hw(I,t,n,M,e,o))}),i}var Hoe=hw;function Uoe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Yoe=Uoe,zoe=Yb,Voe=N9;function Woe(e,t){return t.length<2?e:zoe(e,Voe(t,0,-1))}var $oe=Woe,Zoe=Ub,qoe=Yoe,Goe=$oe,Joe=Kv;function Koe(e,t){return t=Zoe(t,e),e=Goe(e,t),e==null||delete e[Joe(qoe(t))]}var Qoe=Koe,Xoe=qp,eie=$b,tie=sd,nie="[object Object]",rie=Function.prototype,aie=Object.prototype,wF=rie.toString,oie=aie.hasOwnProperty,iie=wF.call(Object);function sie(e){if(!tie(e)||Xoe(e)!=nie)return!1;var t=eie(e);if(t===null)return!0;var n=oie.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&wF.call(n)==iie}var lie=sie,uie=lie;function cie(e){return uie(e)?void 0:e}var die=cie,fie=oF;function hie(e){var t=e==null?0:e.length;return t?fie(e,1):[]}var pie=hie,mie=pie,gie=iF,vie=lF;function yie(e){return vie(gie(e,void 0,mie),e+"")}var wie=yie,bie=MI,Sie=Hoe,Die=Qoe,Tie=Ub,Iie=Qv,Eie=die,Cie=wie,xie=pF,Mie=1,kie=2,Nie=4,Aie=Cie(function(e,t){var n={};if(e==null)return n;var r=!1;t=bie(t,function(o){return o=Tie(o,e),r||(r=o.length>1),o}),Iie(e,xie(e),n),r&&(n=Sie(n,Mie|kie|Nie,Eie));for(var a=t.length;a--;)Die(n,t[a]);return n}),Fie=Aie;const Oie=qt(Fie);var Pie=uF,jie=$v,Lie=Ob,Rie=Wb,bF=Object.prototype,_ie=bF.hasOwnProperty,Bie=Pie(function(e,t){e=Object(e);var n=-1,r=t.length,a=r>2?t[2]:void 0;for(a&&Lie(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],i=Rie(o),l=-1,c=i.length;++l<c;){var f=i[l],h=e[f];(h===void 0||jie(h,bF[f])&&!_ie.call(e,f))&&(e[f]=o[f])}return e}),Hie=Bie;const Uie=qt(Hie);var Yie=dF,zie=mF,Vie=kI,Wie=Vb,$ie=$b,Zie=ss,qie=_b,Gie=cI,Jie=Qu,Kie=TI;function Qie(e,t,n){var r=Zie(e),a=r||qie(e)||Kie(e);if(t=Wie(t),n==null){var o=e&&e.constructor;a?n=r?new o:[]:Jie(e)?n=Gie(o)?zie($ie(e)):{}:n={}}return(a?Yie:Vie)(e,function(i,l,c){return t(n,i,l,c)}),n}var Xie=Qie;const ese=qt(Xie);var tse=NI,nse=kI,rse=Vb;function ase(e,t){var n={};return t=rse(t),nse(e,function(r,a,o){tse(n,a,t(r,a,o))}),n}var ose=ase;const ise=qt(ose);var sse={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(dr,function(){return function(n,r,a){r.prototype.isBetween=function(o,i,l,c){var f=a(o),h=a(i),g=(c=c||"()")[0]==="(",y=c[1]===")";return(g?this.isAfter(f,l):!this.isBefore(f,l))&&(y?this.isBefore(h,l):!this.isAfter(h,l))||(g?this.isBefore(f,l):!this.isAfter(f,l))&&(y?this.isAfter(h,l):!this.isBefore(h,l))}}})})(sse);var lse={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(dr,function(){return function(n,r){r.prototype.isSameOrAfter=function(a,o){return this.isSame(a,o)||this.isAfter(a,o)}}})})(lse);var use={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(dr,function(){return function(n,r){r.prototype.isSameOrBefore=function(a,o){return this.isSame(a,o)||this.isBefore(a,o)}}})})(use);var cse={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(dr,function(){return function(n,r,a){var o=r.prototype,i=function(g){return g&&(g.indexOf?g:g.s)},l=function(g,y,w,S,D){var I=g.name?g:g.$locale(),M=i(I[y]),N=i(I[w]),B=M||N.map(function(R){return R.slice(0,S)});if(!D)return B;var k=I.weekStart;return B.map(function(R,L){return B[(L+(k||0))%7]})},c=function(){return a.Ls[a.locale()]},f=function(g,y){return g.formats[y]||function(w){return w.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(S,D,I){return D||I.slice(1)})}(g.formats[y.toUpperCase()])},h=function(){var g=this;return{months:function(y){return y?y.format("MMMM"):l(g,"months")},monthsShort:function(y){return y?y.format("MMM"):l(g,"monthsShort","months",3)},firstDayOfWeek:function(){return g.$locale().weekStart||0},weekdays:function(y){return y?y.format("dddd"):l(g,"weekdays")},weekdaysMin:function(y){return y?y.format("dd"):l(g,"weekdaysMin","weekdays",2)},weekdaysShort:function(y){return y?y.format("ddd"):l(g,"weekdaysShort","weekdays",3)},longDateFormat:function(y){return f(g.$locale(),y)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return h.bind(this)()},a.localeData=function(){var g=c();return{firstDayOfWeek:function(){return g.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(y){return f(g,y)},meridiem:g.meridiem,ordinal:g.ordinal}},a.months=function(){return l(c(),"months")},a.monthsShort=function(){return l(c(),"monthsShort","months",3)},a.weekdays=function(g){return l(c(),"weekdays",null,null,g)},a.weekdaysShort=function(g){return l(c(),"weekdaysShort","weekdays",3,g)},a.weekdaysMin=function(g){return l(c(),"weekdaysMin","weekdays",2,g)}}})})(cse);var dse={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(dr,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,a,o){var i=a.prototype,l=i.format;o.en.formats=n,i.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var f=this.$locale().formats,h=function(g,y){return g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(w,S,D){var I=D&&D.toUpperCase();return S||y[D]||n[D]||y[I].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(M,N,B){return N||B.slice(1)})})}(c,f===void 0?{}:f);return l.call(this,h)}}})})(dse);var fse={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(dr,function(){return function(n,r,a){var o=function(i,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var c;l.length===1&&l[0].length>0&&(l=l[0]),c=(l=l.filter(function(h){return h}))[0];for(var f=1;f<l.length;f+=1)l[f].isValid()&&!l[f][i](c)||(c=l[f]);return c};a.max=function(){var i=[].slice.call(arguments,0);return o("isAfter",i)},a.min=function(){var i=[].slice.call(arguments,0);return o("isBefore",i)}}})})(fse);var hse={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(dr,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(o,i,l){var c=i.prototype;l.utc=function(D){var I={date:D,utc:!0,args:arguments};return new i(I)},c.utc=function(D){var I=l(this.toDate(),{locale:this.$L,utc:!0});return D?I.add(this.utcOffset(),n):I},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var f=c.parse;c.parse=function(D){D.utc&&(this.$u=!0),this.$utils().u(D.$offset)||(this.$offset=D.$offset),f.call(this,D)};var h=c.init;c.init=function(){if(this.$u){var D=this.$d;this.$y=D.getUTCFullYear(),this.$M=D.getUTCMonth(),this.$D=D.getUTCDate(),this.$W=D.getUTCDay(),this.$H=D.getUTCHours(),this.$m=D.getUTCMinutes(),this.$s=D.getUTCSeconds(),this.$ms=D.getUTCMilliseconds()}else h.call(this)};var g=c.utcOffset;c.utcOffset=function(D,I){var M=this.$utils().u;if(M(D))return this.$u?0:M(this.$offset)?g.call(this):this.$offset;if(typeof D=="string"&&(D=function(R){R===void 0&&(R="");var L=R.match(r);if(!L)return null;var _=(""+L[0]).match(a)||["-",0,0],V=_[0],U=60*+_[1]+ +_[2];return U===0?0:V==="+"?U:-U}(D),D===null))return this;var N=Math.abs(D)<=16?60*D:D,B=this;if(I)return B.$offset=N,B.$u=D===0,B;if(D!==0){var k=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(B=this.local().add(N+k,n)).$offset=N,B.$x.$localOffset=k}else B=this.utc();return B};var y=c.format;c.format=function(D){var I=D||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,I)},c.valueOf=function(){var D=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*D},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var w=c.toDate;c.toDate=function(D){return D==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():w.call(this)};var S=c.diff;c.diff=function(D,I,M){if(D&&this.$u===D.$u)return S.call(this,D,I,M);var N=this.local(),B=l(D).local();return S.call(N,B,I,M)}}})})(hse);function Ru(e){return e.children}var ri={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Mo={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},u3=Object.keys(Mo).map(function(e){return Mo[e]});ke.oneOfType([ke.string,ke.func]);ke.any;ke.func;ke.oneOfType([ke.arrayOf(ke.oneOf(u3)),ke.objectOf(function(e,t){var n=u3.indexOf(t)!==-1&&typeof e[t]=="boolean";if(n)return null;for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];return ke.elementType.apply(ke,[e,t].concat(a))})]);ke.oneOfType([ke.oneOf(["overlap","no-overlap"]),ke.func]);function gr(e,t){e&&e.apply(null,[].concat(t))}var c3={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function SF(e,t){var n=$a(e,"month");return $a(n,"week",t.startOfWeek())}function DF(e,t){var n=Yw(e,"month");return Yw(n,"week",t.startOfWeek())}function pse(e,t){for(var n=SF(e,t),r=DF(e,t),a=[];Wp(n,r,"day");)a.push(n),n=Vs(n,1,"day");return a}function mse(e,t){var n=$a(e,t);return Vv(n,e)?n:Vs(n,1,t)}function gse(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=e,a=[];Wp(r,t,n);)a.push(r),r=Vs(r,1,n);return a}function vse(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=$a(e,"day"),e=hv(e,hv(t)),e=xp(e,xp(t)),e=fv(e,fv(t)),dv(e,dv(t)))}function d3(e){return hv(e)===0&&xp(e)===0&&fv(e)===0&&dv(e)===0}function yse(e,t,n,r){return n==="day"&&(n="date"),Math.abs(nM[n](e,void 0,r)-nM[n](t,void 0,r))}function FI(e,t,n){return!n||n==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+$a(e,n)/c3[n]-+$a(t,n)/c3[n]))}var wse=ke.oneOfType([ke.string,ke.func]);function bse(e,t,n,r,a){var o=typeof r=="function"?r(n,a,e):t.call(e,n,r,a);return ov(o==null||typeof o=="string","`localizer format(..)` must return a string, null, or undefined"),o}function Sse(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function OI(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function Dse(e,t){return FI(e,t,"minutes")+OI(e,t)}function Tse(e){var t=$a(e,"day");return FI(t,e,"minutes")+OI(t,e)}function Ise(e,t){return uI(e,t,"day")}function Ese(e,t,n){var r=Vv(e,t,"minutes");return r?Wv(t,n,"minutes"):Fb(t,n,"minutes")}function UT(e,t){return yse(e,t,"day")}function Cse(e){var t=e.evtA,n=t.start,r=t.end,a=t.allDay,o=e.evtB,i=o.start,l=o.end,c=o.allDay,f=+$a(n,"day")-+$a(i,"day"),h=UT(n,r),g=UT(i,l);return f||g-h||!!c-!!a||+n-+i||+r-+l}function xse(e){var t=e.event,n=t.start,r=t.end,a=e.range,o=a.start,i=a.end,l=$a(n,"day"),c=Wp(l,i,"day"),f=lI(l,r,"minutes"),h=f?Fb(r,o,"minutes"):Wv(r,o,"minutes");return c&&h}function Mse(e,t){return Vv(e,t,"day")}function kse(e,t){return d3(e)&&d3(t)}var Nse=ka(function e(t){var n=this;Ma(this,e),ov(typeof t.format=="function","date localizer `format(..)` must be a function"),ov(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||wse,this.formats=t.formats,this.format=function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return bse.apply(void 0,[n,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||vse,this.inRange=t.inRange||E9,this.lt=t.lt||uI,this.lte=t.lte||Wp,this.gt=t.gt||Fb,this.gte=t.gte||Wv,this.eq=t.eq||Vv,this.neq=t.neq||lI,this.startOf=t.startOf||$a,this.endOf=t.endOf||Yw,this.add=t.add||Vs,this.range=t.range||gse,this.diff=t.diff||FI,this.ceil=t.ceil||mse,this.min=t.min||T9,this.max=t.max||I9,this.minutes=t.minutes||xp,this.daySpan=t.daySpan||UT,this.firstVisibleDay=t.firstVisibleDay||SF,this.lastVisibleDay=t.lastVisibleDay||DF,this.visibleDays=t.visibleDays||pse,this.getSlotDate=t.getSlotDate||Sse,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||OI,this.getTotalMin=t.getTotalMin||Dse,this.getMinutesFromMidnight=t.getMinutesFromMidnight||Tse,this.continuesPrior=t.continuesPrior||Ise,this.continuesAfter=t.continuesAfter||Ese,this.sortEvents=t.sortEvents||Cse,this.inEventRange=t.inEventRange||xse,this.isSameDate=t.isSameDate||Mse,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||kse,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function Ase(e,t,n,r){var a=tr(tr({},e.formats),n);return tr(tr({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(i,l){return e.format(i,a[l]||l,t)}})}var Fse={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function Ose(e){return tr(tr({},Fse),e)}function Pse(e){var t=e.ref,n=e.callback;P.useEffect(function(){var r=function(o){t.current&&!t.current.contains(o.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,n])}var jse=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],TF=function(e){Ao(t,e);function t(){return Ma(this,t),No(this,t,arguments)}return ka(t,[{key:"render",value:function(){var r=this.props,a=r.style,o=r.className,i=r.event,l=r.selected,c=r.isAllDay,f=r.onSelect,h=r.onDoubleClick,g=r.onKeyPress,y=r.localizer,w=r.continuesPrior,S=r.continuesAfter,D=r.accessors,I=r.getters,M=r.children,N=r.components,B=N.event,k=N.eventWrapper,R=r.slotStart,L=r.slotEnd,_=tu(r,jse);delete _.resizable;var V=D.title(i),U=D.tooltip(i),Z=D.end(i),Q=D.start(i),G=D.allDay(i),re=c||G||y.diff(Q,y.ceil(Z,"day"),"day")>1,de=I.eventProp(i,Q,Z,l),fe=ne.createElement("div",{className:"rbc-event-content",title:U||void 0},B?ne.createElement(B,{event:i,continuesPrior:w,continuesAfter:S,title:V,isAllDay:G,localizer:y,slotStart:R,slotEnd:L}):V);return ne.createElement(k,Object.assign({},this.props,{type:"date"}),ne.createElement("div",Object.assign({},_,{style:tr(tr({},de.style),a),className:ca("rbc-event",o,de.className,{"rbc-selected":l,"rbc-event-allday":re,"rbc-event-continues-prior":w,"rbc-event-continues-after":S}),onClick:function(he){return f&&f(i,he)},onDoubleClick:function(he){return h&&h(i,he)},onKeyDown:function(he){return g&&g(i,he)}}),typeof M=="function"?M(fe):fe))}}]),t}(ne.Component);function Zb(e,t){return!e||t==null?!1:XQ(e,t)}function IF(e,t){var n=e.right-e.left,r=n/t;return r}function EF(e,t,n,r){var a=IF(e,r);return n?r-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function Lse(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}function Rse(e,t,n,r,a){var o=-1,i=-1,l=r-1,c=IF(t,r),f=EF(t,n.x,a,r),h=t.top<n.y&&t.bottom>n.y,g=t.top<e.y&&t.bottom>e.y,y=e.y>t.bottom,w=t.top>e.y,S=n.top<t.top&&n.bottom>t.bottom;return S&&(o=0,i=l),h&&(w?(o=0,i=f):y&&(o=f,i=l)),g&&(o=i=a?l-Math.floor((e.x-t.left)/c):Math.floor((e.x-t.left)/c),h?f<o?o=f:i=f:e.y<n.y?i=l:o=0),{startIdx:o,endIdx:i}}function _se(e){var t=e.target,n=e.offset,r=e.container,a=e.box,o=gf(t),i=o.top,l=o.left,c=o.width,f=o.height,h=gf(r),g=h.top,y=h.left,w=h.width,S=h.height,D=gf(a),I=D.width,M=D.height,N=g+S,B=y+w,k=i+M,R=l+I,L=n.x,_=n.y,V=k>N?i-M-_:i+_+f,U=R>B?l+L-I+c:l+L;return{topOffset:V,leftOffset:U}}function Bse(e){var t=e.containerRef,n=e.accessors,r=e.getters,a=e.selected,o=e.components,i=e.localizer,l=e.position,c=e.show,f=e.events,h=e.slotStart,g=e.slotEnd,y=e.onSelect,w=e.onDoubleClick,S=e.onKeyPress,D=e.handleDragStart,I=e.popperRef,M=e.target,N=e.offset;Pse({ref:I,callback:c}),P.useLayoutEffect(function(){var R=_se({target:M,offset:N,container:t.current,box:I.current}),L=R.topOffset,_=R.leftOffset;I.current.style.top="".concat(L,"px"),I.current.style.left="".concat(_,"px")},[N.x,N.y,M]);var B=l.width,k={minWidth:B+B/2};return ne.createElement("div",{style:k,className:"rbc-overlay",ref:I},ne.createElement("div",{className:"rbc-overlay-header"},i.format(h,"dayHeaderFormat")),f.map(function(R,L){return ne.createElement(TF,{key:L,type:"popup",localizer:i,event:R,getters:r,onSelect:y,accessors:n,components:o,onDoubleClick:w,onKeyPress:S,continuesPrior:i.lt(n.end(R),h,"day"),continuesAfter:i.gte(n.start(R),g,"day"),slotStart:h,slotEnd:g,selected:Zb(R,a),draggable:!0,onDragStart:function(){return D(R)},onDragEnd:function(){return c()}})}))}var CF=ne.forwardRef(function(e,t){return ne.createElement(Bse,Object.assign({},e,{popperRef:t}))});CF.propTypes={accessors:ke.object.isRequired,getters:ke.object.isRequired,selected:ke.object,components:ke.object.isRequired,localizer:ke.object.isRequired,position:ke.object.isRequired,show:ke.func.isRequired,events:ke.array.isRequired,slotStart:ke.instanceOf(Date).isRequired,slotEnd:ke.instanceOf(Date),onSelect:ke.func,onDoubleClick:ke.func,onKeyPress:ke.func,handleDragStart:ke.func,style:ke.object,offset:ke.shape({x:ke.number,y:ke.number})};function Hse(e){var t=e.containerRef,n=e.popupOffset,r=n===void 0?5:n,a=e.overlay,o=e.accessors,i=e.localizer,l=e.components,c=e.getters,f=e.selected,h=e.handleSelectEvent,g=e.handleDoubleClickEvent,y=e.handleKeyPressEvent,w=e.handleDragStart,S=e.onHide,D=e.overlayDisplay,I=P.useRef(null);if(!a.position)return null;var M=r;isNaN(r)||(M={x:r,y:r});var N=a.position,B=a.events,k=a.date,R=a.end;return ne.createElement(CZ,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:S,target:a.target},function(L){var _=L.props;return ne.createElement(CF,Object.assign({},_,{containerRef:t,ref:I,target:a.target,offset:M,accessors:o,getters:c,selected:f,components:l,localizer:i,position:N,show:D,events:B,slotStart:k,slotEnd:R,onSelect:h,onDoubleClick:g,onKeyPress:y,handleDragStart:w}))})}var PI=ne.forwardRef(function(e,t){return ne.createElement(Hse,Object.assign({},e,{containerRef:t}))});PI.propTypes={popupOffset:ke.oneOfType([ke.number,ke.shape({x:ke.number,y:ke.number})]),overlay:ke.shape({position:ke.object,events:ke.array,date:ke.instanceOf(Date),end:ke.instanceOf(Date)}),accessors:ke.object.isRequired,localizer:ke.object.isRequired,components:ke.object.isRequired,getters:ke.object.isRequired,selected:ke.object,handleSelectEvent:ke.func,handleDoubleClickEvent:ke.func,handleKeyPressEvent:ke.func,handleDragStart:ke.func,onHide:ke.func,overlayDisplay:ke.func};function ao(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return _g(n,e,t,{passive:!1})}function Use(e,t,n){return!e||pv(e,document.elementFromPoint(t,n))}function Yse(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return Q9(a,".rbc-event",e)}function zse(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return Q9(a,".rbc-show-more",e)}function qw(e,t){return!!Yse(e,t)}function Vse(e,t){return!!zse(e,t)}function ap(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var f3=5,Wse=250,xF=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,a=r===void 0?!1:r,o=n.longPressThreshold,i=o===void 0?250:o,l=n.validContainers,c=l===void 0?[]:l;Ma(this,e),this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=i,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=ao("touchmove",function(){},window),this._removeKeyDownListener=ao("keydown",this._keyListener),this._removeKeyUpListener=ao("keyup",this._keyListener),this._removeDropFromOutsideListener=ao("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=ao("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return ka(e,[{key:"on",value:function(n,r){var a=this._listeners[n]||(this._listeners[n]=[]);return a.push(r),{remove:function(){var i=a.indexOf(r);i!==-1&&a.splice(i,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];var i,l=this._listeners[n]||[];return l.forEach(function(c){i===void 0&&(i=c.apply(void 0,a))}),i}},{key:"teardown",value:function(){this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:h3(r,Mf(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var a=this,o=null,i=null,l=null,c=function(y){o=setTimeout(function(){h(),n(y)},a.longPressThreshold),i=ao("touchmove",function(){return h()}),l=ao("touchend",function(){return h()})},f=ao("touchstart",c),h=function(){o&&clearTimeout(o),i&&i(),l&&l(),o=null,i=null,l=null};return r&&c(r),function(){h(),f()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=ao("mousedown",function(o){n._removeInitialEventListener(),n._handleInitialEvent(o),n._removeInitialEventListener=ao("mousedown",n._handleInitialEvent)}),a=ao("touchstart",function(o){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,o)});this._removeInitialEventListener=function(){r(),a()}}},{key:"_dropFromOutsideListener",value:function(n){var r=ap(n),a=r.pageX,o=r.pageY,i=r.clientX,l=r.clientY;this.emit("dropFromOutside",{x:a,y:o,clientX:i,clientY:l}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=ap(n),a=r.pageX,o=r.pageY,i=r.clientX,l=r.clientY;this.emit("dragOverFromOutside",{x:a,y:o,clientX:i,clientY:l}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(!this.isDetached){var r=ap(n),a=r.clientX,o=r.clientY,i=r.pageX,l=r.pageY,c=this.container(),f,h;if(!(n.which===3||n.button===2||!Use(c,a,o))){if(!this.globalMouse&&c&&!pv(c,n.target)){var g=$se(0),y=g.top,w=g.left,S=g.bottom,D=g.right;if(h=Mf(c),f=h3({top:h.top-y,left:h.left-w,bottom:h.bottom+S,right:h.right+D},{top:l,left:i}),!f)return}var I=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:i,y:l,clientX:a,clientY:o});if(I!==!1)switch(n.type){case"mousedown":this._removeEndListener=ao("mouseup",this._handleTerminatingEvent),this._onEscListener=ao("keydown",this._handleTerminatingEvent),this._removeMoveListener=ao("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=ao("touchend",this._handleTerminatingEvent),this._removeMoveListener=ao("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,a=this.validContainers;return!a||!a.length||!r?!0:a.some(function(o){return!!r.closest(o)})}},{key:"_handleTerminatingEvent",value:function(n){var r=ap(n),a=r.pageX,o=r.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),!!this._initialEventData){var i=!this.container||pv(this.container(),n.target),l=this._isWithinValidContainer(n),c=this._selectRect,f=this.isClick(a,o);return this._initialEventData=null,n.key==="Escape"||!l?this.emit("reset"):f&&i?this._handleClickEvent(n):f?this.emit("reset"):this.emit("select",c)}}},{key:"_handleClickEvent",value:function(n){var r=ap(n),a=r.pageX,o=r.pageY,i=r.clientX,l=r.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<Wse?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:o,clientX:i,clientY:l})):(this._lastClickData={timestamp:c},this.emit("click",{x:a,y:o,clientX:i,clientY:l}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,a=r.x,o=r.y,i=ap(n),l=i.pageX,c=i.pageY,f=Math.abs(a-l),h=Math.abs(o-c),g=Math.min(l,a),y=Math.min(c,o),w=this.selecting;this.isClick(l,c)&&!w&&!(f||h)||(this.selecting=!0,this._selectRect={top:y,left:g,x:l,y:c,right:g+f,bottom:y+h},w||this.emit("selectStart",this._initialEventData),this.isClick(l,c)||this.emit("selecting",this._selectRect),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var a=this._initialEventData,o=a.x,i=a.y,l=a.isTouch;return!l&&Math.abs(n-o)<=f3&&Math.abs(r-i)<=f3}}]),e}();function $se(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Wu(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function h3(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Mf(e),a=r.top,o=r.left,i=r.right,l=i===void 0?o:i,c=r.bottom,f=c===void 0?a:c,h=Mf(t),g=h.top,y=h.left,w=h.right,S=w===void 0?y:w,D=h.bottom,I=D===void 0?g:D;return!(f-n<g||a+n>I||l-n<y||o+n>S)}function Mf(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+p3("left"),r=t.top+p3("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function p3(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var Zse=function(e){Ao(t,e);function t(n,r){var a;return Ma(this,t),a=No(this,t,[n,r]),a.state={selecting:!1},a.containerRef=P.createRef(),a}return ka(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,a=r.range,o=r.getNow,i=r.getters,l=r.date,c=r.components.dateCellWrapper,f=r.localizer,h=this.state,g=h.selecting,y=h.startIdx,w=h.endIdx,S=o();return ne.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(D,I){var M=g&&I>=y&&I<=w,N=i.dayProp(D),B=N.className,k=N.style;return ne.createElement(c,{key:I,value:D,range:a},ne.createElement("div",{style:k,className:ca("rbc-day-bg",B,M&&"rbc-selected-cell",f.isSameDate(D,S)&&"rbc-today",l&&f.neq(l,D,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,a=this.containerRef.current,o=this._selector=new xF(this.props.container,{longPressThreshold:this.props.longPressThreshold}),i=function(c,f){if(!qw(a,c)&&!Vse(a,c)){var h=Mf(a),g=r.props,y=g.range,w=g.rtl;if(Lse(h,c)){var S=EF(h,c.x,w,y.length);r._selectSlot({startIdx:S,endIdx:S,action:f,box:c})}}r._initial={},r.setState({selecting:!1})};o.on("selecting",function(l){var c=r.props,f=c.range,h=c.rtl,g=-1,y=-1;if(r.state.selecting||(gr(r.props.onSelectStart,[l]),r._initial={x:l.x,y:l.y}),o.isSelected(a)){var w=Mf(a),S=Rse(r._initial,w,l,f.length,h);g=S.startIdx,y=S.endIdx}r.setState({selecting:!0,startIdx:g,endIdx:y})}),o.on("beforeSelect",function(l){if(r.props.selectable==="ignoreEvents")return!qw(r.containerRef.current,l)}),o.on("click",function(l){return i(l,"click")}),o.on("doubleClick",function(l){return i(l,"doubleClick")}),o.on("select",function(l){r._selectSlot(tr(tr({},r.state),{},{action:"select",bounds:l})),r._initial={},r.setState({selecting:!1}),gr(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var a=r.endIdx,o=r.startIdx,i=r.action,l=r.bounds,c=r.box;a!==-1&&o!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:o,end:a,action:i,bounds:l,box:c,resourceId:this.props.resourceId})}}]),t}(ne.Component),Zl={propTypes:{slotMetrics:ke.object.isRequired,selected:ke.object,isAllDay:ke.bool,accessors:ke.object.isRequired,localizer:ke.object.isRequired,components:ke.object.isRequired,getters:ke.object.isRequired,onSelect:ke.func,onDoubleClick:ke.func,onKeyPress:ke.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,n){var r=t.selected;t.isAllDay;var a=t.accessors,o=t.getters,i=t.onSelect,l=t.onDoubleClick,c=t.onKeyPress,f=t.localizer,h=t.slotMetrics,g=t.components,y=t.resizable,w=h.continuesPrior(n),S=h.continuesAfter(n);return ne.createElement(TF,{event:n,getters:o,localizer:f,accessors:a,components:g,onSelect:i,onDoubleClick:l,onKeyPress:c,continuesPrior:w,continuesAfter:S,slotStart:h.first,slotEnd:h.last,selected:Zb(n,r),resizable:y})},renderSpan:function(t,n,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",o=Math.abs(n)/t*100+"%";return ne.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:o,flexBasis:o,maxWidth:o}},a)}},MF=function(e){Ao(t,e);function t(){return Ma(this,t),No(this,t,arguments)}return ka(t,[{key:"render",value:function(){var r=this,a=this.props,o=a.segments,i=a.slotMetrics.slots,l=a.className,c=1;return ne.createElement("div",{className:ca(l,"rbc-row")},o.reduce(function(f,h,g){var y=h.event,w=h.left,S=h.right,D=h.span,I="_lvl_"+g,M=w-c,N=Zl.renderEvent(r.props,y);return M&&f.push(Zl.renderSpan(i,M,"".concat(I,"_gap"))),f.push(Zl.renderSpan(i,D,I,N)),c=S+1,f},[]))}}]),t}(ne.Component);MF.defaultProps=tr({},Zl.defaultProps);function kF(e){var t=e.dateRange,n=e.unit,r=n===void 0?"day":n,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,r)}}function qse(e,t,n,r){var a=kF({dateRange:t,localizer:r}),o=a.first,i=a.last,l=r.diff(o,i,"day"),c=r.max(r.startOf(n.start(e),"day"),o),f=r.min(r.ceil(n.end(e),"day"),i),h=ete(t,function(y){return r.isSameDate(y,c)}),g=r.diff(c,f,"day");return g=Math.min(g,l),g=Math.max(g-r.segmentOffset,1),{event:e,span:g,left:h+1,right:Math.max(h+g,1)}}function NF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,a,o=[],i=[];for(n=0;n<e.length;n++){for(a=e[n],r=0;r<o.length&&Gse(a,o[r]);r++);r>=t?i.push(a):(o[r]||(o[r]=[])).push(a)}for(n=0;n<o.length;n++)o[n].sort(function(l,c){return l.left-c.left});return{levels:o,extra:i}}function mv(e,t,n,r,a){var o={start:r.start(e),end:r.end(e)},i={start:t,end:n};return a.inEventRange({event:o,range:i})}function Gse(e,t){return t.some(function(n){return n.left<=e.right&&n.right>=e.left})}function Jse(e,t,n){var r=fw(e),a=[],o=[];r.forEach(function(c){var f=t.start(c),h=t.end(c);n.daySpan(f,h)>1?a.push(c):o.push(c)});var i=a.sort(function(c,f){return YT(c,f,t,n)}),l=o.sort(function(c,f){return YT(c,f,t,n)});return[].concat(fw(i),fw(l))}function YT(e,t,n,r){var a={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},o={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:a,evtB:o})}var AF=function(t,n){return t.left<=n&&t.right>=n},m3=function(t,n){return t.filter(function(r){return AF(r,n)}).map(function(r){return r.event})},FF=function(e){Ao(t,e);function t(){return Ma(this,t),No(this,t,arguments)}return ka(t,[{key:"render",value:function(){for(var r=this.props,a=r.segments,o=r.slotMetrics.slots,i=NF(a).levels[0],l=1,c=1,f=[];l<=o;){var h="_lvl_"+l,g=i.filter(function(N){return AF(N,l)})[0]||{},y=g.event,w=g.left,S=g.right,D=g.span;if(!y){l++;continue}var I=Math.max(0,w-c);if(this.canRenderSlotEvent(w,D)){var M=Zl.renderEvent(this.props,y);I&&f.push(Zl.renderSpan(o,I,h+"_gap")),f.push(Zl.renderSpan(o,D,h,M)),c=l=S+1}else I&&f.push(Zl.renderSpan(o,I,h+"_gap")),f.push(Zl.renderSpan(o,1,h,this.renderShowMore(a,l))),c=l+=1}return ne.createElement("div",{className:"rbc-row"},f)}},{key:"canRenderSlotEvent",value:function(r,a){var o=this.props.segments;return fte(r,r+a).every(function(i){var l=m3(o,i).length;return l===1})}},{key:"renderShowMore",value:function(r,a){var o=this,i=this.props,l=i.localizer,c=i.slotMetrics,f=c.getEventsForSlot(a),h=m3(r,a),g=h.length;return g?ne.createElement("button",{type:"button",key:"sm_"+a,className:ca("rbc-button-link","rbc-show-more"),onClick:function(w){return o.showMore(a,w)}},l.messages.showMore(g,h,f)):!1}},{key:"showMore",value:function(r,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(r,a.target)}}]),t}(ne.Component);FF.defaultProps=tr({},Zl.defaultProps);var Kse=function(t){var n=t.children;return ne.createElement("div",{className:"rbc-row-content-scroll-container"},n)},Qse=function(t,n){return t.left<=n&&t.right>=n},Xse=function(t,n){return t[0].range===n[0].range&&t[0].events===n[0].events};function OF(){return rF(function(e){for(var t=e.range,n=e.events,r=e.maxRows,a=e.minRows,o=e.accessors,i=e.localizer,l=kF({dateRange:t,localizer:i}),c=l.first,f=l.last,h=n.map(function(D){return qse(D,t,o,i)}),g=NF(h,Math.max(r-1,1)),y=g.levels,w=g.extra,S=w.length>0?a-1:a;y.length<S;)y.push([]);return{first:c,last:f,levels:y,extra:w,range:t,slots:t.length,clone:function(I){var M=OF();return M(tr(tr({},e),I))},getDateForSlot:function(I){return t[I]},getSlotForDate:function(I){return t.find(function(M){return i.isSameDate(M,I)})},getEventsForSlot:function(I){return h.filter(function(M){return Qse(M,I)}).map(function(M){return M.event})},continuesPrior:function(I){return i.continuesPrior(o.start(I),c)},continuesAfter:function(I){var M=o.start(I),N=o.end(I);return i.continuesAfter(M,N,f)}}},Xse)}var Gw=function(e){Ao(t,e);function t(){var n;Ma(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=No(this,t,[].concat(a)),n.handleSelectSlot=function(i){var l=n.props,c=l.range,f=l.onSelectSlot;f(c.slice(i.start,i.end+1),i)},n.handleShowMore=function(i,l){var c=n.props,f=c.range,h=c.onShowMore,g=n.slotMetrics(n.props),y=tZ(n.containerRef.current,".rbc-row-bg")[0],w;y&&(w=y.children[i-1]);var S=g.getEventsForSlot(i);h(S,f[i-1],w,i,l)},n.getContainer=function(){var i=n.props.container;return i?i():n.containerRef.current},n.renderHeadingCell=function(i,l){var c=n.props,f=c.renderHeader,h=c.getNow,g=c.localizer;return f({date:i,key:"header_".concat(l),className:ca("rbc-date-cell",g.isSameDate(i,h())&&"rbc-now")})},n.renderDummy=function(){var i=n.props,l=i.className,c=i.range,f=i.renderHeader,h=i.showAllEvents;return ne.createElement("div",{className:l,ref:n.containerRef},ne.createElement("div",{className:ca("rbc-row-content",h&&"rbc-row-content-scrollable")},f&&ne.createElement("div",{className:"rbc-row",ref:n.headingRowRef},c.map(n.renderHeadingCell)),ne.createElement("div",{className:"rbc-row",ref:n.eventRowRef},ne.createElement("div",{className:"rbc-row-segment"},ne.createElement("div",{className:"rbc-event"},ne.createElement("div",{className:"rbc-event-content"},"¬†"))))))},n.containerRef=P.createRef(),n.headingRowRef=P.createRef(),n.eventRowRef=P.createRef(),n.slotMetrics=OF(),n}return ka(t,[{key:"getRowLimit",value:function(){var r,a=ZS(this.eventRowRef.current),o=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?ZS(this.headingRowRef.current):0,i=ZS(this.containerRef.current)-o;return Math.max(Math.floor(i/a),1)}},{key:"render",value:function(){var r=this.props,a=r.date,o=r.rtl,i=r.range,l=r.className,c=r.selected,f=r.selectable,h=r.renderForMeasure,g=r.accessors,y=r.getters,w=r.components,S=r.getNow,D=r.renderHeader,I=r.onSelect,M=r.localizer,N=r.onSelectStart,B=r.onSelectEnd,k=r.onDoubleClick,R=r.onKeyPress,L=r.resourceId,_=r.longPressThreshold,V=r.isAllDay,U=r.resizable,Z=r.showAllEvents;if(h)return this.renderDummy();var Q=this.slotMetrics(this.props),G=Q.levels,re=Q.extra,de=Z?Kse:Ru,fe=w.weekWrapper,$={selected:c,accessors:g,getters:y,localizer:M,components:w,onSelect:I,onDoubleClick:k,onKeyPress:R,resourceId:L,slotMetrics:Q,resizable:U};return ne.createElement("div",{className:l,role:"rowgroup",ref:this.containerRef},ne.createElement(Zse,{localizer:M,date:a,getNow:S,rtl:o,range:i,selectable:f,container:this.getContainer,getters:y,onSelectStart:N,onSelectEnd:B,onSelectSlot:this.handleSelectSlot,components:w,longPressThreshold:_,resourceId:L}),ne.createElement("div",{className:ca("rbc-row-content",Z&&"rbc-row-content-scrollable"),role:"row"},D&&ne.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},i.map(this.renderHeadingCell)),ne.createElement(de,null,ne.createElement(fe,Object.assign({isAllDay:V},$,{rtl:this.props.rtl}),G.map(function(he,se){return ne.createElement(MF,Object.assign({key:se,segments:he},$))}),!!re.length&&ne.createElement(FF,Object.assign({segments:re,onShowMore:this.handleShowMore},$))))))}}]),t}(ne.Component);Gw.defaultProps={minRows:0,maxRows:1/0};var PF=function(t){var n=t.label;return ne.createElement("span",{role:"columnheader","aria-sort":"none"},n)},ele=function(t){var n=t.label,r=t.drilldownView,a=t.onDrillDown;return r?ne.createElement("button",{type:"button",className:"rbc-button-link",onClick:a,role:"cell"},n):ne.createElement("span",null,n)},tle=["date","className"],nle=function(t,n,r,a,o){return t.filter(function(i){return mv(i,n,r,a,o)})},qb=function(e){Ao(t,e);function t(){var n;Ma(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=No(this,t,[].concat(a)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(i,l){var c=n.props,f=c.events,h=c.components,g=c.selectable,y=c.getNow,w=c.selected,S=c.date,D=c.localizer,I=c.longPressThreshold,M=c.accessors,N=c.getters,B=c.showAllEvents,k=n.state,R=k.needLimitMeasure,L=k.rowLimit,_=nle(fw(f),i[0],i[i.length-1],M,D),V=Jse(_,M,D);return ne.createElement(Gw,{key:l,ref:l===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:y,date:S,range:i,events:V,maxRows:B?1/0:L,selected:w,selectable:g,components:h,accessors:M,getters:N,localizer:D,renderHeader:n.readerDateHeading,renderForMeasure:R,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:I,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:B})},n.readerDateHeading=function(i){var l=i.date,c=i.className,f=tu(i,tle),h=n.props,g=h.date,y=h.getDrilldownView,w=h.localizer,S=w.neq(l,g,"month"),D=w.isSameDate(l,g),I=y(l),M=w.format(l,"dateFormat"),N=n.props.components.dateHeader||ele;return ne.createElement("div",Object.assign({},f,{className:ca(c,S&&"rbc-off-range",D&&"rbc-current"),role:"cell"}),ne.createElement(N,{label:M,date:l,drilldownView:I,isOffRange:S,onDrillDown:function(k){return n.handleHeadingClick(l,I,k)}}))},n.handleSelectSlot=function(i,l){n._pendingSelection=n._pendingSelection.concat(i),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(l)})},n.handleHeadingClick=function(i,l,c){c.preventDefault(),n.clearSelection(),gr(n.props.onDrillDown,[i,l])},n.handleSelectEvent=function(){n.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];gr(n.props.onSelectEvent,l)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];gr(n.props.onDoubleClickEvent,l)},n.handleKeyPressEvent=function(){n.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];gr(n.props.onKeyPressEvent,l)},n.handleShowMore=function(i,l,c,f,h){var g=n.props,y=g.popup,w=g.onDrillDown,S=g.onShowMore,D=g.getDrilldownView,I=g.doShowMoreDrillDown;if(n.clearSelection(),y){var M=_9(c,n.containerRef.current);n.setState({overlay:{date:l,events:i,position:M,target:h}})}else I&&gr(w,[l,D(l)||Mo.DAY]);gr(S,[i,l,f])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=P.createRef(),n.slotRowRef=P.createRef(),n._bgRows=[],n._pendingSelection=[],n}return ka(t,[{key:"componentDidMount",value:function(){var r=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||B9(function(){a=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,a=r.date,o=r.localizer,i=r.className,l=o.visibleDays(a,o),c=B$(l,7);return this._weekCount=c.length,ne.createElement("div",{className:ca("rbc-month-view",i),role:"table","aria-label":"Month View",ref:this.containerRef},ne.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var a=this.props,o=a.localizer,i=a.components,l=r[0],c=r[r.length-1],f=i.header||PF;return o.range(l,c,"day").map(function(h,g){return ne.createElement("div",{key:"header_"+g,className:"rbc-header"},ne.createElement(f,{date:h,localizer:o,label:o.format(h,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,a,o=this,i=(r=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&r!==void 0?r:{},l=this.props,c=l.accessors,f=l.localizer,h=l.components,g=l.getters,y=l.selected,w=l.popupOffset,S=l.handleDragStart,D=function(){return o.setState({overlay:null})};return ne.createElement(PI,{overlay:i,accessors:c,localizer:f,components:h,getters:g,selected:y,popupOffset:w,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:S,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:D})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(l,c){return+l-+c});var o=new Date(a[0]),i=new Date(a[a.length-1]);i.setDate(a[a.length-1].getDate()+1),gr(this.props.onSelectSlot,{slots:a,start:o,end:i,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,a){var o=r.date,i=r.localizer;return{date:o,needLimitMeasure:i.neq(o,a.date,"month")}}}]),t}(ne.Component);qb.range=function(e,t){var n=t.localizer,r=n.firstVisibleDay(e,n),a=n.lastVisibleDay(e,n);return{start:r,end:a}};qb.navigate=function(e,t,n){var r=n.localizer;switch(t){case ri.PREVIOUS:return r.add(e,-1,"month");case ri.NEXT:return r.add(e,1,"month");default:return e}};qb.title=function(e,t){var n=t.localizer;return n.format(e,"monthHeaderFormat")};var g3=function(t){var n=t.min,r=t.max,a=t.step,o=t.slots,i=t.localizer;return"".concat(+i.startOf(n,"minutes"))+"".concat(+i.startOf(r,"minutes"))+"".concat(a,"-").concat(o)};function jI(e){for(var t=e.min,n=e.max,r=e.step,a=e.timeslots,o=e.localizer,i=g3({start:t,end:n,step:r,timeslots:a,localizer:o}),l=1+o.getTotalMin(t,n),c=o.getMinutesFromMidnight(t),f=Math.ceil((l-1)/(r*a)),h=f*a,g=new Array(f),y=new Array(h),w=0;w<f;w++){g[w]=new Array(a);for(var S=0;S<a;S++){var D=w*a+S,I=D*r;y[D]=g[w][S]=o.getSlotDate(t,c,I)}}var M=y.length*r;y.push(o.getSlotDate(t,c,M));function N(B){var k=o.diff(t,B,"minutes")+o.getDstOffset(t,B);return Math.min(k,l)}return{groups:g,update:function(k){return g3(k)!==i?jI(k):this},dateIsInGroup:function(k,R){var L=g[R+1];return o.inRange(k,g[R][0],L?L[0]:n,"minutes")},nextSlot:function(k){var R=y[Math.min(y.indexOf(k)+1,y.length-1)];return R===k&&(R=o.add(k,r,"minutes")),R},closestSlotToPosition:function(k){var R=Math.min(y.length-1,Math.max(0,Math.floor(k*h)));return y[R]},closestSlotFromPoint:function(k,R){var L=Math.abs(R.top-R.bottom);return this.closestSlotToPosition((k.y-R.top)/L)},closestSlotFromDate:function(k){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(o.lt(k,t,"minutes"))return y[0];if(o.gt(k,n,"minutes"))return y[y.length-1];var L=o.diff(t,k,"minutes");return y[(L-L%r)/r+R]},startsBeforeDay:function(k){return o.lt(k,t,"day")},startsAfterDay:function(k){return o.gt(k,n,"day")},startsBefore:function(k){return o.lt(o.merge(t,k),t,"minutes")},startsAfter:function(k){return o.gt(o.merge(n,k),n,"minutes")},getRange:function(k,R,L,_){L||(k=o.min(n,o.max(t,k))),_||(R=o.min(n,o.max(t,R)));var V=N(k),U=N(R),Z=U>r*h&&!o.eq(n,R)?(V-r)/(r*h)*100:V/(r*h)*100;return{top:Z,height:U/(r*h)*100-Z,start:N(k),startDate:k,end:N(R),endDate:R}},getCurrentTimePosition:function(k){var R=N(k),L=R/(r*h)*100;return L}}}var rle=function(){function e(t,n){var r=n.accessors,a=n.slotMetrics;Ma(this,e);var o=a.getRange(r.start(t),r.end(t)),i=o.start,l=o.startDate,c=o.end,f=o.endDate,h=o.top,g=o.height;this.start=i,this.end=c,this.startMs=+l,this.endMs=+f,this.top=h,this.height=g,this.data=t}return ka(e,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(a,o){return Math.max(a,o.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var a=this.row.leaves,o=a.indexOf(this);return o===a.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,a=n.xOffset,o=n._width,i=r.indexOf(this)+1;return a+i*o}}]),e}();function ale(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function ole(e){for(var t=Fne(e,["startMs",function(l){return-l.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var a=0;a<t.length;a++){var o=t[a];if(!(r.endMs>o.startMs)){if(a>0){var i=t.splice(a,1)[0];n.push(i)}break}}}return n}function jF(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,o=t.map(function(h){return new rle(h,{slotMetrics:r,accessors:a})}),i=ole(o),l=[],c=function(){var g=i[f],y=l.find(function(D){return D.end>g.start||Math.abs(g.start-D.start)<n});if(!y)return g.rows=[],l.push(g),1;g.container=y;for(var w=null,S=y.rows.length-1;!w&&S>=0;S--)ale(y.rows[S],g,n)&&(w=y.rows[S]);w?(w.leaves.push(g),g.row=w):(g.leaves=[],y.rows.push(g))},f=0;f<i.length;f++)c();return i.map(function(h){return{event:h.data,style:{top:h.top,height:h.height,width:h.width,xOffset:Math.max(0,h.xOffset)}}})}function LF(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var a=LF(e.friends[r],t,n);t=t>a?t:a}return t}function ile(e){var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,o=jF({events:t,minimumStartDifference:n,slotMetrics:r,accessors:a});o.sort(function(fe,$){return fe=fe.style,$=$.style,fe.top!==$.top?fe.top>$.top?1:-1:fe.height!==$.height?fe.top+fe.height<$.top+$.height?1:-1:0});for(var i=0;i<o.length;++i)o[i].friends=[],delete o[i].style.left,delete o[i].style.left,delete o[i].idx,delete o[i].size;for(var l=0;l<o.length-1;++l)for(var c=o[l],f=c.style.top,h=c.style.top+c.style.height,g=l+1;g<o.length;++g){var y=o[g],w=y.style.top,S=y.style.top+y.style.height;(w>=f&&S<=h||S>f&&S<=h||w>=f&&w<h)&&(c.friends.push(y),y.friends.push(c))}for(var D=0;D<o.length;++D){for(var I=o[D],M=[],N=0;N<100;++N)M.push(1);for(var B=0;B<I.friends.length;++B)I.friends[B].idx!==void 0&&(M[I.friends[B].idx]=0);I.idx=M.indexOf(1)}for(var k=0;k<o.length;++k){var R=0;if(!o[k].size){var L=[],_=LF(o[k],0,L);R=100/(_+1),o[k].size=R;for(var V=0;V<L.length;++V)L[V].size=R}}for(var U=0;U<o.length;++U){var Z=o[U];Z.style.left=Z.idx*Z.size;for(var Q=0,G=0;G<Z.friends.length;++G){var re=Z.friends[G].idx;Q=Q>re?Q:re}Q<=Z.idx&&(Z.size=100-Z.idx*Z.size);var de=Z.idx===0?0:3;Z.style.width="calc(".concat(Z.size,"% - ").concat(de,"px)"),Z.style.height="calc(".concat(Z.style.height,"% - 2px)"),Z.style.xOffset="calc(".concat(Z.style.left,"% + ").concat(de,"px)")}return o}var v3={overlap:jF,"no-overlap":ile};function sle(e){return!!(e&&e.constructor&&e.call&&e.apply)}function lle(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in v3&&(n=v3[t]),sle(n)?n.apply(this,arguments):[]}var RF=function(e){Ao(t,e);function t(){return Ma(this,t),No(this,t,arguments)}return ka(t,[{key:"render",value:function(){var r=this.props,a=r.renderSlot,o=r.resource,i=r.group,l=r.getters,c=r.components,f=c===void 0?{}:c,h=f.timeSlotWrapper,g=h===void 0?Ru:h,y=l?l.slotGroupProp(i):{};return ne.createElement("div",Object.assign({className:"rbc-timeslot-group"},y),i.map(function(w,S){var D=l?l.slotProp(w,o):{};return ne.createElement(g,{key:S,value:w,resource:o},ne.createElement("div",Object.assign({},D,{className:ca("rbc-time-slot",D.className)}),a&&a(w,S)))}))}}]),t}(P.Component);function P0(e){return typeof e=="string"?e:e+"%"}function ule(e){var t=e.style,n=e.className,r=e.event,a=e.accessors,o=e.rtl,i=e.selected,l=e.label,c=e.continuesPrior,f=e.continuesAfter,h=e.getters,g=e.onClick,y=e.onDoubleClick,w=e.isBackgroundEvent,S=e.onKeyPress,D=e.components,I=D.event,M=D.eventWrapper,N=a.title(r),B=a.tooltip(r),k=a.end(r),R=a.start(r),L=h.eventProp(r,R,k,i),_=[ne.createElement("div",{key:"1",className:"rbc-event-label"},l),ne.createElement("div",{key:"2",className:"rbc-event-content"},I?ne.createElement(I,{event:r,title:N}):N)],V=t.height,U=t.top,Z=t.width,Q=t.xOffset,G=tr(tr({},L.style),{},lf({top:P0(U),height:P0(V),width:P0(Z)},o?"right":"left",P0(Q)));return ne.createElement(M,Object.assign({type:"time"},e),ne.createElement("div",{role:"button",tabIndex:0,onClick:g,onDoubleClick:y,style:G,onKeyDown:S,title:B?(typeof l=="string"?l+": ":"")+B:void 0,className:ca(w?"rbc-background-event":"rbc-event",n,L.className,{"rbc-selected":i,"rbc-event-continues-earlier":c,"rbc-event-continues-later":f})},_))}var cle=function(t){var n=t.children,r=t.className,a=t.style,o=t.innerRef;return ne.createElement("div",{className:r,style:a,ref:o},n)},dle=ne.forwardRef(function(e,t){return ne.createElement(cle,Object.assign({},e,{innerRef:t}))}),fle=["dayProp"],hle=["eventContainerWrapper"],_F=function(e){Ao(t,e);function t(){var n;Ma(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=No(this,t,[].concat(a)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(i){var l=i.events,c=i.isBackgroundEvent,f=n.props,h=f.rtl,g=f.selected,y=f.accessors,w=f.localizer,S=f.getters,D=f.components,I=f.step,M=f.timeslots,N=f.dayLayoutAlgorithm,B=f.resizable,k=h9(n),R=k.slotMetrics,L=w.messages,_=lle({events:l,accessors:y,slotMetrics:R,minimumStartDifference:Math.ceil(I*M/2),dayLayoutAlgorithm:N});return _.map(function(V,U){var Z=V.event,Q=V.style,G=y.end(Z),re=y.start(Z),de="eventTimeRangeFormat",fe,$=R.startsBeforeDay(re),he=R.startsAfterDay(G);$?de="eventTimeRangeEndFormat":he&&(de="eventTimeRangeStartFormat"),$&&he?fe=L.allDay:fe=w.format({start:re,end:G},de);var se=$||R.startsBefore(re),ue=he||R.startsAfter(G);return ne.createElement(ule,{style:Q,event:Z,label:fe,key:"evt_"+U,getters:S,rtl:h,components:D,continuesPrior:se,continuesAfter:ue,accessors:y,resource:n.props.resource,selected:Zb(Z,g),onClick:function(oe){return n._select(tr(tr(tr({},Z),n.props.resource&&{sourceResource:n.props.resource}),c&&{isBackgroundEvent:!0}),oe)},onDoubleClick:function(oe){return n._doubleClick(Z,oe)},isBackgroundEvent:c,onKeyPress:function(oe){return n._keyPress(Z,oe)},resizable:B})})},n._selectable=function(){var i=n.containerRef.current,l=n.props,c=l.longPressThreshold,f=l.localizer,h=n._selector=new xF(function(){return i},{longPressThreshold:c}),g=function(D){var I=n.props.onSelecting,M=n.state||{},N=y(D),B=N.startDate,k=N.endDate;I&&(f.eq(M.startDate,B,"minutes")&&f.eq(M.endDate,k,"minutes")||I({start:B,end:k,resourceId:n.props.resource})===!1)||(n.state.start!==N.start||n.state.end!==N.end||n.state.selecting!==N.selecting)&&n.setState(N)},y=function(D){var I=n.slotMetrics.closestSlotFromPoint(D,Mf(i));n.state.selecting||(n._initialSlot=I);var M=n._initialSlot;f.lte(M,I)?I=n.slotMetrics.nextSlot(I):f.gt(M,I)&&(M=n.slotMetrics.nextSlot(M));var N=n.slotMetrics.getRange(f.min(M,I),f.max(M,I));return tr(tr({},N),{},{selecting:!0,top:"".concat(N.top,"%"),height:"".concat(N.height,"%")})},w=function(D,I){if(!qw(n.containerRef.current,D)){var M=y(D),N=M.startDate,B=M.endDate;n._selectSlot({startDate:N,endDate:B,action:I,box:D})}n.setState({selecting:!1})};h.on("selecting",g),h.on("selectStart",g),h.on("beforeSelect",function(S){if(n.props.selectable==="ignoreEvents")return!qw(n.containerRef.current,S)}),h.on("click",function(S){return w(S,"click")}),h.on("doubleClick",function(S){return w(S,"doubleClick")}),h.on("select",function(S){n.state.selecting&&(n._selectSlot(tr(tr({},n.state),{},{action:"select",bounds:S})),n.setState({selecting:!1}))}),h.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(i){for(var l=i.startDate,c=i.endDate,f=i.action,h=i.bounds,g=i.box,y=l,w=[];n.props.localizer.lte(y,c);)w.push(y),y=new Date(+y+n.props.step*60*1e3);gr(n.props.onSelectSlot,{slots:w,start:l,end:c,resourceId:n.props.resource,action:f,bounds:h,box:g})},n._select=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];gr(n.props.onSelectEvent,l)},n._doubleClick=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];gr(n.props.onDoubleClickEvent,l)},n._keyPress=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];gr(n.props.onKeyPressEvent,l)},n.slotMetrics=jI(n.props),n.containerRef=P.createRef(),n}return ka(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,a){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable(),this.slotMetrics=this.slotMetrics.update(this.props);var o=this.props,i=o.getNow,l=o.isNow,c=o.localizer,f=o.date,h=o.min,g=o.max,y=c.neq(r.getNow(),i(),"minutes");if(r.isNow!==l||y){if(this.clearTimeIndicatorInterval(),l){var w=!y&&c.eq(r.date,f,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(w)}}else l&&(c.neq(r.min,h,"minutes")||c.neq(r.max,g,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,a=r.min,o=r.max,i=r.getNow,l=i();if(l>=a&&l<=o){var c=this.slotMetrics.getCurrentTimePosition(l);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,a=r.date,o=r.max,i=r.rtl,l=r.isNow,c=r.resource,f=r.accessors,h=r.localizer,g=r.getters,y=g.dayProp,w=tu(g,fle),S=r.components,D=S.eventContainerWrapper,I=tu(S,hle),M=this.slotMetrics,N=this.state,B=N.selecting,k=N.top,R=N.height,L=N.startDate,_=N.endDate,V={start:L,end:_},U=y(o),Z=U.className,Q=U.style,G=I.dayColumnWrapper||dle;return ne.createElement(G,{ref:this.containerRef,date:a,style:Q,className:ca(Z,"rbc-day-slot","rbc-time-column",l&&"rbc-now",l&&"rbc-today",B&&"rbc-slot-selecting"),slotMetrics:M},M.groups.map(function(re,de){return ne.createElement(RF,{key:de,group:re,resource:c,getters:w,components:I})}),ne.createElement(D,{localizer:h,resource:c,accessors:f,getters:w,components:I,slotMetrics:M},ne.createElement("div",{className:ca("rbc-events-container",i&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),B&&ne.createElement("div",{className:"rbc-slot-selection",style:{top:k,height:R}},ne.createElement("span",null,h.format(V,"selectRangeFormat"))),l&&this.intervalTriggered&&ne.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),t}(ne.Component);_F.defaultProps={dragThroughEvents:!0,timeslots:2};function ple(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}var mle=function(t){var n=t.min,r=t.max,a=t.timeslots,o=t.step,i=t.localizer,l=t.getNow,c=t.resource,f=t.components,h=t.getters,g=t.gutterRef,y=f.timeGutterWrapper,w=P.useMemo(function(){return ple({min:n,max:r,localizer:i})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),i]),S=w.start,D=w.end,I=P.useState(jI({min:S,max:D,timeslots:a,step:o,localizer:i})),M=_u(I,2),N=M[0],B=M[1];P.useEffect(function(){N&&B(N.update({min:S,max:D,timeslots:a,step:o,localizer:i}))},[S==null?void 0:S.toISOString(),D==null?void 0:D.toISOString(),a,o]);var k=P.useCallback(function(R,L){if(L)return null;var _=N.dateIsInGroup(l(),L);return ne.createElement("span",{className:ca("rbc-label",_&&"rbc-now")},i.format(R,"timeGutterFormat"))},[N,i,l]);return ne.createElement(y,{slotMetrics:N},ne.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:g},N.groups.map(function(R,L){return ne.createElement(RF,{key:L,group:R,resource:c,components:f,renderSlot:k,getters:h})})))},gle=ne.forwardRef(function(e,t){return ne.createElement(mle,Object.assign({gutterRef:t},e))}),vle=function(t){var n=t.label;return ne.createElement(ne.Fragment,null,n)},yle=function(e){Ao(t,e);function t(){var n;Ma(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=No(this,t,[].concat(a)),n.handleHeaderClick=function(i,l,c){c.preventDefault(),gr(n.props.onDrillDown,[i,l])},n.renderRow=function(i){var l=n.props,c=l.events,f=l.rtl,h=l.selectable,g=l.getNow,y=l.range,w=l.getters,S=l.localizer,D=l.accessors,I=l.components,M=l.resizable,N=D.resourceId(i),B=i?c.filter(function(k){return D.resource(k)===N}):c;return ne.createElement(Gw,{isAllDay:!0,rtl:f,getNow:g,minRows:2,maxRows:n.props.allDayMaxRows+1,range:y,events:B,resourceId:N,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:I,accessors:D,getters:w,localizer:S,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:M})},n}return ka(t,[{key:"renderHeaderCells",value:function(r){var a=this,o=this.props,i=o.localizer,l=o.getDrilldownView,c=o.getNow,f=o.getters.dayProp,h=o.components.header,g=h===void 0?PF:h,y=c();return r.map(function(w,S){var D=l(w),I=i.format(w,"dayFormat"),M=f(w),N=M.className,B=M.style,k=ne.createElement(g,{date:w,label:I,localizer:i});return ne.createElement("div",{key:S,style:B,className:ca("rbc-header",N,i.isSameDate(w,y)&&"rbc-today")},D?ne.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(L){return a.handleHeaderClick(w,D,L)}},k):ne.createElement("span",null,k))})}},{key:"render",value:function(){var r=this,a=this.props,o=a.width,i=a.rtl,l=a.resources,c=a.range,f=a.events,h=a.getNow,g=a.accessors,y=a.selectable,w=a.components,S=a.getters,D=a.scrollRef,I=a.localizer,M=a.isOverflowing,N=a.components,B=N.timeGutterHeader,k=N.resourceHeader,R=k===void 0?vle:k,L=a.resizable,_={};M&&(_[i?"marginLeft":"marginRight"]="".concat(H9()-1,"px"));var V=l.groupEvents(f);return ne.createElement("div",{style:_,ref:D,className:ca("rbc-time-header",M&&"rbc-overflowing")},ne.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:o,minWidth:o,maxWidth:o}},B&&ne.createElement(B,null)),l.map(function(U,Z){var Q=_u(U,2),G=Q[0],re=Q[1];return ne.createElement("div",{className:"rbc-time-header-content",key:G||Z},re&&ne.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(Z)},ne.createElement("div",{className:"rbc-header"},ne.createElement(R,{index:Z,label:g.resourceTitle(re),resource:re}))),ne.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(c)),ne.createElement(Gw,{isAllDay:!0,rtl:i,getNow:h,minRows:2,maxRows:r.props.allDayMaxRows+1,range:c,events:V.get(G)||[],resourceId:re&&G,className:"rbc-allday-cell",selectable:y,selected:r.props.selected,components:w,accessors:g,getters:S,localizer:I,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:L}))}))}}]),t}(ne.Component),JS={};function wle(e,t){return{map:function(r){return e?e.map(function(a,o){return r([t.resourceId(a),a],o)}):[r([JS,null],0)]},groupEvents:function(r){var a=new Map;return e?(r.forEach(function(o){var i=t.resource(o)||JS;if(Array.isArray(i))i.forEach(function(c){var f=a.get(c)||[];f.push(o),a.set(c,f)});else{var l=a.get(i)||[];l.push(o),a.set(i,l)}}),a):(a.set(JS,r),a)}}}var em=function(e){Ao(t,e);function t(n){var r;return Ma(this,t),r=No(this,t,[n]),r.handleScroll=function(a){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=a.target.scrollLeft)},r.handleResize=function(){dM(r.rafHandle),r.rafHandle=B9(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];gr(r.props.onKeyPressEvent,o)},r.handleSelectEvent=function(){r.clearSelection();for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];gr(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];gr(r.props.onDoubleClickEvent,o)},r.handleShowMore=function(a,o,i,l,c){var f=r.props,h=f.popup,g=f.onDrillDown,y=f.onShowMore,w=f.getDrilldownView,S=f.doShowMoreDrillDown;if(r.clearSelection(),h){var D=_9(i,r.containerRef.current);r.setState({overlay:{date:o,events:a,position:tr(tr({},D),{},{width:"200px"}),target:c}})}else S&&gr(g,[o,w(o)||Mo.DAY]);gr(y,[a,o,l])},r.handleSelectAllDaySlot=function(a,o){var i=r.props.onSelectSlot,l=new Date(a[0]),c=new Date(a[a.length-1]);c.setDate(a[a.length-1].getDate()+1),gr(i,{slots:a,start:l,end:c,action:o.action,resourceId:o.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var a=r.contentRef.current;if(a!=null&&a.scrollHeight){var o=a.scrollHeight>a.clientHeight;r.state.isOverflowing!==o&&(r._updatingOverflow=!0,r.setState({isOverflowing:o},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=rF(function(a,o){return wle(a,o)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=ne.createRef(),r.contentRef=ne.createRef(),r.containerRef=ne.createRef(),r._scrollRatio=null,r.gutterRef=P.createRef(),r}return ka(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),dM(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(r,a,o,i){var l=this,c=this.props,f=c.min,h=c.max,g=c.components,y=c.accessors,w=c.localizer,S=c.dayLayoutAlgorithm,D=this.memoizedResources(this.props.resources,y),I=D.groupEvents(a),M=D.groupEvents(o);return D.map(function(N,B){var k=_u(N,2),R=k[0],L=k[1];return r.map(function(_,V){var U=(I.get(R)||[]).filter(function(Q){return w.inRange(_,y.start(Q),y.end(Q),"day")}),Z=(M.get(R)||[]).filter(function(Q){return w.inRange(_,y.start(Q),y.end(Q),"day")});return ne.createElement(_F,Object.assign({},l.props,{localizer:w,min:w.merge(_,f),max:w.merge(_,h),resource:L&&R,components:g,isNow:w.isSameDate(_,i),key:B+"-"+V,date:_,events:U,backgroundEvents:Z,dayLayoutAlgorithm:S}))})})}},{key:"render",value:function(){var r,a=this.props,o=a.events,i=a.backgroundEvents,l=a.range,c=a.width,f=a.rtl,h=a.selected,g=a.getNow,y=a.resources,w=a.components,S=a.accessors,D=a.getters,I=a.localizer,M=a.min,N=a.max,B=a.showMultiDayTimes,k=a.longPressThreshold,R=a.resizable;c=c||this.state.gutterWidth;var L=l[0],_=l[l.length-1];this.slots=l.length;var V=[],U=[],Z=[];return o.forEach(function(Q){if(mv(Q,L,_,S,I)){var G=S.start(Q),re=S.end(Q);S.allDay(Q)||I.startAndEndAreDateOnly(G,re)||!B&&!I.isSameDate(G,re)?V.push(Q):U.push(Q)}}),i.forEach(function(Q){mv(Q,L,_,S,I)&&Z.push(Q)}),V.sort(function(Q,G){return YT(Q,G,S,I)}),ne.createElement("div",{className:ca("rbc-time-view",y&&"rbc-time-view-resources"),ref:this.containerRef},ne.createElement(yle,{range:l,events:V,width:c,rtl:f,getNow:g,localizer:I,selected:h,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(y,S),selectable:this.props.selectable,accessors:S,getters:D,components:w,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:k,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:R}),this.props.popup&&this.renderOverlay(),ne.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},ne.createElement(gle,{date:L,ref:this.gutterRef,localizer:I,min:I.merge(L,M),max:I.merge(L,N),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:w,className:"rbc-time-gutter",getters:D}),this.renderEvents(l,U,Z,g())))}},{key:"renderOverlay",value:function(){var r,a,o=this,i=(r=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&r!==void 0?r:{},l=this.props,c=l.accessors,f=l.localizer,h=l.components,g=l.getters,y=l.selected,w=l.popupOffset,S=l.handleDragStart,D=function(){return o.setState({overlay:null})};return ne.createElement(PI,{overlay:i,accessors:c,localizer:f,components:h,getters:g,selected:y,popupOffset:w,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:S,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:D})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,o=(a=r.gutterRef)!==null&&a!==void 0&&a.current?HT(r.gutterRef.current):void 0;o&&r.state.gutterWidth!==o&&r.setState({gutterWidth:o})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=r.min,o=r.max,i=r.scrollToTime,l=r.localizer,c=l.diff(l.merge(i,a),i,"milliseconds"),f=l.diff(a,o,"milliseconds");this._scrollRatio=c/f}}]),t}(P.Component);em.defaultProps={step:30,timeslots:2};var ble=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Gb=function(e){Ao(t,e);function t(){return Ma(this,t),No(this,t,arguments)}return ka(t,[{key:"render",value:function(){var r=this.props,a=r.date,o=r.localizer,i=r.min,l=i===void 0?o.startOf(new Date,"day"):i,c=r.max,f=c===void 0?o.endOf(new Date,"day"):c,h=r.scrollToTime,g=h===void 0?o.startOf(new Date,"day"):h,y=r.enableAutoScroll,w=y===void 0?!0:y,S=tu(r,ble),D=t.range(a,{localizer:o});return ne.createElement(em,Object.assign({},S,{range:D,eventOffset:10,localizer:o,min:l,max:f,scrollToTime:g,enableAutoScroll:w}))}}]),t}(ne.Component);Gb.range=function(e,t){var n=t.localizer;return[n.startOf(e,"day")]};Gb.navigate=function(e,t,n){var r=n.localizer;switch(t){case ri.PREVIOUS:return r.add(e,-1,"day");case ri.NEXT:return r.add(e,1,"day");default:return e}};Gb.title=function(e,t){var n=t.localizer;return n.format(e,"dayHeaderFormat")};var Sle=["date","localizer","min","max","scrollToTime","enableAutoScroll"],ed=function(e){Ao(t,e);function t(){return Ma(this,t),No(this,t,arguments)}return ka(t,[{key:"render",value:function(){var r=this.props,a=r.date,o=r.localizer,i=r.min,l=i===void 0?o.startOf(new Date,"day"):i,c=r.max,f=c===void 0?o.endOf(new Date,"day"):c,h=r.scrollToTime,g=h===void 0?o.startOf(new Date,"day"):h,y=r.enableAutoScroll,w=y===void 0?!0:y,S=tu(r,Sle),D=t.range(a,this.props);return ne.createElement(em,Object.assign({},S,{range:D,eventOffset:15,localizer:o,min:l,max:f,scrollToTime:g,enableAutoScroll:w}))}}]),t}(ne.Component);ed.defaultProps=em.defaultProps;ed.navigate=function(e,t,n){var r=n.localizer;switch(t){case ri.PREVIOUS:return r.add(e,-1,"week");case ri.NEXT:return r.add(e,1,"week");default:return e}};ed.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),a=n.startOf(e,"week",r),o=n.endOf(e,"week",r);return n.range(a,o)};ed.title=function(e,t){var n=t.localizer,r=ed.range(e,{localizer:n}),a=cF(r),o=a[0],i=a.slice(1);return n.format({start:o,end:i.pop()},"dayRangeHeaderFormat")};var Dle=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function LI(e,t){return ed.range(e,t).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var Xv=function(e){Ao(t,e);function t(){return Ma(this,t),No(this,t,arguments)}return ka(t,[{key:"render",value:function(){var r=this.props,a=r.date,o=r.localizer,i=r.min,l=i===void 0?o.startOf(new Date,"day"):i,c=r.max,f=c===void 0?o.endOf(new Date,"day"):c,h=r.scrollToTime,g=h===void 0?o.startOf(new Date,"day"):h,y=r.enableAutoScroll,w=y===void 0?!0:y,S=tu(r,Dle),D=LI(a,this.props);return ne.createElement(em,Object.assign({},S,{range:D,eventOffset:15,localizer:o,min:l,max:f,scrollToTime:g,enableAutoScroll:w}))}}]),t}(ne.Component);Xv.defaultProps=em.defaultProps;Xv.range=LI;Xv.navigate=ed.navigate;Xv.title=function(e,t){var n=t.localizer,r=LI(e,{localizer:n}),a=cF(r),o=a[0],i=a.slice(1);return n.format({start:o,end:i.pop()},"dayRangeHeaderFormat")};function td(e){var t=e.accessors,n=e.components,r=e.date,a=e.events,o=e.getters,i=e.length,l=e.localizer,c=e.onDoubleClickEvent,f=e.onSelectEvent,h=e.selected,g=P.useRef(null),y=P.useRef(null),w=P.useRef(null),S=P.useRef(null),D=P.useRef(null);P.useEffect(function(){N()});var I=function(_,V,U){var Z=n.event,Q=n.date;return V=V.filter(function(G){return mv(G,l.startOf(_,"day"),l.endOf(_,"day"),t,l)}),V.map(function(G,re){var de=t.title(G),fe=t.end(G),$=t.start(G),he=o.eventProp(G,$,fe,Zb(G,h)),se=re===0&&l.format(_,"agendaDateFormat"),ue=re===0?ne.createElement("td",{rowSpan:V.length,className:"rbc-agenda-date-cell"},Q?ne.createElement(Q,{day:_,label:se}):se):!1;return ne.createElement("tr",{key:U+"_"+re,className:he.className,style:he.style},ue,ne.createElement("td",{className:"rbc-agenda-time-cell"},M(_,G)),ne.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(oe){return f&&f(G,oe)},onDoubleClick:function(oe){return c&&c(G,oe)}},Z?ne.createElement(Z,{event:G,title:de}):de))},[])},M=function(_,V){var U="",Z=n.time,Q=l.messages.allDay,G=t.end(V),re=t.start(V);return t.allDay(V)||(l.eq(re,G)?Q=l.format(re,"agendaTimeFormat"):l.isSameDate(re,G)?Q=l.format({start:re,end:G},"agendaTimeRangeFormat"):l.isSameDate(_,re)?Q=l.format(re,"agendaTimeFormat"):l.isSameDate(_,G)&&(Q=l.format(G,"agendaTimeFormat"))),l.gt(_,re,"day")&&(U="rbc-continues-prior"),l.lt(_,G,"day")&&(U+=" rbc-continues-after"),ne.createElement("span",{className:U.trim()},Z?ne.createElement(Z,{event:V,day:_,label:Q}):Q)},N=function(){if(D.current){var _=g.current,V=D.current.firstChild;if(V){var U=S.current.scrollHeight>S.current.clientHeight,Z=[],Q=Z;Z=[HT(V.children[0]),HT(V.children[1])],(Q[0]!==Z[0]||Q[1]!==Z[1])&&(y.current.style.width=Z[0]+"px",w.current.style.width=Z[1]+"px"),U?(DZ(_,"rbc-header-overflowing"),_.style.marginRight=H9()+"px"):TZ(_,"rbc-header-overflowing")}}},B=l.messages,k=l.add(r,i,"day"),R=l.range(r,k,"day");return a=a.filter(function(L){return mv(L,l.startOf(r,"day"),l.endOf(k,"day"),t,l)}),a.sort(function(L,_){return+t.start(L)-+t.start(_)}),ne.createElement("div",{className:"rbc-agenda-view"},a.length!==0?ne.createElement(ne.Fragment,null,ne.createElement("table",{ref:g,className:"rbc-agenda-table"},ne.createElement("thead",null,ne.createElement("tr",null,ne.createElement("th",{className:"rbc-header",ref:y},B.date),ne.createElement("th",{className:"rbc-header",ref:w},B.time),ne.createElement("th",{className:"rbc-header"},B.event)))),ne.createElement("div",{className:"rbc-agenda-content",ref:S},ne.createElement("table",{className:"rbc-agenda-table"},ne.createElement("tbody",{ref:D},R.map(function(L,_){return I(L,a,_)}))))):ne.createElement("span",{className:"rbc-agenda-empty"},B.noEventsInRange))}td.defaultProps={length:30};td.range=function(e,t){var n=t.length,r=n===void 0?td.defaultProps.length:n,a=t.localizer,o=a.add(e,r,"day");return{start:e,end:o}};td.navigate=function(e,t,n){var r=n.length,a=r===void 0?td.defaultProps.length:r,o=n.localizer;switch(t){case ri.PREVIOUS:return o.add(e,-a,"day");case ri.NEXT:return o.add(e,a,"day");default:return e}};td.title=function(e,t){var n=t.length,r=n===void 0?td.defaultProps.length:n,a=t.localizer,o=a.add(e,r,"day");return a.format({start:e,end:o},"agendaHeaderFormat")};var pw=lf(lf(lf(lf(lf({},Mo.MONTH,qb),Mo.WEEK,ed),Mo.WORK_WEEK,Xv),Mo.DAY,Gb),Mo.AGENDA,td),Tle=["action","date","today"];function Ile(e,t){var n=t.action,r=t.date,a=t.today,o=tu(t,Tle);switch(e=typeof e=="string"?pw[e]:e,n){case ri.TODAY:r=a||new Date;break;case ri.DATE:break;default:ov(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,o)}return r}var Ele=function(e){Ao(t,e);function t(){var n;Ma(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=No(this,t,[].concat(a)),n.navigate=function(i){n.props.onNavigate(i)},n.view=function(i){n.props.onView(i)},n}return ka(t,[{key:"render",value:function(){var r=this.props,a=r.localizer.messages,o=r.label;return ne.createElement("div",{className:"rbc-toolbar"},ne.createElement("span",{className:"rbc-btn-group"},ne.createElement("button",{type:"button",onClick:this.navigate.bind(null,ri.TODAY)},a.today),ne.createElement("button",{type:"button",onClick:this.navigate.bind(null,ri.PREVIOUS)},a.previous),ne.createElement("button",{type:"button",onClick:this.navigate.bind(null,ri.NEXT)},a.next)),ne.createElement("span",{className:"rbc-toolbar-label"},o),ne.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(r){var a=this,o=this.props.views,i=this.props.view;if(o.length>1)return o.map(function(l){return ne.createElement("button",{type:"button",key:l,className:ca({"rbc-active":i===l}),onClick:a.view.bind(null,l)},r[l])})}}]),t}(ne.Component);function Cle(e,t){var n=null;return typeof t=="function"?n=t(e):typeof t=="string"&&Wu(e)==="object"&&e!=null&&t in e&&(n=e[t]),n}var Vc=function(t){return function(n){return Cle(n,t)}},xle=["view","date","getNow","onNavigate"],Mle=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function BF(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var a=_u(r[n],2),o=a[0],i=a[1];i&&t.push(o)}return t}function kle(e,t){var n=t.views,r=BF(n);return r.indexOf(e)!==-1}var HF=function(e){Ao(t,e);function t(){var n;Ma(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=No(this,t,[].concat(a)),n.getViews=function(){var i=n.props.views;return Array.isArray(i)?ese(i,function(l,c){return l[c]=pw[c]},{}):Wu(i)==="object"?ise(i,function(l,c){return l===!0?pw[c]:l}):pw},n.getView=function(){var i=n.getViews();return i[n.props.view]},n.getDrilldownView=function(i){var l=n.props,c=l.view,f=l.drilldownView,h=l.getDrilldownView;return h?h(i,c,Object.keys(n.getViews())):f},n.handleRangeChange=function(i,l,c){var f=n.props,h=f.onRangeChange,g=f.localizer;h&&l.range&&h(l.range(i,{localizer:g}),c)},n.handleNavigate=function(i,l){var c=n.props,f=c.view,h=c.date,g=c.getNow,y=c.onNavigate,w=tu(c,xle),S=n.getView(),D=g();h=Ile(S,tr(tr({},w),{},{action:i,date:l||h||D,today:D})),y(h,f,i),n.handleRangeChange(h,S)},n.handleViewChange=function(i){i!==n.props.view&&kle(i,n.props)&&n.props.onView(i);var l=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),l[i],i)},n.handleSelectEvent=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];gr(n.props.onSelectEvent,l)},n.handleDoubleClickEvent=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];gr(n.props.onDoubleClickEvent,l)},n.handleKeyPressEvent=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];gr(n.props.onKeyPressEvent,l)},n.handleSelectSlot=function(i){gr(n.props.onSelectSlot,i)},n.handleDrillDown=function(i,l){var c=n.props.onDrillDown;if(c){c(i,l,n.drilldownView);return}l&&n.handleViewChange(l),n.handleNavigate(ri.DATE,i)},n.state={context:t.getContext(n.props)},n}return ka(t,[{key:"render",value:function(){var r=this.props,a=r.view,o=r.toolbar,i=r.events,l=r.backgroundEvents,c=r.style,f=r.className,h=r.elementProps,g=r.date,y=r.getNow,w=r.length,S=r.showMultiDayTimes,D=r.onShowMore,I=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var M=tu(r,Mle);g=g||y();var N=this.getView(),B=this.state.context,k=B.accessors,R=B.components,L=B.getters,_=B.localizer,V=B.viewNames,U=R.toolbar||Ele,Z=N.title(g,{localizer:_,length:w});return ne.createElement("div",Object.assign({},h,{className:ca(f,"rbc-calendar",M.rtl&&"rbc-rtl"),style:c}),o&&ne.createElement(U,{date:g,view:a,views:V,label:Z,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:_}),ne.createElement(N,Object.assign({},M,{events:i,backgroundEvents:l,date:g,getNow:y,length:w,localizer:_,getters:L,components:R,accessors:k,showMultiDayTimes:S,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:D,doShowMoreDrillDown:I})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:t.getContext(r)}}},{key:"getContext",value:function(r){var a=r.startAccessor,o=r.endAccessor,i=r.allDayAccessor,l=r.tooltipAccessor,c=r.titleAccessor,f=r.resourceAccessor,h=r.resourceIdAccessor,g=r.resourceTitleAccessor,y=r.eventPropGetter,w=r.backgroundEventPropGetter,S=r.slotPropGetter,D=r.slotGroupPropGetter,I=r.dayPropGetter,M=r.view,N=r.views,B=r.localizer,k=r.culture,R=r.messages,L=R===void 0?{}:R,_=r.components,V=_===void 0?{}:_,U=r.formats,Z=U===void 0?{}:U,Q=BF(N),G=Ose(L);return{viewNames:Q,localizer:Ase(B,k,Z,G),getters:{eventProp:function(){return y&&y.apply(void 0,arguments)||{}},backgroundEventProp:function(){return w&&w.apply(void 0,arguments)||{}},slotProp:function(){return S&&S.apply(void 0,arguments)||{}},slotGroupProp:function(){return D&&D.apply(void 0,arguments)||{}},dayProp:function(){return I&&I.apply(void 0,arguments)||{}}},components:Uie(V[M]||{},Oie(V,Q),{eventWrapper:Ru,backgroundEventWrapper:Ru,eventContainerWrapper:Ru,dateCellWrapper:Ru,weekWrapper:Ru,timeSlotWrapper:Ru,timeGutterWrapper:Ru}),accessors:{start:Vc(a),end:Vc(o),allDay:Vc(i),tooltip:Vc(l),title:Vc(c),resource:Vc(f),resourceId:Vc(h),resourceTitle:Vc(g)}}}}]),t}(ne.Component);HF.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Mo.MONTH,views:[Mo.MONTH,Mo.WEEK,Mo.DAY,Mo.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Mo.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Nle=w9(HF,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Ale=function(t,n,r){var a=t.start,o=t.end;return r.format(a,"MMMM DD",n)+" ‚Äì "+r.format(o,r.eq(a,o,"month")?"DD":"MMMM DD",n)},Fle=function(t,n,r){var a=t.start,o=t.end;return r.format(a,"L",n)+" ‚Äì "+r.format(o,"L",n)},KS=function(t,n,r){var a=t.start,o=t.end;return r.format(a,"LT",n)+" ‚Äì "+r.format(o,"LT",n)},Ole=function(t,n,r){var a=t.start;return r.format(a,"LT",n)+" ‚Äì "},Ple=function(t,n,r){var a=t.end;return" ‚Äì "+r.format(a,"LT",n)},jle={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:KS,eventTimeRangeFormat:KS,eventTimeRangeStartFormat:Ole,eventTimeRangeEndFormat:Ple,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:Ale,agendaHeaderFormat:Fle,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:KS};function Wc(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function Lle(e){var t=function(De,je){return je?De.locale(je):De};function n(oe){return e(oe).toDate().getTimezoneOffset()}function r(oe,De){var je,Re,Fe=e(oe).local(),Be=e(De).local();if(!e.tz)return Fe.toDate().getTimezoneOffset()-Be.toDate().getTimezoneOffset();var Xe=(je=Fe==null||(Re=Fe._z)===null||Re===void 0?void 0:Re.name)!==null&&je!==void 0?je:e.tz.guess(),Ze=e.tz.zone(Xe).utcOffset(+Fe),st=e.tz.zone(Xe).utcOffset(+Be);return Ze-st}function a(oe){var De=e(oe).startOf("day");return r(De,oe)}function o(oe,De,je){var Re=Wc(je),Fe=Re?e(oe).startOf(Re):e(oe),Be=Re?e(De).startOf(Re):e(De);return[Fe,Be,Re]}function i(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,De=arguments.length>1?arguments[1]:void 0,je=Wc(De);return je?e(oe).startOf(je).toDate():e(oe).toDate()}function l(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,De=arguments.length>1?arguments[1]:void 0,je=Wc(De);return je?e(oe).endOf(je).toDate():e(oe).toDate()}function c(oe,De,je){var Re=o(oe,De,je),Fe=_u(Re,3),Be=Fe[0],Xe=Fe[1],Ze=Fe[2];return Be.isSame(Xe,Ze)}function f(oe,De,je){return!c(oe,De,je)}function h(oe,De,je){var Re=o(oe,De,je),Fe=_u(Re,3),Be=Fe[0],Xe=Fe[1],Ze=Fe[2];return Be.isAfter(Xe,Ze)}function g(oe,De,je){var Re=o(oe,De,je),Fe=_u(Re,3),Be=Fe[0],Xe=Fe[1],Ze=Fe[2];return Be.isBefore(Xe,Ze)}function y(oe,De,je){var Re=o(oe,De,je),Fe=_u(Re,3),Be=Fe[0],Xe=Fe[1],Ze=Fe[2];return Be.isSameOrBefore(Xe,Ze)}function w(oe,De,je){var Re=o(oe,De,je),Fe=_u(Re,3),Be=Fe[0],Xe=Fe[1],Ze=Fe[2];return Be.isSameOrBefore(Xe,Ze)}function S(oe,De,je){var Re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",Fe=Wc(Re),Be=e(oe),Xe=e(De),Ze=e(je);return Be.isBetween(Xe,Ze,Fe,"[]")}function D(oe,De){var je=e(oe),Re=e(De),Fe=e.min(je,Re);return Fe.toDate()}function I(oe,De){var je=e(oe),Re=e(De),Fe=e.max(je,Re);return Fe.toDate()}function M(oe,De){if(!oe&&!De)return null;var je=e(De).format("HH:mm:ss"),Re=e(oe).startOf("day").format("MM/DD/YYYY");return e("".concat(Re," ").concat(je),"MM/DD/YYYY HH:mm:ss").toDate()}function N(oe,De,je){var Re=Wc(je);return e(oe).add(De,Re).toDate()}function B(oe,De){for(var je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",Re=Wc(je),Fe=e(oe).toDate(),Be=[];w(Fe,De);)Be.push(Fe),Fe=N(Fe,1,Re);return Be}function k(oe,De){var je=Wc(De),Re=i(oe,je);return c(Re,oe)?Re:N(Re,1,je)}function R(oe,De){var je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",Re=Wc(je),Fe=e(oe),Be=e(De);return Be.diff(Fe,Re)}function L(oe){var De=e(oe);return De.minutes()}function _(oe){var De=oe?e.localeData(oe):e.localeData();return De?De.firstDayOfWeek():0}function V(oe){return e(oe).startOf("month").startOf("week").toDate()}function U(oe){return e(oe).endOf("month").endOf("week").toDate()}function Z(oe){for(var De=V(oe),je=U(oe),Re=[];w(De,je);)Re.push(De),De=N(De,1,"d");return Re}function Q(oe,De,je){return e(oe).startOf("day").minute(De+je).toDate()}function G(oe,De){return R(oe,De,"minutes")}function re(oe){var De=e(oe).startOf("day"),je=e(oe);return je.diff(De,"minutes")+a(oe)}function de(oe,De){var je=e(oe),Re=e(De);return je.isBefore(Re,"day")}function fe(oe,De,je){var Re=e(De),Fe=e(je);return Re.isSameOrAfter(Fe,"minutes")}function $(oe,De){var je=e(oe),Re=e(De),Fe=e.duration(Re.diff(je));return Fe.days()}function he(oe){var De=oe.evtA,je=De.start,Re=De.end,Fe=De.allDay,Be=oe.evtB,Xe=Be.start,Ze=Be.end,st=Be.allDay,Ct=+i(je,"day")-+i(Xe,"day"),tn=$(je,Re),_e=$(Xe,Ze);return Ct||_e-tn||!!st-!!Fe||+je-+Xe||+Re-+Ze}function se(oe){var De=oe.event,je=De.start,Re=De.end,Fe=oe.range,Be=Fe.start,Xe=Fe.end,Ze=e(je).startOf("day"),st=e(Re),Ct=e(Be),tn=e(Xe),_e=Ze.isSameOrBefore(tn,"day"),et=!Ze.isSame(st,"minutes"),nt=et?st.isAfter(Ct,"minutes"):st.isSameOrAfter(Ct,"minutes");return _e&&nt}function ue(oe,De){var je=e(oe),Re=e(De);return je.isSame(Re,"day")}function X(){var oe=new Date,De=/-/.test(oe.toString())?"-":"",je=oe.getTimezoneOffset(),Re=Number("".concat(De).concat(Math.abs(je))),Fe=e().utcOffset();return Fe>Re?1:0}return new Nse({formats:jle,firstOfWeek:_,firstVisibleDay:V,lastVisibleDay:U,visibleDays:Z,format:function(De,je,Re){return t(e(De),Re).format(je)},lt:g,lte:w,gt:h,gte:y,eq:c,neq:f,merge:M,inRange:S,startOf:i,endOf:l,range:B,add:N,diff:R,ceil:k,min:D,max:I,minutes:L,getSlotDate:Q,getTimezoneOffset:n,getDstOffset:r,getTotalMin:G,getMinutesFromMidnight:re,continuesPrior:de,continuesAfter:fe,sortEvents:he,inEventRange:se,isSameDate:ue,daySpan:$,browserTZOffset:X})}function y3(e,t,n,r,a){const o={start:r.start(e),end:r.end(e)},i={start:t,end:n};return a.inEventRange({event:o,range:i})}function Rle(e,t){return!e||t==null?!1:vb.isEqual(e,t)}const pp={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"};function $u({accessors:e,components:t,date:n,events:r,getters:a,length:o,localizer:i,onDoubleClickEvent:l,onSelectEvent:c,selected:f}){P.useRef(null);const h=P.useRef(null),g=P.useRef(null),y=P.useRef(null),w=P.useRef(null),[S,D]=P.useState(!1),[I,M]=P.useState(!1),N=(Z,Q,G)=>{const{event:re,date:de}=t;return Q=Q.filter(fe=>y3(fe,i.startOf(Z,"day"),i.endOf(Z,"day"),e,i)),Q.map((fe,$)=>{const he=e.title(fe),se=e.end(fe),ue=e.start(fe),X=a.eventProp(fe,ue,se,Rle(fe,f)),oe=$===0&&i.format(Z,"agendaDateFormat"),De=$===0?v.jsx("td",{rowSpan:Q.length,className:"rbc-agenda-date-cell",children:de?v.jsx(de,{day:Z,label:oe}):oe}):!1;return v.jsxs("tr",{className:X.className,style:X.style,children:[De,v.jsx("td",{className:"rbc-agenda-time-cell",children:B(Z,fe)}),v.jsx("td",{className:"rbc-agenda-event-cell",onClick:je=>c&&c(fe,je),onDoubleClick:je=>l&&l(fe,je),children:re?v.jsx(re,{event:fe,title:he}):he})]},G+"_"+$)},[])},B=(Z,Q)=>{const G=t.time;let re="",de=i.messages.allDay;const fe=e.end(Q),$=e.start(Q);return e.allDay(Q)||(i.eq($,fe)?de=i.format($,"agendaTimeFormat"):i.isSameDate($,fe)?de=i.format({start:$,end:fe},"agendaTimeRangeFormat"):i.isSameDate(Z,$)?de=i.format($,"agendaTimeFormat"):i.isSameDate(Z,fe)&&(de=i.format(fe,"agendaTimeFormat"))),i.gt(Z,$,"day")&&(re="rbc-continues-prior"),i.lt(Z,fe,"day")&&(re+=" rbc-continues-after"),v.jsx("span",{className:re.trim(),children:G?v.jsx(G,{event:Q,day:Z,label:de}):de})},{messages:k}=i,R=i.add(n,-o/2,"day"),L=i.add(n,o/2,"day"),_=i.range(R,L,"day");S&&_.reverse(),r=r.filter(Z=>y3(Z,i.startOf(R,"day"),i.endOf(L,"day"),e,i)),r.sort((Z,Q)=>+e.start(Z)-+e.start(Q)),I&&r.reverse();const V=P.useCallback(()=>setTimeout(()=>{w.current&&kb(w.current,{backgroundColor:"#ffffff",pixelRatio:window.devicePixelRatio*2}).then(Z=>{new x.Notice(E("Image is generating..."));const Q=ft.getState().settings.AutoSaveWhenOnMobile,G=ft.getState().app.vault;if(Q&&x.Platform.isMobile){const re=Z.split("base64,")[1];gb(re,"image/png").arrayBuffer().then(async fe=>{let $;const he="png",se=Ju();for(const ue in se)if(se[ue]instanceof x.TFile){$=se[ue];break}$!==void 0&&await G.createBinary(await G.getAvailablePathForAttachments(`Pasted Image ${x.moment().format("YYYYMMDDHHmmss")}`,he,$),fe)})}Nb({imgUrl:Z})}).catch(Z=>{console.error(Z)})},0),[w.current,_]),U=P.useCallback(Z=>{const Q=new x.Menu;Q.addItem(G=>{G.setIcon("share-2").setTitle(E("Share")).onClick(()=>{V()})}),Q.showAtMouseEvent(Z.nativeEvent)},[w.current,_,V]);return v.jsx("div",{className:"rbc-agenda-view",children:r.length!==0?v.jsx(ne.Fragment,{children:v.jsxs("table",{ref:w,className:"rbc-agenda-table",children:[v.jsx("thead",{onContextMenu:U,children:v.jsxs("tr",{children:[v.jsx("th",{className:"rbc-header",ref:h,onClick:()=>{D(!S)},children:k.date+(S?" üîº":" üîΩ")}),v.jsx("th",{className:"rbc-header",ref:g,onClick:()=>{M(!I)},children:k.time+(I?" üîº":" üîΩ")}),v.jsx("th",{className:"rbc-header",children:k.event})]})}),v.jsx("tbody",{ref:y,children:_.map((Z,Q)=>N(Z,r,Q))})]})}):v.jsx("span",{className:"rbc-agenda-empty",children:k.noEventsInRange})})}$u.propTypes={accessors:ke.object.isRequired,components:ke.object.isRequired,date:ke.instanceOf(Date),events:ke.array,getters:ke.object.isRequired,length:ke.number.isRequired,localizer:ke.object.isRequired,onSelectEvent:ke.func,onDoubleClickEvent:ke.func,selected:ke.object};$u.defaultProps={length:30};$u.range=(e,{length:t=$u.defaultProps.length,localizer:n})=>{const r=n.add(e,-t/2,"day"),a=n.add(e,t/2,"day");return{customStart:r,customEnd:a}};$u.navigate=(e,t,{length:n=$u.defaultProps.length,localizer:r})=>{switch(t){case pp.PREVIOUS:return r.add(e,-n,"day");case pp.NEXT:return r.add(e,n,"day");default:return e}};$u.title=(e,{length:t=$u.defaultProps.length,localizer:n})=>{const r=n.add(e,-t/2,"day"),a=n.add(e,t/2,"day");return n.format({start:r,end:a},"agendaHeaderFormat")};function _le(e,t){e.hoverEl.toggleClass("thino-hover-popover",!0);const n=Rv(e.hoverEl);return n.render(v.jsx(is,{store:Le,context:Lt,children:v.jsx(ai,{memo:t})})),n}function Ble({event:e}){const t=e.resource,n=t.content.split(`
`)[0].slice(0,20),r=ne.useRef(null),a=ne.useRef(null),o=ne.useRef(null);P.useEffect(()=>{if(a.current)return x.setIcon(a.current,"calendar"),()=>{r.current&&(r.current=null)}},[r]);const i=P.useCallback(c=>{o.current&&(o.current.unmount(),o.current=null),o.current=c},[]),l=P.useCallback(c=>{if(!r.current||!x.Keymap.isModifier(c.nativeEvent,"Mod"))return;const f=new x.HoverPopover(ft.getState().view,r.current,100),h=_le(f,t);i(h)},[r.current]);return v.jsxs("span",{className:"rbc-event-renderer","data-source-type":t.sourceType,"data-thino-type":t.thinoType,"data-thino-id":t.id,ref:r,"aria-label":t.path,onMouseOver:l,children:[v.jsx(Hle,{event:e}),v.jsx("span",{children:n})]})}const Hle=({event:e})=>{const t=ne.useRef(null),n=e.resource;P.useEffect(()=>{t.current&&x.setIcon(t.current,n.thinoType==="JOURNAL"?"calendar":n.thinoType==="TASK-TODO"?"square":"check-square")},[n==null?void 0:n.thinoType,t]);const r=P.useCallback(async a=>{a.stopPropagation(),a.preventDefault(),await(async()=>{const i=await we.updateMemo(n.id,n.content,n.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");i&&we.editMemo(i)})()},[n==null?void 0:n.thinoType,n==null?void 0:n.id,n==null?void 0:n.content]);return v.jsx(v.Fragment,{children:v.jsxs("span",{className:"rbc-event-icon-group",children:[v.jsx("span",{className:"rbc-event-icon",ref:t,onClick:r}),v.jsx("span",{className:ar("rbc-event-time","thino-hidden"),children:v.jsx("span",{className:"rbc-event-time-text",children:x.moment(e.start).format("HH:mm")})})]})})};function UF({views:e,view:t,messages:n,onView:r}){return e.map(a=>v.jsx("button",{type:"button",className:ar({"rbc-active":t===a}),onClick:()=>r(a),children:n[a]},a))}UF.propTypes={messages:ke.object,onView:ke.func,view:ke.string,views:ke.array};function YF({date:e,label:t,localizer:{messages:n},onNavigate:r,onView:a,view:o,views:i}){const l={previous:P.useRef(null),today:P.useRef(null),next:P.useRef(null)};P.useEffect(()=>{l&&(x.setIcon(l.previous.current,"chevron-left"),x.setIcon(l.today.current,"dot"),x.setIcon(l.next.current,"chevron-right"))},[l]);const c=P.useMemo(()=>v.jsxs(v.Fragment,{children:[v.jsx("button",{ref:l.previous,type:"button",onClick:()=>r(pp.PREVIOUS),"aria-label":n.previous,children:"<"}),v.jsx("button",{ref:l.today,type:"button",onClick:()=>r(pp.TODAY),"aria-label":n.today,children:"‚Ä¢"}),v.jsx("button",{ref:l.next,type:"button",onClick:()=>r(pp.NEXT),"aria-label":n.next,children:">"})]}),[n]);return v.jsxs("div",{className:"rbc-toolbar",children:[v.jsx("span",{className:ar("rbc-btn-group","thino-view-custom-toolbar"),children:c}),v.jsx("span",{className:"rbc-toolbar-label",children:v.jsx(Pw,{type:"text",handleValueChange:f=>{r(pp.DATE,x.moment(f,"YYYY-MM-DD").format("YYYY-MM-DDTHH:mm:ssZ"))},defaultText:t+(o==="week"?x.moment(e.valueOf(),"x").format(" [W]WW"):""),defaultValue:x.moment(e.valueOf(),"x").valueOf()})}),v.jsx("span",{className:"rbc-btn-group",children:v.jsx(UF,{view:o,views:i,messages:n,onView:a})})]})}YF.propTypes={date:ke.instanceOf(Date),label:ke.string,localizer:ke.object,messages:ke.object,onNavigate:ke.func,onView:ke.func,view:ke.string,views:ke.array};function Ule({event:e,children:t,showPopup:n,callRender:r,...a}){const o=P.useRef(null),i=P.useRef(null),l=P.useCallback(c=>{if(!c.isTrusted){r();return}i.current=c.nativeEvent.target,i.current&&(i.current.hasClass("rbc-event")||(i.current=i.current.closest(".rbc-event")),o.current!==null?(window.clearTimeout(o.current),o.current=null):o.current=window.setTimeout(()=>{n(e,i.current),o.current=null},250))},[e,n]);return v.jsx(v.Fragment,{children:v.jsx("div",{className:"rbc-event-wrapper","aria-describedby":"thino",onClick:l,children:t})})}const Yle=Lle(x.moment),zle=({event:e})=>{const t=e.resource;return v.jsx(v.Fragment,{children:v.jsx(ai,{memo:t})})},Vle=e=>{var G;const{thinos:t}=e,[n,r]=ne.useState([]),[a,o]=ne.useState((app==null?void 0:app.loadLocalStorage("thino-calendar-view"))||"month"),[i,l]=ne.useState(null),c=ne.useRef(null),f=ne.useRef(null),[h,g]=ne.useState(!1),y=P.useRef(null),[w,S]=P.useState(new Date);P.useEffect(()=>()=>{c.current&&(c.current=null),f.current&&(f.current=null),y.current&&(y.current=null)},[]),P.useEffect(()=>{const re=t.map(de=>{const fe=x.moment(de.createdAt,"YYYY/MM/DD HH:mm:ss"),$=fe.clone().add(1,"minute");return{title:de.content,start:new Date(fe.format("YYYY-MM-DDTHH:mm:ss")),end:new Date($.format("YYYY-MM-DDTHH:mm:ss")),resource:de}});r(re)},[t]),P.useEffect(()=>{app==null||app.saveLocalStorage("thino-calendar-view",a)},[a]),P.useEffect(()=>{i&&h&&l(t.find(re=>re.id===i.id))},[t,i,h]),P.useEffect(()=>{i&&y.current.update()},[i]),y.current=Mb(c.current,f.current,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]});const D=P.useCallback(()=>{y.current.update(),y.current.update()},[]),I=P.useCallback((re,de)=>{l(null),k(),y.current.state.elements.reference=de,l(re.resource),R()},[]),M=P.useCallback(()=>{k(),l(null)},[]),N=P.useCallback((re,de,fe)=>{var $;if(B(re),de==="week"||de==="day"){const he=c.current.find(".rbc-event-wrapper");if(c.current.closest(".memolist-wrapper"),he){($=he.children[0])==null||$.click();return}else{setTimeout(()=>{var ue,X;const se=c.current.find(".rbc-event-wrapper");(X=(ue=se==null?void 0:se.children)==null?void 0:ue[0])==null||X.click()},0);return}}},[]),B=P.useCallback(re=>{S(re)},[S]);Hv(f,M);const k=P.useCallback(()=>{g(!1)},[g]),R=P.useCallback(()=>{y.current.update(),g(!0)},[g]),L=P.useCallback(re=>{const de=re.resource;dt.setEditMemoId(de.id)},[]),_=P.useCallback(re=>{o(re)},[o]),{components:V,views:U,messages:Z}=P.useMemo(()=>({components:{toolbar:YF,eventWrapper:re=>v.jsx(Ule,{...re,callRender:D,showPopup:I}),agenda:{event:zle},event:Ble},views:{month:!0,agenda:$u,week:!0,day:!0},messages:{month:E("Month"),day:E("Day"),next:E("Next"),previous:E("Previous"),today:E("Today"),agenda:E("Agenda"),week:E("Week"),yesterday:E("Yesterday"),tomorrow:E("Tomorrow"),noEventsInRange:E("No thinos in range"),date:E("date"),time:E("time"),event:E("event")}}),[]),Q=P.useMemo(()=>({timeGutterFormat:(re,de,fe)=>fe.format(re,"HH:mm",de),agendaTimeRangeFormat:({start:re,end:de},fe,$)=>$.format(re,"HH:mm",fe)+" ‚Äî "+$.format(de,"HH:mm",fe),agendaHeaderFormat:({start:re,end:de},fe,$)=>$.format(re,"YYYY-MM-DD")+" ‚Äî "+$.format(de,"YYYY-MM-DD")}),[]);return v.jsxs("div",{ref:c,className:"calendar-view",children:[v.jsx(Nle,{date:w,messages:Z,components:V,localizer:Yle,events:n,views:U,onView:_,onDoubleClickEvent:L,onNavigate:N,formats:Q,defaultView:a,tooltipAccessor:null,startAccessor:"start",endAccessor:"end"}),v.jsx("div",{ref:f,style:(G=y.current)==null?void 0:G.styles.popper,className:ar("thino-popup-container",h?"":"thino-hidden"),children:i&&v.jsx(ai,{memo:i})})]})};function Kc(e,t){return typeof e=="function"?e(t):e}function Ai(e,t){return n=>{t.setState(r=>({...r,[e]:Kc(n,r[e])}))}}function Jw(e){return e instanceof Function}function Wle(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function $le(e,t){const n=[],r=a=>{a.forEach(o=>{n.push(o);const i=t(o);i!=null&&i.length&&r(i)})};return r(e),n}function Bt(e,t,n){let r=[],a;return o=>{let i;n.key&&n.debug&&(i=Date.now());const l=e(o);if(!(l.length!==r.length||l.some((h,g)=>r[g]!==h)))return a;r=l;let f;if(n.key&&n.debug&&(f=Date.now()),a=t(...l),n==null||n.onChange==null||n.onChange(a),n.key&&n.debug&&n!=null&&n.debug()){const h=Math.round((Date.now()-i)*100)/100,y=Math.round((Date.now()-f)*100)/100/16,w=(S,D)=>{for(S=String(S);S.length<D;)S=" "+S;return S}}return a}}function Ht(e,t,n,r){return{debug:()=>{var a;return(a=e==null?void 0:e.debugAll)!=null?a:e[t]},key:!1,onChange:r}}function Zle(e,t,n,r){var a,o;const l={...e._getDefaultColumnDef(),...t},c=l.accessorKey;let f=(a=(o=l.id)!=null?o:c?c.replace(".","_"):void 0)!=null?a:typeof l.header=="string"?l.header:void 0,h;if(l.accessorFn?h=l.accessorFn:c&&(c.includes(".")?h=y=>{let w=y;for(const D of c.split(".")){var S;w=(S=w)==null?void 0:S[D]}return w}:h=y=>y[l.accessorKey]),!f)throw new Error;let g={id:`${String(f)}`,accessorFn:h,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:Bt(()=>[!0],()=>{var y;return[g,...(y=g.columns)==null?void 0:y.flatMap(w=>w.getFlatColumns())]},Ht(e.options,"debugColumns")),getLeafColumns:Bt(()=>[e._getOrderColumnsFn()],y=>{var w;if((w=g.columns)!=null&&w.length){let S=g.columns.flatMap(D=>D.getLeafColumns());return y(S)}return[g]},Ht(e.options,"debugColumns"))};for(const y of e._features)y.createColumn==null||y.createColumn(g,e);return g}const oo="debugHeaders";function w3(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const i=[],l=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(l),i.push(c)};return l(o),i},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(i=>{i.createHeader==null||i.createHeader(o,e)}),o}const qle={createTable:e=>{e.getHeaderGroups=Bt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,a)=>{var o,i;const l=(o=r==null?void 0:r.map(g=>n.find(y=>y.id===g)).filter(Boolean))!=null?o:[],c=(i=a==null?void 0:a.map(g=>n.find(y=>y.id===g)).filter(Boolean))!=null?i:[],f=n.filter(g=>!(r!=null&&r.includes(g.id))&&!(a!=null&&a.includes(g.id)));return j0(t,[...l,...f,...c],e)},Ht(e.options,oo)),e.getCenterHeaderGroups=Bt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,a)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(a!=null&&a.includes(o.id))),j0(t,n,e,"center")),Ht(e.options,oo)),e.getLeftHeaderGroups=Bt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var a;const o=(a=r==null?void 0:r.map(i=>n.find(l=>l.id===i)).filter(Boolean))!=null?a:[];return j0(t,o,e,"left")},Ht(e.options,oo)),e.getRightHeaderGroups=Bt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var a;const o=(a=r==null?void 0:r.map(i=>n.find(l=>l.id===i)).filter(Boolean))!=null?a:[];return j0(t,o,e,"right")},Ht(e.options,oo)),e.getFooterGroups=Bt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Ht(e.options,oo)),e.getLeftFooterGroups=Bt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Ht(e.options,oo)),e.getCenterFooterGroups=Bt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Ht(e.options,oo)),e.getRightFooterGroups=Bt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Ht(e.options,oo)),e.getFlatHeaders=Bt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),Ht(e.options,oo)),e.getLeftFlatHeaders=Bt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),Ht(e.options,oo)),e.getCenterFlatHeaders=Bt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),Ht(e.options,oo)),e.getRightFlatHeaders=Bt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),Ht(e.options,oo)),e.getCenterLeafHeaders=Bt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ht(e.options,oo)),e.getLeftLeafHeaders=Bt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ht(e.options,oo)),e.getRightLeafHeaders=Bt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ht(e.options,oo)),e.getLeafHeaders=Bt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var a,o,i,l,c,f;return[...(a=(o=t[0])==null?void 0:o.headers)!=null?a:[],...(i=(l=n[0])==null?void 0:l.headers)!=null?i:[],...(c=(f=r[0])==null?void 0:f.headers)!=null?c:[]].map(h=>h.getLeafHeaders()).flat()},Ht(e.options,oo))}};function j0(e,t,n,r){var a,o;let i=0;const l=function(y,w){w===void 0&&(w=1),i=Math.max(i,w),y.filter(S=>S.getIsVisible()).forEach(S=>{var D;(D=S.columns)!=null&&D.length&&l(S.columns,w+1)},0)};l(e);let c=[];const f=(y,w)=>{const S={depth:w,id:[r,`${w}`].filter(Boolean).join("_"),headers:[]},D=[];y.forEach(I=>{const M=[...D].reverse()[0],N=I.column.depth===S.depth;let B,k=!1;if(N&&I.column.parent?B=I.column.parent:(B=I.column,k=!0),M&&(M==null?void 0:M.column)===B)M.subHeaders.push(I);else{const R=w3(n,B,{id:[r,w,B.id,I==null?void 0:I.id].filter(Boolean).join("_"),isPlaceholder:k,placeholderId:k?`${D.filter(L=>L.column===B).length}`:void 0,depth:w,index:D.length});R.subHeaders.push(I),D.push(R)}S.headers.push(I),I.headerGroup=S}),c.push(S),w>0&&f(D,w-1)},h=t.map((y,w)=>w3(n,y,{depth:i,index:w}));f(h,i-1),c.reverse();const g=y=>y.filter(S=>S.column.getIsVisible()).map(S=>{let D=0,I=0,M=[0];S.subHeaders&&S.subHeaders.length?(M=[],g(S.subHeaders).forEach(B=>{let{colSpan:k,rowSpan:R}=B;D+=k,M.push(R)})):D=1;const N=Math.min(...M);return I+=N,S.colSpan=D,S.rowSpan=I,{colSpan:D,rowSpan:I}});return g((a=(o=c[0])==null?void 0:o.headers)!=null?a:[]),c}const L0={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},QS=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Gle={getDefaultColumnDef:()=>L0,getInitialState:e=>({columnSizing:{},columnSizingInfo:QS(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ai("columnSizing",e),onColumnSizingInfoChange:Ai("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,a;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:L0.minSize,(r=o??e.columnDef.size)!=null?r:L0.size),(a=e.columnDef.maxSize)!=null?a:L0.maxSize)},e.getStart=Bt(n=>[n,$g(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((a,o)=>a+o.getSize(),0),Ht(t.options,"debugColumns")),e.getAfter=Bt(n=>[n,$g(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((a,o)=>a+o.getSize(),0),Ht(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...a}=n;return a})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=a=>{if(a.subHeaders.length)a.subHeaders.forEach(r);else{var o;n+=(o=a.column.getSize())!=null?o:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),a=r==null?void 0:r.getCanResize();return o=>{if(!r||!a||(o.persist==null||o.persist(),XS(o)&&o.touches&&o.touches.length>1))return;const i=e.getSize(),l=e?e.getLeafHeaders().map(M=>[M.column.id,M.column.getSize()]):[[r.id,r.getSize()]],c=XS(o)?Math.round(o.touches[0].clientX):o.clientX,f={},h=(M,N)=>{typeof N=="number"&&(t.setColumnSizingInfo(B=>{var k,R;const L=t.options.columnResizeDirection==="rtl"?-1:1,_=(N-((k=B==null?void 0:B.startOffset)!=null?k:0))*L,V=Math.max(_/((R=B==null?void 0:B.startSize)!=null?R:0),-.999999);return B.columnSizingStart.forEach(U=>{let[Z,Q]=U;f[Z]=Math.round(Math.max(Q+Q*V,0)*100)/100}),{...B,deltaOffset:_,deltaPercentage:V}}),(t.options.columnResizeMode==="onChange"||M==="end")&&t.setColumnSizing(B=>({...B,...f})))},g=M=>h("move",M),y=M=>{h("end",M),t.setColumnSizingInfo(N=>({...N,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},w=n||typeof document<"u"?document:null,S={moveHandler:M=>g(M.clientX),upHandler:M=>{w==null||w.removeEventListener("mousemove",S.moveHandler),w==null||w.removeEventListener("mouseup",S.upHandler),y(M.clientX)}},D={moveHandler:M=>(M.cancelable&&(M.preventDefault(),M.stopPropagation()),g(M.touches[0].clientX),!1),upHandler:M=>{var N;w==null||w.removeEventListener("touchmove",D.moveHandler),w==null||w.removeEventListener("touchend",D.upHandler),M.cancelable&&(M.preventDefault(),M.stopPropagation()),y((N=M.touches[0])==null?void 0:N.clientX)}},I=Jle()?{passive:!1}:!1;XS(o)?(w==null||w.addEventListener("touchmove",D.moveHandler,I),w==null||w.addEventListener("touchend",D.upHandler,I)):(w==null||w.addEventListener("mousemove",S.moveHandler,I),w==null||w.addEventListener("mouseup",S.upHandler,I)),t.setColumnSizingInfo(M=>({...M,startOffset:c,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?QS():(n=e.initialState.columnSizingInfo)!=null?n:QS())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0}}};let R0=null;function Jle(){if(typeof R0=="boolean")return R0;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return R0=e,R0}function XS(e){return e.type==="touchstart"}const Kle={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Ai("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,a;if(!t){e._queue(()=>{t=!0});return}if((r=(a=e.options.autoResetAll)!=null?a:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var a,o;e.setExpanded(r?{}:(a=(o=e.initialState)==null?void 0:o.expanded)!=null?a:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const i=o.split(".");r=Math.max(r,i.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var a;const o=r===!0?!0:!!(r!=null&&r[e.id]);let i={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(l=>{i[l]=!0}):i=r,n=(a=n)!=null?a:!o,!o&&n)return{...i,[e.id]:!0};if(o&&!n){const{[e.id]:l,...c}=i;return c}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,a;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((a=e.subRows)!=null&&a.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},zF=(e,t,n)=>{var r;const a=n.toLowerCase();return!!(!((r=e.getValue(t))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(a))};zF.autoRemove=e=>Us(e);const VF=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};VF.autoRemove=e=>Us(e);const WF=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};WF.autoRemove=e=>Us(e);const $F=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};$F.autoRemove=e=>Us(e)||!(e!=null&&e.length);const ZF=(e,t,n)=>!n.some(r=>{var a;return!((a=e.getValue(t))!=null&&a.includes(r))});ZF.autoRemove=e=>Us(e)||!(e!=null&&e.length);const qF=(e,t,n)=>n.some(r=>{var a;return(a=e.getValue(t))==null?void 0:a.includes(r)});qF.autoRemove=e=>Us(e)||!(e!=null&&e.length);const GF=(e,t,n)=>e.getValue(t)===n;GF.autoRemove=e=>Us(e);const JF=(e,t,n)=>e.getValue(t)==n;JF.autoRemove=e=>Us(e);const RI=(e,t,n)=>{let[r,a]=n;const o=e.getValue(t);return o>=r&&o<=a};RI.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,a=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(r)?-1/0:r,i=n===null||Number.isNaN(a)?1/0:a;if(o>i){const l=o;o=i,i=l}return[o,i]};RI.autoRemove=e=>Us(e)||Us(e[0])&&Us(e[1]);const ju={includesString:zF,includesStringSensitive:VF,equalsString:WF,arrIncludes:$F,arrIncludesAll:ZF,arrIncludesSome:qF,equals:GF,weakEquals:JF,inNumberRange:RI};function Us(e){return e==null||e===""}const Qle={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:Ai("columnFilters",e),onGlobalFilterChange:Ai("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?ju.includesString:typeof r=="number"?ju.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?ju.equals:Array.isArray(r)?ju.arrIncludes:ju.weakEquals},e.getFilterFn=()=>{var n,r;return Jw(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:ju[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,a;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&!!e.accessorFn},e.getCanGlobalFilter=()=>{var n,r,a,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(a=>a.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const a=e.getFilterFn(),o=r==null?void 0:r.find(h=>h.id===e.id),i=Kc(n,o?o.value:void 0);if(b3(a,i,e)){var l;return(l=r==null?void 0:r.filter(h=>h.id!==e.id))!=null?l:[]}const c={id:e.id,value:i};if(o){var f;return(f=r==null?void 0:r.map(h=>h.id===e.id?c:h))!=null?f:[]}return r!=null&&r.length?[...r,c]:[c]})},e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.getGlobalAutoFilterFn=()=>ju.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Jw(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:ju[r]},e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=a=>{var o;return(o=Kc(t,a))==null?void 0:o.filter(i=>{const l=n.find(c=>c.id===i.id);if(l){const c=l.getFilterFn();if(b3(c,i.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}};function b3(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Xle=(e,t,n)=>n.reduce((r,a)=>{const o=a.getValue(e);return r+(typeof o=="number"?o:0)},0),eue=(e,t,n)=>{let r;return n.forEach(a=>{const o=a.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},tue=(e,t,n)=>{let r;return n.forEach(a=>{const o=a.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},nue=(e,t,n)=>{let r,a;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r===void 0?i>=i&&(r=a=i):(r>i&&(r=i),a<i&&(a=i)))}),[r,a]},rue=(e,t)=>{let n=0,r=0;if(t.forEach(a=>{let o=a.getValue(e);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},aue=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!Wle(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),a=n.sort((o,i)=>o-i);return n.length%2!==0?a[r]:(a[r-1]+a[r])/2},oue=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),iue=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,sue=(e,t)=>t.length,eD={sum:Xle,min:eue,max:tue,extent:nue,mean:rue,median:aue,unique:oue,uniqueCount:iue,count:sue},lue={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Ai("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r,a,o;return(n=(r=(a=(o=e.columnDef.enableGrouping)!=null?o:!0)!=null?a:t.options.enableGrouping)!=null?r:!0)!=null?n:!!e.accessorFn},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return eD.sum;if(Object.prototype.toString.call(r)==="[object Date]")return eD.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Jw(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:eD[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var a;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((a=n.subRows)!=null&&a.length)}}};function uue(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(i=>i.id===o)).filter(Boolean),...r]}const cue={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Ai("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Bt(n=>[$g(t,n)],n=>n.findIndex(r=>r.id===e.id),Ht(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=$g(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const a=$g(t,n);return((r=a[a.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Bt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>a=>{let o=[];if(!(t!=null&&t.length))o=a;else{const i=[...t],l=[...a];for(;l.length&&i.length;){const c=i.shift(),f=l.findIndex(h=>h.id===c);f>-1&&o.push(l.splice(f,1)[0])}o=[...o,...l]}return uue(o,n,r)},Ht(e.options,"debugTable"))}},zT=0,VT=10,tD=()=>({pageIndex:zT,pageSize:VT}),due={getInitialState:e=>({...e,pagination:{...tD(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Ai("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,a;if(!t){e._queue(()=>{t=!0});return}if((r=(a=e.options.autoResetAll)!=null?a:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const a=o=>Kc(r,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(a)},e.resetPagination=r=>{var a;e.setPagination(r?tD():(a=e.initialState.pagination)!=null?a:tD())},e.setPageIndex=r=>{e.setPagination(a=>{let o=Kc(r,a.pageIndex);const i=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,i)),{...a,pageIndex:o}})},e.resetPageIndex=r=>{var a,o;e.setPageIndex(r?zT:(a=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?a:zT)},e.resetPageSize=r=>{var a,o;e.setPageSize(r?VT:(a=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?a:VT)},e.setPageSize=r=>{e.setPagination(a=>{const o=Math.max(1,Kc(r,a.pageSize)),i=a.pageSize*a.pageIndex,l=Math.floor(i/o);return{...a,pageIndex:l,pageSize:o}})},e.setPageCount=r=>e.setPagination(a=>{var o;let i=Kc(r,(o=e.options.pageCount)!=null?o:-1);return typeof i=="number"&&(i=Math.max(-1,i)),{...a,pageCount:i}}),e.getPageOptions=Bt(()=>[e.getPageCount()],r=>{let a=[];return r&&r>0&&(a=[...new Array(r)].fill(null).map((o,i)=>i)),a},Ht(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,a=e.getPageCount();return a===-1?!0:a===0?!1:r<a-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},nD=()=>({left:[],right:[]}),rD=()=>({top:[],bottom:[]}),fue={getInitialState:e=>({columnPinning:nD(),rowPinning:rD(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Ai("columnPinning",e),onRowPinningChange:Ai("rowPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(a=>a.id).filter(Boolean);t.setColumnPinning(a=>{var o,i;if(n==="right"){var l,c;return{left:((l=a==null?void 0:a.left)!=null?l:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((c=a==null?void 0:a.right)!=null?c:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(n==="left"){var f,h;return{left:[...((f=a==null?void 0:a.left)!=null?f:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((h=a==null?void 0:a.right)!=null?h:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((o=a==null?void 0:a.left)!=null?o:[]).filter(g=>!(r!=null&&r.includes(g))),right:((i=a==null?void 0:a.right)!=null?i:[]).filter(g=>!(r!=null&&r.includes(g)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var a,o,i;return((a=r.columnDef.enablePinning)!=null?a:!0)&&((o=(i=t.options.enableColumnPinning)!=null?i:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(l=>l.id),{left:r,right:a}=t.getState().columnPinning,o=n.some(l=>r==null?void 0:r.includes(l)),i=n.some(l=>a==null?void 0:a.includes(l));return o?"left":i?"right":!1},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();return a?(n=(r=t.getState().columnPinning)==null||(r=r[a])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.pin=(n,r,a)=>{const o=r?e.getLeafRows().map(c=>{let{id:f}=c;return f}):[],i=a?e.getParentRows().map(c=>{let{id:f}=c;return f}):[],l=new Set([...i,e.id,...o]);t.setRowPinning(c=>{var f,h;if(n==="bottom"){var g,y;return{top:((g=c==null?void 0:c.top)!=null?g:[]).filter(D=>!(l!=null&&l.has(D))),bottom:[...((y=c==null?void 0:c.bottom)!=null?y:[]).filter(D=>!(l!=null&&l.has(D))),...Array.from(l)]}}if(n==="top"){var w,S;return{top:[...((w=c==null?void 0:c.top)!=null?w:[]).filter(D=>!(l!=null&&l.has(D))),...Array.from(l)],bottom:((S=c==null?void 0:c.bottom)!=null?S:[]).filter(D=>!(l!=null&&l.has(D)))}}return{top:((f=c==null?void 0:c.top)!=null?f:[]).filter(D=>!(l!=null&&l.has(D))),bottom:((h=c==null?void 0:c.bottom)!=null?h:[]).filter(D=>!(l!=null&&l.has(D)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:a}=t.options;return typeof r=="function"?r(e):(n=r??a)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:a}=t.getState().rowPinning,o=n.some(l=>r==null?void 0:r.includes(l)),i=n.some(l=>a==null?void 0:a.includes(l));return o?"top":i?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();if(!a)return-1;const o=(n=t._getPinnedRows(a))==null?void 0:n.map(i=>{let{id:l}=i;return l});return(r=o==null?void 0:o.indexOf(e.id))!=null?r:-1},e.getCenterVisibleCells=Bt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,a)=>{const o=[...r??[],...a??[]];return n.filter(i=>!o.includes(i.column.id))},Ht(t.options,"debugRows")),e.getLeftVisibleCells=Bt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(o=>n.find(i=>i.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),Ht(t.options,"debugRows")),e.getRightVisibleCells=Bt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(i=>i.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),Ht(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?nD():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:nD())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var a,o;return!!((a=r.left)!=null&&a.length||(o=r.right)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Bt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(a=>a.id===r)).filter(Boolean),Ht(e.options,"debugColumns")),e.getRightLeafColumns=Bt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(a=>a.id===r)).filter(Boolean),Ht(e.options,"debugColumns")),e.getCenterLeafColumns=Bt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const a=[...n??[],...r??[]];return t.filter(o=>!a.includes(o.id))},Ht(e.options,"debugColumns")),e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?rD():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:rD())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var a,o;return!!((a=r.top)!=null&&a.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=Bt(t=>[e.getRowModel().rows,e.getState().rowPinning[t],t],(t,n,r)=>{var a;return((a=e.options.keepPinnedRows)==null||a?(n??[]).map(i=>{const l=e.getRow(i,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(i=>t.find(l=>l.id===i))).filter(Boolean).map(i=>({...i,position:r}))},Ht(e.options,"debugRows")),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=Bt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const a=new Set([...n??[],...r??[]]);return t.filter(o=>!a.has(o.id))},Ht(e.options,"debugRows"))}},hue={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Ai("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},a=e.getPreGroupedRowModel().flatRows;return t?a.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):a.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),a={...n};return e.getRowModel().rows.forEach(o=>{WT(a,o.id,r,!0,e)}),a}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Bt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?aD(e,n):{rows:[],flatRows:[],rowsById:{}},Ht(e.options,"debugTable")),e.getFilteredSelectedRowModel=Bt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?aD(e,n):{rows:[],flatRows:[],rowsById:{}},Ht(e.options,"debugTable")),e.getGroupedSelectedRowModel=Bt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?aD(e,n):{rows:[],flatRows:[],rowsById:{}},Ht(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(a=>a.getCanSelect()&&!n[a.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(a=>!n[a.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const a=e.getIsSelected();t.setRowSelection(o=>{var i;if(n=typeof n<"u"?n:!a,e.getCanSelect()&&a===n)return o;const l={...o};return WT(l,e.id,n,(i=r==null?void 0:r.selectChildren)!=null?i:!0,t),l})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return _I(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return $T(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return $T(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var a;n&&e.toggleSelected((a=r.target)==null?void 0:a.checked)}}}},WT=(e,t,n,r,a)=>{var o;const i=a.getRow(t,!0);n?(i.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),i.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(o=i.subRows)!=null&&o.length&&i.getCanSelectSubRows()&&i.subRows.forEach(l=>WT(e,l.id,n,r,a))};function aD(e,t){const n=e.getState().rowSelection,r=[],a={},o=function(i,l){return i.map(c=>{var f;const h=_I(c,n);if(h&&(r.push(c),a[c.id]=c),(f=c.subRows)!=null&&f.length&&(c={...c,subRows:o(c.subRows)}),h)return c}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:a}}function _I(e,t){var n;return(n=t[e.id])!=null?n:!1}function $T(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let a=!0,o=!1;return e.subRows.forEach(i=>{if(!(o&&!a)&&(i.getCanSelect()&&(_I(i,t)?o=!0:a=!1),i.subRows&&i.subRows.length)){const l=$T(i,t);l==="all"?o=!0:(l==="some"&&(o=!0),a=!1)}}),a?"all":o?"some":!1}const ZT=/([0-9]+)/gm,pue=(e,t,n)=>KF(nd(e.getValue(n)).toLowerCase(),nd(t.getValue(n)).toLowerCase()),mue=(e,t,n)=>KF(nd(e.getValue(n)),nd(t.getValue(n))),gue=(e,t,n)=>BI(nd(e.getValue(n)).toLowerCase(),nd(t.getValue(n)).toLowerCase()),vue=(e,t,n)=>BI(nd(e.getValue(n)),nd(t.getValue(n))),yue=(e,t,n)=>{const r=e.getValue(n),a=t.getValue(n);return r>a?1:r<a?-1:0},wue=(e,t,n)=>BI(e.getValue(n),t.getValue(n));function BI(e,t){return e===t?0:e>t?1:-1}function nd(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function KF(e,t){const n=e.split(ZT).filter(Boolean),r=t.split(ZT).filter(Boolean);for(;n.length&&r.length;){const a=n.shift(),o=r.shift(),i=parseInt(a,10),l=parseInt(o,10),c=[i,l].sort();if(isNaN(c[0])){if(a>o)return 1;if(o>a)return-1;continue}if(isNaN(c[1]))return isNaN(i)?-1:1;if(i>l)return 1;if(l>i)return-1}return n.length-r.length}const fp={alphanumeric:pue,alphanumericCaseSensitive:mue,text:gue,textCaseSensitive:vue,datetime:yue,basic:wue},bue={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Ai("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const a of n){const o=a==null?void 0:a.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return fp.datetime;if(typeof o=="string"&&(r=!0,o.split(ZT).length>1))return fp.alphanumeric}return r?fp.text:fp.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Jw(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:fp[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const a=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(i=>{const l=i==null?void 0:i.find(w=>w.id===e.id),c=i==null?void 0:i.findIndex(w=>w.id===e.id);let f=[],h,g=o?n:a==="desc";if(i!=null&&i.length&&e.getCanMultiSort()&&r?l?h="toggle":h="add":i!=null&&i.length&&c!==i.length-1?h="replace":l?h="toggle":h="replace",h==="toggle"&&(o||a||(h="remove")),h==="add"){var y;f=[...i,{id:e.id,desc:g}],f.splice(0,f.length-((y=t.options.maxMultiSortColCount)!=null?y:Number.MAX_SAFE_INTEGER))}else h==="toggle"?f=i.map(w=>w.id===e.id?{...w,desc:g}:w):h==="remove"?f=i.filter(w=>w.id!==e.id):f=[{id:e.id,desc:g}];return f})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,a;const o=e.getFirstSortDir(),i=e.getIsSorted();return i?i!==o&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(a=t.options.enableMultiRemove)!=null)||a)?!1:i==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(a=>a.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(a=>a.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Sue={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Ai("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const a=e.columns;return(n=a.length?a.some(o=>o.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Bt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Ht(t.options,"debugRows")),e.getVisibleCells=Bt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,a)=>[...n,...r,...a],Ht(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Bt(()=>[r(),r().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),Ht(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((a,o)=>({...a,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function $g(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const S3=[qle,Sue,cue,fue,Qle,bue,lue,Kle,due,hue,Gle];function Due(e){var t;e.debugAll||e.debugTable;let n={_features:S3};const r=n._features.reduce((h,g)=>Object.assign(h,g.getDefaultOptions==null?void 0:g.getDefaultOptions(n)),{}),a=h=>n.options.mergeOptions?n.options.mergeOptions(r,h):{...r,...h};let i={...{},...(t=e.initialState)!=null?t:{}};n._features.forEach(h=>{var g;i=(g=h.getInitialState==null?void 0:h.getInitialState(i))!=null?g:i});const l=[];let c=!1;const f={_features:S3,options:{...r,...e},initialState:i,_queue:h=>{l.push(h),c||(c=!0,Promise.resolve().then(()=>{for(;l.length;)l.shift()();c=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{n.setState(n.initialState)},setOptions:h=>{const g=Kc(h,n.options);n.options=a(g)},getState:()=>n.options.state,setState:h=>{n.options.onStateChange==null||n.options.onStateChange(h)},_getRowId:(h,g,y)=>{var w;return(w=n.options.getRowId==null?void 0:n.options.getRowId(h,g,y))!=null?w:`${y?[y.id,g].join("."):g}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(h,g)=>{let y=(g?n.getPrePaginationRowModel():n.getRowModel()).rowsById[h];if(!y&&(y=n.getCoreRowModel().rowsById[h],!y))throw new Error;return y},_getDefaultColumnDef:Bt(()=>[n.options.defaultColumn],h=>{var g;return h=(g=h)!=null?g:{},{header:y=>{const w=y.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:y=>{var w,S;return(w=(S=y.renderValue())==null||S.toString==null?void 0:S.toString())!=null?w:null},...n._features.reduce((y,w)=>Object.assign(y,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...h}},Ht(e,"debugColumns")),_getColumnDefs:()=>n.options.columns,getAllColumns:Bt(()=>[n._getColumnDefs()],h=>{const g=function(y,w,S){return S===void 0&&(S=0),y.map(D=>{const I=Zle(n,D,S,w),M=D;return I.columns=M.columns?g(M.columns,I,S+1):[],I})};return g(h)},Ht(e,"debugColumns")),getAllFlatColumns:Bt(()=>[n.getAllColumns()],h=>h.flatMap(g=>g.getFlatColumns()),Ht(e,"debugColumns")),_getAllFlatColumnsById:Bt(()=>[n.getAllFlatColumns()],h=>h.reduce((g,y)=>(g[y.id]=y,g),{}),Ht(e,"debugColumns")),getAllLeafColumns:Bt(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(h,g)=>{let y=h.flatMap(w=>w.getLeafColumns());return g(y)},Ht(e,"debugColumns")),getColumn:h=>n._getAllFlatColumnsById()[h]};Object.assign(n,f);for(let h=0;h<n._features.length;h++){const g=n._features[h];g==null||g.createTable==null||g.createTable(n)}return n}function Tue(e,t,n,r){const a=()=>{var i;return(i=o.getValue())!=null?i:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:a,getContext:Bt(()=>[e,n,t,o],(i,l,c,f)=>({table:i,column:l,row:c,cell:f,getValue:f.getValue,renderValue:f.renderValue}),Ht(e.options,"debugCells"))};return e._features.forEach(i=>{i.createCell==null||i.createCell(o,n,t,e)},{}),o}const HI=(e,t,n,r,a,o,i)=>{let l={id:t,index:r,original:n,depth:a,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(l._valuesCache.hasOwnProperty(c))return l._valuesCache[c];const f=e.getColumn(c);if(f!=null&&f.accessorFn)return l._valuesCache[c]=f.accessorFn(l.original,r),l._valuesCache[c]},getUniqueValues:c=>{if(l._uniqueValuesCache.hasOwnProperty(c))return l._uniqueValuesCache[c];const f=e.getColumn(c);if(f!=null&&f.accessorFn)return f.columnDef.getUniqueValues?(l._uniqueValuesCache[c]=f.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[c]):(l._uniqueValuesCache[c]=[l.getValue(c)],l._uniqueValuesCache[c])},renderValue:c=>{var f;return(f=l.getValue(c))!=null?f:e.options.renderFallbackValue},subRows:o??[],getLeafRows:()=>$le(l.subRows,c=>c.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let c=[],f=l;for(;;){const h=f.getParentRow();if(!h)break;c.push(h),f=h}return c.reverse()},getAllCells:Bt(()=>[e.getAllLeafColumns()],c=>c.map(f=>Tue(e,l,f,f.id)),Ht(e.options,"debugRows")),_getAllCellsByColumnId:Bt(()=>[l.getAllCells()],c=>c.reduce((f,h)=>(f[h.column.id]=h,f),{}),Ht(e.options,"debugRows"))};for(let c=0;c<e._features.length;c++){const f=e._features[c];f==null||f.createRow==null||f.createRow(l,e)}return l};function Iue(){return e=>Bt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(a,o,i){o===void 0&&(o=0);const l=[];for(let f=0;f<a.length;f++){const h=HI(e,e._getRowId(a[f],f,i),a[f],f,o,void 0,i==null?void 0:i.id);if(n.flatRows.push(h),n.rowsById[h.id]=h,l.push(h),e.options.getSubRows){var c;h.originalSubRows=e.options.getSubRows(a[f],f),(c=h.originalSubRows)!=null&&c.length&&(h.subRows=r(h.originalSubRows,o+1,h))}}return l};return n.rows=r(t),n},Ht(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function QF(e,t,n){return n.options.filterFromLeafRows?Eue(e,t,n):Cue(e,t,n)}function Eue(e,t,n){var r;const a=[],o={},i=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,f){f===void 0&&(f=0);const h=[];for(let y=0;y<c.length;y++){var g;let w=c[y];const S=HI(n,w.id,w.original,w.index,w.depth,void 0,w.parentId);if(S.columnFilters=w.columnFilters,(g=w.subRows)!=null&&g.length&&f<i){if(S.subRows=l(w.subRows,f+1),w=S,t(w)&&!S.subRows.length){h.push(w),o[w.id]=w,a.push(w);continue}if(t(w)||S.subRows.length){h.push(w),o[w.id]=w,a.push(w);continue}}else w=S,t(w)&&(h.push(w),o[w.id]=w,a.push(w))}return h};return{rows:l(e),flatRows:a,rowsById:o}}function Cue(e,t,n){var r;const a=[],o={},i=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,f){f===void 0&&(f=0);const h=[];for(let y=0;y<c.length;y++){let w=c[y];if(t(w)){var g;if((g=w.subRows)!=null&&g.length&&f<i){const D=HI(n,w.id,w.original,w.index,w.depth,void 0,w.parentId);D.subRows=l(w.subRows,f+1),w=D}h.push(w),a.push(w),o[w.id]=w}}return h};return{rows:l(e),flatRows:a,rowsById:o}}function xue(){return e=>Bt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let y=0;y<t.flatRows.length;y++)t.flatRows[y].columnFilters={},t.flatRows[y].columnFiltersMeta={};return t}const a=[],o=[];(n??[]).forEach(y=>{var w;const S=e.getColumn(y.id);if(!S)return;const D=S.getFilterFn();D&&a.push({id:y.id,filterFn:D,resolvedValue:(w=D.resolveFilterValue==null?void 0:D.resolveFilterValue(y.value))!=null?w:y.value})});const i=n.map(y=>y.id),l=e.getGlobalFilterFn(),c=e.getAllLeafColumns().filter(y=>y.getCanGlobalFilter());r&&l&&c.length&&(i.push("__global__"),c.forEach(y=>{var w;o.push({id:y.id,filterFn:l,resolvedValue:(w=l.resolveFilterValue==null?void 0:l.resolveFilterValue(r))!=null?w:r})}));let f,h;for(let y=0;y<t.flatRows.length;y++){const w=t.flatRows[y];if(w.columnFilters={},a.length)for(let S=0;S<a.length;S++){f=a[S];const D=f.id;w.columnFilters[D]=f.filterFn(w,D,f.resolvedValue,I=>{w.columnFiltersMeta[D]=I})}if(o.length){for(let S=0;S<o.length;S++){h=o[S];const D=h.id;if(h.filterFn(w,D,h.resolvedValue,I=>{w.columnFiltersMeta[D]=I})){w.columnFilters.__global__=!0;break}}w.columnFilters.__global__!==!0&&(w.columnFilters.__global__=!1)}}const g=y=>{for(let w=0;w<i.length;w++)if(y.columnFilters[i[w]]===!1)return!1;return!0};return QF(t.rows,g,e)},Ht(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Mue(){return(e,t)=>Bt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,a)=>{if(!n.rows.length||!(r!=null&&r.length)&&!a)return n;const o=[...r.map(l=>l.id).filter(l=>l!==t),a?"__global__":void 0].filter(Boolean),i=l=>{for(let c=0;c<o.length;c++)if(l.columnFilters[o[c]]===!1)return!1;return!0};return QF(n.rows,i,e)},Ht(e.options,"debugTable"))}function kue(){return(e,t)=>Bt(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let o=0;o<n.flatRows.length;o++){const i=n.flatRows[o].getUniqueValues(t);for(let l=0;l<i.length;l++){const c=i[l];if(r.has(c)){var a;r.set(c,((a=r.get(c))!=null?a:0)+1)}else r.set(c,1)}}return r},Ht(e.options,"debugTable"))}function Nue(){return(e,t)=>Bt(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{var r;if(!n)return;const a=(r=n.flatRows[0])==null?void 0:r.getUniqueValues(t);if(typeof a>"u")return;let o=[a,a];for(let i=0;i<n.flatRows.length;i++){const l=n.flatRows[i].getUniqueValues(t);for(let c=0;c<l.length;c++){const f=l[c];f<o[0]?o[0]=f:f>o[1]&&(o[1]=f)}}return o},Ht(e.options,"debugTable"))}function Aue(){return e=>Bt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,a=[],o=r.filter(c=>{var f;return(f=e.getColumn(c.id))==null?void 0:f.getCanSort()}),i={};o.forEach(c=>{const f=e.getColumn(c.id);f&&(i[c.id]={sortUndefined:f.columnDef.sortUndefined,invertSorting:f.columnDef.invertSorting,sortingFn:f.getSortingFn()})});const l=c=>{const f=c.map(h=>({...h}));return f.sort((h,g)=>{for(let w=0;w<o.length;w+=1){var y;const S=o[w],D=i[S.id],I=(y=S==null?void 0:S.desc)!=null?y:!1;let M=0;if(D.sortUndefined){const N=h.getValue(S.id),B=g.getValue(S.id),k=N===void 0,R=B===void 0;(k||R)&&(M=k&&R?0:k?D.sortUndefined:-D.sortUndefined)}if(M===0&&(M=D.sortingFn(h,g,S.id)),M!==0)return I&&(M*=-1),D.invertSorting&&(M*=-1),M}return h.index-g.index}),f.forEach(h=>{var g;a.push(h),(g=h.subRows)!=null&&g.length&&(h.subRows=l(h.subRows))}),f};return{rows:l(n.rows),flatRows:a,rowsById:n.rowsById}},Ht(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function Fue(e){const t=[],n=r=>{var a;t.push(r),(a=r.subRows)!=null&&a.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function Oue(e){return t=>Bt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:a,pageIndex:o}=n;let{rows:i,flatRows:l,rowsById:c}=r;const f=a*o,h=f+a;i=i.slice(f,h);let g;t.options.paginateExpandedRows?g={rows:i,flatRows:l,rowsById:c}:g=Fue({rows:i,flatRows:l,rowsById:c}),g.flatRows=[];const y=w=>{g.flatRows.push(w),w.subRows.length&&w.subRows.forEach(y)};return g.rows.forEach(y),g},Ht(t.options,"debugTable"))}function D3(e,t){return e?Pue(e)?P.createElement(e,t):e:null}function Pue(e){return jue(e)||typeof e=="function"||Lue(e)}function jue(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function Lue(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function Rue(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=P.useState(()=>({current:Due(t)})),[r,a]=P.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...r,...e.state},onStateChange:i=>{a(i),e.onStateChange==null||e.onStateChange(i)}})),n.current}const XF={√Ä:"A",√Å:"A",√Ç:"A",√É:"A",√Ñ:"A",√Ö:"A",·∫§:"A",·∫Æ:"A",·∫≤:"A",·∫¥:"A",·∫∂:"A",√Ü:"AE",·∫¶:"A",·∫∞:"A",»Ç:"A",√á:"C",·∏à:"C",√à:"E",√â:"E",√ä:"E",√ã:"E",·∫æ:"E",·∏ñ:"E",·ªÄ:"E",·∏î:"E",·∏ú:"E",»Ü:"E",√å:"I",√ç:"I",√é:"I",√è:"I",·∏Æ:"I",»ä:"I",√ê:"D",√ë:"N",√í:"O",√ì:"O",√î:"O",√ï:"O",√ñ:"O",√ò:"O",·ªê:"O",·πå:"O",·πí:"O",»é:"O",√ô:"U",√ö:"U",√õ:"U",√ú:"U",√ù:"Y",√†:"a",√°:"a",√¢:"a",√£:"a",√§:"a",√•:"a",·∫•:"a",·∫Ø:"a",·∫≥:"a",·∫µ:"a",·∫∑:"a",√¶:"ae",·∫ß:"a",·∫±:"a",»É:"a",√ß:"c",·∏â:"c",√®:"e",√©:"e",√™:"e",√´:"e",·∫ø:"e",·∏ó:"e",·ªÅ:"e",·∏ï:"e",·∏ù:"e",»á:"e",√¨:"i",√≠:"i",√Æ:"i",√Ø:"i",·∏Ø:"i",»ã:"i",√∞:"d",√±:"n",√≤:"o",√≥:"o",√¥:"o",√µ:"o",√∂:"o",√∏:"o",·ªë:"o",·πç:"o",·πì:"o",»è:"o",√π:"u",√∫:"u",√ª:"u",√º:"u",√Ω:"y",√ø:"y",ƒÄ:"A",ƒÅ:"a",ƒÇ:"A",ƒÉ:"a",ƒÑ:"A",ƒÖ:"a",ƒÜ:"C",ƒá:"c",ƒà:"C",ƒâ:"c",ƒä:"C",ƒã:"c",ƒå:"C",ƒç:"c",CÃÜ:"C",cÃÜ:"c",ƒé:"D",ƒè:"d",ƒê:"D",ƒë:"d",ƒí:"E",ƒì:"e",ƒî:"E",ƒï:"e",ƒñ:"E",ƒó:"e",ƒò:"E",ƒô:"e",ƒö:"E",ƒõ:"e",ƒú:"G",«¥:"G",ƒù:"g",«µ:"g",ƒû:"G",ƒü:"g",ƒ†:"G",ƒ°:"g",ƒ¢:"G",ƒ£:"g",ƒ§:"H",ƒ•:"h",ƒ¶:"H",ƒß:"h",·∏™:"H",·∏´:"h",ƒ®:"I",ƒ©:"i",ƒ™:"I",ƒ´:"i",ƒ¨:"I",ƒ≠:"i",ƒÆ:"I",ƒØ:"i",ƒ∞:"I",ƒ±:"i",ƒ≤:"IJ",ƒ≥:"ij",ƒ¥:"J",ƒµ:"j",ƒ∂:"K",ƒ∑:"k",·∏∞:"K",·∏±:"k",KÃÜ:"K",kÃÜ:"k",ƒπ:"L",ƒ∫:"l",ƒª:"L",ƒº:"l",ƒΩ:"L",ƒæ:"l",ƒø:"L",≈Ä:"l",≈Å:"l",≈Ç:"l",·∏æ:"M",·∏ø:"m",MÃÜ:"M",mÃÜ:"m",≈É:"N",≈Ñ:"n",≈Ö:"N",≈Ü:"n",≈á:"N",≈à:"n",≈â:"n",NÃÜ:"N",nÃÜ:"n",≈å:"O",≈ç:"o",≈é:"O",≈è:"o",≈ê:"O",≈ë:"o",≈í:"OE",≈ì:"oe",PÃÜ:"P",pÃÜ:"p",≈î:"R",≈ï:"r",≈ñ:"R",≈ó:"r",≈ò:"R",≈ô:"r",RÃÜ:"R",rÃÜ:"r",»í:"R",»ì:"r",≈ö:"S",≈õ:"s",≈ú:"S",≈ù:"s",≈û:"S",»ò:"S",»ô:"s",≈ü:"s",≈†:"S",≈°:"s",≈¢:"T",≈£:"t",»õ:"t",»ö:"T",≈§:"T",≈•:"t",≈¶:"T",≈ß:"t",TÃÜ:"T",tÃÜ:"t",≈®:"U",≈©:"u",≈™:"U",≈´:"u",≈¨:"U",≈≠:"u",≈Æ:"U",≈Ø:"u",≈∞:"U",≈±:"u",≈≤:"U",≈≥:"u",»ñ:"U",»ó:"u",VÃÜ:"V",vÃÜ:"v",≈¥:"W",≈µ:"w",·∫Ç:"W",·∫É:"w",XÃÜ:"X",xÃÜ:"x",≈∂:"Y",≈∑:"y",≈∏:"Y",YÃÜ:"Y",yÃÜ:"y",≈π:"Z",≈∫:"z",≈ª:"Z",≈º:"z",≈Ω:"Z",≈æ:"z",≈ø:"s",∆í:"f",∆†:"O",∆°:"o",∆Ø:"U",∆∞:"u",«ç:"A",«é:"a",«è:"I",«ê:"i",«ë:"O",«í:"o",«ì:"U",«î:"u",«ï:"U",«ñ:"u",«ó:"U",«ò:"u",«ô:"U",«ö:"u",«õ:"U",«ú:"u",·ª®:"U",·ª©:"u",·π∏:"U",·ππ:"u",«∫:"A",«ª:"a",«º:"AE",«Ω:"ae",«æ:"O",«ø:"o",√û:"TH",√æ:"th",·πî:"P",·πï:"p",·π§:"S",·π•:"s",XÃÅ:"X",xÃÅ:"x",–É:"–ì",—ì:"–≥",–å:"–ö",—ú:"–∫",AÃã:"A",aÃã:"a",EÃã:"E",eÃã:"e",IÃã:"I",iÃã:"i",«∏:"N",«π:"n",·ªí:"O",·ªì:"o",·πê:"O",·πë:"o",·ª™:"U",·ª´:"u",·∫Ä:"W",·∫Å:"w",·ª≤:"Y",·ª≥:"y",»Ä:"A",»Å:"a",»Ñ:"E",»Ö:"e",»à:"I",»â:"i",»å:"O",»ç:"o",»ê:"R",»ë:"r",»î:"U",»ï:"u",BÃå:"B",bÃå:"b",ƒåÃ£:"C",ƒçÃ£:"c",√äÃå:"E",√™Ãå:"e",FÃå:"F",fÃå:"f",«¶:"G",«ß:"g",»û:"H",»ü:"h",JÃå:"J",«∞:"j",«®:"K",«©:"k",MÃå:"M",mÃå:"m",PÃå:"P",pÃå:"p",QÃå:"Q",qÃå:"q",≈òÃ©:"R",≈ôÃ©:"r",·π¶:"S",·πß:"s",VÃå:"V",vÃå:"v",WÃå:"W",wÃå:"w",XÃå:"X",xÃå:"x",YÃå:"Y",yÃå:"y",AÃß:"A",aÃß:"a",BÃß:"B",bÃß:"b",·∏ê:"D",·∏ë:"d",»®:"E",»©:"e",∆êÃß:"E",…õÃß:"e",·∏®:"H",·∏©:"h",IÃß:"I",iÃß:"i",∆óÃß:"I",…®Ãß:"i",MÃß:"M",mÃß:"m",OÃß:"O",oÃß:"o",QÃß:"Q",qÃß:"q",UÃß:"U",uÃß:"u",XÃß:"X",xÃß:"x",ZÃß:"Z",zÃß:"z"},_ue=Object.keys(XF).join("|"),Bue=new RegExp(_ue,"g");function Hue(e){return e.replace(Bue,t=>XF[t])}const Qo={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function Uue(e,t,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:Qo.MATCHES,!n.accessors){const i=T3(e,t,n);return{rankedValue:e,rank:i,accessorIndex:-1,accessorThreshold:n.threshold,passed:i>=n.threshold}}const a=$ue(e,n.accessors),o={rankedValue:e,rank:Qo.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let i=0;i<a.length;i++){const l=a[i];let c=T3(l.itemValue,t,n);const{minRanking:f,maxRanking:h,threshold:g=n.threshold}=l.attributes;c<f&&c>=Qo.MATCHES?c=f:c>h&&(c=h),c=Math.min(c,h),c>=g&&c>o.rank&&(o.rank=c,o.passed=!0,o.accessorIndex=i,o.accessorThreshold=g,o.rankedValue=l.itemValue)}return o}function T3(e,t,n){return e=I3(e,n),t=I3(t,n),t.length>e.length?Qo.NO_MATCH:e===t?Qo.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?Qo.EQUAL:e.startsWith(t)?Qo.STARTS_WITH:e.includes(` ${t}`)?Qo.WORD_STARTS_WITH:e.includes(t)?Qo.CONTAINS:t.length===1?Qo.NO_MATCH:Yue(e).includes(t)?Qo.ACRONYM:zue(e,t))}function Yue(e){let t="";return e.split(" ").forEach(r=>{r.split("-").forEach(o=>{t+=o.substr(0,1)})}),t}function zue(e,t){let n=0,r=0;function a(c,f,h){for(let g=h,y=f.length;g<y;g++)if(f[g]===c)return n+=1,g+1;return-1}function o(c){const f=1/c,h=n/t.length;return Qo.MATCHES+h*f}const i=a(t[0],e,0);if(i<0)return Qo.NO_MATCH;r=i;for(let c=1,f=t.length;c<f;c++){const h=t[c];if(r=a(h,e,r),!(r>-1))return Qo.NO_MATCH}const l=r-i;return o(l)}function Vue(e,t){return e.rank===t.rank?0:e.rank>t.rank?-1:1}function I3(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=Hue(e)),e}function Wue(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const r=n(e);return r==null?[]:Array.isArray(r)?r:[String(r)]}function $ue(e,t){const n=[];for(let r=0,a=t.length;r<a;r++){const o=t[r],i=Zue(o),l=Wue(e,o);for(let c=0,f=l.length;c<f;c++)n.push({itemValue:l[c],attributes:i})}return n}const E3={maxRanking:1/0,minRanking:-1/0};function Zue(e){return typeof e=="function"?E3:{...E3,...e}}var que={fieldSeparator:",",decimalSeparator:".",quoteStrings:!0,quoteCharacter:'"',showTitle:!1,title:"My Generated Report",filename:"generated",showColumnHeaders:!0,useTextFile:!1,useBom:!0,columnHeaders:[],useKeysAsHeaders:!1,boolDisplay:{true:"TRUE",false:"FALSE"},replaceUndefinedWith:""},Gue=`\r
`,Jue="\uFEFF",e8=e=>Object.assign({},que,e);let Kue=class extends Error{constructor(t){super(t),this.name="CsvGenerationError"}},Que=class extends Error{constructor(t){super(t),this.name="EmptyHeadersError"}};var ey=e=>e,Ys=e=>e,Jb=ey,Mp=ey,C3=ey,x3=ey,Xue=function(e,t){return t=='"'&&e.indexOf('"')>-1?e.replace(/"/g,'""'):e},ece=e=>C3(typeof e=="object"?e.key:e),tce=e=>x3(typeof e=="object"?e.displayLabel:e),nce=(e,...t)=>t.reduce((n,r)=>r(n),e),rce=e=>t=>e.useBom?Jb(Ys(t)+Jue):t,ace=e=>t=>e.showTitle?UI(Jb(Ys(t)+e.title))(Mp("")):t,UI=e=>t=>Jb(Ys(e)+Ys(t)+Gue),t8=e=>(t,n)=>oce(e)(Mp(t+n)),oce=e=>t=>ey(Ys(t)+e.fieldSeparator),ice=(e,t)=>n=>{if(!e.showColumnHeaders)return n;if(t.length<1)throw new Que("Option to show headers but none supplied. Make sure there are keys in your collection or that you've supplied headers through the config options.");let r=Mp("");for(let a=0;a<t.length;a++){const o=tce(t[a]);r=t8(e)(r,n8(e,o))}return r=Mp(Ys(r).slice(0,-1)),UI(n)(r)},sce=(e,t,n)=>r=>{let a=r;for(var o=0;o<n.length;o++){let i=Mp("");for(let l=0;l<t.length;l++){const c=ece(t[l]),f=typeof n[o][Ys(c)]>"u"?e.replaceUndefinedWith:n[o][Ys(c)];i=t8(e)(i,n8(e,f))}i=Mp(Ys(i).slice(0,-1)),a=UI(a)(i)}return a},lce=Ys,M3=e=>+e===e&&(!isFinite(e)||!!(e%1)),n8=(e,t)=>{if(e.decimalSeparator==="locale"&&M3(t))return t.toLocaleString();if(e.decimalSeparator!=="."&&M3(t))return t.toString().replace(".",e.decimalSeparator);if(typeof t=="string"){let n=t;return(e.quoteStrings||e.fieldSeparator&&t.indexOf(e.fieldSeparator)>-1||e.quoteCharacter&&t.indexOf(e.quoteCharacter)>-1||t.indexOf(`
`)>-1||t.indexOf("\r")>-1)&&(n=e.quoteCharacter+Xue(t,e.quoteCharacter)+e.quoteCharacter),n}if(typeof t=="boolean"&&e.boolDisplay){const n=t?"true":"false";return e.boolDisplay[n]}return t},uce=e=>t=>{const n=e8(e),r=n.useKeysAsHeaders?Object.keys(t[0]):n.columnHeaders;let a=nce(Jb(""),rce(n),ace(n),ice(n,r),sce(n,r,t));if(Ys(a).length<1)throw new Kue("Output is empty. Is your data formatted correctly?");return a};const cce=({thino:e})=>{const t=P.useRef(null);P.useEffect(()=>(t.current&&x.setIcon(t.current,"pin"),()=>{t.current&&(t.current=null)}),[t]);const n=P.useCallback(async()=>{e.pinned?await we.unpinMemoById(e.id):await we.pinMemoById(e.id)},[e]);return v.jsx("span",{ref:t,className:ar("pinned-status",e.pinned?"pinned":"not-pinned"),onClick:n})},dce=({thino:e})=>{var r;const t=P.useRef(null);P.useEffect(()=>(t.current&&x.setIcon(t.current,e.thinoType==="JOURNAL"?"calendar":"check-square"),()=>{t.current&&(t.current=null)}),[t,e==null?void 0:e.thinoType]);const n=P.useCallback(async()=>{if(e.thinoType==="JOURNAL")return;const a=await we.updateMemo(e.id,e.content,e.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");a&&we.editMemo(a)},[e]);return v.jsx(v.Fragment,{children:e.thinoType!=="JOURNAL"?v.jsx("input",{className:ar("thino-type-status","task-list-item-checkbox"),type:"checkbox",checked:e.thinoType!=="TASK-TODO","data-task":e.thinoType==="TASK-TODO"?"":e.thinoType==="TASK-DONE"?"x":(r=e.thinoType)==null?void 0:r.slice(5),onClick:n}):v.jsx("span",{ref:t,className:"thino-type-status"})})},fce=({id:e,path:t})=>{const n=P.useRef(null);P.useEffect(()=>(n.current&&x.setIcon(n.current,"link"),()=>{n.current&&(n.current=null)}),[]);const r=P.useCallback(()=>{!e||!t||we.openThinoByID(e)},[e,t]);return v.jsxs("span",{className:"source-thino",onClick:r,children:[v.jsx("span",{children:t}),v.jsx("span",{ref:n,className:"source-thino-icon"})]})},hce=({id:e,sourceType:t})=>{const n=P.useRef(null);P.useEffect(()=>{var a;return n.current&&x.setIcon(n.current,((a=Qg.find(o=>o.title===t))==null?void 0:a.icon)||"list"),()=>{n.current&&(n.current=null)}},[]);const r=P.useCallback(async()=>{e&&await we.openThinoByID(e)},[e]);return v.jsx("span",{ref:n,className:"source-type-icon",onClick:r})},k3=(e,t,n,r)=>{const a=Uue(e.getValue(t),n);return r({itemRank:a}),a.passed},N3=(e,t,n)=>{var a,o;let r=0;return e.columnFiltersMeta[n]&&(r=Vue((a=e.columnFiltersMeta[n])==null?void 0:a.itemRank,(o=t.columnFiltersMeta[n])==null?void 0:o.itemRank)),r===0?fp.alphanumeric(e,t,n):r},pce=e8({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),mce=e=>e+`
`;function gce({thinos:e,isFiltering:t}){var w;ne.useReducer(()=>({}),{})[1];const[n,r]=ne.useState([]),[a,o]=ne.useState(""),i=ne.useMemo(()=>[{header:E("Basic Info"),footer:S=>S.column.id,columns:[{accessorKey:"createdAt",header:()=>v.jsx("span",{className:"create-at-header-cell",children:E("Created At")}),cell:S=>S.getValue(),footer:S=>S.column.id,enableColumnFilter:!1},{accessorFn:S=>S.content,id:"content",header:()=>v.jsx("span",{className:"thino-header-cell",children:E("Thino")}),cell:S=>v.jsx(ai,{memo:S.row.original,type:"table"}),footer:S=>S.column.id,filterFn:"fuzzy",sortingFn:N3},{accessorFn:S=>S.thinoType,id:"thinoType",cell:S=>v.jsx(dce,{thino:S.row.original}),header:()=>v.jsx("span",{children:E("Thino Type")}),footer:S=>S.column.id},{accessorFn:S=>S.sourceType,id:"sourceType",cell:S=>v.jsx(hce,{id:S.row.original.id,sourceType:S.getValue()}),header:()=>v.jsx("span",{children:E("Source Type")}),footer:S=>S.column.id}]},{header:E("Additional Info"),footer:S=>S.column.id,columns:[{accessorKey:"pinned",header:()=>v.jsx("span",{children:E("Pinned Status")}),cell:S=>v.jsx(cce,{thino:S.row.original}),footer:S=>S.column.id,filterFn:"fuzzy",sortingFn:N3},{accessorKey:"rowStatus",header:()=>v.jsx("span",{children:E("Row status")}),cell:S=>v.jsx("span",{children:S.getValue()==="NORMAL"?"":S.getValue()}),footer:S=>S.column.id},{accessorKey:"path",header:()=>E("Path"),cell:S=>v.jsx(fce,{id:S.row.original.id,path:S.getValue()}),footer:S=>S.column.id}]}],[]),[l,c]=ne.useState(()=>e),f=()=>c(S=>e);P.useEffect(()=>{f()},[e]);const h=Rue({data:l,columns:i,filterFns:{fuzzy:k3},initialState:{pagination:{pageSize:20}},state:{columnFilters:n,globalFilter:a},onColumnFiltersChange:r,onGlobalFilterChange:o,globalFilterFn:k3,getCoreRowModel:Iue(),getFilteredRowModel:xue(),getSortedRowModel:Aue(),getPaginationRowModel:Oue(),getFacetedRowModel:Mue(),getFacetedUniqueValues:kue(),getFacetedMinMaxValues:Nue(),debugTable:!1,debugHeaders:!1,debugColumns:!1});ne.useEffect(()=>{var S,D;((S=h.getState().columnFilters[0])==null?void 0:S.id)==="createdAt"&&((D=h.getState().sorting[0])==null?void 0:D.id)!=="createdAt"&&h.setSorting([{id:"createdAt",desc:!1}])},[(w=h.getState().columnFilters[0])==null?void 0:w.id]);async function g(S,D){const I=E("Created At"),M=E("Updated At"),N=E("Content"),B=E("Path"),k=S.map(U=>({[I]:U.createdAt,[M]:U.updatedAt,[N]:U.content,Thino:`=hyperlink("obsidian://thino?openId=${U.id}","${U.id}")`,[B]:`=hyperlink("obsidian://open?path=${x.normalizePath(U.path)},"${U.path}")`})),R=uce(pce)(k),L=ft.getState().app||window.app,_=mce(lce(R));return{file:await L.vault.create(`${D}-${ut.randomId(6)}.csv`,_),app:L}}async function y(S){const{file:D,app:I}=await g(S.map(B=>B.original),"thino-export"),M=document.createDocumentFragment(),N=M.createEl("div",{cls:"export-file-btn-group"});M.createEl("div",{cls:"open-file-button"}),new x.Setting(N).setName(E("Exported CSV file")).addButton(B=>{B.setButtonText(E("Open File")).onClick(()=>{const k=x.normalizePath(D.path);I.openWithDefaultApp(k)})}),new x.Notice(M)}return v.jsxs("div",{className:"table-view",children:[v.jsxs("div",{children:[v.jsx(mw,{value:a||"",onChange:S=>o(String(S)),className:"table-search-bar",placeholder:E("Search all columns...")}),x.Platform.isDesktop&&(a||n.length>0||t)&&v.jsx("button",{className:"mod-cta",disabled:h.getPrePaginationRowModel().rows.length===0,onClick:()=>y(h.getPrePaginationRowModel().rows),children:E("Export to CSV")})]}),v.jsxs("table",{className:"thino-table",children:[v.jsx("thead",{children:h.getHeaderGroups().map(S=>v.jsx("tr",{children:S.headers.map(D=>v.jsx("th",{colSpan:D.colSpan,children:D.isPlaceholder?null:v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:ar(D.column.getCanSort()?"filter-header":"","table-header",D.column.id==="content"?"content-header":""),onClick:D.column.getToggleSortingHandler(),children:[D3(D.column.columnDef.header,D.getContext()),{asc:" üîº",desc:" üîΩ"}[D.column.getIsSorted()]??null]}),D.column.getCanFilter()?v.jsx(yce,{column:D.column,table:h}):null]})},D.id))},S.id))}),v.jsx("tbody",{children:h.getRowModel().rows.map(S=>v.jsx("tr",{className:ar(S.getValue("pinned")?"pinned":""),children:S.getVisibleCells().map(D=>v.jsx("td",{children:D3(D.column.columnDef.cell,D.getContext())},D.id))},S.id))})]}),v.jsxs("div",{className:"table-nav-bar",children:[v.jsx("button",{className:"prev-start-btn",onClick:()=>h.setPageIndex(0),disabled:!h.getCanPreviousPage(),children:"<<"}),v.jsx("button",{className:"prev-btn",onClick:()=>h.previousPage(),disabled:!h.getCanPreviousPage(),children:"<"}),v.jsx("button",{className:"next-btn",onClick:()=>h.nextPage(),disabled:!h.getCanNextPage(),children:">"}),v.jsx("button",{className:"next-end-btn",onClick:()=>h.setPageIndex(h.getPageCount()-1),disabled:!h.getCanNextPage(),children:">>"}),v.jsxs("span",{className:"table-page-info",children:[v.jsx("div",{children:E("Page")}),v.jsxs("strong",{children:[h.getState().pagination.pageIndex+1," of ",h.getPageCount()]})]}),v.jsxs("span",{className:"table-page-jump",children:["| ",E("Go to page"),":",v.jsx("input",{type:"number",defaultValue:h.getState().pagination.pageIndex+1,onChange:S=>{const D=S.target.value?Number(S.target.value)-1:0;h.setPageIndex(D)},className:"jump-inputer"})]}),v.jsx("select",{value:h.getState().pagination.pageSize,onChange:S=>{h.setPageSize(Number(S.target.value))},children:[10,20,30,40,50].map(S=>v.jsxs("option",{value:S,children:[E("Show")," ",S," ",E("rows")]},S))})]})]})}const vce=e=>e==="sourceType"?["ALL"]:["ALL","ALL-TASK"];function yce({column:e,table:t}){var o,i,l,c,f,h,g,y,w;const n=(o=t.getPreFilteredRowModel().flatRows[0])==null?void 0:o.getValue(e.id),r=e.getFilterValue(),a=ne.useMemo(()=>typeof n=="number"?[]:Array.from(e.getFacetedUniqueValues().keys()).sort(),[e.getFacetedUniqueValues()]);return typeof n=="number"?v.jsx("div",{children:v.jsxs("div",{className:"filter-input-group",children:[v.jsx(mw,{type:"number",min:Number(((i=e.getFacetedMinMaxValues())==null?void 0:i[0])??""),max:Number(((l=e.getFacetedMinMaxValues())==null?void 0:l[1])??""),value:(r==null?void 0:r[0])??"",onChange:S=>e.setFilterValue(D=>[S,D==null?void 0:D[1]]),placeholder:`Min ${(c=e.getFacetedMinMaxValues())!=null&&c[0]?`(${(f=e.getFacetedMinMaxValues())==null?void 0:f[0]})`:""}`,className:"filter-input-short"}),v.jsx(mw,{type:"number",min:Number(((h=e.getFacetedMinMaxValues())==null?void 0:h[0])??""),max:Number(((g=e.getFacetedMinMaxValues())==null?void 0:g[1])??""),value:(r==null?void 0:r[1])??"",onChange:S=>e.setFilterValue(D=>[D==null?void 0:D[0],S]),placeholder:`Max ${(y=e.getFacetedMinMaxValues())!=null&&y[1]?`(${(w=e.getFacetedMinMaxValues())==null?void 0:w[1]})`:""}`,className:"filter-input-short"})]})}):v.jsx(v.Fragment,{children:a.length>1?v.jsxs(v.Fragment,{children:[e.id!=="path"&&e.id!=="content"&&e.id!=="thinoType"&&e.id!=="sourceType"&&v.jsx("datalist",{id:e.id+"list",children:a.slice(0,5e3).map(S=>v.jsx("option",{value:S},S))}),e.id==="thinoType"||e.id==="sourceType"?v.jsx("select",{id:e.id,onChange:S=>e.setFilterValue(S.target.value==="ALL"?"":S.target.value==="ALL-TASK"?"TASK":S.target.value),children:[...vce(e.id),...a].map(S=>v.jsx("option",{value:S,children:E(S)||S},S))}):"",e.id!=="thinoType"&&e.id!=="sourceType"?v.jsx(mw,{type:"text",value:r??"",onChange:S=>e.setFilterValue(S),placeholder:`Search... (${e.getFacetedUniqueValues().size})`,className:"filter-input-long",list:e.id+"list"}):""]}):""})}function mw({value:e,onChange:t,debounce:n=500,...r}){const[a,o]=ne.useState(e);return ne.useEffect(()=>{o(e)},[e]),ne.useEffect(()=>{const i=setTimeout(()=>{t(a)},n);return()=>clearTimeout(i)},[a]),v.jsx("input",{...r,value:a,onChange:i=>o(i.target.value)})}function wce(e,t){try{var n=global,r=n.document;if(typeof r<"u"&&r.createElement&&r.head&&r.head.appendChild){var a=r.querySelector('html meta[name="'.concat(encodeURI(e),'"]'))||r.createElement("meta");a.setAttribute("name",e),a.setAttribute("content",t),r.head.appendChild(a)}}catch{}}function bce(){wce("react-scroll-to-bottom:version","4.2.0")}var Eg=function(e){return e&&e.Math===Math&&e},Za=Eg(typeof globalThis=="object"&&globalThis)||Eg(typeof window=="object"&&window)||Eg(typeof self=="object"&&self)||Eg(typeof dr=="object"&&dr)||Eg(typeof dr=="object"&&dr)||function(){return this}()||Function("return this")(),da=function(e){try{return!!e()}catch{return!0}},Sce=da,Kb=!Sce(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Dce=Kb,r8=Function.prototype,A3=r8.apply,F3=r8.call,YI=typeof Reflect=="object"&&Reflect.apply||(Dce?F3.bind(A3):function(){return F3.apply(A3,arguments)}),a8=Kb,o8=Function.prototype,qT=o8.call,Tce=a8&&o8.bind.bind(qT,qT),fa=a8?Tce:function(e){return function(){return qT.apply(e,arguments)}},i8=fa,Ice=i8({}.toString),Ece=i8("".slice),tm=function(e){return Ece(Ice(e),8,-1)},Cce=tm,xce=fa,zI=function(e){if(Cce(e)==="Function")return xce(e)},oD=typeof document=="object"&&document.all,co=typeof oD>"u"&&oD!==void 0?function(e){return typeof e=="function"||e===oD}:function(e){return typeof e=="function"},ty={},Mce=da,ii=!Mce(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),kce=Kb,_0=Function.prototype.call,ru=kce?_0.bind(_0):function(){return _0.apply(_0,arguments)},VI={},s8={}.propertyIsEnumerable,l8=Object.getOwnPropertyDescriptor,Nce=l8&&!s8.call({1:2},1);VI.f=Nce?function(t){var n=l8(this,t);return!!n&&n.enumerable}:s8;var ny=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},Ace=fa,Fce=da,Oce=tm,iD=Object,Pce=Ace("".split),u8=Fce(function(){return!iD("z").propertyIsEnumerable(0)})?function(e){return Oce(e)==="String"?Pce(e,""):iD(e)}:iD,WI=function(e){return e==null},jce=WI,Lce=TypeError,$I=function(e){if(jce(e))throw new Lce("Can't call method on "+e);return e},Rce=u8,_ce=$I,au=function(e){return Rce(_ce(e))},Bce=co,Xu=function(e){return typeof e=="object"?e!==null:Bce(e)},qa={},sD=qa,lD=Za,Hce=co,O3=function(e){return Hce(e)?e:void 0},ou=function(e,t){return arguments.length<2?O3(sD[e])||O3(lD[e]):sD[e]&&sD[e][t]||lD[e]&&lD[e][t]},Uce=fa,ec=Uce({}.isPrototypeOf),c8=typeof navigator<"u"&&String(navigator.userAgent)||"",d8=Za,uD=c8,P3=d8.process,j3=d8.Deno,L3=P3&&P3.versions||j3&&j3.version,R3=L3&&L3.v8,Rs,Kw;R3&&(Rs=R3.split("."),Kw=Rs[0]>0&&Rs[0]<4?1:+(Rs[0]+Rs[1]));!Kw&&uD&&(Rs=uD.match(/Edge\/(\d+)/),(!Rs||Rs[1]>=74)&&(Rs=uD.match(/Chrome\/(\d+)/),Rs&&(Kw=+Rs[1])));var ZI=Kw,_3=ZI,Yce=da,zce=Za,Vce=zce.String,nm=!!Object.getOwnPropertySymbols&&!Yce(function(){var e=Symbol("symbol detection");return!Vce(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&_3&&_3<41}),Wce=nm,f8=Wce&&!Symbol.sham&&typeof Symbol.iterator=="symbol",$ce=ou,Zce=co,qce=ec,Gce=f8,Jce=Object,ry=Gce?function(e){return typeof e=="symbol"}:function(e){var t=$ce("Symbol");return Zce(t)&&qce(t.prototype,Jce(e))},Kce=String,Qb=function(e){try{return Kce(e)}catch{return"Object"}},Qce=co,Xce=Qb,ede=TypeError,qI=function(e){if(Qce(e))return e;throw new ede(Xce(e)+" is not a function")},tde=qI,nde=WI,GI=function(e,t){var n=e[t];return nde(n)?void 0:tde(n)},cD=ru,dD=co,fD=Xu,rde=TypeError,ade=function(e,t){var n,r;if(t==="string"&&dD(n=e.toString)&&!fD(r=cD(n,e))||dD(n=e.valueOf)&&!fD(r=cD(n,e))||t!=="string"&&dD(n=e.toString)&&!fD(r=cD(n,e)))return r;throw new rde("Can't convert object to primitive value")},h8={exports:{}},B3=Za,ode=Object.defineProperty,ide=function(e,t){try{ode(B3,e,{value:t,configurable:!0,writable:!0})}catch{B3[e]=t}return t},sde=Za,lde=ide,H3="__core-js_shared__",U3=h8.exports=sde[H3]||lde(H3,{});(U3.versions||(U3.versions=[])).push({version:"3.37.0",mode:"pure",copyright:"¬© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.0/LICENSE",source:"https://github.com/zloirock/core-js"});var JI=h8.exports,Y3=JI,rm=function(e,t){return Y3[e]||(Y3[e]=t||{})},ude=$I,cde=Object,tc=function(e){return cde(ude(e))},dde=fa,fde=tc,hde=dde({}.hasOwnProperty),Fi=Object.hasOwn||function(t,n){return hde(fde(t),n)},pde=fa,mde=0,gde=Math.random(),vde=pde(1 .toString),KI=function(e){return"Symbol("+(e===void 0?"":e)+")_"+vde(++mde+gde,36)},yde=Za,wde=rm,z3=Fi,bde=KI,Sde=nm,Dde=f8,mp=yde.Symbol,hD=wde("wks"),Tde=Dde?mp.for||mp:mp&&mp.withoutSetter||bde,Na=function(e){return z3(hD,e)||(hD[e]=Sde&&z3(mp,e)?mp[e]:Tde("Symbol."+e)),hD[e]},Ide=ru,V3=Xu,W3=ry,Ede=GI,Cde=ade,xde=Na,Mde=TypeError,kde=xde("toPrimitive"),Nde=function(e,t){if(!V3(e)||W3(e))return e;var n=Ede(e,kde),r;if(n){if(t===void 0&&(t="default"),r=Ide(n,e,t),!V3(r)||W3(r))return r;throw new Mde("Can't convert object to primitive value")}return t===void 0&&(t="number"),Cde(e,t)},Ade=Nde,Fde=ry,QI=function(e){var t=Ade(e,"string");return Fde(t)?t:t+""},Ode=Za,$3=Xu,GT=Ode.document,Pde=$3(GT)&&$3(GT.createElement),p8=function(e){return Pde?GT.createElement(e):{}},jde=ii,Lde=da,Rde=p8,m8=!jde&&!Lde(function(){return Object.defineProperty(Rde("div"),"a",{get:function(){return 7}}).a!==7}),_de=ii,Bde=ru,Hde=VI,Ude=ny,Yde=au,zde=QI,Vde=Fi,Wde=m8,Z3=Object.getOwnPropertyDescriptor;ty.f=_de?Z3:function(t,n){if(t=Yde(t),n=zde(n),Wde)try{return Z3(t,n)}catch{}if(Vde(t,n))return Ude(!Bde(Hde.f,t,n),t[n])};var $de=da,Zde=co,qde=/#|\.prototype\./,ay=function(e,t){var n=Jde[Gde(e)];return n===Qde?!0:n===Kde?!1:Zde(t)?$de(t):!!t},Gde=ay.normalize=function(e){return String(e).replace(qde,".").toLowerCase()},Jde=ay.data={},Kde=ay.NATIVE="N",Qde=ay.POLYFILL="P",Xde=ay,q3=zI,efe=qI,tfe=Kb,nfe=q3(q3.bind),XI=function(e,t){return efe(e),t===void 0?e:tfe?nfe(e,t):function(){return e.apply(t,arguments)}},$s={},rfe=ii,afe=da,g8=rfe&&afe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),ofe=Xu,ife=String,sfe=TypeError,ld=function(e){if(ofe(e))return e;throw new sfe(ife(e)+" is not an object")},lfe=ii,ufe=m8,cfe=g8,B0=ld,G3=QI,dfe=TypeError,pD=Object.defineProperty,ffe=Object.getOwnPropertyDescriptor,mD="enumerable",gD="configurable",vD="writable";$s.f=lfe?cfe?function(t,n,r){if(B0(t),n=G3(n),B0(r),typeof t=="function"&&n==="prototype"&&"value"in r&&vD in r&&!r[vD]){var a=ffe(t,n);a&&a[vD]&&(t[n]=r.value,r={configurable:gD in r?r[gD]:a[gD],enumerable:mD in r?r[mD]:a[mD],writable:!1})}return pD(t,n,r)}:pD:function(t,n,r){if(B0(t),n=G3(n),B0(r),ufe)try{return pD(t,n,r)}catch{}if("get"in r||"set"in r)throw new dfe("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var hfe=ii,pfe=$s,mfe=ny,Xb=hfe?function(e,t,n){return pfe.f(e,t,mfe(1,n))}:function(e,t,n){return e[t]=n,e},Cg=Za,gfe=YI,vfe=zI,yfe=co,wfe=ty.f,bfe=Xde,op=qa,Sfe=XI,ip=Xb,J3=Fi,Dfe=function(e){var t=function(n,r,a){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,a)}return gfe(e,this,arguments)};return t.prototype=e.prototype,t},Gn=function(e,t){var n=e.target,r=e.global,a=e.stat,o=e.proto,i=r?Cg:a?Cg[n]:Cg[n]&&Cg[n].prototype,l=r?op:op[n]||ip(op,n,{})[n],c=l.prototype,f,h,g,y,w,S,D,I,M;for(y in t)f=bfe(r?y:n+(a?".":"#")+y,e.forced),h=!f&&i&&J3(i,y),S=l[y],h&&(e.dontCallGetSet?(M=wfe(i,y),D=M&&M.value):D=i[y]),w=h&&D?D:t[y],!(!f&&!o&&typeof S==typeof w)&&(e.bind&&h?I=Sfe(w,Cg):e.wrap&&h?I=Dfe(w):o&&yfe(w)?I=vfe(w):I=w,(e.sham||w&&w.sham||S&&S.sham)&&ip(I,"sham",!0),ip(l,y,I),o&&(g=n+"Prototype",J3(op,g)||ip(op,g,{}),ip(op[g],y,w),e.real&&c&&(f||!c[y])&&ip(c,y,w)))},Tfe=tm,am=Array.isArray||function(t){return Tfe(t)==="Array"},Ife=Gn,Efe=am;Ife({target:"Array",stat:!0},{isArray:Efe});var Cfe=qa,xfe=Cfe.Array.isArray,Mfe=xfe,v8=Mfe,kfe=v8,Nfe=kfe,Afe=Nfe,Ffe=Afe,Ofe=Ffe;const y8=qt(Ofe);function Pfe(e){if(y8(e))return e}var jfe=Math.ceil,Lfe=Math.floor,Rfe=Math.trunc||function(t){var n=+t;return(n>0?Lfe:jfe)(n)},_fe=Rfe,e1=function(e){var t=+e;return t!==t||t===0?0:_fe(t)},Bfe=e1,Hfe=Math.min,Ufe=function(e){var t=Bfe(e);return t>0?Hfe(t,9007199254740991):0},Yfe=Ufe,jf=function(e){return Yfe(e.length)},zfe=TypeError,Vfe=9007199254740991,eE=function(e){if(e>Vfe)throw zfe("Maximum allowed index exceeded");return e},Wfe=ii,$fe=$s,Zfe=ny,oy=function(e,t,n){Wfe?$fe.f(e,t,Zfe(0,n)):e[t]=n},qfe=Na,Gfe=qfe("toStringTag"),w8={};w8[Gfe]="z";var tE=String(w8)==="[object z]",Jfe=tE,Kfe=co,gw=tm,Qfe=Na,Xfe=Qfe("toStringTag"),ehe=Object,the=gw(function(){return arguments}())==="Arguments",nhe=function(e,t){try{return e[t]}catch{}},iy=Jfe?gw:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=nhe(t=ehe(e),Xfe))=="string"?n:the?gw(t):(r=gw(t))==="Object"&&Kfe(t.callee)?"Arguments":r},rhe=fa,ahe=co,JT=JI,ohe=rhe(Function.toString);ahe(JT.inspectSource)||(JT.inspectSource=function(e){return ohe(e)});var ihe=JT.inspectSource,she=fa,lhe=da,b8=co,uhe=iy,che=ou,dhe=ihe,S8=function(){},D8=che("Reflect","construct"),nE=/^\s*(?:class|function)\b/,fhe=she(nE.exec),hhe=!nE.test(S8),xg=function(t){if(!b8(t))return!1;try{return D8(S8,[],t),!0}catch{return!1}},T8=function(t){if(!b8(t))return!1;switch(uhe(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return hhe||!!fhe(nE,dhe(t))}catch{return!0}};T8.sham=!0;var rE=!D8||lhe(function(){var e;return xg(xg.call)||!xg(Object)||!xg(function(){e=!0})||e})?T8:xg,K3=am,phe=rE,mhe=Xu,ghe=Na,vhe=ghe("species"),Q3=Array,yhe=function(e){var t;return K3(e)&&(t=e.constructor,phe(t)&&(t===Q3||K3(t.prototype))?t=void 0:mhe(t)&&(t=t[vhe],t===null&&(t=void 0))),t===void 0?Q3:t},whe=yhe,aE=function(e,t){return new(whe(e))(t===0?0:t)},bhe=da,She=Na,Dhe=ZI,The=She("species"),t1=function(e){return Dhe>=51||!bhe(function(){var t=[],n=t.constructor={};return n[The]=function(){return{foo:1}},t[e](Boolean).foo!==1})},Ihe=Gn,Ehe=da,Che=am,xhe=Xu,Mhe=tc,khe=jf,X3=eE,ek=oy,Nhe=aE,Ahe=t1,Fhe=Na,Ohe=ZI,I8=Fhe("isConcatSpreadable"),Phe=Ohe>=51||!Ehe(function(){var e=[];return e[I8]=!1,e.concat()[0]!==e}),jhe=function(e){if(!xhe(e))return!1;var t=e[I8];return t!==void 0?!!t:Che(e)},Lhe=!Phe||!Ahe("concat");Ihe({target:"Array",proto:!0,arity:1,forced:Lhe},{concat:function(t){var n=Mhe(this),r=Nhe(n,0),a=0,o,i,l,c,f;for(o=-1,l=arguments.length;o<l;o++)if(f=o===-1?n:arguments[o],jhe(f))for(c=khe(f),X3(a+c),i=0;i<c;i++,a++)i in f&&ek(r,a,f[i]);else X3(a+1),ek(r,a++,f);return r.length=a,r}});var Rhe=iy,_he=String,sy=function(e){if(Rhe(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return _he(e)},n1={},Bhe=e1,Hhe=Math.max,Uhe=Math.min,oE=function(e,t){var n=Bhe(e);return n<0?Hhe(n+t,0):Uhe(n,t)},Yhe=au,zhe=oE,Vhe=jf,tk=function(e){return function(t,n,r){var a=Yhe(t),o=Vhe(a);if(o===0)return!e&&-1;var i=zhe(r,o),l;if(e&&n!==n){for(;o>i;)if(l=a[i++],l!==l)return!0}else for(;o>i;i++)if((e||i in a)&&a[i]===n)return e||i||0;return!e&&-1}},E8={includes:tk(!0),indexOf:tk(!1)},r1={},Whe=fa,yD=Fi,$he=au,Zhe=E8.indexOf,qhe=r1,nk=Whe([].push),C8=function(e,t){var n=$he(e),r=0,a=[],o;for(o in n)!yD(qhe,o)&&yD(n,o)&&nk(a,o);for(;t.length>r;)yD(n,o=t[r++])&&(~Zhe(a,o)||nk(a,o));return a},iE=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ghe=C8,Jhe=iE,sE=Object.keys||function(t){return Ghe(t,Jhe)},Khe=ii,Qhe=g8,Xhe=$s,epe=ld,tpe=au,npe=sE;n1.f=Khe&&!Qhe?Object.defineProperties:function(t,n){epe(t);for(var r=tpe(n),a=npe(n),o=a.length,i=0,l;o>i;)Xhe.f(t,l=a[i++],r[l]);return t};var rpe=ou,ape=rpe("document","documentElement"),ope=rm,ipe=KI,rk=ope("keys"),a1=function(e){return rk[e]||(rk[e]=ipe(e))},spe=ld,lpe=n1,ak=iE,upe=r1,cpe=ape,dpe=p8,fpe=a1,ok=">",ik="<",KT="prototype",QT="script",x8=fpe("IE_PROTO"),wD=function(){},M8=function(e){return ik+QT+ok+e+ik+"/"+QT+ok},sk=function(e){e.write(M8("")),e.close();var t=e.parentWindow.Object;return e=null,t},hpe=function(){var e=dpe("iframe"),t="java"+QT+":",n;return e.style.display="none",cpe.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(M8("document.F=Object")),n.close(),n.F},H0,vw=function(){try{H0=new ActiveXObject("htmlfile")}catch{}vw=typeof document<"u"?document.domain&&H0?sk(H0):hpe():sk(H0);for(var e=ak.length;e--;)delete vw[KT][ak[e]];return vw()};upe[x8]=!0;var lE=Object.create||function(t,n){var r;return t!==null?(wD[KT]=spe(t),r=new wD,wD[KT]=null,r[x8]=t):r=vw(),n===void 0?r:lpe.f(r,n)},o1={},ppe=C8,mpe=iE,gpe=mpe.concat("length","prototype");o1.f=Object.getOwnPropertyNames||function(t){return ppe(t,gpe)};var k8={},vpe=fa,i1=vpe([].slice),ype=tm,wpe=au,N8=o1.f,bpe=i1,A8=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Spe=function(e){try{return N8(e)}catch{return bpe(A8)}};k8.f=function(t){return A8&&ype(t)==="Window"?Spe(t):N8(wpe(t))};var s1={};s1.f=Object.getOwnPropertySymbols;var Dpe=Xb,l1=function(e,t,n,r){return r&&r.enumerable?e[t]=n:Dpe(e,t,n),e},Tpe=$s,Ipe=function(e,t,n){return Tpe.f(e,t,n)},ly={},Epe=Na;ly.f=Epe;var lk=qa,Cpe=Fi,xpe=ly,Mpe=$s.f,Ir=function(e){var t=lk.Symbol||(lk.Symbol={});Cpe(t,e)||Mpe(t,e,{value:xpe.f(e)})},kpe=ru,Npe=ou,Ape=Na,Fpe=l1,F8=function(){var e=Npe("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,r=Ape("toPrimitive");t&&!t[r]&&Fpe(t,r,function(a){return kpe(n,this)},{arity:1})},Ope=tE,Ppe=iy,jpe=Ope?{}.toString:function(){return"[object "+Ppe(this)+"]"},Lpe=tE,Rpe=$s.f,_pe=Xb,Bpe=Fi,Hpe=jpe,Upe=Na,uk=Upe("toStringTag"),om=function(e,t,n,r){var a=n?e:e&&e.prototype;a&&(Bpe(a,uk)||Rpe(a,uk,{configurable:!0,value:t}),r&&!Lpe&&_pe(a,"toString",Hpe))},Ype=Za,zpe=co,ck=Ype.WeakMap,Vpe=zpe(ck)&&/native code/.test(String(ck)),Wpe=Vpe,O8=Za,$pe=Xu,Zpe=Xb,bD=Fi,SD=JI,qpe=a1,Gpe=r1,dk="Object already initialized",XT=O8.TypeError,Jpe=O8.WeakMap,Qw,gv,Xw,Kpe=function(e){return Xw(e)?gv(e):Qw(e,{})},Qpe=function(e){return function(t){var n;if(!$pe(t)||(n=gv(t)).type!==e)throw new XT("Incompatible receiver, "+e+" required");return n}};if(Wpe||SD.state){var Fl=SD.state||(SD.state=new Jpe);Fl.get=Fl.get,Fl.has=Fl.has,Fl.set=Fl.set,Qw=function(e,t){if(Fl.has(e))throw new XT(dk);return t.facade=e,Fl.set(e,t),t},gv=function(e){return Fl.get(e)||{}},Xw=function(e){return Fl.has(e)}}else{var sp=qpe("state");Gpe[sp]=!0,Qw=function(e,t){if(bD(e,sp))throw new XT(dk);return t.facade=e,Zpe(e,sp,t),t},gv=function(e){return bD(e,sp)?e[sp]:{}},Xw=function(e){return bD(e,sp)}}var uE={set:Qw,get:gv,has:Xw,enforce:Kpe,getterFor:Qpe},Xpe=XI,eme=fa,tme=u8,nme=tc,rme=jf,ame=aE,fk=eme([].push),$c=function(e){var t=e===1,n=e===2,r=e===3,a=e===4,o=e===6,i=e===7,l=e===5||o;return function(c,f,h,g){for(var y=nme(c),w=tme(y),S=rme(w),D=Xpe(f,h),I=0,M=g||ame,N=t?M(c,S):n||i?M(c,0):void 0,B,k;S>I;I++)if((l||I in w)&&(B=w[I],k=D(B,I,y),e))if(t)N[I]=k;else if(k)switch(e){case 3:return!0;case 5:return B;case 6:return I;case 2:fk(N,B)}else switch(e){case 4:return!1;case 7:fk(N,B)}return o?-1:r||a?a:N}},cE={forEach:$c(0),map:$c(1),filter:$c(2),some:$c(3),every:$c(4),find:$c(5),findIndex:$c(6),filterReject:$c(7)},u1=Gn,uy=Za,dE=ru,ome=fa,kp=ii,Np=nm,ime=da,xa=Fi,sme=ec,e2=ld,c1=au,fE=QI,lme=sy,t2=ny,Ap=lE,P8=sE,ume=o1,j8=k8,cme=s1,L8=ty,R8=$s,dme=n1,_8=VI,hk=l1,fme=Ipe,hE=rm,hme=a1,B8=r1,pk=KI,pme=Na,mme=ly,gme=Ir,vme=F8,yme=om,H8=uE,d1=cE.forEach,Xo=hme("hidden"),f1="Symbol",vv="prototype",wme=H8.set,mk=H8.getterFor(f1),Hs=Object[vv],vf=uy.Symbol,Bg=vf&&vf[vv],bme=uy.RangeError,Sme=uy.TypeError,DD=uy.QObject,U8=L8.f,yf=R8.f,Y8=j8.f,Dme=_8.f,z8=ome([].push),Zu=hE("symbols"),cy=hE("op-symbols"),Tme=hE("wks"),n2=!DD||!DD[vv]||!DD[vv].findChild,V8=function(e,t,n){var r=U8(Hs,t);r&&delete Hs[t],yf(e,t,n),r&&e!==Hs&&yf(Hs,t,r)},r2=kp&&ime(function(){return Ap(yf({},"a",{get:function(){return yf(this,"a",{value:7}).a}})).a!==7})?V8:yf,TD=function(e,t){var n=Zu[e]=Ap(Bg);return wme(n,{type:f1,tag:e,description:t}),kp||(n.description=t),n},h1=function(t,n,r){t===Hs&&h1(cy,n,r),e2(t);var a=fE(n);return e2(r),xa(Zu,a)?(r.enumerable?(xa(t,Xo)&&t[Xo][a]&&(t[Xo][a]=!1),r=Ap(r,{enumerable:t2(0,!1)})):(xa(t,Xo)||yf(t,Xo,t2(1,Ap(null))),t[Xo][a]=!0),r2(t,a,r)):yf(t,a,r)},pE=function(t,n){e2(t);var r=c1(n),a=P8(r).concat(q8(r));return d1(a,function(o){(!kp||dE(W8,r,o))&&h1(t,o,r[o])}),t},Ime=function(t,n){return n===void 0?Ap(t):pE(Ap(t),n)},W8=function(t){var n=fE(t),r=dE(Dme,this,n);return this===Hs&&xa(Zu,n)&&!xa(cy,n)?!1:r||!xa(this,n)||!xa(Zu,n)||xa(this,Xo)&&this[Xo][n]?r:!0},$8=function(t,n){var r=c1(t),a=fE(n);if(!(r===Hs&&xa(Zu,a)&&!xa(cy,a))){var o=U8(r,a);return o&&xa(Zu,a)&&!(xa(r,Xo)&&r[Xo][a])&&(o.enumerable=!0),o}},Z8=function(t){var n=Y8(c1(t)),r=[];return d1(n,function(a){!xa(Zu,a)&&!xa(B8,a)&&z8(r,a)}),r},q8=function(e){var t=e===Hs,n=Y8(t?cy:c1(e)),r=[];return d1(n,function(a){xa(Zu,a)&&(!t||xa(Hs,a))&&z8(r,Zu[a])}),r};Np||(vf=function(){if(sme(Bg,this))throw new Sme("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:lme(arguments[0]),n=pk(t),r=function(a){var o=this===void 0?uy:this;o===Hs&&dE(r,cy,a),xa(o,Xo)&&xa(o[Xo],n)&&(o[Xo][n]=!1);var i=t2(1,a);try{r2(o,n,i)}catch(l){if(!(l instanceof bme))throw l;V8(o,n,i)}};return kp&&n2&&r2(Hs,n,{configurable:!0,set:r}),TD(n,t)},Bg=vf[vv],hk(Bg,"toString",function(){return mk(this).tag}),hk(vf,"withoutSetter",function(e){return TD(pk(e),e)}),_8.f=W8,R8.f=h1,dme.f=pE,L8.f=$8,ume.f=j8.f=Z8,cme.f=q8,mme.f=function(e){return TD(pme(e),e)},kp&&fme(Bg,"description",{configurable:!0,get:function(){return mk(this).description}}));u1({global:!0,constructor:!0,wrap:!0,forced:!Np,sham:!Np},{Symbol:vf});d1(P8(Tme),function(e){gme(e)});u1({target:f1,stat:!0,forced:!Np},{useSetter:function(){n2=!0},useSimple:function(){n2=!1}});u1({target:"Object",stat:!0,forced:!Np,sham:!kp},{create:Ime,defineProperty:h1,defineProperties:pE,getOwnPropertyDescriptor:$8});u1({target:"Object",stat:!0,forced:!Np},{getOwnPropertyNames:Z8});vme();yme(vf,f1);B8[Xo]=!0;var Eme=nm,G8=Eme&&!!Symbol.for&&!!Symbol.keyFor,Cme=Gn,xme=ou,Mme=Fi,kme=sy,J8=rm,Nme=G8,ID=J8("string-to-symbol-registry"),Ame=J8("symbol-to-string-registry");Cme({target:"Symbol",stat:!0,forced:!Nme},{for:function(e){var t=kme(e);if(Mme(ID,t))return ID[t];var n=xme("Symbol")(t);return ID[t]=n,Ame[n]=t,n}});var Fme=Gn,Ome=Fi,Pme=ry,jme=Qb,Lme=rm,Rme=G8,gk=Lme("symbol-to-string-registry");Fme({target:"Symbol",stat:!0,forced:!Rme},{keyFor:function(t){if(!Pme(t))throw new TypeError(jme(t)+" is not a symbol");if(Ome(gk,t))return gk[t]}});var _me=fa,vk=am,Bme=co,yk=tm,Hme=sy,wk=_me([].push),Ume=function(e){if(Bme(e))return e;if(vk(e)){for(var t=e.length,n=[],r=0;r<t;r++){var a=e[r];typeof a=="string"?wk(n,a):(typeof a=="number"||yk(a)==="Number"||yk(a)==="String")&&wk(n,Hme(a))}var o=n.length,i=!0;return function(l,c){if(i)return i=!1,c;if(vk(this))return c;for(var f=0;f<o;f++)if(n[f]===l)return c}}},Yme=Gn,K8=ou,Q8=YI,zme=ru,dy=fa,X8=da,bk=co,Sk=ry,e5=i1,Vme=Ume,Wme=nm,$me=String,Qc=K8("JSON","stringify"),U0=dy(/./.exec),Dk=dy("".charAt),Zme=dy("".charCodeAt),qme=dy("".replace),Gme=dy(1 .toString),Jme=/[\uD800-\uDFFF]/g,Tk=/^[\uD800-\uDBFF]$/,Ik=/^[\uDC00-\uDFFF]$/,Ek=!Wme||X8(function(){var e=K8("Symbol")("stringify detection");return Qc([e])!=="[null]"||Qc({a:e})!=="{}"||Qc(Object(e))!=="{}"}),Ck=X8(function(){return Qc("\uDF06\uD834")!=='"\\udf06\\ud834"'||Qc("\uDEAD")!=='"\\udead"'}),Kme=function(e,t){var n=e5(arguments),r=Vme(t);if(!(!bk(r)&&(e===void 0||Sk(e))))return n[1]=function(a,o){if(bk(r)&&(o=zme(r,this,$me(a),o)),!Sk(o))return o},Q8(Qc,null,n)},Qme=function(e,t,n){var r=Dk(n,t-1),a=Dk(n,t+1);return U0(Tk,e)&&!U0(Ik,a)||U0(Ik,e)&&!U0(Tk,r)?"\\u"+Gme(Zme(e,0),16):e};Qc&&Yme({target:"JSON",stat:!0,arity:3,forced:Ek||Ck},{stringify:function(t,n,r){var a=e5(arguments),o=Q8(Ek?Kme:Qc,null,a);return Ck&&typeof o=="string"?qme(o,Jme,Qme):o}});var Xme=Gn,ege=nm,tge=da,t5=s1,nge=tc,rge=!ege||tge(function(){t5.f(1)});Xme({target:"Object",stat:!0,forced:rge},{getOwnPropertySymbols:function(t){var n=t5.f;return n?n(nge(t)):[]}});var age=Ir;age("asyncIterator");var oge=Ir;oge("hasInstance");var ige=Ir;ige("isConcatSpreadable");var sge=Ir;sge("iterator");var lge=Ir;lge("match");var uge=Ir;uge("matchAll");var cge=Ir;cge("replace");var dge=Ir;dge("search");var fge=Ir;fge("species");var hge=Ir;hge("split");var pge=Ir,mge=F8;pge("toPrimitive");mge();var gge=ou,vge=Ir,yge=om;vge("toStringTag");yge(gge("Symbol"),"Symbol");var wge=Ir;wge("unscopables");var bge=Za,Sge=om;Sge(bge.JSON,"JSON",!0);var Dge=qa,Tge=Dge.Symbol,im={},a2=ii,Ige=Fi,n5=Function.prototype,Ege=a2&&Object.getOwnPropertyDescriptor,mE=Ige(n5,"name"),Cge=mE&&(function(){}).name==="something",xge=mE&&(!a2||a2&&Ege(n5,"name").configurable),Mge={EXISTS:mE,PROPER:Cge,CONFIGURABLE:xge},kge=da,Nge=!kge(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Age=Fi,Fge=co,Oge=tc,Pge=a1,jge=Nge,xk=Pge("IE_PROTO"),o2=Object,Lge=o2.prototype,r5=jge?o2.getPrototypeOf:function(e){var t=Oge(e);if(Age(t,xk))return t[xk];var n=t.constructor;return Fge(n)&&t instanceof n?n.prototype:t instanceof o2?Lge:null},Rge=da,_ge=co,Bge=Xu,Hge=lE,Mk=r5,Uge=l1,Yge=Na,i2=Yge("iterator"),a5=!1,Yu,ED,CD;[].keys&&(CD=[].keys(),"next"in CD?(ED=Mk(Mk(CD)),ED!==Object.prototype&&(Yu=ED)):a5=!0);var zge=!Bge(Yu)||Rge(function(){var e={};return Yu[i2].call(e)!==e});zge?Yu={}:Yu=Hge(Yu);_ge(Yu[i2])||Uge(Yu,i2,function(){return this});var o5={IteratorPrototype:Yu,BUGGY_SAFARI_ITERATORS:a5},Vge=o5.IteratorPrototype,Wge=lE,$ge=ny,Zge=om,qge=im,Gge=function(){return this},Jge=function(e,t,n,r){var a=t+" Iterator";return e.prototype=Wge(Vge,{next:$ge(+!r,n)}),Zge(e,a,!1,!0),qge[a]=Gge,e},Kge=Gn,Qge=ru,i5=Mge,Xge=Jge,eve=r5,tve=om,kk=l1,nve=Na,Nk=im,s5=o5,rve=i5.PROPER;i5.CONFIGURABLE;s5.IteratorPrototype;var Y0=s5.BUGGY_SAFARI_ITERATORS,xD=nve("iterator"),Ak="keys",z0="values",Fk="entries",ave=function(){return this},l5=function(e,t,n,r,a,o,i){Xge(n,t,r);var l=function(M){if(M===a&&y)return y;if(!Y0&&M&&M in h)return h[M];switch(M){case Ak:return function(){return new n(this,M)};case z0:return function(){return new n(this,M)};case Fk:return function(){return new n(this,M)}}return function(){return new n(this)}},c=t+" Iterator",f=!1,h=e.prototype,g=h[xD]||h["@@iterator"]||a&&h[a],y=!Y0&&g||l(a),w=t==="Array"&&h.entries||g,S,D,I;if(w&&(S=eve(w.call(new e)),S!==Object.prototype&&S.next&&(tve(S,c,!0,!0),Nk[c]=ave)),rve&&a===z0&&g&&g.name!==z0&&(f=!0,y=function(){return Qge(g,this)}),a)if(D={values:l(z0),keys:o?y:l(Ak),entries:l(Fk)},i)for(I in D)(Y0||f||!(I in h))&&kk(h,I,D[I]);else Kge({target:t,proto:!0,forced:Y0||f},D);return i&&h[xD]!==y&&kk(h,xD,y,{name:a}),Nk[t]=y,D},u5=function(e,t){return{value:e,done:t}},ove=au,Ok=im,c5=uE;$s.f;var ive=l5,V0=u5,d5="Array Iterator",sve=c5.set,lve=c5.getterFor(d5);ive(Array,"Array",function(e,t){sve(this,{type:d5,target:ove(e),index:0,kind:t})},function(){var e=lve(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,V0(void 0,!0);switch(e.kind){case"keys":return V0(n,!1);case"values":return V0(t[n],!1)}return V0([n,t[n]],!1)},"values");Ok.Arguments=Ok.Array;var uve={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},cve=uve,dve=Za,fve=om,Pk=im;for(var MD in cve)fve(dve[MD],MD),Pk[MD]=Pk.Array;var hve=Tge,pve=hve,mve=Na,gve=$s.f,jk=mve("metadata"),Lk=Function.prototype;Lk[jk]===void 0&&gve(Lk,jk,{value:null});var vve=Ir;vve("asyncDispose");var yve=Ir;yve("dispose");var wve=Ir;wve("metadata");var bve=pve,Sve=bve,Dve=ou,Tve=fa,gE=Dve("Symbol"),Ive=gE.keyFor,Eve=Tve(gE.prototype.valueOf),f5=gE.isRegisteredSymbol||function(t){try{return Ive(Eve(t))!==void 0}catch{return!1}},Cve=Gn,xve=f5;Cve({target:"Symbol",stat:!0},{isRegisteredSymbol:xve});var Mve=rm,h5=ou,kve=fa,Nve=ry,Ave=Na,eb=h5("Symbol"),Rk=eb.isWellKnownSymbol,p5=h5("Object","getOwnPropertyNames"),Fve=kve(eb.prototype.valueOf),_k=Mve("wks");for(var kD=0,Bk=p5(eb),Ove=Bk.length;kD<Ove;kD++)try{var Hk=Bk[kD];Nve(eb[Hk])&&Ave(Hk)}catch{}var m5=function(t){if(Rk&&Rk(t))return!0;try{for(var n=Fve(t),r=0,a=p5(_k),o=a.length;r<o;r++)if(_k[a[r]]==n)return!0}catch{}return!1},Pve=Gn,jve=m5;Pve({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:jve});var Lve=Ir;Lve("customMatcher");var Rve=Ir;Rve("observable");var _ve=Gn,Bve=f5;_ve({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Bve});var Hve=Gn,Uve=m5;Hve({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:Uve});var Yve=Ir;Yve("matcher");var zve=Ir;zve("metadataKey");var Vve=Ir;Vve("patternMatch");var Wve=Ir;Wve("replaceAll");var $ve=Sve,Zve=$ve,qve=Zve;const gp=qt(qve);var vE=fa,Gve=e1,Jve=sy,Kve=$I,Qve=vE("".charAt),Uk=vE("".charCodeAt),Xve=vE("".slice),Yk=function(e){return function(t,n){var r=Jve(Kve(t)),a=Gve(n),o=r.length,i,l;return a<0||a>=o?e?"":void 0:(i=Uk(r,a),i<55296||i>56319||a+1===o||(l=Uk(r,a+1))<56320||l>57343?e?Qve(r,a):i:e?Xve(r,a,a+2):(i-55296<<10)+(l-56320)+65536)}},eye={codeAt:Yk(!1),charAt:Yk(!0)},tye=eye.charAt,nye=sy,g5=uE,rye=l5,zk=u5,v5="String Iterator",aye=g5.set,oye=g5.getterFor(v5);rye(String,"String",function(e){aye(this,{type:v5,string:nye(e),index:0})},function(){var t=oye(this),n=t.string,r=t.index,a;return r>=n.length?zk(void 0,!0):(a=tye(n,r),t.index+=a.length,zk(a,!1))});var iye=iy,Vk=GI,sye=WI,lye=im,uye=Na,cye=uye("iterator"),yE=function(e){if(!sye(e))return Vk(e,cye)||Vk(e,"@@iterator")||lye[iye(e)]},dye=yE,fye=dye,hye=fye,pye=hye,mye=pye,gye=mye,vye=gye,yye=vye,wye=yye;const y5=qt(wye);var bye=ii,Sye=am,Dye=TypeError,Tye=Object.getOwnPropertyDescriptor,Iye=bye&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}(),w5=Iye?function(e,t){if(Sye(e)&&!Tye(e,"length").writable)throw new Dye("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},Eye=Gn,Cye=tc,xye=jf,Mye=w5,kye=eE,Nye=da,Aye=Nye(function(){return[].push.call({length:4294967296},1)!==4294967297}),Fye=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},Oye=Aye||!Fye();Eye({target:"Array",proto:!0,arity:1,forced:Oye},{push:function(t){var n=Cye(this),r=xye(n),a=arguments.length;kye(r+a);for(var o=0;o<a;o++)n[r]=arguments[o],r++;return Mye(n,r),r}});var Pye=Za,jye=qa,Lf=function(e,t){var n=jye[e+"Prototype"],r=n&&n[t];if(r)return r;var a=Pye[e],o=a&&a.prototype;return o&&o[t]},Lye=Lf,Rye=Lye("Array","push"),_ye=ec,Bye=Rye,ND=Array.prototype,Hye=function(e){var t=e.push;return e===ND||_ye(ND,e)&&t===ND.push?Bye:t},Uye=Hye,Yye=Uye,zye=Yye,Vye=zye,Wye=Vye,$ye=Wye,Zye=$ye;const qye=qt(Zye);function Gye(e,t){var n=e==null?null:typeof gp<"u"&&y5(e)||e["@@iterator"];if(n!=null){var r,a,o,i,l=[],c=!0,f=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(qye(l).call(l,r.value),l.length!==t);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(f)throw a}}return l}}var Jye=Gn,Wk=am,Kye=rE,Qye=Xu,$k=oE,Xye=jf,e0e=au,t0e=oy,n0e=Na,r0e=t1,a0e=i1,o0e=r0e("slice"),i0e=n0e("species"),AD=Array,s0e=Math.max;Jye({target:"Array",proto:!0,forced:!o0e},{slice:function(t,n){var r=e0e(this),a=Xye(r),o=$k(t,a),i=$k(n===void 0?a:n,a),l,c,f;if(Wk(r)&&(l=r.constructor,Kye(l)&&(l===AD||Wk(l.prototype))?l=void 0:Qye(l)&&(l=l[i0e],l===null&&(l=void 0)),l===AD||l===void 0))return a0e(r,o,i);for(c=new(l===void 0?AD:l)(s0e(i-o,0)),f=0;o<i;o++,f++)o in r&&t0e(c,f,r[o]);return c.length=f,c}});var l0e=Lf,u0e=l0e("Array","slice"),c0e=ec,d0e=u0e,FD=Array.prototype,f0e=function(e){var t=e.slice;return e===FD||c0e(FD,e)&&t===FD.slice?d0e:t},h0e=f0e,p0e=h0e,m0e=p0e,g0e=m0e,v0e=g0e,y0e=v0e,w0e=y0e;const b0e=qt(w0e);var S0e=ru,Zk=ld,D0e=GI,T0e=function(e,t,n){var r,a;Zk(e);try{if(r=D0e(e,"return"),!r){if(t==="throw")throw n;return n}r=S0e(r,e)}catch(o){a=!0,r=o}if(t==="throw")throw n;if(a)throw r;return Zk(r),n},I0e=ld,E0e=T0e,C0e=function(e,t,n,r){try{return r?t(I0e(n)[0],n[1]):t(n)}catch(a){E0e(e,"throw",a)}},x0e=Na,M0e=im,k0e=x0e("iterator"),N0e=Array.prototype,A0e=function(e){return e!==void 0&&(M0e.Array===e||N0e[k0e]===e)},F0e=ru,O0e=qI,P0e=ld,j0e=Qb,L0e=yE,R0e=TypeError,_0e=function(e,t){var n=arguments.length<2?L0e(e):t;if(O0e(n))return P0e(F0e(n,e));throw new R0e(j0e(e)+" is not iterable")},B0e=XI,H0e=ru,U0e=tc,Y0e=C0e,z0e=A0e,V0e=rE,W0e=jf,qk=oy,$0e=_0e,Z0e=yE,Gk=Array,q0e=function(t){var n=U0e(t),r=V0e(this),a=arguments.length,o=a>1?arguments[1]:void 0,i=o!==void 0;i&&(o=B0e(o,a>2?arguments[2]:void 0));var l=Z0e(n),c=0,f,h,g,y,w,S;if(l&&!(this===Gk&&z0e(l)))for(h=r?new this:[],y=$0e(n,l),w=y.next;!(g=H0e(w,y)).done;c++)S=i?Y0e(y,o,[g.value,c],!0):g.value,qk(h,c,S);else for(f=W0e(n),h=r?new this(f):Gk(f);f>c;c++)S=i?o(n[c],c):n[c],qk(h,c,S);return h.length=c,h},G0e=Na,b5=G0e("iterator"),S5=!1;try{var J0e=0,Jk={next:function(){return{done:!!J0e++}},return:function(){S5=!0}};Jk[b5]=function(){return this},Array.from(Jk,function(){throw 2})}catch{}var K0e=function(e,t){try{if(!t&&!S5)return!1}catch{return!1}var n=!1;try{var r={};r[b5]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch{}return n},Q0e=Gn,X0e=q0e,ewe=K0e,twe=!ewe(function(e){Array.from(e)});Q0e({target:"Array",stat:!0,forced:twe},{from:X0e});var nwe=qa,rwe=nwe.Array.from,awe=rwe,owe=awe,iwe=owe,swe=iwe,lwe=swe,uwe=lwe,cwe=uwe;const D5=qt(cwe);function s2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T5(e,t){var n;if(e){if(typeof e=="string")return s2(e,t);var r=b0e(n=Object.prototype.toString.call(e)).call(n,8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return D5(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s2(e,t)}}function dwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ul(e,t){return Pfe(e)||Gye(e,t)||T5(e,t)||dwe()}var I5={exports:{}};(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],a=0;a<arguments.length;a++){var o=arguments[a];if(o){var i=typeof o;if(i==="string"||i==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var l=n.apply(null,o);l&&r.push(l)}}else if(i==="object")if(o.toString===Object.prototype.toString)for(var c in o)t.call(o,c)&&o[c]&&r.push(c);else r.push(o.toString())}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(I5);var fwe=I5.exports;const wE=qt(fwe);var E5={exports:{}},OD,Kk;function hwe(){if(Kk)return OD;Kk=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return OD=e,OD}var PD,Qk;function pwe(){if(Qk)return PD;Qk=1;var e=hwe();function t(){}function n(){}return n.resetWarningCache=t,PD=function(){function r(i,l,c,f,h,g){if(g!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function a(){return r}var o={array:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},PD}E5.exports=pwe()();var mwe=E5.exports;const kn=qt(mwe);var bE=ne.createContext({scrollTo:function(){return 0},scrollToBottom:function(){return 0},scrollToEnd:function(){return 0},scrollToStart:function(){return 0},scrollToTop:function(){return 0}});bE.displayName="ScrollToBottomFunctionContext";function p1(){return P.useContext(bE)}function gwe(){var e=p1(),t=e.scrollToEnd;return t}var SE=ne.createContext({atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom"});SE.displayName="ScrollToBottomState1Context";var DE=ne.createContext({animating:!1,animatingToEnd:!1,sticky:!0});DE.displayName="ScrollToBottomState2Context";var TE=ne.createContext({animating:!1,animatingToEnd:!1,atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom",sticky:!0});TE.displayName="ScrollToBottomStateContext";var Xk=[TE,SE,DE];function vwe(e){return P.useContext(Xk[e]||Xk[0])}function ywe(){var e=vwe(2),t=e.sticky;return[t]}var m1=ne.createContext({offsetHeight:0,scrollHeight:0,setTarget:function(){return 0},styleToClassName:function(){return""}});m1.displayName="ScrollToBottomInternalContext";function wwe(){return P.useContext(m1)}function IE(){var e=wwe(),t=e.styleToClassName;return t}var bwe={backgroundColor:"rgba(0, 0, 0, .2)",borderRadius:10,borderWidth:0,bottom:5,cursor:"pointer",height:20,outline:0,position:"absolute",right:20,width:20,"&:hover":{backgroundColor:"rgba(0, 0, 0, .4)"},"&:active":{backgroundColor:"rgba(0, 0, 0, .6)"}},EE=function(t){var n=t.children,r=t.className,a=ywe(),o=Ul(a,1),i=o[0],l=IE()(bwe),c=gwe();return!i&&ne.createElement("button",{className:wE(l,(r||"")+""),onClick:c,type:"button"},n)};EE.defaultProps={children:void 0,className:""};EE.propTypes={children:kn.any,className:kn.string};var C5={exports:{}},Swe=Gn,Dwe=ii,e4=$s.f;Swe({target:"Object",stat:!0,forced:Object.defineProperty!==e4,sham:!Dwe},{defineProperty:e4});var Twe=qa,x5=Twe.Object,Iwe=C5.exports=function(t,n,r){return x5.defineProperty(t,n,r)};x5.defineProperty.sham&&(Iwe.sham=!0);var Ewe=C5.exports,Cwe=Ewe,M5=Cwe,xwe=M5,Mwe=xwe,kwe=Mwe,Nwe=kwe,Awe=Nwe;const Fwe=qt(Awe);var Owe=ly,Pwe=Owe.f("iterator"),jwe=Pwe,Lwe=jwe,Rwe=Lwe,_we=Rwe,Bwe=_we,Hwe=Bwe,Uwe=Hwe;const Ywe=qt(Uwe);function yv(e){"@babel/helpers - typeof";return yv=typeof gp=="function"&&typeof Ywe=="symbol"?function(t){return typeof t}:function(t){return t&&typeof gp=="function"&&t.constructor===gp&&t!==gp.prototype?"symbol":typeof t},yv(e)}var zwe=ly,Vwe=zwe.f("toPrimitive"),Wwe=Vwe,$we=Wwe,Zwe=$we,qwe=Zwe,Gwe=qwe,Jwe=Gwe,Kwe=Jwe;const Qwe=qt(Kwe);function Xwe(e,t){if(yv(e)!="object"||!e)return e;var n=e[Qwe];if(n!==void 0){var r=n.call(e,t||"default");if(yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ebe(e){var t=Xwe(e,"string");return yv(t)=="symbol"?t:t+""}function tbe(e,t,n){return t=ebe(t),t in e?Fwe(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nbe(e){if(y8(e))return s2(e)}function rbe(e){if(typeof gp<"u"&&y5(e)!=null||e["@@iterator"]!=null)return D5(e)}function abe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cn(e){return nbe(e)||rbe(e)||T5(e)||abe()}var W0=function(e){return e&&e.Math==Math&&e},Oi=W0(typeof globalThis=="object"&&globalThis)||W0(typeof window=="object"&&window)||W0(typeof self=="object"&&self)||W0(typeof dr=="object"&&dr)||function(){return this}()||Function("return this")(),CE={},Zs=function(e){try{return!!e()}catch{return!0}},obe=Zs,Rf=!obe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),k5={},N5={}.propertyIsEnumerable,A5=Object.getOwnPropertyDescriptor,ibe=A5&&!N5.call({1:2},1);k5.f=ibe?function(t){var n=A5(this,t);return!!n&&n.enumerable}:N5;var F5=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},sbe={}.toString,xE=function(e){return sbe.call(e).slice(8,-1)},lbe=Zs,ube=xE,cbe="".split,dbe=lbe(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return ube(e)=="String"?cbe.call(e,""):Object(e)}:Object,g1=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e},fbe=dbe,hbe=g1,ME=function(e){return fbe(hbe(e))},ls=function(e){return typeof e=="function"},pbe=ls,fy=function(e){return typeof e=="object"?e!==null:pbe(e)},jD=Oi,mbe=ls,gbe=function(e){return mbe(e)?e:void 0},v1=function(e,t){return arguments.length<2?gbe(jD[e]):jD[e]&&jD[e][t]},vbe=v1,ybe=vbe("navigator","userAgent")||"",O5=Oi,LD=ybe,t4=O5.process,n4=O5.Deno,r4=t4&&t4.versions||n4&&n4.version,a4=r4&&r4.v8,Ol,tb;a4?(Ol=a4.split("."),tb=Ol[0]<4?1:Ol[0]+Ol[1]):LD&&(Ol=LD.match(/Edge\/(\d+)/),(!Ol||Ol[1]>=74)&&(Ol=LD.match(/Chrome\/(\d+)/),Ol&&(tb=Ol[1])));var wbe=tb&&+tb,o4=wbe,bbe=Zs,P5=!!Object.getOwnPropertySymbols&&!bbe(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o4&&o4<41}),Sbe=P5,j5=Sbe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Dbe=ls,Tbe=v1,Ibe=j5,L5=Ibe?function(e){return typeof e=="symbol"}:function(e){var t=Tbe("Symbol");return Dbe(t)&&Object(e)instanceof t},Ebe=function(e){try{return String(e)}catch{return"Object"}},Cbe=ls,xbe=Ebe,Mbe=function(e){if(Cbe(e))return e;throw TypeError(xbe(e)+" is not a function")},kbe=Mbe,R5=function(e,t){var n=e[t];return n==null?void 0:kbe(n)},RD=ls,_D=fy,Nbe=function(e,t){var n,r;if(t==="string"&&RD(n=e.toString)&&!_D(r=n.call(e))||RD(n=e.valueOf)&&!_D(r=n.call(e))||t!=="string"&&RD(n=e.toString)&&!_D(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},_5={exports:{}},i4=Oi,kE=function(e,t){try{Object.defineProperty(i4,e,{value:t,configurable:!0,writable:!0})}catch{i4[e]=t}return t},Abe=Oi,Fbe=kE,s4="__core-js_shared__",Obe=Abe[s4]||Fbe(s4,{}),NE=Obe,l4=NE;(_5.exports=function(e,t){return l4[e]||(l4[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.18.3",mode:"global",copyright:"¬© 2021 Denis Pushkarev (zloirock.ru)"});var AE=_5.exports,Pbe=g1,B5=function(e){return Object(Pbe(e))},jbe=B5,Lbe={}.hasOwnProperty,_f=Object.hasOwn||function(t,n){return Lbe.call(jbe(t),n)},Rbe=0,_be=Math.random(),H5=function(e){return"Symbol("+String(e===void 0?"":e)+")_"+(++Rbe+_be).toString(36)},Bbe=Oi,Hbe=AE,u4=_f,Ube=H5,c4=P5,Ybe=j5,Mg=Hbe("wks"),Zg=Bbe.Symbol,zbe=Ybe?Zg:Zg&&Zg.withoutSetter||Ube,hy=function(e){return(!u4(Mg,e)||!(c4||typeof Mg[e]=="string"))&&(c4&&u4(Zg,e)?Mg[e]=Zg[e]:Mg[e]=zbe("Symbol."+e)),Mg[e]},d4=fy,f4=L5,Vbe=R5,Wbe=Nbe,$be=hy,Zbe=$be("toPrimitive"),qbe=function(e,t){if(!d4(e)||f4(e))return e;var n=Vbe(e,Zbe),r;if(n){if(t===void 0&&(t="default"),r=n.call(e,t),!d4(r)||f4(r))return r;throw TypeError("Can't convert object to primitive value")}return t===void 0&&(t="number"),Wbe(e,t)},Gbe=qbe,Jbe=L5,U5=function(e){var t=Gbe(e,"string");return Jbe(t)?t:String(t)},Kbe=Oi,h4=fy,l2=Kbe.document,Qbe=h4(l2)&&h4(l2.createElement),Y5=function(e){return Qbe?l2.createElement(e):{}},Xbe=Rf,e1e=Zs,t1e=Y5,z5=!Xbe&&!e1e(function(){return Object.defineProperty(t1e("div"),"a",{get:function(){return 7}}).a!=7}),n1e=Rf,r1e=k5,a1e=F5,o1e=ME,i1e=U5,s1e=_f,l1e=z5,p4=Object.getOwnPropertyDescriptor;CE.f=n1e?p4:function(t,n){if(t=o1e(t),n=i1e(n),l1e)try{return p4(t,n)}catch{}if(s1e(t,n))return a1e(!r1e.f.call(t,n),t[n])};var py={},u1e=fy,ud=function(e){if(u1e(e))return e;throw TypeError(String(e)+" is not an object")},c1e=Rf,d1e=z5,m4=ud,f1e=U5,g4=Object.defineProperty;py.f=c1e?g4:function(t,n,r){if(m4(t),n=f1e(n),m4(r),d1e)try{return g4(t,n,r)}catch{}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var h1e=Rf,p1e=py,m1e=F5,y1=h1e?function(e,t,n){return p1e.f(e,t,m1e(1,n))}:function(e,t,n){return e[t]=n,e},V5={exports:{}},g1e=ls,u2=NE,v1e=Function.toString;g1e(u2.inspectSource)||(u2.inspectSource=function(e){return v1e.call(e)});var W5=u2.inspectSource,y1e=Oi,w1e=ls,b1e=W5,v4=y1e.WeakMap,S1e=w1e(v4)&&/native code/.test(b1e(v4)),D1e=AE,T1e=H5,y4=D1e("keys"),$5=function(e){return y4[e]||(y4[e]=T1e(e))},FE={},I1e=S1e,E1e=Oi,C1e=fy,x1e=y1,BD=_f,HD=NE,M1e=$5,k1e=FE,w4="Object already initialized",N1e=E1e.WeakMap,nb,wv,rb,A1e=function(e){return rb(e)?wv(e):nb(e,{})},F1e=function(e){return function(t){var n;if(!C1e(t)||(n=wv(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(I1e||HD.state){var tf=HD.state||(HD.state=new N1e),O1e=tf.get,b4=tf.has,P1e=tf.set;nb=function(e,t){if(b4.call(tf,e))throw new TypeError(w4);return t.facade=e,P1e.call(tf,e,t),t},wv=function(e){return O1e.call(tf,e)||{}},rb=function(e){return b4.call(tf,e)}}else{var lp=M1e("state");k1e[lp]=!0,nb=function(e,t){if(BD(e,lp))throw new TypeError(w4);return t.facade=e,x1e(e,lp,t),t},wv=function(e){return BD(e,lp)?e[lp]:{}},rb=function(e){return BD(e,lp)}}var Z5={set:nb,get:wv,has:rb,enforce:A1e,getterFor:F1e},c2=Rf,j1e=_f,q5=Function.prototype,L1e=c2&&Object.getOwnPropertyDescriptor,OE=j1e(q5,"name"),R1e=OE&&(function(){}).name==="something",_1e=OE&&(!c2||c2&&L1e(q5,"name").configurable),PE={EXISTS:OE,PROPER:R1e,CONFIGURABLE:_1e},B1e=Oi,S4=ls,H1e=_f,D4=y1,U1e=kE,Y1e=W5,G5=Z5,z1e=PE.CONFIGURABLE,V1e=G5.get,W1e=G5.enforce,$1e=String(String).split("String");(V5.exports=function(e,t,n,r){var a=r?!!r.unsafe:!1,o=r?!!r.enumerable:!1,i=r?!!r.noTargetGet:!1,l=r&&r.name!==void 0?r.name:t,c;if(S4(n)&&(String(l).slice(0,7)==="Symbol("&&(l="["+String(l).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!H1e(n,"name")||z1e&&n.name!==l)&&D4(n,"name",l),c=W1e(n),c.source||(c.source=$1e.join(typeof l=="string"?l:""))),e===B1e){o?e[t]=n:U1e(t,n);return}else a?!i&&e[t]&&(o=!0):delete e[t];o?e[t]=n:D4(e,t,n)})(Function.prototype,"toString",function(){return S4(this)&&V1e(this).source||Y1e(this)});var my=V5.exports,J5={},Z1e=Math.ceil,q1e=Math.floor,w1=function(e){var t=+e;return t!==t||t===0?0:(t>0?q1e:Z1e)(t)},G1e=w1,J1e=Math.max,K1e=Math.min,Q1e=function(e,t){var n=G1e(e);return n<0?J1e(n+t,0):K1e(n,t)},X1e=w1,eSe=Math.min,K5=function(e){return e>0?eSe(X1e(e),9007199254740991):0},tSe=K5,nSe=function(e){return tSe(e.length)},rSe=ME,aSe=Q1e,oSe=nSe,T4=function(e){return function(t,n,r){var a=rSe(t),o=oSe(a),i=aSe(r,o),l;if(e&&n!=n){for(;o>i;)if(l=a[i++],l!=l)return!0}else for(;o>i;i++)if((e||i in a)&&a[i]===n)return e||i||0;return!e&&-1}},iSe={includes:T4(!0),indexOf:T4(!1)},UD=_f,sSe=ME,lSe=iSe.indexOf,uSe=FE,Q5=function(e,t){var n=sSe(e),r=0,a=[],o;for(o in n)!UD(uSe,o)&&UD(n,o)&&a.push(o);for(;t.length>r;)UD(n,o=t[r++])&&(~lSe(a,o)||a.push(o));return a},jE=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],cSe=Q5,dSe=jE,fSe=dSe.concat("length","prototype");J5.f=Object.getOwnPropertyNames||function(t){return cSe(t,fSe)};var X5={};X5.f=Object.getOwnPropertySymbols;var hSe=v1,pSe=J5,mSe=X5,gSe=ud,vSe=hSe("Reflect","ownKeys")||function(t){var n=pSe.f(gSe(t)),r=mSe.f;return r?n.concat(r(t)):n},ySe=_f,wSe=vSe,bSe=CE,SSe=py,DSe=function(e,t){for(var n=wSe(t),r=SSe.f,a=bSe.f,o=0;o<n.length;o++){var i=n[o];ySe(e,i)||r(e,i,a(t,i))}},TSe=Zs,ISe=ls,ESe=/#|\.prototype\./,gy=function(e,t){var n=xSe[CSe(e)];return n==kSe?!0:n==MSe?!1:ISe(t)?TSe(t):!!t},CSe=gy.normalize=function(e){return String(e).replace(ESe,".").toLowerCase()},xSe=gy.data={},MSe=gy.NATIVE="N",kSe=gy.POLYFILL="P",NSe=gy,YD=Oi,ASe=CE.f,FSe=y1,OSe=my,PSe=kE,jSe=DSe,LSe=NSe,RSe=function(e,t){var n=e.target,r=e.global,a=e.stat,o,i,l,c,f,h;if(r?i=YD:a?i=YD[n]||PSe(n,{}):i=(YD[n]||{}).prototype,i)for(l in t){if(f=t[l],e.noTargetGet?(h=ASe(i,l),c=h&&h.value):c=i[l],o=LSe(r?l:n+(a?".":"#")+l,e.forced),!o&&c!==void 0){if(typeof f==typeof c)continue;jSe(f,c)}(e.sham||c&&c.sham)&&FSe(f,"sham",!0),OSe(i,l,f,e)}},_Se=hy,BSe=_Se("toStringTag"),eO={};eO[BSe]="z";var LE=String(eO)==="[object z]",HSe=LE,USe=ls,yw=xE,YSe=hy,zSe=YSe("toStringTag"),VSe=yw(function(){return arguments}())=="Arguments",WSe=function(e,t){try{return e[t]}catch{}},tO=HSe?yw:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=WSe(t=Object(e),zSe))=="string"?n:VSe?yw(t):(r=yw(t))=="Object"&&USe(t.callee)?"Arguments":r},$Se=tO,b1=function(e){if($Se(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String(e)},ZSe=ud,nO=function(){var e=ZSe(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},RE={},rO=Zs,qSe=Oi,aO=qSe.RegExp;RE.UNSUPPORTED_Y=rO(function(){var e=aO("a","y");return e.lastIndex=2,e.exec("abcd")!=null});RE.BROKEN_CARET=rO(function(){var e=aO("^r","gy");return e.lastIndex=2,e.exec("str")!=null});var GSe=Q5,JSe=jE,KSe=Object.keys||function(t){return GSe(t,JSe)},QSe=Rf,XSe=py,eDe=ud,tDe=KSe,nDe=QSe?Object.defineProperties:function(t,n){eDe(t);for(var r=tDe(n),a=r.length,o=0,i;a>o;)XSe.f(t,i=r[o++],n[i]);return t},rDe=v1,aDe=rDe("document","documentElement"),oDe=ud,iDe=nDe,I4=jE,sDe=FE,lDe=aDe,uDe=Y5,cDe=$5,E4=">",C4="<",d2="prototype",f2="script",oO=cDe("IE_PROTO"),zD=function(){},iO=function(e){return C4+f2+E4+e+C4+"/"+f2+E4},x4=function(e){e.write(iO("")),e.close();var t=e.parentWindow.Object;return e=null,t},dDe=function(){var e=uDe("iframe"),t="java"+f2+":",n;return e.style.display="none",lDe.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(iO("document.F=Object")),n.close(),n.F},$0,ww=function(){try{$0=new ActiveXObject("htmlfile")}catch{}ww=typeof document<"u"?document.domain&&$0?x4($0):dDe():x4($0);for(var e=I4.length;e--;)delete ww[d2][I4[e]];return ww()};sDe[oO]=!0;var fDe=Object.create||function(t,n){var r;return t!==null?(zD[d2]=oDe(t),r=new zD,zD[d2]=null,r[oO]=t):r=ww(),n===void 0?r:iDe(r,n)},hDe=Zs,pDe=Oi,mDe=pDe.RegExp,gDe=hDe(function(){var e=mDe(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),vDe=Zs,yDe=Oi,wDe=yDe.RegExp,bDe=vDe(function(){var e=wDe("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),SDe=b1,DDe=nO,M4=RE,TDe=AE,IDe=fDe,EDe=Z5.get,CDe=gDe,xDe=bDe,ab=RegExp.prototype.exec,MDe=TDe("native-string-replace",String.prototype.replace),h2=ab,p2=function(){var e=/a/,t=/b*/g;return ab.call(e,"a"),ab.call(t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),sO=M4.UNSUPPORTED_Y||M4.BROKEN_CARET,m2=/()??/.exec("")[1]!==void 0,kDe=p2||m2||sO||CDe||xDe;kDe&&(h2=function(t){var n=this,r=EDe(n),a=SDe(t),o=r.raw,i,l,c,f,h,g,y;if(o)return o.lastIndex=n.lastIndex,i=h2.call(o,a),n.lastIndex=o.lastIndex,i;var w=r.groups,S=sO&&n.sticky,D=DDe.call(n),I=n.source,M=0,N=a;if(S&&(D=D.replace("y",""),D.indexOf("g")===-1&&(D+="g"),N=a.slice(n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&a.charAt(n.lastIndex-1)!==`
`)&&(I="(?: "+I+")",N=" "+N,M++),l=new RegExp("^(?:"+I+")",D)),m2&&(l=new RegExp("^"+I+"$(?!\\s)",D)),p2&&(c=n.lastIndex),f=ab.call(S?l:n,N),S?f?(f.input=f.input.slice(M),f[0]=f[0].slice(M),f.index=n.lastIndex,n.lastIndex+=f[0].length):n.lastIndex=0:p2&&f&&(n.lastIndex=n.global?f.index+f[0].length:c),m2&&f&&f.length>1&&MDe.call(f[0],l,function(){for(h=1;h<arguments.length-2;h++)arguments[h]===void 0&&(f[h]=void 0)}),f&&w)for(f.groups=g=IDe(null),h=0;h<w.length;h++)y=w[h],g[y[0]]=f[y[1]];return f});var _E=h2,NDe=RSe,k4=_E;NDe({target:"RegExp",proto:!0,forced:/./.exec!==k4},{exec:k4});var N4=my,ADe=_E,A4=Zs,lO=hy,FDe=y1,ODe=lO("species"),VD=RegExp.prototype,PDe=function(e,t,n,r){var a=lO(e),o=!A4(function(){var f={};return f[a]=function(){return 7},""[e](f)!=7}),i=o&&!A4(function(){var f=!1,h=/a/;return e==="split"&&(h={},h.constructor={},h.constructor[ODe]=function(){return h},h.flags="",h[a]=/./[a]),h.exec=function(){return f=!0,null},h[a](""),!f});if(!o||!i||n){var l=/./[a],c=t(a,""[e],function(f,h,g,y,w){var S=h.exec;return S===ADe||S===VD.exec?o&&!w?{done:!0,value:l.call(h,g,y)}:{done:!0,value:f.call(g,h,y)}:{done:!1}});N4(String.prototype,e,c[0]),N4(VD,a,c[1])}r&&FDe(VD[a],"sham",!0)},jDe=w1,LDe=b1,RDe=g1,F4=function(e){return function(t,n){var r=LDe(RDe(t)),a=jDe(n),o=r.length,i,l;return a<0||a>=o?e?"":void 0:(i=r.charCodeAt(a),i<55296||i>56319||a+1===o||(l=r.charCodeAt(a+1))<56320||l>57343?e?r.charAt(a):i:e?r.slice(a,a+2):(i-55296<<10)+(l-56320)+65536)}},_De={codeAt:F4(!1),charAt:F4(!0)},BDe=_De.charAt,HDe=function(e,t,n){return t+(n?BDe(e,t).length:1)},UDe=B5,YDe=Math.floor,zDe="".replace,VDe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,WDe=/\$([$&'`]|\d{1,2})/g,$De=function(e,t,n,r,a,o){var i=n+e.length,l=r.length,c=WDe;return a!==void 0&&(a=UDe(a),c=VDe),zDe.call(o,c,function(f,h){var g;switch(h.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(i);case"<":g=a[h.slice(1,-1)];break;default:var y=+h;if(y===0)return f;if(y>l){var w=YDe(y/10);return w===0?f:w<=l?r[w-1]===void 0?h.charAt(1):r[w-1]+h.charAt(1):f}g=r[y-1]}return g===void 0?"":g})},ZDe=ud,qDe=ls,GDe=xE,JDe=_E,KDe=function(e,t){var n=e.exec;if(qDe(n)){var r=n.call(e,t);return r!==null&&ZDe(r),r}if(GDe(e)==="RegExp")return JDe.call(e,t);throw TypeError("RegExp#exec called on incompatible receiver")},QDe=PDe,XDe=Zs,eTe=ud,tTe=ls,nTe=w1,rTe=K5,up=b1,aTe=g1,oTe=HDe,iTe=R5,sTe=$De,lTe=KDe,uTe=hy,g2=uTe("replace"),cTe=Math.max,dTe=Math.min,fTe=function(e){return e===void 0?e:String(e)},hTe=function(){return"a".replace(/./,"$0")==="$0"}(),O4=function(){return/./[g2]?/./[g2]("a","$0")==="":!1}(),pTe=!XDe(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});QDe("replace",function(e,t,n){var r=O4?"$":"$0";return[function(o,i){var l=aTe(this),c=o==null?void 0:iTe(o,g2);return c?c.call(o,l,i):t.call(up(l),o,i)},function(a,o){var i=eTe(this),l=up(a);if(typeof o=="string"&&o.indexOf(r)===-1&&o.indexOf("$<")===-1){var c=n(t,i,l,o);if(c.done)return c.value}var f=tTe(o);f||(o=up(o));var h=i.global;if(h){var g=i.unicode;i.lastIndex=0}for(var y=[];;){var w=lTe(i,l);if(w===null||(y.push(w),!h))break;var S=up(w[0]);S===""&&(i.lastIndex=oTe(l,rTe(i.lastIndex),g))}for(var D="",I=0,M=0;M<y.length;M++){w=y[M];for(var N=up(w[0]),B=cTe(dTe(nTe(w.index),l.length),0),k=[],R=1;R<w.length;R++)k.push(fTe(w[R]));var L=w.groups;if(f){var _=[N].concat(k,B,l);L!==void 0&&_.push(L);var V=up(o.apply(void 0,_))}else V=sTe(N,l,B,k,L,o);B>=I&&(D+=l.slice(I,B)+V,I=B+N.length)}return D+l.slice(I)}]},!pTe||!hTe||O4);var mTe=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",gTe=TypeError,vTe=function(e,t){if(e<t)throw new gTe("Not enough arguments");return e},uO=Za,yTe=YI,wTe=co,bTe=mTe,STe=c8,DTe=i1,TTe=vTe,ITe=uO.Function,ETe=/MSIE .\./.test(STe)||bTe&&function(){var e=uO.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}(),cO=function(e,t){var n=t?2:1;return ETe?function(r,a){var o=TTe(arguments.length,1)>n,i=wTe(r)?r:ITe(r),l=o?DTe(arguments,n):[],c=o?function(){yTe(i,this,l)}:i;return t?e(c,a):e(c)}:e},CTe=Gn,dO=Za,xTe=cO,P4=xTe(dO.setInterval,!0);CTe({global:!0,bind:!0,forced:dO.setInterval!==P4},{setInterval:P4});var MTe=Gn,fO=Za,kTe=cO,j4=kTe(fO.setTimeout,!0);MTe({global:!0,bind:!0,forced:fO.setTimeout!==j4},{setTimeout:j4});var NTe=qa,ATe=NTe.setInterval,FTe=ATe;const OTe=qt(FTe);var PTe=da,hO=function(e,t){var n=[][e];return!!n&&PTe(function(){n.call(null,t||function(){return 1},1)})},jTe=Gn,LTe=zI,RTe=E8.indexOf,_Te=hO,v2=LTe([].indexOf),pO=!!v2&&1/v2([1],1,-0)<0,BTe=pO||!_Te("indexOf");jTe({target:"Array",proto:!0,forced:BTe},{indexOf:function(t){var n=arguments.length>1?arguments[1]:void 0;return pO?v2(this,t,n)||0:RTe(this,t,n)}});var HTe=Lf,UTe=HTe("Array","indexOf"),YTe=ec,zTe=UTe,WD=Array.prototype,VTe=function(e){var t=e.indexOf;return e===WD||YTe(WD,e)&&t===WD.indexOf?zTe:t},WTe=VTe,$Te=WTe,ZTe=$Te;const qTe=qt(ZTe);var L4=Qb,GTe=TypeError,JTe=function(e,t){if(!delete e[t])throw new GTe("Cannot delete property "+L4(t)+" of "+L4(e))},KTe=Gn,QTe=tc,XTe=oE,e2e=e1,t2e=jf,n2e=w5,r2e=eE,a2e=aE,o2e=oy,$D=JTe,i2e=t1,s2e=i2e("splice"),l2e=Math.max,u2e=Math.min;KTe({target:"Array",proto:!0,forced:!s2e},{splice:function(t,n){var r=QTe(this),a=t2e(r),o=XTe(t,a),i=arguments.length,l,c,f,h,g,y;for(i===0?l=c=0:i===1?(l=0,c=a-o):(l=i-2,c=u2e(l2e(e2e(n),0),a-o)),r2e(a+l-c),f=a2e(r,c),h=0;h<c;h++)g=o+h,g in r&&o2e(f,h,r[g]);if(f.length=c,l<c){for(h=o;h<a-c;h++)g=h+c,y=h+l,g in r?r[y]=r[g]:$D(r,y);for(h=a;h>a-c+l;h--)$D(r,h-1)}else if(l>c)for(h=a-c;h>o;h--)g=h+c-1,y=h+l-1,g in r?r[y]=r[g]:$D(r,y);for(h=0;h<l;h++)r[h+o]=arguments[h+2];return n2e(r,a-c+l),f}});var c2e=Lf,d2e=c2e("Array","splice"),f2e=ec,h2e=d2e,ZD=Array.prototype,p2e=function(e){var t=e.splice;return e===ZD||f2e(ZD,e)&&t===ZD.splice?h2e:t},m2e=p2e,g2e=m2e,v2e=g2e;const y2e=qt(v2e);var w2e=Lf,b2e=w2e("Array","concat"),S2e=ec,D2e=b2e,qD=Array.prototype,T2e=function(e){var t=e.concat;return e===qD||S2e(qD,e)&&t===qD.concat?D2e:t},I2e=T2e,E2e=I2e,C2e=E2e;const Dr=qt(C2e);var x2e=Gn,M2e=fa,mO=Date,k2e=M2e(mO.prototype.getTime);x2e({target:"Date",stat:!0},{now:function(){return k2e(new mO)}});var N2e=qa,A2e=N2e.Date.now,F2e=A2e,O2e=F2e,P2e=O2e;const Xc=qt(P2e);var j2e=cE.forEach,L2e=hO,R2e=L2e("forEach"),_2e=R2e?[].forEach:function(t){return j2e(this,t,arguments.length>1?arguments[1]:void 0)},B2e=Gn,R4=_2e;B2e({target:"Array",proto:!0,forced:[].forEach!==R4},{forEach:R4});var H2e=Lf,U2e=H2e("Array","forEach"),Y2e=U2e,z2e=Y2e,V2e=iy,W2e=Fi,$2e=ec,Z2e=z2e,GD=Array.prototype,q2e={DOMTokenList:!0,NodeList:!0},G2e=function(e){var t=e.forEach;return e===GD||$2e(GD,e)&&t===GD.forEach||W2e(q2e,V2e(e))?Z2e:t},J2e=G2e;const ob=qt(J2e);var K2e=Gn,Q2e=tc,gO=sE,X2e=da,eIe=X2e(function(){gO(1)});K2e({target:"Object",stat:!0,forced:eIe},{keys:function(t){return gO(Q2e(t))}});var tIe=qa,nIe=tIe.Object.keys,rIe=nIe,aIe=rIe,oIe=aIe;const iIe=qt(oIe);var sIe=qa,lIe=sIe.Object.getOwnPropertySymbols,uIe=lIe,cIe=uIe,dIe=cIe;const _4=qt(dIe);var fIe=Gn,hIe=cE.filter,pIe=t1,mIe=pIe("filter");fIe({target:"Array",proto:!0,forced:!mIe},{filter:function(t){return hIe(this,t,arguments.length>1?arguments[1]:void 0)}});var gIe=Lf,vIe=gIe("Array","filter"),yIe=ec,wIe=vIe,JD=Array.prototype,bIe=function(e){var t=e.filter;return e===JD||yIe(JD,e)&&t===JD.filter?wIe:t},SIe=bIe,DIe=SIe,TIe=DIe;const IIe=qt(TIe);var vO={exports:{}},EIe=Gn,CIe=da,xIe=au,yO=ty.f,wO=ii,MIe=!wO||CIe(function(){yO(1)});EIe({target:"Object",stat:!0,forced:MIe,sham:!wO},{getOwnPropertyDescriptor:function(t,n){return yO(xIe(t),n)}});var kIe=qa,bO=kIe.Object,NIe=vO.exports=function(t,n){return bO.getOwnPropertyDescriptor(t,n)};bO.getOwnPropertyDescriptor.sham&&(NIe.sham=!0);var AIe=vO.exports,FIe=AIe,OIe=FIe,PIe=OIe;const SO=qt(PIe);var jIe=ou,LIe=fa,RIe=o1,_Ie=s1,BIe=ld,HIe=LIe([].concat),UIe=jIe("Reflect","ownKeys")||function(t){var n=RIe.f(BIe(t)),r=_Ie.f;return r?HIe(n,r(t)):n},YIe=Gn,zIe=ii,VIe=UIe,WIe=au,$Ie=ty,ZIe=oy;YIe({target:"Object",stat:!0,sham:!zIe},{getOwnPropertyDescriptors:function(t){for(var n=WIe(t),r=$Ie.f,a=VIe(n),o={},i=0,l,c;a.length>i;)c=r(n,l=a[i++]),c!==void 0&&ZIe(o,l,c);return o}});var qIe=qa,GIe=qIe.Object.getOwnPropertyDescriptors,JIe=GIe,KIe=JIe,QIe=KIe;const B4=qt(QIe);var DO={exports:{}},XIe=Gn,eEe=ii,H4=n1.f;XIe({target:"Object",stat:!0,forced:Object.defineProperties!==H4,sham:!eEe},{defineProperties:H4});var tEe=qa,TO=tEe.Object,nEe=DO.exports=function(t,n){return TO.defineProperties(t,n)};TO.defineProperties.sham&&(nEe.sham=!0);var rEe=DO.exports,aEe=rEe,oEe=aEe,iEe=oEe;const sEe=qt(iEe);var lEe=M5;const uEe=qt(lEe);function cEe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function dEe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var fEe=function(){function e(n){var r=this;this._insertTag=function(a){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,o),r.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(dEe(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var o=cEe(a);try{o.insertRule(r,o.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),io="-ms-",ib="-moz-",Rn="-webkit-",IO="comm",BE="rule",HE="decl",hEe="@import",EO="@keyframes",pEe="@layer",mEe=Math.abs,S1=String.fromCharCode,gEe=Object.assign;function vEe(e,t){return Va(e,0)^45?(((t<<2^Va(e,0))<<2^Va(e,1))<<2^Va(e,2))<<2^Va(e,3):0}function CO(e){return e.trim()}function yEe(e,t){return(e=t.exec(e))?e[0]:e}function _n(e,t,n){return e.replace(t,n)}function y2(e,t){return e.indexOf(t)}function Va(e,t){return e.charCodeAt(t)|0}function bv(e,t,n){return e.slice(t,n)}function Yl(e){return e.length}function UE(e){return e.length}function Z0(e,t){return t.push(e),e}function wEe(e,t){return e.map(t).join("")}var D1=1,Fp=1,xO=0,oi=0,ea=0,sm="";function T1(e,t,n,r,a,o,i){return{value:e,root:t,parent:n,type:r,props:a,children:o,line:D1,column:Fp,length:i,return:""}}function kg(e,t){return gEe(T1("",null,null,"",null,null,0),e,{length:-e.length},t)}function bEe(){return ea}function SEe(){return ea=oi>0?Va(sm,--oi):0,Fp--,ea===10&&(Fp=1,D1--),ea}function ki(){return ea=oi<xO?Va(sm,oi++):0,Fp++,ea===10&&(Fp=1,D1++),ea}function Kl(){return Va(sm,oi)}function bw(){return oi}function vy(e,t){return bv(sm,e,t)}function Sv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function MO(e){return D1=Fp=1,xO=Yl(sm=e),oi=0,[]}function kO(e){return sm="",e}function Sw(e){return CO(vy(oi-1,w2(e===91?e+2:e===40?e+1:e)))}function DEe(e){for(;(ea=Kl())&&ea<33;)ki();return Sv(e)>2||Sv(ea)>3?"":" "}function TEe(e,t){for(;--t&&ki()&&!(ea<48||ea>102||ea>57&&ea<65||ea>70&&ea<97););return vy(e,bw()+(t<6&&Kl()==32&&ki()==32))}function w2(e){for(;ki();)switch(ea){case e:return oi;case 34:case 39:e!==34&&e!==39&&w2(ea);break;case 40:e===41&&w2(e);break;case 92:ki();break}return oi}function IEe(e,t){for(;ki()&&e+ea!==57;)if(e+ea===84&&Kl()===47)break;return"/*"+vy(t,oi-1)+"*"+S1(e===47?e:ki())}function EEe(e){for(;!Sv(Kl());)ki();return vy(e,oi)}function CEe(e){return kO(Dw("",null,null,null,[""],e=MO(e),0,[0],e))}function Dw(e,t,n,r,a,o,i,l,c){for(var f=0,h=0,g=i,y=0,w=0,S=0,D=1,I=1,M=1,N=0,B="",k=a,R=o,L=r,_=B;I;)switch(S=N,N=ki()){case 40:if(S!=108&&Va(_,g-1)==58){y2(_+=_n(Sw(N),"&","&\f"),"&\f")!=-1&&(M=-1);break}case 34:case 39:case 91:_+=Sw(N);break;case 9:case 10:case 13:case 32:_+=DEe(S);break;case 92:_+=TEe(bw()-1,7);continue;case 47:switch(Kl()){case 42:case 47:Z0(xEe(IEe(ki(),bw()),t,n),c);break;default:_+="/"}break;case 123*D:l[f++]=Yl(_)*M;case 125*D:case 59:case 0:switch(N){case 0:case 125:I=0;case 59+h:M==-1&&(_=_n(_,/\f/g,"")),w>0&&Yl(_)-g&&Z0(w>32?Y4(_+";",r,n,g-1):Y4(_n(_," ","")+";",r,n,g-2),c);break;case 59:_+=";";default:if(Z0(L=U4(_,t,n,f,h,a,l,B,k=[],R=[],g),o),N===123)if(h===0)Dw(_,t,L,L,k,o,g,l,R);else switch(y===99&&Va(_,3)===110?100:y){case 100:case 108:case 109:case 115:Dw(e,L,L,r&&Z0(U4(e,L,L,0,0,a,l,B,a,k=[],g),R),a,R,g,l,r?k:R);break;default:Dw(_,L,L,L,[""],R,0,l,R)}}f=h=w=0,D=M=1,B=_="",g=i;break;case 58:g=1+Yl(_),w=S;default:if(D<1){if(N==123)--D;else if(N==125&&D++==0&&SEe()==125)continue}switch(_+=S1(N),N*D){case 38:M=h>0?1:(_+="\f",-1);break;case 44:l[f++]=(Yl(_)-1)*M,M=1;break;case 64:Kl()===45&&(_+=Sw(ki())),y=Kl(),h=g=Yl(B=_+=EEe(bw())),N++;break;case 45:S===45&&Yl(_)==2&&(D=0)}}return o}function U4(e,t,n,r,a,o,i,l,c,f,h){for(var g=a-1,y=a===0?o:[""],w=UE(y),S=0,D=0,I=0;S<r;++S)for(var M=0,N=bv(e,g+1,g=mEe(D=i[S])),B=e;M<w;++M)(B=CO(D>0?y[M]+" "+N:_n(N,/&\f/g,y[M])))&&(c[I++]=B);return T1(e,t,n,a===0?BE:l,c,f,h)}function xEe(e,t,n){return T1(e,t,n,IO,S1(bEe()),bv(e,2,-2),0)}function Y4(e,t,n,r){return T1(e,t,n,HE,bv(e,0,r),bv(e,r+1,-1),r)}function wp(e,t){for(var n="",r=UE(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function MEe(e,t,n,r){switch(e.type){case pEe:if(e.children.length)break;case hEe:case HE:return e.return=e.return||e.value;case IO:return"";case EO:return e.return=e.value+"{"+wp(e.children,r)+"}";case BE:e.value=e.props.join(",")}return Yl(n=wp(e.children,r))?e.return=e.value+"{"+n+"}":""}function kEe(e){var t=UE(e);return function(n,r,a,o){for(var i="",l=0;l<t;l++)i+=e[l](n,r,a,o)||"";return i}}function NEe(e){return function(t){t.root||(t=t.return)&&e(t)}}function AEe(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var FEe=function(t,n,r){for(var a=0,o=0;a=o,o=Kl(),a===38&&o===12&&(n[r]=1),!Sv(o);)ki();return vy(t,oi)},OEe=function(t,n){var r=-1,a=44;do switch(Sv(a)){case 0:a===38&&Kl()===12&&(n[r]=1),t[r]+=FEe(oi-1,n,r);break;case 2:t[r]+=Sw(a);break;case 4:if(a===44){t[++r]=Kl()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=S1(a)}while(a=ki());return t},PEe=function(t,n){return kO(OEe(MO(t),n))},z4=new WeakMap,jEe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,a=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!z4.get(r))&&!a){z4.set(t,!0);for(var o=[],i=PEe(n,o),l=r.props,c=0,f=0;c<i.length;c++)for(var h=0;h<l.length;h++,f++)t.props[f]=o[c]?i[c].replace(/&\f/g,l[h]):l[h]+" "+i[c]}}},LEe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function NO(e,t){switch(vEe(e,t)){case 5103:return Rn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Rn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Rn+e+ib+e+io+e+e;case 6828:case 4268:return Rn+e+io+e+e;case 6165:return Rn+e+io+"flex-"+e+e;case 5187:return Rn+e+_n(e,/(\w+).+(:[^]+)/,Rn+"box-$1$2"+io+"flex-$1$2")+e;case 5443:return Rn+e+io+"flex-item-"+_n(e,/flex-|-self/,"")+e;case 4675:return Rn+e+io+"flex-line-pack"+_n(e,/align-content|flex-|-self/,"")+e;case 5548:return Rn+e+io+_n(e,"shrink","negative")+e;case 5292:return Rn+e+io+_n(e,"basis","preferred-size")+e;case 6060:return Rn+"box-"+_n(e,"-grow","")+Rn+e+io+_n(e,"grow","positive")+e;case 4554:return Rn+_n(e,/([^-])(transform)/g,"$1"+Rn+"$2")+e;case 6187:return _n(_n(_n(e,/(zoom-|grab)/,Rn+"$1"),/(image-set)/,Rn+"$1"),e,"")+e;case 5495:case 3959:return _n(e,/(image-set\([^]*)/,Rn+"$1$`$1");case 4968:return _n(_n(e,/(.+:)(flex-)?(.*)/,Rn+"box-pack:$3"+io+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Rn+e+e;case 4095:case 3583:case 4068:case 2532:return _n(e,/(.+)-inline(.+)/,Rn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Yl(e)-1-t>6)switch(Va(e,t+1)){case 109:if(Va(e,t+4)!==45)break;case 102:return _n(e,/(.+:)(.+)-([^]+)/,"$1"+Rn+"$2-$3$1"+ib+(Va(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~y2(e,"stretch")?NO(_n(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Va(e,t+1)!==115)break;case 6444:switch(Va(e,Yl(e)-3-(~y2(e,"!important")&&10))){case 107:return _n(e,":",":"+Rn)+e;case 101:return _n(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Rn+(Va(e,14)===45?"inline-":"")+"box$3$1"+Rn+"$2$3$1"+io+"$2box$3")+e}break;case 5936:switch(Va(e,t+11)){case 114:return Rn+e+io+_n(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Rn+e+io+_n(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Rn+e+io+_n(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Rn+e+io+e+e}return e}var REe=function(t,n,r,a){if(t.length>-1&&!t.return)switch(t.type){case HE:t.return=NO(t.value,t.length);break;case EO:return wp([kg(t,{value:_n(t.value,"@","@"+Rn)})],a);case BE:if(t.length)return wEe(t.props,function(o){switch(yEe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wp([kg(t,{props:[_n(o,/:(read-\w+)/,":"+ib+"$1")]})],a);case"::placeholder":return wp([kg(t,{props:[_n(o,/:(plac\w+)/,":"+Rn+"input-$1")]}),kg(t,{props:[_n(o,/:(plac\w+)/,":"+ib+"$1")]}),kg(t,{props:[_n(o,/:(plac\w+)/,io+"input-$1")]})],a)}return""})}},_Ee=[REe],BEe=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(D){var I=D.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(D),D.setAttribute("data-s",""))})}var a=t.stylisPlugins||_Ee,o={},i,l=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(D){for(var I=D.getAttribute("data-emotion").split(" "),M=1;M<I.length;M++)o[I[M]]=!0;l.push(D)});var c,f=[jEe,LEe],h,g=[MEe,NEe(function(D){h.insert(D)})],y=kEe(f.concat(a,g)),w=function(I){return wp(CEe(I),y)};c=function(I,M,N,B){h=N,w(I?I+"{"+M.styles+"}":M.styles),B&&(S.inserted[M.name]=!0)};var S={key:n,sheet:new fEe({key:n,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:c};return S.sheet.hydrate(l),S};function HEe(e){for(var t=0,n,r=0,a=e.length;a>=4;++r,a-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var UEe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},YEe=/[A-Z]|^ms/g,zEe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,AO=function(t){return t.charCodeAt(1)===45},V4=function(t){return t!=null&&typeof t!="boolean"},KD=AEe(function(e){return AO(e)?e:e.replace(YEe,"-$&").toLowerCase()}),W4=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(zEe,function(r,a,o){return zl={name:a,styles:o,next:zl},a})}return UEe[t]!==1&&!AO(t)&&typeof n=="number"&&n!==0?n+"px":n};function Dv(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":if(n.anim===1)return zl={name:n.name,styles:n.styles,next:zl},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)zl={name:r.name,styles:r.styles,next:zl},r=r.next;var a=n.styles+";";return a}return VEe(e,t,n);case"function":if(e!==void 0){var o=zl,i=n(e);return zl=o,Dv(e,t,i)}break}if(t==null)return n;var l=t[n];return l!==void 0?l:n}function VEe(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=Dv(e,t,n[a])+";";else for(var o in n){var i=n[o];if(typeof i!="object")t!=null&&t[i]!==void 0?r+=o+"{"+t[i]+"}":V4(i)&&(r+=KD(o)+":"+W4(o,i)+";");else if(Array.isArray(i)&&typeof i[0]=="string"&&(t==null||t[i[0]]===void 0))for(var l=0;l<i.length;l++)V4(i[l])&&(r+=KD(o)+":"+W4(o,i[l])+";");else{var c=Dv(e,t,i);switch(o){case"animation":case"animationName":r+=KD(o)+":"+c+";";break;default:r+=o+"{"+c+"}"}}}return r}var $4=/label:\s*([^\s;\n{]+)\s*(;|$)/g,zl,QD=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var a=!0,o="";zl=void 0;var i=t[0];i==null||i.raw===void 0?(a=!1,o+=Dv(r,n,i)):o+=i[0];for(var l=1;l<t.length;l++)o+=Dv(r,n,t[l]),a&&(o+=i[l]);$4.lastIndex=0;for(var c="",f;(f=$4.exec(o))!==null;)c+="-"+f[1];var h=HEe(o)+c;return{name:h,styles:o,next:zl}},WEe=!0;function FO(e,t,n){var r="";return n.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):r+=a+" "}),r}var $Ee=function(t,n,r){var a=t.key+"-"+n.name;(r===!1||WEe===!1)&&t.registered[a]===void 0&&(t.registered[a]=n.styles)},ZEe=function(t,n,r){$Ee(t,n,r);var a=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+a:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Z4(e,t){if(e.inserted[t.name]===void 0)return e.insert("",t,e.sheet,!0)}function q4(e,t,n){var r=[],a=FO(e,r,n);return r.length<2?n:a+t(r)}var qEe=function(t){var n=BEe(t);n.sheet.speedy=function(l){this.isSpeedy=l},n.compat=!0;var r=function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];var g=QD(f,n.registered,void 0);return ZEe(n,g,!1),n.key+"-"+g.name},a=function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];var g=QD(f,n.registered),y="animation-"+g.name;return Z4(n,{name:g.name,styles:"@keyframes "+y+"{"+g.styles+"}"}),y},o=function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];var g=QD(f,n.registered);Z4(n,g)},i=function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];return q4(n.registered,r,GEe(f))};return{css:r,cx:i,injectGlobal:o,keyframes:a,hydrate:function(c){c.forEach(function(f){n.inserted[f]=!0})},flush:function(){n.registered={},n.inserted={},n.sheet.flush()},sheet:n.sheet,cache:n,getRegisteredStyles:FO.bind(null,n.registered),merge:q4.bind(null,n.registered,r)}},GEe=function e(t){for(var n="",r=0;r<t.length;r++){var a=t[r];if(a!=null){var o=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))o=e(a);else{o="";for(var i in a)a[i]&&i&&(o&&(o+=" "),o+=i)}break;default:o=a}o&&(n&&(n+=" "),n+=o)}}return n},JEe=my,YE=Date.prototype,G4="Invalid Date",OO="toString",KEe=YE[OO],QEe=YE.getTime;String(new Date(NaN))!=G4&&JEe(YE,OO,function(){var t=QEe.call(this);return t===t?KEe.call(this):G4});var XEe=LE,eCe=tO,tCe=XEe?{}.toString:function(){return"[object "+eCe(this)+"]"},nCe=LE,rCe=my,aCe=tCe;nCe||rCe(Object.prototype,"toString",aCe,{unsafe:!0});var oCe=PE.PROPER,iCe=my,sCe=ud,J4=b1,lCe=Zs,uCe=nO,zE="toString",PO=RegExp.prototype,jO=PO[zE],cCe=lCe(function(){return jO.call({source:"a",flags:"b"})!="/a/b"}),dCe=oCe&&jO.name!=zE;(cCe||dCe)&&iCe(RegExp.prototype,zE,function(){var t=sCe(this),n=J4(t.source),r=t.flags,a=J4(r===void 0&&t instanceof RegExp&&!("flags"in PO)?uCe.call(t):r);return"/"+n+"/"+a},{unsafe:!0});var K4=typeof window<"u"?window:self,fCe=K4.crypto||K4.msCrypto,hCe=function(e){if(!e)return Math.random;var t=Math.pow(2,32),n=new Uint32Array(1);return function(){return e.getRandomValues(n)[0]/t}}(fCe);const pCe=qt(hCe);function mCe(){return pCe().toString(26).substr(2,5).replace(/[0-9]/g,function(e){return String.fromCharCode(e.charCodeAt(0)+65)})}var gCe=v8;const Q4=qt(gCe);function Vn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"white",n="background-color: ".concat(e,"; border-radius: 4px; padding: 2px 4px;");return t&&(n+=" color: ".concat(t,";")),[n,""]}function X4(e,t){for(var n,r,a=arguments.length,o=new Array(a>2?a-2:0),i=2;i<a;i++)o[i-2]=arguments[i];return Dr(n=[Dr(r="%c".concat(e,"%c ")).call(r,t)]).call(n,Cn(Vn("green","white")),o)}function vCe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.force,r=n===void 0?!1:n;return r?function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];if(o.length){var l=o,c=Ul(l,1),f=c[0];typeof f=="function"&&(o=f());var h=Q4(o[0])?o:[o],g=h.length===1;ob(h).call(h,function(y,w){if(g){var S,D;(S=console).log.apply(S,Cn(X4.apply(void 0,Dr(D=[e]).call(D,Cn(y)))))}else if(w){var I;(I=console).log.apply(I,Cn(Q4(y)?y:[y]))}else{var M,N;(M=console).groupCollapsed.apply(M,Cn(X4.apply(void 0,Dr(N=[e]).call(N,Cn(y)))))}}),g||console.groupEnd()}}:function(){return 0}}var yCe=Rf,wCe=PE.EXISTS,bCe=py.f,LO=Function.prototype,SCe=LO.toString,DCe=/^\s*function ([^ (]*)/,TCe="name";yCe&&!wCe&&bCe(LO,TCe,{configurable:!0,get:function(){try{return SCe.call(this).match(DCe)[1]}catch{return""}}});var ICe=qa,ECe=ICe.setTimeout,CCe=ECe;const xCe=qt(CCe);function MCe(e,t){if(!t)return e;var n=0,r=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];var l=Xc();l-n>t?(e.apply(void 0,o),n=l):(clearTimeout(r),r=xCe(function(){e.apply(void 0,o),n=Xc()},Math.max(0,t-l+n)))}}var RO=function(t){var n=t.debounce,r=t.name,a=t.onEvent,o=t.target,i=P.useRef();i.current=a;var l=P.useMemo(function(){return MCe(function(f){var h=i.current;h&&h(f)},n)},[n,i]),c=P.useCallback(function(f){f.timeStampLow=Xc(),l(f)},[l]);return P.useLayoutEffect(function(){return o.addEventListener(r,c,{passive:!0}),c({target:o,type:r}),function(){return o.removeEventListener(r,c)}},[r,c,o]),!1};RO.defaultProps={debounce:200};var kCe=Math.sign||function(t){var n=+t;return n===0||n!==n?n:n<0?-1:1},NCe=Gn,ACe=kCe;NCe({target:"Math",stat:!0},{sign:ACe});var FCe=qa,OCe=FCe.Math.sign,PCe=OCe,jCe=PCe,LCe=jCe;const RCe=qt(LCe);function _Ce(e,t){var n=RCe(t-e),r=Math.sqrt(Math.abs(t-e)),a=e+r*n;return n>0?Math.min(t,a):Math.max(t,a)}function BCe(e,t,n,r){for(var a=e,o=0;o<r;o++)a=n(a,t);return a}var _O=function(t){var n=t.name,r=t.onEnd,a=t.target,o=t.value,i=P.useRef(),l=P.useCallback(function(f,h,g,y){var w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Xc();(g==="100%"||typeof g=="number")&&(cancelAnimationFrame(i.current),i.current=requestAnimationFrame(function(){if(a){var S=g==="100%"?a.scrollHeight-a.offsetHeight:g,D=BCe(h,S,_Ce,(Xc()-w)/5);Math.abs(S-D)<1.5&&(D=S),a[f]=D,S===D?r&&r(!0):l(f,h,g,y+1,w)}}))},[i,r,a]),c=P.useCallback(function(){cancelAnimationFrame(i.current),r&&r(!1)},[r]);return P.useLayoutEffect(function(){return l(n,a[n],o,1),a?(a.addEventListener("pointerdown",c,{passive:!0}),a.addEventListener("wheel",c,{passive:!0}),function(){a.removeEventListener("pointerdown",c),a.removeEventListener("wheel",c),cancelAnimationFrame(i.current)}):function(){return cancelAnimationFrame(i.current)}},[l,i,c,n,a,o]),!1};_O.propTypes={name:kn.string.isRequired,onEnd:kn.func,target:kn.any.isRequired,value:kn.oneOfType([kn.number,kn.oneOf(["100%"])]).isRequired};function XD(e){var t=P.useState(e),n=Ul(t,2),r=n[0],a=n[1],o=P.useRef(),i=P.useCallback(function(l){typeof l=="function"?i(function(c){return l=l(c),o.current=l,l}):(o.current=l,i(l))},[o]);return o.current=r,[r,a,o]}function eN(e,t){var n=iIe(e);if(_4){var r=_4(e);t&&(r=IIe(r).call(r,function(a){return SO(e,a).enumerable})),n.push.apply(n,r)}return n}function tN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};if(t%2){var r;ob(r=eN(Object(n),!0)).call(r,function(o){tbe(e,o,n[o])})}else if(B4)sEe(e,B4(n));else{var a;ob(a=eN(Object(n))).call(a,function(o){uEe(e,o,SO(n,o))})}}return e}var HCe=function(){return 1/0},nN=17,UCe="bottom",Ls="top",rN=1,YCe=34,aN={};function zCe(e,t){return e(),OTe(e,t)}function oN(e){var t=e.mode,n=e.target,r=n.offsetHeight,a=n.scrollHeight,o=n.scrollTop,i=a-o-r<rN,l=o<rN,c=t===Ls?l:i,f=t!==Ls?l:i;return{atBottom:i,atEnd:c,atStart:f,atTop:l}}function Ng(e,t){return e===(t===Ls?0:"100%")}var VE=function(t){var n=t.checkInterval,r=t.children,a=t.debounce,o=t.debug,i=t.initialScrollBehavior,l=t.mode,c=t.nonce,f=t.scroller,h=P.useMemo(function(){return vCe("<ScrollToBottom>",{force:o})},[o]);l=l===Ls?Ls:UCe;var g=P.useRef(0),y=P.useRef(i),w=XD(l===Ls?0:"100%"),S=Ul(w,3),D=S[0],I=S[1],M=S[2],N=XD(null),B=Ul(N,3),k=B[0],R=B[1],L=B[2],_=P.useRef(0),V=P.useRef(0),U=P.useRef(0),Z=P.useState(!0),Q=Ul(Z,2),G=Q[0],re=Q[1],de=P.useState(!0),fe=Ul(de,2),$=fe[0],he=fe[1],se=P.useState(!0),ue=Ul(se,2),X=ue[0],oe=ue[1],De=P.useState(!1),je=Ul(De,2),Re=je[0],Fe=je[1],Be=XD(!0),Xe=Ul(Be,3),Ze=Xe[0],st=Xe[1],Ct=Xe[2],tn=P.useRef([]),_e=P.useCallback(function(pt){var Mt=L.current;return tn.current.push(pt),Mt&&pt({scrollTop:Mt.scrollTop}),function(){var Jt=tn.current,sn=qTe(Jt).call(Jt,pt);~sn&&y2e(Jt).call(Jt,sn,1)}},[tn,L]),et=P.useCallback(function(){var pt=M.current;h(function(){var Mt;return Dr(Mt=["%cSpineTo%c: %conEnd%c is fired."]).call(Mt,Cn(Vn("magenta")),Cn(Vn("orange")),[{animateTo:pt}])}),g.current=Xc(),Ng(pt,l)||st(!1),I(null)},[M,h,g,l,I,st]),nt=P.useCallback(function(pt){var Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Jt=Mt.behavior,sn=L.current;if(typeof pt!="number"&&pt!=="100%")return console.warn('react-scroll-to-bottom: Arguments passed to scrollTo() must be either number or "100%".');h(function(){var ln;return[Dr(ln=["%cscrollTo%c: Will scroll to %c".concat(typeof pt=="number"?pt+"px":pt.replace(/%/g,"%%"),"%c")]).call(ln,Cn(Vn("lime","")),Cn(Vn("purple"))),{behavior:Jt,nextAnimateTo:pt,target:sn}]}),Jt==="auto"?(et(),sn&&(sn.scrollTop=pt==="100%"?sn.scrollHeight-sn.offsetHeight:pt)):(Jt!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollTo". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),I(pt)),Ng(pt,l)&&(h(function(){var ln;return[Dr(ln=["%cscrollTo%c: Scrolling to end, will set sticky to %ctrue%c."]).call(ln,Cn(Vn("lime","")),Cn(Vn("purple"))),[{mode:l,nextAnimateTo:pt}]]}),st(!0))},[h,et,l,I,st,L]),ht=P.useCallback(function(){var pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Mt=pt.behavior;h(function(){var Jt;return Dr(Jt=["%cscrollToBottom%c: Called"]).call(Jt,Cn(Vn("yellow","")))}),Mt!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToBottom". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),nt("100%",{behavior:Mt||"smooth"})},[h,nt]),St=P.useCallback(function(){var pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Mt=pt.behavior;h(function(){var Jt;return Dr(Jt=["%cscrollToTop%c: Called"]).call(Jt,Cn(Vn("yellow","")))}),Mt!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToTop". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),nt(0,{behavior:Mt||"smooth"})},[h,nt]),Tt=P.useCallback(function(){var pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Mt=pt.behavior;h(function(){var sn;return Dr(sn=["%cscrollToEnd%c: Called"]).call(sn,Cn(Vn("yellow","")))}),Mt!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToEnd". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.');var Jt={behavior:Mt||"smooth"};l===Ls?St(Jt):ht(Jt)},[h,l,ht,St]),Gt=P.useCallback(function(){var pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Mt=pt.behavior;h(function(){var sn;return Dr(sn=["%cscrollToStart%c: Called"]).call(sn,Cn(Vn("yellow","")))}),Mt!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToStart". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.');var Jt={behavior:Mt||"smooth"};l===Ls?ht(Jt):St(Jt)},[h,l,ht,St]),_t=P.useCallback(function(){var pt=L.current;if(pt){if(y.current==="auto"){h(function(){var Lr;return Dr(Lr=["%ctarget changed%c: Initial scroll"]).call(Lr,Cn(Vn("blue")))}),pt.scrollTop=l===Ls?0:pt.scrollHeight-pt.offsetHeight,y.current=!1;return}var Mt=_.current,Jt=pt.offsetHeight,sn=pt.scrollHeight,ln=pt.scrollTop,vr=l===Ls?0:Math.max(0,sn-Jt-ln),fr=Math.max(0,Mt-ln),ha=f({maxValue:vr,minValue:fr,offsetHeight:Jt,scrollHeight:sn,scrollTop:ln}),jr=Math.max(0,Math.min(vr,ha)),nr;l===Ls||jr!==vr?nr=ln+jr:nr="100%",h(function(){var Lr,te,me;return[Dr(Lr=[Dr(te=Dr(me="%cscrollToSticky%c: Will animate from %c".concat(Mt,"px%c to %c")).call(me,typeof nr=="number"?nr+"px":nr.replace(/%/g,"%%"),"%c (%c")).call(te,(nr==="100%"?vr:nr)+Mt,"px%c)")]).call(Lr,Cn(Vn("orange")),Cn(Vn("purple")),Cn(Vn("purple")),Cn(Vn("purple"))),{animateFrom:Mt,maxValue:vr,minValue:fr,nextAnimateTo:nr,nextValue:jr,offsetHeight:Jt,rawNextValue:ha,scrollHeight:sn,scrollTop:ln}]}),nt(nr,{behavior:"smooth"})}},[_,h,l,f,nt,L]),Vt=P.useCallback(function(pt){var Mt,Jt=pt.timeStampLow,sn=M.current,ln=L.current,vr=sn!==null;if(!(Jt<=g.current||!ln)){var fr=oN({mode:l,target:ln}),ha=fr.atBottom,jr=fr.atEnd,nr=fr.atStart,Lr=fr.atTop;re(ha),he(jr),Fe(nr),oe(Lr);var te=ln.offsetHeight,me=ln.scrollHeight,xe=V.current,Ue=U.current,He=te!==xe,Qe=me!==Ue;if(He&&(V.current=te),Qe&&(U.current=me),!He&&!Qe){var tt=vr&&Ng(sn,l)||jr;Ct.current!==tt&&(h(function(){var Ut,On,yn,Cr;return[Dr(Ut=["%conScroll%c: %csetSticky%c(%c".concat(tt,"%c)")]).call(Ut,Cn(Vn("red")),Cn(Vn("red")),Cn(Vn("purple"))),Dr(On=[Dr(yn=Dr(Cr="(animating = %c".concat(vr,"%c && isEnd = %c")).call(Cr,Ng(sn,l),"%c) || atEnd = %c")).call(yn,jr,"%c")]).call(On,Cn(Vn("purple")),Cn(Vn("purple")),Cn(Vn("purple")),[{animating:vr,animateTo:sn,atEnd:jr,mode:l,offsetHeight:ln.offsetHeight,scrollHeight:ln.scrollHeight,sticky:Ct.current,nextSticky:tt}])]}),st(tt))}else Ct.current&&(h(function(){var Ut;return[Dr(Ut=["%conScroll%c: Size changed while sticky, calling %cscrollToSticky()%c"]).call(Ut,Cn(Vn("red")),Cn(Vn("orange")),[{offsetHeightChanged:He,scrollHeightChanged:Qe}]),{nextOffsetHeight:te,prevOffsetHeight:xe,nextScrollHeight:me,prevScrollHeight:Ue}]}),_t());var kt=ln.scrollTop;ob(Mt=tn.current).call(Mt,function(Ut){return Ut({scrollTop:kt})})}},[M,h,g,l,V,U,tn,_t,re,he,Fe,oe,st,Ct,L]);P.useEffect(function(){if(k){var pt=!1,Mt=zCe(function(){var Jt=L.current,sn=M.current!==null;Ct.current?oN({mode:l,target:Jt}).atEnd?pt=!1:pt?Xc()-pt>YCe&&(sn||(_.current=Jt.scrollTop,h(function(){var ln;return Dr(ln=["%cInterval check%c: Should sticky but not at end, calling %cscrollToSticky()%c to scroll"]).call(ln,Cn(Vn("navy")),Cn(Vn("orange")))}),_t()),pt=!1):pt=Xc():Jt.scrollHeight<=Jt.offsetHeight&&!Ct.current&&(h(function(){var ln;return[Dr(ln=["%cInterval check%c: Container is emptied, setting sticky back to %ctrue%c"]).call(ln,Cn(Vn("navy")),Cn(Vn("purple"))),[{offsetHeight:Jt.offsetHeight,scrollHeight:Jt.scrollHeight,sticky:Ct.current}]]}),st(!0))},Math.max(nN,n)||nN);return function(){return clearInterval(Mt)}}},[M,n,h,l,_t,st,Ct,k,L]);var Xt=P.useMemo(function(){var pt=aN[c]||(aN[c]=qEe({key:"react-scroll-to-bottom--css-"+mCe(),nonce:c}));return function(Mt){return pt.css(Mt)+""}},[c]),dn=P.useMemo(function(){return{observeScrollPosition:_e,setTarget:R,styleToClassName:Xt}},[_e,R,Xt]),en=P.useMemo(function(){return{atBottom:G,atEnd:$,atStart:Re,atTop:X,mode:l}},[G,$,Re,X,l]),Zn=P.useMemo(function(){var pt=D!==null;return{animating:pt,animatingToEnd:pt&&Ng(D,l),sticky:Ze}},[D,l,Ze]),Dn=P.useMemo(function(){return tN(tN({},en),Zn)},[en,Zn]),Er=P.useMemo(function(){return{scrollTo:nt,scrollToBottom:ht,scrollToEnd:Tt,scrollToStart:Gt,scrollToTop:St}},[nt,ht,Tt,Gt,St]);return P.useEffect(function(){if(k){var pt=function(){U.current=k.scrollHeight};return k.addEventListener("focus",pt,{capture:!0,passive:!0}),function(){return k.removeEventListener("focus",pt)}}},[k]),h(function(){var pt;return[Dr(pt=["%cRender%c: Render"]).call(pt,Cn(Vn("cyan",""))),{animateTo:D,animating:D!==null,sticky:Ze,target:k}]}),ne.createElement(m1.Provider,{value:dn},ne.createElement(bE.Provider,{value:Er},ne.createElement(TE.Provider,{value:Dn},ne.createElement(SE.Provider,{value:en},ne.createElement(DE.Provider,{value:Zn},r,k&&ne.createElement(RO,{debounce:a,name:"scroll",onEvent:Vt,target:k}),k&&D!==null&&ne.createElement(_O,{name:"scrollTop",onEnd:et,target:k,value:D}))))))};VE.defaultProps={checkInterval:100,children:void 0,debounce:17,debug:void 0,initialScrollBehavior:"smooth",mode:void 0,nonce:void 0,scroller:HCe};VE.propTypes={checkInterval:kn.number,children:kn.any,debounce:kn.number,debug:kn.bool,initialScrollBehavior:kn.oneOf(["auto","smooth"]),mode:kn.oneOf(["bottom","top"]),nonce:kn.string,scroller:kn.func};var VCe={height:"100%",overflowY:"auto",width:"100%"},WE=function(t){var n=t.children,r=t.className,a=P.useContext(m1),o=a.setTarget,i=IE()(VCe);return ne.createElement("div",{className:wE(i,(r||"")+""),ref:o},n)};WE.defaultProps={children:void 0,className:void 0};WE.propTypes={children:kn.any,className:kn.string};var WCe={position:"relative"},$E=function(t){var n=t.children,r=t.className,a=t.followButtonClassName,o=t.scrollViewClassName,i=IE()(WCe);return ne.createElement("div",{className:wE(i,(r||"")+"")},ne.createElement(WE,{className:(o||"")+""},n),ne.createElement(EE,{className:(a||"")+""}))};$E.defaultProps={children:void 0,className:void 0,followButtonClassName:void 0,scrollViewClassName:void 0};$E.propTypes={children:kn.any,className:kn.string,followButtonClassName:kn.string,scrollViewClassName:kn.string};var ZE=function(t){var n=t.checkInterval,r=t.children,a=t.className,o=t.debounce,i=t.debug,l=t.followButtonClassName,c=t.initialScrollBehavior,f=t.mode,h=t.nonce,g=t.scroller,y=t.scrollViewClassName;return ne.createElement(VE,{checkInterval:n,debounce:o,debug:i,initialScrollBehavior:c,mode:f,nonce:h,scroller:g},ne.createElement($E,{className:a,followButtonClassName:l,scrollViewClassName:y},r))};ZE.defaultProps={checkInterval:void 0,children:void 0,className:void 0,debounce:void 0,debug:void 0,followButtonClassName:void 0,initialScrollBehavior:"smooth",mode:void 0,nonce:void 0,scroller:void 0,scrollViewClassName:void 0};ZE.propTypes={checkInterval:kn.number,children:kn.any,className:kn.string,debounce:kn.number,debug:kn.bool,followButtonClassName:kn.string,initialScrollBehavior:kn.oneOf(["auto","smooth"]),mode:kn.oneOf(["bottom","top"]),nonce:kn.string,scroller:kn.func,scrollViewClassName:kn.string};function $Ce(){var e=p1(),t=e.scrollToBottom;return t}function ZCe(){var e=p1(),t=e.scrollToStart;return t}function qCe(){var e=p1(),t=e.scrollToTop;return t}bce();const GCe=e=>{const{locationState:{query:t},globalState:{memoListView:n,manifest:r},dailyNotesState:{app:a,settings:o}}=P.useContext(Lt),{thinos:i}=e,[l,c]=ne.useState(Tv(i,"day")),f=ne.useRef(null),h=$Ce(),g=P.useRef([]);P.useRef(0),P.useEffect(()=>{const S=Tv(i,"day");Cw.isEqual(S,l)||c(S)},[i]),P.useEffect(()=>{var N,B;if(Cw.isEqual(g.current,i))return;const S=i.filter(k=>k.pinned),D=i.filter(k=>!k.pinned),I=g.current.filter(k=>k.pinned)[0],M=g.current.filter(k=>!k.pinned)[0];(I&&I.id!==((N=S[0])==null?void 0:N.id)||M&&M.id!==((B=D[0])==null?void 0:B.id))&&h()},[i]),P.useEffect(()=>{f.current&&h()},[t]);const y=P.useCallback(()=>{a.setting.open(),a.setting.openTabById(r.id||"obsidian-memos")},[a]),w=P.useMemo(()=>v.jsx(v.Fragment,{children:Object.keys(l).map((S,D)=>v.jsx(v.Fragment,{children:v.jsx(JCe,{thinos:l[S],dayMark:S,handleOpenSettings:y},S+D)}))}),[l]);return v.jsx("div",{ref:f,className:ar("chat-view",`${o==null?void 0:o.chatViewStyle}-style`),children:w})},JCe=({thinos:e,dayMark:t,handleOpenSettings:n})=>{const{dailyNotesState:{settings:r,app:a}}=P.useContext(Lt),[o,i]=ne.useState(!0),l=ne.useRef(null),[c,f]=ne.useState(r==null?void 0:r.MomentsIcon);P.useEffect(()=>{if(!(r!=null&&r.MomentsIcon)||!a)return;const w=a.vault.adapter.getResourcePath(x.normalizePath(r.MomentsIcon));w&&!(r!=null&&r.MomentsIcon.startsWith("http"))?f(w):f(r==null?void 0:r.MomentsIcon)},[r==null?void 0:r.MomentsIcon]);const h=w=>{if(x.Keymap.isModifier(w.nativeEvent,"Mod")){const S=x.moment(t,"YYYY-MM-DD");at.setFromAndToQuery(S.startOf("day").valueOf(),S.endOf("day").valueOf());return}i(!o),l.current.scrollIntoView(!0)},g=w=>{Df(w)},y=P.useMemo(()=>e.map((w,S)=>v.jsxs("div",{className:"thino-bubble right",children:[v.jsx(KCe,{icon:c,handleOpenSettings:n}),v.jsx("div",{className:"wrap",children:v.jsx(QCe,{thino:w,handleClickTimeStamp:g},`${w.id}-${x.moment(w.createdAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${S}`)})]},w.id+S)),[e,c]);return v.jsxs(v.Fragment,{children:[o&&y,v.jsx("div",{className:`thino-chat-day-mark day-mark ${o?"":"folded"}`,onClick:h,children:v.jsx("div",{className:"day-mark-bubble",children:(t==="PINNED"?t+" üìå":t)+(o?"":"...")})})]})},KCe=({icon:e,handleOpenSettings:t})=>v.jsx("div",{ref:n=>{if(e){n==null||n.empty();return}e||n&&x.setIcon(n,"Memos")},className:"icon-img",style:{backgroundImage:`url("${e}")`}}),QCe=({thino:e,handleClickTimeStamp:t})=>{const n=P.useCallback(async()=>{if(e.thinoType==="JOURNAL")return;const o=await we.updateMemo(e.id,e.content,e.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");o&&we.editMemo(o)},[e]),r=P.useMemo(()=>v.jsxs("div",{className:"content",children:[v.jsx("div",{className:"time-stamp","data-date":x.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),"data-time":x.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss"),onClick:()=>{t(e)},children:x.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss")}),v.jsx(ai,{memo:e})]}),[e.content]),a=P.useMemo(()=>{var o;return v.jsxs("div",{className:"content task",children:[v.jsx("div",{className:"task-inputer",children:v.jsx("input",{className:ar("thino-type-status","task-list-item-checkbox"),type:"checkbox",checked:e.thinoType!=="TASK-TODO","data-task":e.thinoType==="TASK-TODO"?"":e.thinoType==="TASK-DONE"?"x":(o=e.thinoType)==null?void 0:o.slice(5),onClick:n})}),v.jsx("div",{className:"time-stamp","data-date":x.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),"data-time":x.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss"),onClick:()=>{t(e)},children:x.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss")}),v.jsx(ai,{memo:e})]})},[e.content,e.thinoType]);return e.thinoType==="JOURNAL"?r:a},XCe=3e3;function exe({statusRef:e,isComplete:t,handleFetchMoreClick:n,cachedMemos:r}){P.useEffect(()=>{const a=e.current;if(!a)return;const o=vb.throttle(async()=>{await n()},XCe,{trailing:!1}),i=new IntersectionObserver(([l])=>{l.isIntersecting&&!t&&o()});return i.observe(a),()=>{i.unobserve(a),o.cancel()}},[t,e,n]),P.useEffect(()=>{r.length<40&&!t&&n()},[r.length,t,n])}function Tv(e,t){const n={},r={day:"YYYY-MM-DD ddd",week:"YYYY-[W]WW",month:"YYYY-MM",quarter:"YYYY-[Q]Q",year:"YYYY"};return e.forEach(a=>{const o=a.pinned?"PINNED":x.moment(a.createdAt,"YYYY/MM/DD HH:mm:ss").format(r[t]);n[o]||(n[o]=[]),n[o].push(a)}),n}function BO(e){return e.slice().sort((t,n)=>t.pinned!==n.pinned?t.pinned?-1:1:new Date(n.createdAt).getTime()-new Date(t.createdAt).getTime())}function txe(e,t){if(e.length===0)return t;const n=new Map(t.map(i=>[i.id,i])),r=[],a=e==null?void 0:e.reduce((i,l)=>{if(n.has(l.id)){const c=n.get(l.id);Cw.isEqual(l,c)?i.push(l):i.push({...c}),n.delete(l.id)}return i},[]);n.forEach(i=>r.push(i));const o=a.concat(r);return BO(o)}function Ag(e){const{tag:t,duration:n,type:r,text:a,filter:o,path:i,metadata:l}=e,c=on.getQueryById(o),f=!l||Object.keys(l).length===0;return!(!!(t||n&&n.from<n.to||r||a||!f||i||c!=null&&c.id)||c)}function nxe(e){const t=[$r,ua,Wa];return t==null?void 0:t.reduce((n,r)=>((e.match(r)||[]).forEach(a=>{const i=(a==null?void 0:a.replace(r,"$1").trim()).split("/");let l="";i.forEach(c=>{l+=c,n.add(l),l+="/"})}),n),new Set)}function rxe(e){if(!Array.isArray(e)||e.length===0)return new Set;const t=e.filter(r=>!!r).map(r=>r.toString().trim());if(t.length===0)return new Set;const n=new Set;return t.forEach(r=>{const a=r.split("/");let o="";a.forEach((i,l)=>{o+=(l>0?"/":"")+i,n.add(o)})}),n}const axe=({tempMemos:e,query:t,HideDoneTasks:n})=>{const r=e.filter(I=>I.rowStatus!=="ARCHIVED"&&!I.deletedAt),{tag:a,duration:o,type:i,text:l,filter:c,path:f,metadata:h}=t,g=on.getQueryById(c),y=l.toLowerCase(),w=!h||Object.keys(h).length===0,S=!!(a||o&&o.from<o.to||i||l||!w||f||g!=null&&g.id),D=x.prepareSimpleSearch(y);return S?r.filter(I=>{var M,N;if(I.content.contains("comment:")||n&&I.thinoType==="TASK-DONE")return!1;if(g){const B=JSON.parse(g.querystring);if(Array.isArray(B)&&!Vp(I,B))return!1}if(!w&&Object.keys(h).some(k=>{var R;return((R=I.fileInfo)==null?void 0:R.frontmatter[k])!==h[k]})||f&&!I.path.toLowerCase().includes(f.toLowerCase())||a&&((M=I==null?void 0:I.fileInfo)!=null&&M.tags)&&!nxe(I.content).has(a)&&!rxe((N=I==null?void 0:I.fileInfo)==null?void 0:N.tags).has(a)||o&&o.from!==0&&o.to!==0&&(ut.getTimeStampByDate(I.createdAt)<o.from||ut.getTimeStampByDate(I.createdAt)>o.to))return!1;if(i)switch(i){case"NOT_TAGGED":if(I.content.match($r)||I.content.match(Wa)||I.content.match(ua))return!1;break;case"LINKED":if(!I.content.match(Af))return!1;break;case"IMAGED":if(!I.content.match(Ff))return!1;break;case"CONNECTED":if(!I.content.match(ad))return!1;break}return!(y&&!D(I.content.toLowerCase()))}):r},oxe=({updateThinos:e,listView:t})=>{const{locationState:{query:n},memoState:{memos:r},dailyNotesState:{app:a,settings:o}}=P.useContext(Lt),i=qCe(),l=ZCe(),[c,f]=P.useState(!1),[h,g]=P.useState(!1),[y,w,S]=xo([]),[D,I]=P.useState([]),[M,N]=P.useState({}),[B,k]=P.useState((a==null?void 0:a.loadLocalStorage("showDayMark"))||!1),[R,L]=P.useState((a==null?void 0:a.loadLocalStorage("dayMarkRange"))||"day"),[_,V,U]=xo([]),Z=P.useRef(null),Q=P.useRef(null),G=P.useRef(null),re=P.useRef(!1);P.useEffect(()=>{l(),w(_.slice(0,y.length>20?Math.min(y.length,20):20))},[t]),P.useEffect(()=>()=>{Q.current&&(Q.current=null),G.current&&(G.current=null)},[]),P.useLayoutEffect(()=>{if(r.length!==0&&re.current===!0)return;const se=ixe(a||window.app);!se||se.length===0||(V(se),I(se),k((a==null?void 0:a.loadLocalStorage("showDayMark"))||!1),a!=null&&a.loadLocalStorage("showDayMark")&&N(Tv(se,(a==null?void 0:a.loadLocalStorage("dayMarkRange"))||"day")))},[]),P.useEffect(()=>{if(r.length===0&&!we.initialized)return;f(!1);const se=BO(r),ue=axe({tempMemos:se,query:n,HideDoneTasks:(o==null?void 0:o.HideDoneTasks)||!1});return re.current=!0,e&&e(ue),V(ue),()=>{re.current=!1}},[r,n,o==null?void 0:o.HideDoneTasks]),P.useEffect(()=>{const ue=_.slice(0,y.length>20?Math.min(y.length,20):20);w(X=>txe(X,ue))},[_]),P.useEffect(()=>{var se;y.length<20&&((se=G.current)==null||se.click())},[_]),P.useEffect(()=>{(Ag(n)&&y.length<_.length||y.length<_.length&&!Ag(n))&&g(!1),(Ag(n)&&y.length===r.length&&r.length>0||!Ag(n)&&y.length===_.length&&_.length>0)&&g(!0),sxe(y||[],a),I(y),a==null||a.saveLocalStorage("showDayMark",o==null?void 0:o.showDayMark),a==null||a.saveLocalStorage("dayMarkRange",o==null?void 0:o.dayMarkRange),k((o==null?void 0:o.showDayMark)||!1),L((o==null?void 0:o.dayMarkRange)||"day"),o!=null&&o.showDayMark&&N(Tv(y,(o==null?void 0:o.dayMarkRange)||"day"))},[y,o==null?void 0:o.showDayMark,o==null?void 0:o.dayMarkRange]),P.useEffect(()=>{i()},[n]);const de=async()=>{try{if(U.current.length>S.current.length){f(!0);const se=Math.min(S.current.length+20,U.current.length)-S.current.length,ue=U.current.slice(S.current.length,S.current.length+se);w(X=>[...X,...ue]),f(!1),g(ue.length<20)}}catch(se){console.error(se),new x.Notice(se.response.data.message)}};exe({statusRef:Q,isComplete:h,handleFetchMoreClick:de,cachedMemos:y});const fe=P.useMemo(()=>v.jsx("div",{ref:Q,className:ar("status-text-container",t==="calendar"||t==="table"?"thino-hidden":""),children:v.jsx("p",{className:"status-text",children:c?E("Fetching data..."):h?_.length===0?E("Noooop!"):E("All Data is Loaded üéâ"):v.jsx(v.Fragment,{children:v.jsx("span",{ref:G,className:"cursor-pointer hover:text-green-600",onClick:de,children:E("fetch more")})})})}),[t,de,_,c,h,Q]),$=se=>{switch(se){case"list":return v.jsx(_w,{breakpointCols:1,className:`${t}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:B?v.jsx(v.Fragment,{children:Object.keys(M).sort((ue,X)=>X-ue).map(ue=>v.jsx(kT,{type:"list",thinos:M[ue],dayMark:ue,dayMarkRange:R},ue))}):D.map((ue,X)=>v.jsx(ai,{memo:ue},`${ue.id}-${X}`))});case"waterfall":return v.jsx(v.Fragment,{children:B&&Object.keys(M).length>0?Object.keys(M).map(ue=>v.jsx(kT,{type:"waterfall",thinos:M[ue],dayMark:ue,dayMarkRange:R},ue)):v.jsx(_w,{breakpointCols:3,className:`${t}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:D.map((ue,X)=>v.jsx(ai,{memo:ue},`${ue.id}-${X}`))})});case"chat":return v.jsx(GCe,{thinos:D});case"calendar":return v.jsx(Vle,{thinos:_});case"table":return v.jsx(gce,{thinos:_,isFiltering:!Ag(n)});case"moments":return v.jsx(uxe,{thinos:D})}},he=se=>{switch(se){case"top":return t==="chat"&&fe;case"bottom":return t!=="chat"&&fe}};return v.jsxs(ZE,{className:`memolist-wrapper ${h?"completed":""} `,mode:t==="chat"?"bottom":"top",initialScrollBehavior:"auto",checkInterval:30,followButtonClassName:ar("scroll-to-bottom-button",t==="chat"?"to-bottom":"to-top"),scrollViewClassName:"memolist-scrollview",children:[he("top"),v.jsx("div",{ref:Z,className:"memolist-container",children:$(t)}),he("bottom")]})};function HO(e){return`memosListCache:${e}`}function ixe(e){var t;try{const n=HO(e==null?void 0:e.appId),r=la.get([n])[n];return r?((t=JSON.parse(r))==null?void 0:t.memos)||[]:[]}catch(n){return console.error(n),[]}}function sxe(e,t){try{if(!e)return;const n=e==null?void 0:e.slice(0,100),r=HO(t==null?void 0:t.appId);la.set({[r]:JSON.stringify({memos:n})})}catch(n){console.error(n)}}const lxe=({userIcon:e})=>v.jsx("div",{className:"moments-view-user-icon",ref:t=>{if(e){t==null||t.empty();return}e||t&&x.setIcon(t,"Memos")},style:{backgroundImage:`url("${e}")`}}),b2="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuZGV2L3N2Z2pzIiB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHZpZXdCb3g9IjAgMCAxNDQwIDU2MCI+PGcgbWFzaz0idXJsKCZxdW90OyNTdmdqc01hc2sxMDgwJnF1b3Q7KSIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjE0NDAiIGhlaWdodD0iNTYwIiB4PSIwIiB5PSIwIiBmaWxsPSIjMGUyYTQ3Ij48L3JlY3Q+PHVzZSB4bGluazpocmVmPSIjU3ZnanNTeW1ib2wxMDg3IiB4PSIwIiB5PSIwIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1N5bWJvbDEwODciIHg9IjcyMCIgeT0iMCI+PC91c2U+PC9nPjxkZWZzPjxtYXNrIGlkPSJTdmdqc01hc2sxMDgwIj48cmVjdCB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48L21hc2s+PHBhdGggZD0iTS0xIDAgYTEgMSAwIDEgMCAyIDAgYTEgMSAwIDEgMCAtMiAweiIgaWQ9IlN2Z2pzUGF0aDEwODIiPjwvcGF0aD48cGF0aCBkPSJNLTMgMCBhMyAzIDAgMSAwIDYgMCBhMyAzIDAgMSAwIC02IDB6IiBpZD0iU3ZnanNQYXRoMTA4NiI+PC9wYXRoPjxwYXRoIGQ9Ik0tNSAwIGE1IDUgMCAxIDAgMTAgMCBhNSA1IDAgMSAwIC0xMCAweiIgaWQ9IlN2Z2pzUGF0aDEwODMiPjwvcGF0aD48cGF0aCBkPSJNMiAtMiBMLTIgMnoiIGlkPSJTdmdqc1BhdGgxMDg0Ij48L3BhdGg+PHBhdGggZD0iTTYgLTYgTC02IDZ6IiBpZD0iU3ZnanNQYXRoMTA4MSI+PC9wYXRoPjxwYXRoIGQ9Ik0zMCAtMzAgTC0zMCAzMHoiIGlkPSJTdmdqc1BhdGgxMDg1Ij48L3BhdGg+PC9kZWZzPjxzeW1ib2wgaWQ9IlN2Z2pzU3ltYm9sMTA4NyI+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIzMCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzMCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzMCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iMzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjMwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjkwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjkwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjkwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSI5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI5MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iOTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iOTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjkwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIxNTAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIxNTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIxNTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMTUwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjE1MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMTUwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjE1MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMTUwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIxNTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMTUwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjIxMCIgeT0iMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjIxMCIgeT0iOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIyMTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjIxMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIyMTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMjEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyMTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjIxMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjEwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyMTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMjcwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjcwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMjcwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIyNzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMjcwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjI3MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjcwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIyNzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjcwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyNzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjMzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjMzMCIgeT0iMTUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzMzAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjMzMCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjMzMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzMwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjMzMCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjM5MCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzOTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMzkwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjM5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzOTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjM5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIzOTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzOTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iNDUwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI0NTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjQ1MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iNDUwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjQ1MCIgeT0iNDUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI0NTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjUxMCIgeT0iMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1MTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1MTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjUxMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1MTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1MTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjUxMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjUxMCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1NzAiIHk9IjMwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTcwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjU3MCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSI1NzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNTcwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjU3MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1NzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTcwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjU3MCIgeT0iNTEwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTcwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjYzMCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjYzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjYzMCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI2MzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNjMwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjYzMCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2MzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNjMwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjYzMCIgeT0iNTEwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2MzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNjkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjY5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjY5MCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSI2OTAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjY5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNjkwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjY5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNjkwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI2OTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjY5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48L3N5bWJvbD48L3N2Zz4=",Tw="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuZGV2L3N2Z2pzIiB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHZpZXdCb3g9IjAgMCAxNDQwIDU2MCI+PGcgbWFzaz0idXJsKCZxdW90OyNTdmdqc01hc2sxMDgwJnF1b3Q7KSIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjE0NDAiIGhlaWdodD0iNTYwIiB4PSIwIiB5PSIwIiBmaWxsPSJyZ2JhKDIzMSwgMjM4LCAyNDUsIDEpIj48L3JlY3Q+PHVzZSB4bGluazpocmVmPSIjU3ZnanNTeW1ib2wxMDg3IiB4PSIwIiB5PSIwIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1N5bWJvbDEwODciIHg9IjcyMCIgeT0iMCI+PC91c2U+PC9nPjxkZWZzPjxtYXNrIGlkPSJTdmdqc01hc2sxMDgwIj48cmVjdCB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48L21hc2s+PHBhdGggZD0iTS0xIDAgYTEgMSAwIDEgMCAyIDAgYTEgMSAwIDEgMCAtMiAweiIgaWQ9IlN2Z2pzUGF0aDEwODUiPjwvcGF0aD48cGF0aCBkPSJNLTMgMCBhMyAzIDAgMSAwIDYgMCBhMyAzIDAgMSAwIC02IDB6IiBpZD0iU3ZnanNQYXRoMTA4MyI+PC9wYXRoPjxwYXRoIGQ9Ik0tNSAwIGE1IDUgMCAxIDAgMTAgMCBhNSA1IDAgMSAwIC0xMCAweiIgaWQ9IlN2Z2pzUGF0aDEwODYiPjwvcGF0aD48cGF0aCBkPSJNMiAtMiBMLTIgMnoiIGlkPSJTdmdqc1BhdGgxMDg0Ij48L3BhdGg+PHBhdGggZD0iTTYgLTYgTC02IDZ6IiBpZD0iU3ZnanNQYXRoMTA4MSI+PC9wYXRoPjxwYXRoIGQ9Ik0zMCAtMzAgTC0zMCAzMHoiIGlkPSJTdmdqc1BhdGgxMDgyIj48L3BhdGg+PC9kZWZzPjxzeW1ib2wgaWQ9IlN2Z2pzU3ltYm9sMTA4NyI+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjMwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjMwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIzMCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIzMCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjMwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIzMCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iOTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI5MCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjkwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iOTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSI5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjkwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iOTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjE1MCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMTUwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIxNTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIxNTAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIxNTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIxNTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIxNTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIxNTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjE1MCIgeT0iNTEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjE1MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjIxMCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMjEwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIyMTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjIxMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjIxMCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iMjEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iMjEwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyMTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyMTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIyMTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyNzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjI3MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iMjcwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIyNzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyNzAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIyNzAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIyNzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIyNzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyNzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyNzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjMzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzMwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzMwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzMwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMzMwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzMwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzMwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iMzMwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iMzkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIzOTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjM5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjM5MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjM5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzkwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzkwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzkwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNDUwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSI0NTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNDUwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNDUwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI0NTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI0NTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI0NTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI0NTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI0NTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI0NTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI1MTAiIHk9IjMwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjUxMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNTEwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNTEwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNTEwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNTEwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTEwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1MTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1NzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjU3MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTcwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNTcwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTcwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNTcwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTcwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI1NzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1NzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI1NzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjYzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2MzAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2MzAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjMwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjY5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2OTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI2OTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2OTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2OTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48L3N5bWJvbD48L3N2Zz4=",uxe=e=>{const{globalState:{memoListView:t,markMemoId:n,manifest:r,editMemoId:a},dailyNotesState:{app:o,settings:i}}=P.useContext(Lt),{thinos:l}=e,c=ne.useRef(null),f=ne.useRef(null),[h,g]=ne.useState(!1),[y,w]=P.useState({}),[S,D]=P.useState((o==null?void 0:o.loadLocalStorage("dayMarkRange"))||"day"),[I,M]=ne.useState(i==null?void 0:i.MomentsIcon);P.useEffect(()=>{if(!(i!=null&&i.MomentsIcon)||!o)return;const B=o.vault.adapter.getResourcePath(x.normalizePath(i.MomentsIcon));B&&!(i!=null&&i.MomentsIcon.startsWith("http"))?M(B):M(i==null?void 0:i.MomentsIcon)},[i==null?void 0:i.MomentsIcon,o]),P.useEffect(()=>{i!=null&&i.showDayMark&&w(Tv(l,(o==null?void 0:o.loadLocalStorage("dayMarkRange"))||"day"))},[l]),P.useEffect(()=>{c.current.closest(".workspace-window")&&g(!0)},[c.current]),P.useEffect(()=>{n&&g(!0)},[n]),P.useEffect(()=>{a?(g(!0),setTimeout(()=>{o.workspace.trigger("focus-on-textarea")},200)):g(!1)},[a]),P.useEffect(()=>{f.current&&(!h&&x.setIcon(f.current,"camera"),h&&x.setIcon(f.current,"camera-off"))},[f.current,h]);const N=P.useCallback(()=>{o.setting.open(),o.setting.openTabById(r.id||"obsidian-memos")},[o]);return v.jsxs("div",{ref:c,className:ar("moments-view",h?"show-editor":""),children:[v.jsxs("div",{className:"moments-view-background-wrapper",children:[v.jsx(cxe,{}),v.jsx("div",{ref:f,className:"moments-show-editor-btn",onClick:()=>{a&&h||((h||a)&&g(!h),!h&&!a&&new MT(o).open())}}),v.jsxs("div",{className:"moments-view-background-overlay",children:[v.jsxs("div",{className:"moments-view-user-info",children:[v.jsx("div",{className:"moments-view-user-name",children:i==null?void 0:i.UserName}),v.jsx(lxe,{userIcon:I})]}),v.jsx("div",{className:"moments-view-user-idea",children:i.MomentsQuote||" "})]})]}),i!=null&&i.showDayMark?y&&Object.keys(y).length>0&&Object.keys(y).map((B,k)=>v.jsx(kT,{type:"list",thinos:y[B],dayMark:B,dayMarkRange:S,thinoWrapper:R=>v.jsx(iN,{thino:R.thino,handleOpenSettings:N},R.thino.createdAt+k)},B)):l.map((B,k)=>v.jsx(iN,{thino:B,handleOpenSettings:N},B.createdAt+k))]})},cxe=()=>{const{dailyNotesState:{app:e,view:t,settings:n}}=P.useContext(Lt),[r,a]=P.useState((n==null?void 0:n.MomentsBackgroundImage)||Tw);return P.useEffect(()=>{if(!(n!=null&&n.MomentsBackgroundImage)||!e){a(document.body.hasClass("theme-dark")?b2:Tw);return}const o=e.vault.adapter.getResourcePath(x.normalizePath(n.MomentsBackgroundImage));o&&!(n!=null&&n.MomentsBackgroundImage.startsWith("http"))?a(o):a(n==null?void 0:n.MomentsBackgroundImage)},[n==null?void 0:n.MomentsBackgroundImage,e]),P.useEffect(()=>{t&&t.registerEvent(t.app.workspace.on("css-change",()=>{a(document.body.hasClass("theme-dark")&&!(n!=null&&n.MomentsBackgroundImage)?b2:!document.body.hasClass("theme-dark")&&!(n!=null&&n.MomentsBackgroundImage)?Tw:n==null?void 0:n.MomentsBackgroundImage)}))},[t]),v.jsx("div",{className:"moments-view-background",style:{backgroundImage:`url("${r}")`}})},dxe=e=>{const{icon:t}=e,n=P.useCallback(()=>{app.setting.open(),app.setting.openTabById(manifest.id||"obsidian-memos")},[]);return v.jsx("div",{className:"thino-moment-icon",ref:r=>{if(t){r==null||r.empty();return}t||r&&x.setIcon(r,"Memos")},style:{backgroundImage:`url("${t}")`},onClick:n})},iN=e=>{const{dailyNotesState:{settings:t,app:n}}=P.useContext(Lt),r=P.useRef(null),a=P.useRef(null),{thino:o}=e,[i,l]=P.useState("");return P.useEffect(()=>{if(!(t!=null&&t.MomentsIcon)||!n)return;const c=n.vault.adapter.getResourcePath(x.normalizePath(t.MomentsIcon));c&&!(t!=null&&t.MomentsIcon.startsWith("http"))?l(c):l(t==null?void 0:t.MomentsIcon)},[t==null?void 0:t.MomentsIcon,n]),P.useEffect(()=>{r.current&&x.setIcon(r.current,"more-horizontal")},[r.current]),v.jsxs("div",{className:"thino-moment-wrapper",children:[v.jsx(dxe,{icon:i}),v.jsxs("div",{ref:a,className:"thino-moment-container",children:[v.jsx("div",{className:"thino-moment-user-name",children:t==null?void 0:t.UserName}),v.jsx("div",{className:"thino-moment-user-content",children:v.jsx(ai,{memo:o})})]})]})},fxe='<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="1146.31828" height="801.00361" viewBox="0 0 1146.31828 801.00361" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M1050.69918,514.5082a456.24913,456.24913,0,0,1-37.38013-261.87c3.6001-23.1,9.44006-46.85,24.43018-64.79,14.38989-17.23,39.34985-27.37,60.0299-19.29-13.56994-29.61-47.76-46.5-80.59-47.33-34.09-.86-66.92,12.5-97.25,28.1-30.33,15.6-59.65,33.81006-92.21,43.99-53.5,16.72-111.91,10.34-165.5-6.09-53.58-16.44-103.62-42.47-154.62-65.71-51.01-23.24-104.17-44.03-160.01-48.91-55.84-4.87-115.25,7.89-157.24,45.01s-61.87,101.28-38.27,152.11c14.25,30.7,42.22,54.32,52.04,86.7,12.32,40.65-7.08,83.96-30.41,119.45-23.34,35.49-51.8,69.58-60.47,111.16-8.01,38.38,2.72,78.02,24.05,111.38a197.34468,197.34468,0,0,0,35.74,41.61c43.09,37.91,98.77,58.15,154.17,73.13,200.27,54.17,416.13,49.29,613.75-13.88,34.99-11.18,69.95-24.43,99.32-46.48,19.16-14.38,35.83-33.02,46.39-54.35a114.10574,114.10574,0,0,0,11.13-36.18005C1104.43917,610.17819,1072.9692,562.05819,1050.69918,514.5082Z" transform="translate(-26.84086 -49.49819)" fill="#6c63ff"/><g opacity="0.17"><path d="M890.75032,246.45145c9.64171-4.20394-9.91163-6.65119-32.09585-7.45582s-49.02061-.76011-63.19756-3.04875c-13.71114-2.21343-12.7009-6.14907-13.85427-9.71489s-6.42446-7.222-27.81928-8.0147c-26.6607-.98774-70.62581,2.81434-90.75171.53173-18.78121-2.13011-7.61723-8.81182-35.00344-9.06755-15.63837-.146-35.7849,2.05682-53.18577,2.58844-16.33647.49909-28.42216-.53441-36.90357-1.924s-14.38875-3.15126-23.93413-4.37864c-25.06068-3.2224-74.09133-2.13925-117.853,1.99071s-81.27344,10.89816-102.42889,17.60175-27.00029,13.30376-22.07239,18.90071c3.14674,3.574,11.19915,6.91585,30.73235,8.352,36.53555,2.68621,101.58387-1.9375,139.33713.50645,21.0415,1.36213,30.3764,4.73924,48.83812,6.58716,19.83407,1.98528,48.86935,2.09051,77.39656,2.04341,59.39721-.09807,120.3137-.70829,182.42994-1.82747,25.94486-.46745,53.13-1.0752,80.73761-3.30289s55.76623-6.52591,61.59076-10.5553" transform="translate(-26.84086 -49.49819)" fill="#fff"/></g><path d="M1099.25911,172.04818c-.46-1.18-.96-2.35-1.48-3.49.84.33,1.68006.69,2.51,1.08Z" transform="translate(-26.84086 -49.49819)" fill="#6c63ff"/><path d="M648.74482,314.5843c-7.66935-12.68445-16.75721-26.22767-30.98955-30.36953-16.482-4.7965-33.41319,4.73193-47.77473,14.13453a1392.15692,1392.15692,0,0,0-123.89338,91.28311l.04331.49239q46.22556-3.18781,92.451-6.37555c22.26532-1.53546,45.29557-3.2827,64.97195-13.8156,7.46652-3.99683,14.74475-9.33579,23.20555-9.70782,10.51175-.46217,19.67733,6.87923,26.8802,14.54931,42.60732,45.371,54.937,114.7541,102.73817,154.61592A1516.99458,1516.99458,0,0,0,648.74482,314.5843Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M910.64576,699.4127c-4.71168-5.94958-6.63691-7.343-11.28457-13.34761Q842.5968,612.64872,792.65327,534.27272q-33.92353-53.23005-64.48275-108.50439-14.54863-26.27808-28.29961-52.96872-10.67043-20.6952-20.8646-41.63793c-1.94357-3.98781-3.83209-7.99393-5.71122-12.00922-4.42788-9.44232-8.7734-18.93047-13.43942-28.24449-5.31687-10.61571-11.78905-21.74485-21.55259-28.877a29.4049,29.4049,0,0,0-15.31855-5.89457c-7.948-.51337-15.28185,2.76854-22.17569,6.35294-50.43858,26.301-97.65921,59.27589-140.36959,96.79771A730.77781,730.77781,0,0,0,346.39748,485.87843c-1.008,1.43927-3.39163.06418-2.37419-1.38422q6.00935-8.49818,12.25681-16.81288A734.81742,734.81742,0,0,1,543.87972,292.6956q18.24825-11.82579,37.18269-22.54245c6.36206-3.60275,12.75188-7.15967,19.25136-10.49653,6.37147-3.27274,13.13684-6.21547,20.41563-6.32547,24.77011-.385,37.5954,27.667,46.40506,46.54248q4.15283,8.9106,8.40636,17.76626,16.07481,33.62106,33.38729,66.628,10.68453,20.379,21.83683,40.51955,34.7071,62.71816,73.77854,122.897c34.5059,53.1429,68.73651,100.08874,108.04586,149.78473C913.67124,698.84433,911.73706,700.80615,910.64576,699.4127Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M457.9912,345.4352c-1.43911-1.60428-2.86926-3.20856-4.31777-4.81284-11.42244-12.63259-23.6788-25.11847-39.3644-32.36067a57.11021,57.11021,0,0,0-23.92678-5.54622c-8.56213.02753-16.93178,2.27348-24.84307,5.41792-3.74034,1.49428-7.39831,3.19021-11.00078,4.99614-4.11634,2.07182-8.15927,4.28118-12.1834,6.50883q-11.33112,6.27044-22.36816,13.0909-21.9606,13.5722-42.54565,29.21623-10.67111,8.11311-20.90175,16.75788-9.51557,8.03052-18.64618,16.492c-1.30168,1.20091-3.24526-.74255-1.94358-1.94347,1.60428-1.49428,3.22692-2.97938,4.84955-4.44612q6.87549-6.21547,13.9712-12.19258,12.93921-10.91827,26.54851-20.99312,21.16295-15.67614,43.78289-29.2254,11.3036-6.76547,22.91829-12.9626c2.33793-1.24674,4.70317-2.466,7.09571-3.6211a113.11435,113.11435,0,0,1,16.86778-6.86631,60.00626,60.00626,0,0,1,25.476-2.50266,66.32725,66.32725,0,0,1,23.50512,8.1314c15.40091,8.60812,27.34573,21.919,38.97005,34.90916C461.10844,344.80265,459.17382,346.75529,457.9912,345.4352Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M773.55166,476.34216l36.90462-13.498,18.32327-6.70182c5.96758-2.18267,11.92082-4.66747,18.08989-6.23037a28.53868,28.53868,0,0,1,16.37355.20862,37.73731,37.73731,0,0,1,12.771,7.91667,103.63871,103.63871,0,0,1,10.47488,11.18642c3.98932,4.79426,7.9197,9.63878,11.86772,14.46706q24.44135,29.89093,48.56306,60.04134,24.12118,30.14991,47.91981,60.556,23.85681,30.48042,47.38548,61.21573,2.8823,3.76519,5.75967,7.53415c1.0598,1.38809,3.44948.01962,2.37471-1.38807q-23.70225-31.04441-47.73491-61.83464-24.09177-30.86383-48.51646-61.46586-24.42423-30.60142-49.17854-60.93744-6.167-7.5576-12.35444-15.09858c-3.47954-4.24072-6.91984-8.52718-10.73629-12.47426-7.00538-7.24516-15.75772-13.64794-26.23437-13.82167-6.15972-.10214-12.121,1.85248-17.844,3.92288-6.16967,2.232-12.32455,4.50571-18.48632,6.7594L782.11123,470.2921l-9.29068,3.39811c-1.64874.603-.9365,3.26189.73111,2.65195Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M409.45248,324.15733c-18.75411-9.63866-42.77137-7.75087-60.00507,4.29119A855.84532,855.84532,0,0,1,446.818,351.17434C433.53537,343.3904,423.14521,331.19475,409.45248,324.15733Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M349.26282,328.41534,345.6524,331.35c1.22123-1.02713,2.4908-1.99013,3.795-2.90144C349.3858,328.43789,349.32442,328.426,349.26282,328.41534Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M874.62436,476.477c-3.63279-4.42206-7.56046-9.05222-12.99421-10.84836l-5.07308.20009a575.43629,575.43629,0,0,0,153.26729,175.22056Q942.22437,558.76317,874.62436,476.477Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M1086.66915,698.4482c-10.56006,21.33-27.23,39.97-46.39,54.35-29.37,22.05-64.33,35.3-99.32,46.48-197.62,63.17-413.48,68.05-613.75,13.88-55.4-14.98-111.08-35.22-154.17-73.13a197.34468,197.34468,0,0,1-35.74-41.61c57.35-31.52,126.86-43.4,193.19-41.95,95.09,2.08,187.96,27.46,282.16,40.59a1102.669,1102.669,0,0,0,334.04-4.6c38.31994-6.43,77.98-14.84,115.49-4.66A95.14954,95.14954,0,0,1,1086.66915,698.4482Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><circle cx="179.31828" cy="51" r="51" fill="#ccc"/><path d="M362.30892,97.84042C348.81185,83.6816,333.13643,70.765,314.57961,63.93948a76.71521,76.71521,0,0,0-15.98633-4.01734c-.04388-.006-.08545.00287-.12909-.00067a2.35576,2.35576,0,0,0-.26965-.05292,61.5388,61.5388,0,0,0-22.84131,1.379,63.10735,63.10735,0,0,0-10.63519,3.7049,93.00467,93.00467,0,0,0-9.97943,5.65557A64.90832,64.90832,0,0,1,232.6863,78.8348a74.1877,74.1877,0,0,1-11.84406,1.16248c-3.44714.06915-6.698.1889-9.964,1.43426a23.91573,23.91573,0,0,0-14.56494,15.77051,1.55078,1.55078,0,0,0,.68933,1.694c.88349.63275,1.74476,1.35065,2.673,1.91437a8.33922,8.33922,0,0,0,2.611.71209q2.21366.46711,4.43292.90693,8.17584,1.61992,16.41962,2.86792,16.681,2.5252,33.54217,3.55755a373.48132,373.48132,0,0,0,67.51026-2.029A374.77144,374.77144,0,0,0,361.647,100.3475,1.5139,1.5139,0,0,0,362.30892,97.84042Z" transform="translate(-26.84086 -49.49819)" fill="#f0f0f0"/><path d="M208.57961,131.93948a76.71521,76.71521,0,0,0-15.98633-4.01734c-.04388-.006-.08545.00287-.12909-.00067a2.35576,2.35576,0,0,0-.26965-.05292,61.5388,61.5388,0,0,0-22.84131,1.379,63.10735,63.10735,0,0,0-10.63519,3.7049,93.00467,93.00467,0,0,0-9.97943,5.65557,64.90832,64.90832,0,0,1-22.05231,8.22681,74.1877,74.1877,0,0,1-11.84406,1.16248c-3.44714.06915-6.698.1889-9.964,1.43426a23.91573,23.91573,0,0,0-14.56494,15.77051,1.55078,1.55078,0,0,0,.68933,1.694c.88349.63275,1.74476,1.35065,2.673,1.91437a8.33922,8.33922,0,0,0,2.611.71209q2.21366.46712,4.43292.90693,8.17584,1.61992,16.41962,2.86792,16.681,2.5252,33.54217,3.55755a373.48132,373.48132,0,0,0,67.51026-2.029A374.77144,374.77144,0,0,0,255.647,168.3475a1.5139,1.5139,0,0,0,.66193-2.50708C242.81185,151.6816,227.13643,138.765,208.57961,131.93948Z" transform="translate(-26.84086 -49.49819)" fill="#f0f0f0"/><polygon points="1047.411 588.142 1074.576 567.518 1087.816 580.759 1043.563 611.042 1047.411 588.142" fill="#2f2e41"/><path d="M1048.91635,694.42781H955.99269l3.25907-10.55987,0,0c20.1993-7.31227,8.85333-23.02957,28.06751-32.63666,46.9968-23.4984,65.19118-93.62006,58.30932-121.33935l30.798-1.30221S1118.95877,649.37476,1048.91635,694.42781Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M1128.24653,644.78888a15.61893,15.61893,0,0,1-20.18272.37759l-.0604-.04961-.00207-.07767a14.96483,14.96483,0,0,0-.6-3.81936,10.69077,10.69077,0,0,1-.38818,2.64366l-.07784.28991-.20873-.21549c-.18027-.18589-.35474-.37472-.51859-.561a15.75088,15.75088,0,0,1-2.399-3.63269,45.91623,45.91623,0,0,0-12.74-15.87972,22.29237,22.29237,0,0,1-2.6727-2.57172,22.03415,22.03415,0,0,1,27.66955-33.56911l.13767.0806-.07148.1425a11.47756,11.47756,0,0,1-2.04788,2.954,14.96829,14.96829,0,0,0,3.15395-2.27865l.10006-.09436.11337.07818a22.12793,22.12793,0,0,1,4.0294,3.5867l.12844.14726a9.83643,9.83643,0,0,0,7.28375,3.36123,15.614,15.614,0,0,1,15.11947,18.29291l-.01769.10315-.10034.0304a13.39866,13.39866,0,0,1-5.45694.68088,15.22208,15.22208,0,0,0,4.86061,1.2174l.21654.01718-.06874.20619a15.6035,15.6035,0,0,1-4.50339,6.79l-.05928.05187-.06294.05509a15.3329,15.3329,0,0,0-5.297,10.64272A15.73345,15.73345,0,0,1,1128.24653,644.78888Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M1131.089,639.76934a15.57418,15.57418,0,0,1-.1756,1.67894,15.78521,15.78521,0,0,0,2.53772-7.82047c.02071-.42637.06546-.8511.12549-1.27393A14.8141,14.8141,0,0,0,1131.089,639.76934Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1136.00331,620.789a15.19815,15.19815,0,0,0,3.88418,1.09822,15.63,15.63,0,0,0,1.42322-1.73647A13.24363,13.24363,0,0,1,1136.00331,620.789Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1141.72736,615.66082a15.70907,15.70907,0,0,1-.11112,4.05194,15.52908,15.52908,0,0,0,1.75758-3.62455l.06874-.2062-.21655-.01718A15.09472,15.09472,0,0,1,1141.72736,615.66082Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1140.28241,600.83967a15.65079,15.65079,0,0,0-11.46149-5.29958,9.83649,9.83649,0,0,1-7.28378-3.36124l-.12843-.14726a22.12785,22.12785,0,0,0-4.02939-3.58669l-.11338-.07817-.10005.09434a14.9676,14.9676,0,0,1-3.154,2.27865,11.47832,11.47832,0,0,0,2.04794-2.954l.07146-.1425-.13766-.08059a22.01777,22.01777,0,0,0-32.62113,14.2542,22.02182,22.02182,0,0,1,30.259-8.11268l.13765.08059-.07145.1425a11.47814,11.47814,0,0,1-2.04794,2.954,14.96754,14.96754,0,0,0,3.154-2.27865l.10006-.09434.11338.07817a22.12857,22.12857,0,0,1,4.02939,3.5867l.12843.14725a9.83643,9.83643,0,0,0,7.28377,3.36124,15.61675,15.61675,0,0,1,15.10347,12.83488,18.92714,18.92714,0,0,0,2.26005-.55l.10034-.03039.01776-.10314A15.554,15.554,0,0,0,1140.28241,600.83967Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1173.15913,536.54065a50.29141,50.29141,0,0,1-42.007,49.59965l-.2484.04053-.19219-.16016a48.18565,48.18565,0,0,0-10.51008-6.67159,34.42316,34.42316,0,0,1,5.5662,6.56047l.53537.80469-.96485.04641c-.8328.04053-1.66038.0608-2.45919.0608a50.71554,50.71554,0,0,1-13.88445-1.92513c-20.51748-5.83748-42.55022-6.83567-65.48571-2.96711a71.77856,71.77856,0,0,1-11.90147.993A70.94787,70.94787,0,0,1,1009.287,444.63723l.48765-.16146.19251.47589a36.95659,36.95659,0,0,1,2.787,11.23306,48.19635,48.19635,0,0,0,1.19789-12.47116l-.01536-.44255.43013-.10786a71.24939,71.24939,0,0,1,17.24051-2.1147l.62918.00262a31.67228,31.67228,0,0,0,23.616-10.46237,50.27568,50.27568,0,0,1,76.38016,2.34611l.2118.26213-.1399.30723c-2.93769,6.47484-6.13818,11.19189-9.95836,14.64143a49.01343,49.01343,0,0,0,13.27978-9.16282l.502-.487.35234.60466A50.24214,50.24214,0,0,1,1143.32,464.4278l-.00065.25363c-.00065.08956-.00065.17977-.00065.26932,0,13.61317,5.26419,26.51577,14.46689,35.43934A50.66021,50.66021,0,0,1,1173.15913,536.54065Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><g opacity="0.15"><path d="M1111.68868,417.71713a35.519,35.519,0,0,1-6.33509,7.77159,48.88929,48.88929,0,0,0,9.89823-6.1865Q1113.50228,418.44038,1111.68868,417.71713Z" transform="translate(-26.84086 -49.49819)"/><path d="M1140.79293,477.73323a50.48191,50.48191,0,0,1,7.22981,8.80775,51.39288,51.39288,0,0,1-4.70405-21.59022c0-.08957,0-.17978.00065-.26932l.00064-.25364a50.24245,50.24245,0,0,0-6.83956-25.32735l-.35235-.60468-.50207.487a49.12616,49.12616,0,0,1-9.17043,6.983A48.97185,48.97185,0,0,0,1140.79293,477.73323Z" transform="translate(-26.84086 -49.49819)"/><path d="M1126.32733,441.77093l-.00065.25364c-.00064.08954-.00064.17975-.00064.26931,0,.49355.00894.98585.02272,1.47739a52.3648,52.3648,0,0,0,5.95587-10.26709l.13985-.30725-.21176-.26212a50.68811,50.68811,0,0,0-9.096-8.79733A50.35621,50.35621,0,0,1,1126.32733,441.77093Z" transform="translate(-26.84086 -49.49819)"/><path d="M1157.78559,500.3901a45.45934,45.45934,0,0,1-6.40838-7.79666,50.2297,50.2297,0,0,1-37.21772,70.89l-.24841.04054-.19217-.16016a48.188,48.188,0,0,0-10.5101-6.67159,34.42262,34.42262,0,0,1,5.56617,6.56046l.5354.80471-.96482.0464c-.83286.04054-1.66041.0608-2.4592.0608a50.71549,50.71549,0,0,1-13.88448-1.92514c-20.51749-5.83747-42.55022-6.83566-65.4857-2.9671a71.7793,71.7793,0,0,1-11.90145.993,70.62389,70.62389,0,0,1-47.12-17.969,71.01118,71.01118,0,0,0,64.1127,40.6259,71.77947,71.77947,0,0,0,11.90145-.99294c22.93547-3.86857,44.96821-2.87037,65.4857,2.96709a50.71543,50.71543,0,0,0,13.88448,1.92514c.79878,0,1.62634-.02026,2.45919-.0608l.96483-.0464-.5354-.80471a34.42263,34.42263,0,0,0-5.56618-6.56045,48.18774,48.18774,0,0,1,10.51011,6.67159l.19217.16016.24841-.04055a50.25392,50.25392,0,0,0,26.63344-85.75019Z" transform="translate(-26.84086 -49.49819)"/></g><polygon points="134.035 560.973 97.223 533.025 79.28 550.968 139.25 592.007 134.035 560.973" fill="#2f2e41"/><path d="M195.21,687.42781h125.9266L316.72,673.11747l0,0c-27.37332-9.9093-11.99769-31.20879-38.036-44.228-63.68827-31.84414-88.3446-126.87035-79.01856-164.43447l-41.73625-1.76471S100.29113,626.37364,195.21,687.42781Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M80.55365,605.25219a20.7786,20.7786,0,0,0-7.17833-14.42261c-.0283-.02489-.05681-.05-.08529-.07465l-.08034-.0703a21.14539,21.14539,0,0,1-6.10283-9.20148l-.09315-.27942.29345-.02329a20.6283,20.6283,0,0,0,6.58691-1.64977,18.15726,18.15726,0,0,1-7.395-.9227l-.136-.0412-.024-.13979a21.15953,21.15953,0,0,1,20.48932-24.78985,13.32987,13.32987,0,0,0,9.87066-4.555l.17406-.19956a29.9868,29.9868,0,0,1,5.46049-4.86055l.15364-.106.13559.12786a20.2845,20.2845,0,0,0,4.27411,3.088,15.554,15.554,0,0,1-2.77519-4.00312l-.09688-.19312.18657-.10923A29.85984,29.85984,0,0,1,141.70818,588.318a30.209,30.209,0,0,1-3.62195,3.48511,62.224,62.224,0,0,0-17.26483,21.51959,21.34447,21.34447,0,0,1-3.251,4.92289c-.222.25244-.45848.50834-.70277.76026l-.28286.292-.10549-.39287a14.48742,14.48742,0,0,1-.526-3.58259,20.27961,20.27961,0,0,0-.813,5.17585l-.00281.10525-.08185.06724a21.15037,21.15037,0,0,1-34.50192-15.41853Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M83.85266,613.35673a21.10374,21.10374,0,0,0,.238,2.27524,21.39156,21.39156,0,0,1-3.439-10.598c-.02806-.57781-.08871-1.15339-.17006-1.72639A20.07562,20.07562,0,0,1,83.85266,613.35673Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M77.193,587.63524a20.59681,20.59681,0,0,1-5.2637,1.48826,21.18029,21.18029,0,0,1-1.92868-2.3532A17.94731,17.94731,0,0,0,77.193,587.63524Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M69.436,580.68579a21.28893,21.28893,0,0,0,.1506,5.491,21.04389,21.04389,0,0,1-2.3818-4.91186l-.09316-.27943.29346-.02329A20.4517,20.4517,0,0,0,69.436,580.68579Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M71.39415,560.60073a21.20931,21.20931,0,0,1,15.53218-7.18179,13.33,13.33,0,0,0,9.87069-4.555l.174-.19955a29.98717,29.98717,0,0,1,5.46048-4.86056l.15364-.10593.13559.12785a20.28377,20.28377,0,0,0,4.27415,3.08794,15.55474,15.55474,0,0,1-2.77529-4.00312l-.09683-.19312.18655-.10921A29.83764,29.83764,0,0,1,148.51627,561.925a29.84315,29.84315,0,0,0-41.00585-10.994l-.18655.10921.09683.19311a15.5548,15.5548,0,0,0,2.77529,4.00313,20.28412,20.28412,0,0,1-4.27415-3.08794l-.13559-.12786-.15364.10594a29.98711,29.98711,0,0,0-5.46048,4.86055l-.174.19956a13.33,13.33,0,0,1-9.87069,4.555A21.16316,21.16316,0,0,0,69.65975,579.135a25.64845,25.64845,0,0,1-3.06273-.74529l-.136-.04118-.02407-.13978A21.07824,21.07824,0,0,1,71.39415,560.60073Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M47.67454,424.47529c12.47114-12.09289,19.605-29.578,19.605-48.026,0-.12136,0-.24361-.00089-.365l-.00088-.34372a68.08611,68.08611,0,0,1,9.26876-34.32266l.47748-.81942.68034.66a66.42122,66.42122,0,0,0,17.99625,12.41711c-5.177-4.67469-9.51414-11.06706-13.4952-19.8415l-.18957-.41636.287-.35523a68.13168,68.13168,0,0,1,103.50749-3.17935,42.9211,42.9211,0,0,0,32.00348,14.1782l.85264-.00355a96.55467,96.55467,0,0,1,23.36369,2.86576l.58289.14617-.02081.59973a65.31307,65.31307,0,0,0,1.62334,16.90044,50.08227,50.08227,0,0,1,3.77686-15.22262l.26089-.64491.66085.21881a96.14585,96.14585,0,0,1-30.24771,187.39848A97.27192,97.27192,0,0,1,202.538,534.974c-31.0813-5.24253-60.93923-3.88982-88.74374,4.02092a68.72787,68.72787,0,0,1-18.81567,2.60886c-1.08252,0-2.204-.02747-3.33261-.08239l-1.30753-.0629L91.064,540.368a46.64968,46.64968,0,0,1,7.5431-8.8905,65.29981,65.29981,0,0,0-14.24286,9.0411l-.26045.217-.33662-.05492A68.10219,68.10219,0,0,1,47.67454,424.47529Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><g opacity="0.15"><path d="M110.14328,312.44a48.13438,48.13438,0,0,0,8.58508,10.53176,66.25283,66.25283,0,0,1-13.4137-8.38371Q107.68556,313.42016,110.14328,312.44Z" transform="translate(-26.84086 -49.49819)"/><path d="M70.70231,393.77157a68.411,68.411,0,0,0-9.79756,11.93592,69.64577,69.64577,0,0,0,6.37475-29.25825c0-.12137,0-.24362-.00088-.365l-.00087-.34372a68.08661,68.08661,0,0,1,9.26871-34.32266l.4775-.81944.68039.66a66.5738,66.5738,0,0,0,12.42741,9.46305C88.97194,367.31049,82.046,382.77189,70.70231,393.77157Z" transform="translate(-26.84086 -49.49819)"/><path d="M90.30555,345.03683l.00087.34372c.00088.12134.00088.24359.00088.365,0,.66884-.01212,1.336-.0308,2.0021A70.9624,70.9624,0,0,1,82.20534,333.834l-.18953-.41637.287-.35522a68.69044,68.69044,0,0,1,12.32659-11.92181A68.24086,68.24086,0,0,0,90.30555,345.03683Z" transform="translate(-26.84086 -49.49819)"/><path d="M47.67451,424.4753a61.60525,61.60525,0,0,0,8.6844-10.56575,68.06938,68.06938,0,0,0,50.436,96.06741l.33664.05494.26042-.217a65.30253,65.30253,0,0,1,14.24289-9.04108,46.64767,46.64767,0,0,0-7.54306,8.89047l-.72556,1.09052,1.3075.06287c1.12865.05494,2.25012.08239,3.33261.08239a68.72762,68.72762,0,0,0,18.81572-2.60886c27.80451-7.91072,57.66244-9.26344,88.74372-4.0209a97.27262,97.27262,0,0,0,16.12839,1.3456,95.7069,95.7069,0,0,0,63.8553-24.35094,96.23165,96.23165,0,0,1-86.88309,55.05467A97.27245,97.27245,0,0,1,202.538,534.974c-31.08129-5.24254-60.93922-3.88982-88.74373,4.0209a68.72763,68.72763,0,0,1-18.81572,2.60887c-1.08249,0-2.204-.02746-3.33261-.0824l-1.30749-.06287L91.064,540.368a46.64834,46.64834,0,0,1,7.54306-8.89047,65.30253,65.30253,0,0,0-14.24289,9.04108l-.26042.217-.33663-.05494A68.10219,68.10219,0,0,1,47.67451,424.4753Z" transform="translate(-26.84086 -49.49819)"/></g><circle cx="460.31828" cy="185" r="5" fill="#fff"/><circle cx="834.31828" cy="305" r="3" fill="#fff"/><circle cx="892.31828" cy="170" r="3" fill="#fff"/><circle cx="355.31828" cy="80" r="3" fill="#fff"/><circle cx="325.31828" cy="201" r="3" fill="#fff"/><circle cx="179.31828" cy="170" r="3" fill="#fff"/><circle cx="696.31828" cy="195" r="3" fill="#fff"/><circle cx="1003.31828" cy="98" r="3" fill="#fff"/><path d="M328.95929,413.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C339.30268,425.75443,332.75886,420.59829,328.95929,413.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M910.95929,612.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.795,4.95494l-.13433.50325C921.30268,624.75443,914.75886,619.59829,910.95929,612.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M591.95929,449.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.795,4.95494l-.13433.50325C602.30268,461.75443,595.75886,456.59829,591.95929,449.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M287.95929,565.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C298.30268,577.75443,291.75886,572.59829,287.95929,565.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M249.95929,651.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C260.30268,663.75443,253.75886,658.59829,249.95929,651.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><rect x="843.31828" y="68" width="11" height="589" fill="#3f3d56"/><rect x="813.31828" y="20" width="72" height="72" rx="35.99996" fill="#ff6582"/><path d="M418.64263,424.1385c0,11.47771,12.51572,21.67823,23.99344,21.67823s17.571-10.20052,17.571-21.67823a20.78224,20.78224,0,0,0-41.56448,0Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><polygon points="398.471 484.489 437.067 483.005 439.294 442.925 394.76 442.925 398.471 484.489" fill="#ffb8b8"/><path d="M400.81364,561.4928a6.18231,6.18231,0,0,0-.36494-9.4728l7.00739-20.82235-11.03775,2.917-4.96213,19.32605a6.21581,6.21581,0,0,0,9.35743,8.05215Z" transform="translate(-26.84086 -49.49819)" fill="#ffb6b6"/><circle cx="415.75835" cy="381.62478" r="14.69804" fill="#ffb8b8"/><path d="M442.96047,429.64379l-10.73253-.28426a1.504,1.504,0,0,1-1.28014-.78738l-3.58787-6.65514a1.49783,1.49783,0,0,1,.39563-1.89138L441.79818,409.047a1.49679,1.49679,0,0,1,1.25618-.28037l11.34184,2.58422a1.499,1.499,0,0,1,1.1066,1.04314l4.4413,15.29492a1.49935,1.49935,0,0,1-1.51389,1.916l-5.5602-.27779a1.50724,1.50724,0,0,1-1.34747-1.0276l-.23052-.69867a.17342.17342,0,0,0-.338.05439,1.49974,1.49974,0,0,1-1.57346,1.4977l-1.84088-.09194a1.4954,1.4954,0,0,1-1.396-1.205l-.79385-3.99256a.1732.1732,0,0,0-.34188.01359l-.51866,4.442a1.492,1.492,0,0,1-1.48734,1.32546Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M432.2515,449.58079l19.00323.25331,6.18481,7.85346,9.95684,2.3481,2.5878,14.95427c1.29375,7.47624-.07979,12.21089-3.88076,18.77751l0,0-.45522,12.91771.503.91426a2.09364,2.09364,0,0,1-.63119,2.72267h0a4.27726,4.27726,0,0,1,.11752,2.81491l-.24528.81046s-.70783,5.66261-40.83239-.29293a3.95632,3.95632,0,0,1-3.34345-3.3986h0a2.95406,2.95406,0,0,1-.547-3.4038l.08175-.16348-.412-.48529a3.177,3.177,0,0,1-.1608-3.90659h0l-5.76652-41.25217,11.91192-3.71Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M419.16862,464.99288l-4.75684-3.94828s-4.22952,1.25013-7.18334,9.58077-13.08957,71.52656-13.08957,71.52656l11.87557-5.93778,16.8392-46.43085Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M524.81946,532.274a6.18228,6.18228,0,0,1-7.09116-6.29147l-20.54147-7.79242,9.257-6.682,18.08733,8.42424a6.21581,6.21581,0,0,1,.28831,12.34162Z" transform="translate(-26.84086 -49.49819)" fill="#ffb6b6"/><path d="M461.88061,464.63253l3.22471-5.27425s4.40655-.18456,9.89528,6.74353c2.81373,3.55161,21.04874,34.01719,21.04874,34.01719l16.86311,14.05546-13.80628,4.93081-16.27169-6.90314-18.244-30.078Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><polygon points="435.555 666.81 444.739 666.81 449.108 631.385 435.553 631.386 435.555 666.81" fill="#ffb6b6"/><polygon points="355.157 661.099 364.044 663.415 377.208 630.238 364.091 626.819 355.157 661.099" fill="#ffb6b6"/><path d="M460.11787,711.77763l14.51826-.86655v6.22026l13.80293,9.53279a3.88541,3.88541,0,0,1-2.20782,7.08274H468.9467l-2.97925-6.15279-1.16325,6.15279h-6.517Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M380.13111,705.42858l14.2674,2.8235-1.569,6.01913,10.95211,12.70615a3.88541,3.88541,0,0,1-3.923,6.29683L383.133,728.91441l-1.331-6.70531-2.67759,5.66043-6.30624-1.64381Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M383.1248,688.31931l26.92081-55.33021,2.11353-65.49091C406.33233,556.677,423.491,532.805,423.491,532.805v-9.24491l41.91852,7.90812v0a201.21489,201.21489,0,0,1,12.26151,73.06026L475.982,694.04734h.52987a3.31527,3.31527,0,1,1,0,6.63053H459.9355a3.31527,3.31527,0,1,1,0-6.63053h.4274L448.4631,580.16351l-13.83654,56.19881L401.189,688.1066a3.3069,3.3069,0,0,1-.26524,6.60379H384.34739a3.31182,3.31182,0,0,1-1.22259-6.39108Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M382.75841,426.29647c6.19395-6.05935,10.09279-14.02773,15.22255-21.01108,5.1296-6.98327,12.35472-13.3824,21.01083-13.77026a13.03786,13.03786,0,0,1,8.16579,2.129,8.30541,8.30541,0,0,1,3.60455,7.36741c.9138-2.56674,4.99718-3.1453,6.588-.93331,1.59062,2.21191-.25722,5.89893-2.98115,5.94838l-.2671-1.05666a18.24877,18.24877,0,0,1-11.80141,7.83613,2.9783,2.9783,0,0,1-3.35526-3.85425C409.59087,410.80666,412.56052,428.25234,407,436s-21.45259,6.99551-30.82907,8.7353c-9.05466,1.68-17.85857-3.34756-25.69931-8.178A38.2715,38.2715,0,0,0,382.75841,426.29647Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M732.68989,636.90373,704.47275,624.455V613.75265l10.0561-.05651a7.46918,7.46918,0,0,0,7.044-5.10714l7.06437-21.19305a7.46924,7.46924,0,0,0-7.086-9.83122H704.47275v-9.959H725.913a7.46925,7.46925,0,0,0,7.27937-5.79584l4.865-21.16286a7.46923,7.46923,0,0,0-7.27937-9.14265H704.47275v-2.48975a4.97949,4.97949,0,0,0-9.959,0v2.48975H518.1566v-2.48975a4.9795,4.9795,0,0,0-9.959,0v2.48975H487.2868a7.46923,7.46923,0,0,0-7.27937,9.14265l4.865,21.16286a7.46925,7.46925,0,0,0,7.27937,5.79584H508.1976v9.959H496.51328a7.46923,7.46923,0,0,0-7.10927,9.76l7.21041,22.37711a7.46925,7.46925,0,0,0,7.15123,5.17837l4.432-.0249V624.455l-22.82269,12.44874a7.46922,7.46922,0,0,0-7.46924,7.46922v0a7.46925,7.46925,0,0,0,7.46924,7.46925H508.1976v54.77446a4.9795,4.9795,0,0,0,9.959,0V651.84222H694.51376v54.77446a4.97949,4.97949,0,0,0,9.959,0V651.84222h28.21714a7.46925,7.46925,0,0,0,7.46925-7.46925v0A7.46922,7.46922,0,0,0,732.68989,636.90373Zm-214.53329-69.298H694.51376v9.959H518.1566Zm0,56.84925v-9.65563l176.35716-.99076V624.455Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/></svg>',hxe='<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="855.93958" height="630.06608" viewBox="0 0 855.93958 630.06608" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M935.43234,472.55767c-3.73,43.08-22.51,84.71-49.3,119.14q-1.68,2.16-3.4,4.28-3.87,4.77-7.94,9.36-4.98,5.655-10.25,11.05005-4.29,4.43994-8.78,8.68994-3.465,3.315-7.01,6.5c-28.43,25.69-61.09,46.89-94.74,65.43005-65.67,36.17-137.65,63.56995-212.52,67.56-74.86,3.98-153.01-17.46-207.91-68.52-73.99-68.81-94.63995-183.58-64.6-280.05,19.98-64.18,60.76-122.24,116.26-160.16,55.02-37.59,124.43-54.51,190.12-43.44995,52.44-31.87006,121.09-32.48,178.1-8.89,30.42,12.59,57.72,31.31,81.67,53.93a339.34337,339.34337,0,0,1,30.72,33.23q1.455,1.785,2.88,3.6,5.97,7.545,11.55,15.4,8.01,11.265,15.21,23.03c1.32,2.16,2.63,4.33,3.91,6.52.86,1.47,1.73,2.95,2.58,4.44a.29776.29776,0,0,1,.04.1c13.31,23.41,24.19,48.39,29.86005,74.5,1,4.62,1.84,9.26,2.49,13.94v.01q.855,5.955,1.29,11.97A176.97711,176.97711,0,0,1,935.43234,472.55767Z" transform="translate(-172.03021 -134.96696)" fill="#3f3d56"/><path d="M740.07386,537.68412,591.61233,414.00627,735.84027,542.638a3.44161,3.44161,0,1,0,4.23359-4.95386Z" transform="translate(-172.03021 -134.96696)" fill="#f0f0f0" opacity="0.3"/><circle cx="227.58212" cy="250.78071" r="89" fill="#f2f2f2"/><path d="M478.61233,379.74767a80.99369,80.99369,0,0,1-81,81,81.57161,81.57161,0,0,1-27.8-4.9,81.05489,81.05489,0,1,1,108.8-76.1Z" transform="translate(-172.03021 -134.96696)" fill="#fff"/><circle cx="211.58212" cy="217.78071" r="25" fill="#e4e4e4"/><path d="M475.45236,357.27764a25.00115,25.00115,0,0,1-27.6-41.08A81.05279,81.05279,0,0,1,475.45236,357.27764Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><circle cx="252.58212" cy="271.78071" r="9" fill="#e4e4e4"/><path d="M387.61233,457.74767a9.04581,9.04581,0,0,1-.31,2.34,79.52774,79.52774,0,0,1-17.49-4.24,9.00157,9.00157,0,0,1,17.8,1.9Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><path d="M334.61233,375.74767a18.002,18.002,0,0,1-16.8,17.96,81.54773,81.54773,0,0,1,1.76-35.71A18.00026,18.00026,0,0,1,334.61233,375.74767Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><circle cx="606.45653" cy="208.48305" r="3.70234" fill="#6c63ff"/><circle cx="572.30231" cy="119.94851" r="2.16307" fill="#f0f0f0"/><circle cx="225.30231" cy="543.94851" r="2.16307" fill="#f0f0f0"/><circle cx="584.58144" cy="331.59402" r="2.16307" fill="#f0f0f0"/><circle cx="305.45653" cy="350.48305" r="3.70234" fill="#6c63ff"/><circle cx="171.45653" cy="416.48305" r="17.48305" fill="#6c63ff"/><circle cx="267.30231" cy="435.94851" r="2.16307" fill="#f0f0f0"/><circle cx="487.30231" cy="97.94851" r="2.16307" fill="#f0f0f0"/><circle cx="358.30231" cy="558.94851" r="2.16307" fill="#f0f0f0"/><circle cx="326.30231" cy="117.94851" r="2.16307" fill="#f0f0f0"/><circle cx="382.30231" cy="222.94851" r="2.16307" fill="#f0f0f0"/><circle cx="296.58144" cy="480.59402" r="2.16307" fill="#f0f0f0"/><circle cx="549.58144" cy="494.59402" r="2.16307" fill="#f0f0f0"/><circle cx="437.58144" cy="368.59402" r="2.16307" fill="#f0f0f0"/><circle cx="494.58144" cy="222.59402" r="2.16307" fill="#f0f0f0"/><circle cx="598.21204" cy="292.65473" r="4.28889" fill="#ff6584"/><circle cx="424.21204" cy="150.65473" r="4.28889" fill="#ff6584"/><circle cx="424.21204" cy="445.65473" r="4.28889" fill="#ff6584"/><path d="M863.45236,605.33764a7.694,7.694,0,0,0-7.39,5.58,7.3896,7.3896,0,0,0-.3,2.12v12.04q4.485-4.24494,8.78-8.68994,5.265-5.40006,10.25-11.05005Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><path d="M890.68118,667.89806q-19.36816,0-42.45654-1.46386c-79.61377-5.05567-182.7378-22.63282-290.376-49.49219-107.6377-26.85938-206.93018-59.79395-279.58545-92.73438-35.39258-16.04687-62.55615-31.23632-80.73535-45.14746-19.24707-14.72705-27.666-27.564-25.02393-38.15283,5.148-20.62891,50.731-25.14209,88.064-25.29541l.01269,3c-51.26806.21045-81.51367,8.38672-85.16552,23.022-4.65186,18.64014,33.28662,47.74073,104.08691,79.84131,72.49561,32.86817,171.60547,65.73926,279.07324,92.55664,107.46729,26.81641,210.40137,44.36328,289.83985,49.40821,77.57861,4.92773,124.74316-2.9375,129.39453-21.57813,3.86181-15.47656-21.59815-38.27539-71.68946-64.19824l1.37891-2.66406c36.397,18.83593,78.64551,45.85156,73.22168,67.58886-2.64258,10.58887-16.10547,17.96485-40.01514,21.92285C927.0762,666.7672,910.33548,667.89806,890.68118,667.89806Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><circle cx="714.58212" cy="208.78071" r="100.5" fill="#fff"/><path d="M886.61233,241.74767a102,102,0,1,0,102,102A101.635,101.635,0,0,0,886.61233,241.74767Zm0,201a99,99,0,1,1,99-99A98.61767,98.61767,0,0,1,886.61233,442.74767Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M798.417,367.81847a2.00078,2.00078,0,0,1-1.957-1.59765,97.66924,97.66924,0,0,1,22.34082-83.13526,2,2,0,0,1,2.98633,2.66114A93.59682,93.59682,0,0,0,800.378,365.41515a2.00228,2.00228,0,0,1-1.96094,2.40332Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><circle cx="714.51924" cy="238.27373" r="63.87702" fill="#6c63ff"/><path d="M866.24805,397.35666c-4.14062-.115-9.29385-.25869-13.26384-3.15874a10.18618,10.18618,0,0,1-4.00806-7.60607,6.85213,6.85213,0,0,1,2.33007-5.62763c2.07352-1.75216,5.10139-2.16313,8.36441-1.2042l-3.38076-24.7061,2.48174-.34,3.97444,29.04518-2.07245-.951c-2.4027-1.10205-5.70088-1.66285-7.7504.06911a4.40263,4.40263,0,0,0-1.44375,3.62659,7.69887,7.69887,0,0,0,2.98246,5.67107c3.08949,2.25668,7.19708,2.54779,11.85585,2.678Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><rect x="658.49493" y="222.21767" width="13.49133" height="2.50498" fill="#2f2e41"/><rect x="701.07961" y="222.21765" width="13.49133" height="2.50498" fill="#2f2e41"/><path d="M889.23233,452.90765h-57.9a8.14716,8.14716,0,0,0-8.13995,8.14v128.33a47.66955,47.66955,0,0,0,25.56,42.19995q3.555-3.18,7.01-6.5,4.485-4.24494,8.78-8.68994,5.265-5.40006,10.25-11.05005,4.08006-4.59,7.94-9.36,1.725-2.115,3.4-4.28c26.79-34.43,45.57-76.06,49.3-119.14A64.04854,64.04854,0,0,0,889.23233,452.90765Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M891.34231,479.68767a14.61136,14.61136,0,0,0-10.43-4.17,14.465,14.465,0,0,0-9.16,3.36005,13.12263,13.12263,0,0,0-1.17,1.07l-47.38995,48.6-34.37,35.25a6.80061,6.80061,0,0,0-1.28,1.8,7.29573,7.29573,0,0,0-.77,3.32,7.16751,7.16751,0,0,0,2.18006,5.07l1.35,1.32,9.8,9.55.01-.01a7.29073,7.29073,0,0,0,4.66,1.63,7.167,7.167,0,0,0,5.07-2.18l1.59-1.62,11.38-11.67.38-.39,68.41-70.16a14.69128,14.69128,0,0,0-.26-20.77Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><path d="M890.86152,343.44c2.1124-4.46658-.05349-9.23761-3.76378-12.09072-4.67557-3.59539-10.7221-3.00085-16.04008-1.29905-5.82238,1.8632-11.51366,5.21608-17.80383,5.02337a11.13058,11.13058,0,0,1-10.24407-7.27764c-3.3687-8.639.43561-18.29488,6.29971-24.84681a34.26766,34.26766,0,0,1,26.544-11.586,34.64989,34.64989,0,0,1,28.068,16.9026,1.54079,1.54079,0,0,0,2.05229.53813,36.88225,36.88225,0,0,1,28.39377-.71432,36.28984,36.28984,0,0,1,22.58042,34.49188c-.05,1.93122,2.95005,1.9301,3,0a39.89155,39.89155,0,0,0-10.59928-27.81249,38.71871,38.71871,0,0,0-27.56681-12.16772,39.33641,39.33641,0,0,0-17.32226,3.61223l2.05229.53813a37.69886,37.69886,0,0,0-25.0988-17.728,36.48542,36.48542,0,0,0-29.42384,7.32772c-7.70165,6.02707-13.53849,15.38016-13.17519,25.41071.15721,4.34047,1.44713,8.796,4.4606,12.03051,3.85981,4.14287,9.62229,4.85944,14.94631,3.798,7.07554-1.41071,13.53533-6.06449,20.91133-5.92113a10.21164,10.21164,0,0,1,7.6417,3.4453c1.62455,1.83335,2.6042,4.47042,1.49716,6.81122-.82094,1.73585,1.76463,3.26026,2.59041,1.51416Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M412.09426,704.32287c-35.59912.001-68.69433-1.22071-98.32226-3.68555-38.72656-3.22266-69.41455-8.40332-91.21045-15.39648-23.07666-7.40528-35.31934-16.667-36.38818-27.52832-2.083-21.15821,39.334-40.72461,74.44531-53.41309l1.01953,2.82227c-48.2168,17.42382-73.957,35.28613-72.47949,50.29785,1.88183,19.11914,47.39209,33.78125,124.86181,40.22754,79.3252,6.60058,183.71729,4.26172,293.94727-6.58985,110.23-10.84863,213.07568-28.90625,289.59131-50.8457,74.72607-21.42578,116.50488-44.67969,114.623-63.79883-1.5625-15.874-33.20264-28.793-89.0918-36.3789l.40332-2.97266c40.60986,5.51172,89.47949,16.76172,91.67383,39.05762,1.06933,10.86132-9.1333,22.332-30.32276,34.09375-20.01465,11.10937-49.10351,22.17285-86.45849,32.88281-76.68506,21.98828-179.71973,40.08105-290.12451,50.94824C539.00247,700.86,472.01663,704.32287,412.09426,704.32287Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><circle cx="838.45653" cy="434.48305" r="17.48305" fill="#6c63ff"/><circle cx="331.45653" cy="17.48305" r="17.48305" fill="#e6e6e6"/><circle cx="19.45653" cy="433.48305" r="17.48305" fill="#e6e6e6"/><circle cx="127.45653" cy="108.48305" r="10.70234" fill="#ff6584"/><circle cx="77.45653" cy="514.48305" r="10.70234" fill="#ff6584"/><circle cx="807.45653" cy="339.48305" r="10.70234" fill="#ff6584"/><circle cx="645.45653" cy="598.48305" r="17.48305" fill="#e6e6e6"/></svg>',sN=(e,t)=>{const n=window.atob(e),r=new ArrayBuffer(n.length),a=new Uint8Array(r);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return new Blob([r],{type:t})},lN=async e=>{const{vault:t}=ft.getState().app,n=await t.adapter.readBinary(e),r=new Uint8Array(n),a=new Blob([r],{type:"image/png"});return new Promise(o=>{const i=new FileReader;i.onloadend=()=>{const l=i.result;o(l)},i.readAsDataURL(a)})},pxe=async e=>{var n,r;const t=e.find(".thino-user-icon");if(!(t&&!/(http|app|base64)/.test((n=t==null?void 0:t.style)==null?void 0:n.backgroundImage))&&t&&(r=t==null?void 0:t.style)!=null&&r.backgroundImage){const a=await Rg(t);t.style.backgroundImage=`url("${a}")`}},qE=async e=>{const t=e.findAll("img");for(const n of t)if(n.src.startsWith("http://localhost")){const r=await Sf(n.getAttribute("path")||x.normalizePath(n==null?void 0:n.parentElement.getAttribute("src")));n.src=r}else{const r=await kz(n);n.src=r}},mxe=async e=>{const{app:t,settings:n}=ft.getState();let r,a;const o=document.body.hasClass("theme-light"),i=o?e==="modern"?n==null?void 0:n.DefaultLightBackgroundImage:n==null?void 0:n.DefaultLightBackgroundImageForClean:e==="modern"?n==null?void 0:n.DefaultDarkBackgroundImage:n==null?void 0:n.DefaultDarkBackgroundImageForClean,l=await t.vault.adapter.exists(i)&&/\.(png|svg|jpg|jpeg)/g.test(i),c=i==null?void 0:i.startsWith("http");switch(e){case"clean":l||c?(a=i,r=c?await Sf(i):await lN(a)):r=o?Tw:b2;break;case"minimal":break;case"modern":default:l||c?(a=i,r=c?await Sf(i):await lN(a)):r="data:image/svg+xml;base64,"+btoa(o?fxe:hxe);break}switch(e){case"modern":{const f=document.querySelector(".dialog-wrapper .memo-background .property-image");f.style.backgroundImage="url('"+r+"')";break}case"clean":{const f=document.querySelector(".dialog-wrapper .memo-container.clean .memo-background .property-image");f&&(f.style.backgroundImage="url('"+r+"')");break}case"minimal":break;default:{const f=document.querySelector(".dialog-wrapper .memo-background .property-image");f.style.backgroundImage="url('"+r+"')"}}return r},gxe=e=>{const{memo:t,destroy:n}=e,{memos:r}=Le.getState().memoState,{view:a,app:o,settings:i}=Le.getState().dailyNotesState,l={...t,createdAtStr:ut.getDateTimeString(t.createdAt)},[c,f]=P.useState(!1),[h,g]=P.useState(l.content),[y,w]=P.useState(!1),S=P.useRef(null),D=P.useRef(null),I=P.useRef(null),[M,N]=P.useState(e.style||(o||window.app).loadLocalStorage("memoShareDialogStyle")||"clean"),[B,k]=P.useState(""),R=P.useRef(null),L=P.useRef(null),[_,V]=ne.useState(i==null?void 0:i.MomentsIcon);P.useEffect(()=>{if(!(i!=null&&i.MomentsIcon)||!o)return;const he=o.vault.adapter.getResourcePath(x.normalizePath(i.MomentsIcon));he&&!(i!=null&&i.MomentsIcon.startsWith("http"))?V(he):V(i==null?void 0:i.MomentsIcon)},[i==null?void 0:i.MomentsIcon,o]);let U,Z;r.length&&(U=r.length>0?r[r.length-1]:null,U?Z=r?Math.ceil((Date.now()-ut.getTimeStampByDate(U==null?void 0:U.createdAt))/1e3/3600/24)+1:0:Z=0),i==null||i.ShareFooterEnd.replace("{UserName}",i==null?void 0:i.UserName);const Q=i==null?void 0:i.ShareFooterStart.replace("{ThinoNum}",r.length.toString()).replace("{UsedDay}",Z.toString());P.useEffect(()=>{!S.current||!D.current||(x.setIcon(S.current,"copy"),x.setIcon(D.current,"x"))},[S,D]),P.useEffect(()=>{I.current&&x.setIcon(I.current,"file-down")},[I]),P.useEffect(()=>{x.setIcon(S.current,y?"loader":"copy"),S.current.disabled=y,S.current.toggleClass("copying",y)},[y]),P.useEffect(()=>{if(!L.current||!a&&!e.view||c)return;g(t.content),L.current.hasChildNodes()&&L.current.empty();async function he(){var se;(se=L.current)==null||se.toggleClass(["markdown-rendered"],!0),await x.MarkdownRenderer.render(o,t.content+`
`,L.current,t.path,a||e.view)}he(),setTimeout(async()=>{await G()},cA)},[R,L,l,M]);const G=async()=>{R.current&&(await pxe(R.current),await qE(R.current),mxe(M).then(he=>{he&&setTimeout(()=>{kb(R.current,{pixelRatio:window.devicePixelRatio*2}).then(se=>{k(se),f(!0)}).catch(()=>{})},600)}))},re=()=>{n()},de=P.useCallback(he=>{w(he)},[y]),fe=async()=>{const{vault:he}=Le.getState().dailyNotesState.app,se=R.current.querySelector(".memo-shortcut-img");if(!se)return;const ue=se==null?void 0:se.getAttribute("src").split("base64,")[1],X=sN(ue,"image/png");let oe;X.arrayBuffer().then(async De=>{const je="png",Re=Ju();for(const Fe in Re)if(Re[Fe]instanceof x.TFile){oe=Re[Fe];break}if(oe!==void 0){const Fe=await he.getAvailablePathForAttachments(`Pasted Image ${x.moment().format("YYYYMMDDHHmmss")}`,je,oe);await he.createBinary(Fe,De),new x.Notice(E("Save image successfully"))}})},$=async()=>{de(!0);const he=R.current.querySelector(".memo-shortcut-img");if(!he)return;const se=he==null?void 0:he.getAttribute("src").split("base64,")[1],ue=sN(se,"image/png");if(!ue){new x.Notice(E("Copy to clipboard failed"));return}const X=new ClipboardItem({"image/png":ue});window.navigator.clipboard.write([X]).then(()=>{setTimeout(()=>{de(!1)},500)}),new x.Notice(E("Copy to clipboard successfully"))};return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:ar("dialog-header-container"),children:[v.jsxs("p",{className:"title-text",children:[v.jsx("span",{className:"icon-text",children:"ü•∞"}),E("Share Memo Image")]}),v.jsxs("div",{className:"btn-group",children:[x.Platform.isMobile&&v.jsx("button",{ref:I,className:"btn download-btn",onClick:fe}),v.jsx("button",{ref:S,className:"btn copy-btn",onClick:$}),v.jsx("button",{ref:D,className:"btn close-btn",onClick:re})]})]}),v.jsxs("div",{className:ar("dialog-content-container",M),children:[v.jsx("div",{className:`tip-words-container ${B?"finish":"loading"}`,children:v.jsx("p",{className:"tip-text",children:E(B?"‚ÜóClick the button to save":"Image is generating...")})}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-item-info",children:[v.jsx("div",{className:"setting-item-name",children:E("Default sharing style")}),v.jsx("div",{className:"setting-item-description",children:E("Set the default style for sharing thino, 'Modern' by default.")})]}),v.jsx("div",{className:"setting-item-control",children:v.jsxs("select",{className:"dropdown",defaultValue:M,onChange:async he=>{he.currentTarget.value!==M&&(f(!1),k(""),N(he.currentTarget.value),(o||window.app).saveLocalStorage("memoShareDialogStyle",he.currentTarget.value),await G())},children:[v.jsx("option",{value:"modern",children:E("Modern")}),v.jsx("option",{value:"clean",children:E("Clean")}),v.jsx("option",{value:"minimal",children:E("Minimal")}),v.jsx("option",{value:"gradient",children:E("Gradient")})]})})]}),v.jsxs("div",{className:ar("memo-container",M),ref:R,children:[v.jsx(ts,{when:B!=="",children:v.jsx("img",{className:"memo-shortcut-img",onClick:$,src:B})}),v.jsxs("div",{className:"memo-background",children:[v.jsx("div",{className:"property-image",style:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),v.jsx("span",{className:"background-container"}),v.jsxs("div",{className:"thino-user-header",children:[v.jsx("div",{className:"thino-user-icon",ref:he=>{if(i!=null&&i.MomentsIcon){he==null||he.empty();return}i!=null&&i.MomentsIcon||he&&x.setIcon(he,"Memos")},style:{backgroundImage:`url("${_}")`}}),v.jsxs("div",{className:"thino-user-info",children:[v.jsx("div",{className:"thino-user-name",children:i==null?void 0:i.UserName}),(i==null?void 0:i.MomentsQuote)&&v.jsx("div",{className:"thino-user-quote",children:i==null?void 0:i.MomentsQuote})]})]}),v.jsx("div",{ref:L,className:"memo-content-text",style:{minHeight:i.MinHeightForShare||"200px"}}),v.jsx("div",{className:"thino-time-footer",children:l.createdAt}),v.jsxs("div",{className:"watermark-container",children:[v.jsxs("span",{className:"normal-text footer-start",children:[v.jsx("div",{className:"property-social-icons"}),v.jsx("span",{className:"name-text",children:Q})]}),v.jsx("span",{className:"normal-text footer-end",children:v.jsx("span",{className:"name-text",children:"THINO"})})]})]})]})]})]})};function uf(e,t,n){Db({className:"share-memo-image-dialog"},gxe,{memo:e,style:t,view:n})}function lm(e=!0){const[t,n]=P.useState({isLoading:e,isFailed:!1,isSucceed:!1,isPending:!1});return{...t,setLoading:()=>{n({...t,isLoading:!0,isFailed:!1,isPending:!1,isSucceed:!1})},setFinish:()=>{n({...t,isLoading:!1,isFailed:!1,isPending:!1,isSucceed:!0})},setError:()=>{n({...t,isLoading:!1,isFailed:!0,isPending:!1,isSucceed:!1})},setPending:()=>{n({...t,isLoading:!1,isFailed:!1,isPending:!0,isSucceed:!1})}}}const vxe=e=>{const{dailyNotesState:{app:t,settings:n,view:r}}=P.useContext(Lt),{memo:a,handleUnarchivedMemoAction:o}=e,i=ne.useRef(null),l=ne.useRef(null),[c,f]=ne.useState(""),h={...a,createdAtStr:ut.getDateTimeString(a.createdAt),deletedAtStr:ut.getDateTimeString(a.deletedAt||a.createdAt)},[g,y]=Xl(!1),w={restore:P.useRef(null),delete:P.useRef(null),source:P.useRef(null)};P.useEffect(()=>{l&&(x.setIcon(w.restore.current,"archive-restore"),x.setIcon(w.delete.current,"trash"),x.setIcon(w.source.current,"home"))},[l]),P.useEffect(()=>{if(!i.current||!l.current||i.current.hasChildNodes()&&a.content===c||!r)return;f(a.content),i.current.hasChildNodes()&&i.current.empty();async function N(){var k,R;(k=i.current)==null||k.toggleClass(["markdown-rendered"],!0),await x.MarkdownRenderer.render(t,a.content+`
`,i.current,a.path,r);const B=(R=i.current)==null?void 0:R.querySelectorAll(".internal-link");B==null||B.forEach(L=>{const _=L,V=_.getAttribute("data-href");if(!V)return;t.metadataCache.getFirstLinkpathDest(V,a.path)||L.classList.add("is-unresolved"),_.addEventListener("mouseover",Z=>{Z.stopPropagation(),t.workspace.trigger("hover-link",{event:Z,source:"thino",hoverParent:r.containerEl,targetEl:_,linktext:V,sourcePath:_.href})})})}N()},[a.content,l]);const S=async()=>{switch(h.sourceType){case"DAILY":await W2(h.id,h.path);break;case"CANVAS":await Z2(h.id,h.path);break;case"MULTI":await V2(h.path);break;case"FILE":await $2(h.id,h.path);break}},D=async()=>{if(g)try{if(n.DeleteThinoDirectly)await we.deleteMemoById(h.id);else{const N=await we.hideMemoById(h.id);N&&we.editMemo(N)}}catch(N){new x.Notice(N.message)}else y()},I=async()=>{try{const N=await we.unarchiveMemo(h);N&&we.editMemo(N),o(h.id),new x.Notice(E("RESTORE SUCCEED"))}catch(N){new x.Notice(N.message)}},M=()=>{g&&y(!1)};return v.jsxs("div",{ref:l,className:`memo-wrapper ${"memos-"+h.id}`,onMouseLeave:M,children:[v.jsxs("div",{className:"memo-top-wrapper",children:[v.jsxs("span",{className:"time-text",children:[E("ARCHIVED AT")," ",h.updatedAt]}),v.jsxs("div",{className:"btns-container",children:[v.jsx("span",{ref:N=>{N&&x.setIcon(N,"more-horizontal")},className:"btn more-action-btn"}),v.jsx("div",{className:"more-action-btns-wrapper",children:v.jsxs("div",{className:"more-action-btns-container",children:[v.jsxs("div",{className:"more-action-menu-item",children:[v.jsx("span",{ref:w.restore,className:"more-action-item-icon"}),v.jsx("span",{className:"btn restore-btn",onClick:I,children:E("RESTORE")})]}),v.jsxs("div",{className:"more-action-menu-item",children:[v.jsx("span",{ref:w.source,className:"more-action-item-icon"}),v.jsx("span",{className:"btn",onClick:S,children:E("SOURCE")})]}),v.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[v.jsx("span",{ref:w.delete,className:"more-action-item-icon"}),v.jsx("span",{className:`btn delete-btn ${g?"final-confirm":""}`,onClick:D,children:E(g?"CONFIRMÔºÅ":"DELETE")})]})]})})]})]}),v.jsx("div",{ref:i,className:"memo-content-text"})]})},Bu=e=>{var n;const t=new Map;for(const r of e){const a=r.path;t.has(a)||t.set(a,[]),(n=t.get(a))==null||n.push(r)}return Array.from(t).map(([r,a])=>({path:r,thinos:a}))},yxe=({memos:e,query:t,HideDoneTasks:n})=>{const{tag:r,duration:a,type:o,text:i,filter:l}=t,c=on.getQueryById(l);return!!(r||a&&a.from<a.to||o||i||c)||c||n?e.filter(h=>{let g=!0;if(h.thinoType!==void 0&&n&&h.thinoType==="TASK-DONE"&&(g=!1),h.content.contains("comment:")&&(g=!1),c){const y=JSON.parse(c.querystring);Array.isArray(y)&&(g=Vp(h,y))}if(r){const y=new Set;for(const w of Array.from(h.content.match($r)||[])){const D=w.replace($r,"$1").trim().split("/");let I="";for(const M of D)I+=M,y.add(I),I+="/"}for(const w of Array.from(h.content.match(ua)||[])){const D=w.replace(ua,"$1").trim().split("/");let I="";for(const M of D)I+=M,y.add(I),I+="/"}for(const w of Array.from(h.content.match(Wa)||[])){const D=w.replace(Wa,"$2").trim().split("/");let I="";for(const M of D)I+=M,y.add(I),I+="/"}y.has(r)||(g=!1)}return a&&a.from<a.to&&(ut.getTimeStampByDate(h.createdAt)<a.from||ut.getTimeStampByDate(h.createdAt)>a.to)&&(g=!1),o&&(o==="NOT_TAGGED"&&(h.content.match($r)!==null||h.content.match(Wa)!==null||h.content.match(ua)!==null)||o==="LINKED"&&h.content.match(Af)===null||o==="IMAGED"&&h.content.match(Ff)===null||o==="CONNECTED"&&h.content.match(ad)===null)&&(g=!1),i&&!h.content.toLowerCase().includes(i.toLowerCase())&&(g=!1),g}):e.filter(h=>!h.content.contains("comment:"))},wxe=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n}}=P.useContext(Lt),r=lm(),[a,o]=P.useState([]),i=ne.useRef(null),l=ne.useRef(null);P.useEffect(()=>{l.current&&x.setIcon(l.current,"more-horizontal")},[l]),P.useEffect(()=>{const S=yxe({memos:n.filter(D=>D.rowStatus==="ARCHIVED"&&D.deletedAt===""),query:e,HideDoneTasks:!1});o(S),r.setFinish()},[n,i.current,e]);const c=P.useCallback(S=>{o(D=>D.filter(I=>I.id!==S))},[]),f=P.useCallback(S=>{o(D=>D.filter(I=>I.id!==S))},[]),h=P.useCallback(()=>{dt.setShowSiderbarInMobileView(!0)},[]),g=async()=>{if(!((a==null?void 0:a.length)>0))return;if(!await Vl()){fn();return}const S=[...a];try{const D=S.filter(B=>B.sourceType==="DAILY"),I=S.filter(B=>B.sourceType!=="DAILY"),M=await we.unarchiveThinoBulk(I);for(const B of M)B&&we.editMemo(B);const N=Bu(D);for(const{path:B,thinos:k}of N)await we.dealWithDailyThinoBulk(B,k,"restoreFromArchive");new x.Notice(E("RESTORE SUCCEED")),at.clearQuery()}catch(D){console.error("error",D),new x.Notice(D.message)}},y=async()=>{if(!((a==null?void 0:a.length)>0))return;if(!await Vl()){fn();return}const S=[...a],D=ft.getState().settings.DeleteThinoDirectly;try{const I=S.filter(B=>B.sourceType==="DAILY"),M=S.filter(B=>B.sourceType!=="DAILY");for(const B of M)if(D)await we.deleteMemoById(B.id);else{const k=await we.hideMemoById(B.id);k&&we.editMemo(k)}const N=Bu(I);for(const{path:B,thinos:k}of N)await we.dealWithDailyThinoBulk(B,k,D?"deleteForever":"delete");at.clearQuery()}catch(I){console.error("error",I),new x.Notice(I.message)}},w=S=>{const D=new x.Menu;D.addItem(I=>{I.setTitle(E("Bulk restore")).setIcon("archive").onClick(async()=>{new _s(app,E("RESTORE"),async M=>{M==="confirm"&&await g()}).open()})}).addItem(I=>{I.setTitle(E("Bulk delete")).setIcon("trash").onClick(async()=>{new _s(app,E("DELETE"),async M=>{M==="confirm"&&await y()}).open()})}),D.showAtMouseEvent(S.nativeEvent)};return v.jsxs("div",{className:"memo-trash-wrapper",ref:i,children:[v.jsxs("div",{className:"section-header-container",children:[v.jsxs("div",{className:"title-text",children:[v.jsx(ts,{when:t,children:v.jsx("button",{ref:S=>{S&&x.setIcon(S,"menu")},className:"btn action-btn clickable-icon",onClick:h})}),v.jsxs("span",{className:"go-home-btn",onClick:()=>{at.clearQuery(),at.setPathname("/")},children:["üè† ",E("Return To Home Page")]}),v.jsx("span",{ref:l,className:"menu-popup-btn",onClick:w})]}),v.jsx(_v,{})]}),v.jsx(yy,{thinosCount:a.length,thinos:a}),r.isLoading?v.jsx("div",{className:"tip-text-container",children:v.jsx("p",{className:"tip-text",children:E("Fetching data...")})}):a.length===0?v.jsx("div",{className:"tip-text-container",children:v.jsx("p",{className:"tip-text",children:E("Here is No Memos.")})}):v.jsx("div",{className:"deleted-memos-container",children:a.map(S=>v.jsx(vxe,{memo:S,handleUnarchivedMemoAction:f,handleDeletedMemoAction:c},`${S.id}-${S.updatedAt}`))})]})},Vl=async()=>{var r;const{verifyState:e}=ft.getState(),t=!x.Platform.isDesktop&&await((r=window.Capacitor)==null?void 0:r.Plugins.Device.getId()),n=x.Platform.isDesktop?await cr():t.identifier||t.uuid;return e&&(e==null?void 0:e.appId)===n},bxe=async(e,t)=>{if(!(t!=="chat"&&t!=="moments")){if(t==="moments"){const n=e.querySelectorAll(".thino-moment-icon"),r=e.find(".moments-view-user-icon"),a=e.find(".moments-view-background");for(const o of n){const i=await Rg(o);o.style.backgroundImage=`url(${i})`}if(r){const o=await Rg(r);r.style.backgroundImage=`url(${o})`}if(a){const o=await Rg(a);a.style.backgroundImage=`url(${o})`}}else if(t==="chat"){const n=e.querySelectorAll(".icon-img");for(const r of n){const a=await Rg(r);r.style.backgroundImage=`url(${a})`}}}};class _s extends x.Modal{constructor(t,n,r){super(t),this.title=n,this.cb=r}onOpen(){super.onOpen(),this.containerEl.toggleClass("thino-bulk-action-dialog",!0),this.titleEl.setText(this.title+" "+E("Confirm?")),this.contentEl.createEl("button",{cls:"mod-warning",text:E("Confirm?").replace(/\?|Ôºü/,"")}).onclick=()=>{this.cb("confirm"),this.close()},this.contentEl.createEl("button",{text:E("Cancel")}).onclick=()=>{this.cb("cancel"),this.close()}}onClose(){super.onClose()}}class Sxe extends x.Modal{constructor(n,r){super(n);Se(this,"root");this.thinos=r}onOpen(){super.onOpen(),this.containerEl.toggleClass(["thino-bulk-action-dialog","tag-actions"],!0),this.root=rs.createRoot(this.contentEl),this.root.render(v.jsx(is,{store:Le,context:Lt,children:v.jsx(xz,{app:this.app,closeDialog:this.close.bind(this),thinos:this.thinos})}))}onClose(){var n;super.onClose(),(n=this.root)==null||n.unmount()}}const yy=({thinosCount:e,thinos:t})=>{const{globalState:{memoListView:n},locationState:{query:r,pathname:a},dailyNotesState:{settings:o,app:i}}=P.useContext(Lt),{tag:l,duration:c,type:f,text:h,filter:g,path:y}=r,w=on.getQueryById(g),S=!!(l||c&&c.from<c.to||f||h||w||y),D=P.useRef(null);P.useEffect(()=>{D&&x.setIcon(D.current,"more-horizontal")},[D]);const I=async()=>{if(!((t==null?void 0:t.length)>0))return;const U=vz(t),Z=wz(U);await ut.copyTextToClipboard(Z),new x.Notice(E("Copied to clipboard Successfully"))},M=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await Vl()){fn();return}const U=[...t],Z=o.DeleteThinoDirectly;try{const Q=U.filter(de=>de.sourceType==="DAILY"),G=U.filter(de=>de.sourceType!=="DAILY");for(const de of G)if(Z)await we.deleteMemoById(de.id);else{const fe=await we.hideMemoById(de.id);fe&&we.editMemo(fe)}const re=Bu(Q);for(const{path:de,thinos:fe}of re)await we.dealWithDailyThinoBulk(de,fe,Z?"deleteForever":"delete");we.updateTagsState(),at.clearQuery()}catch(Q){console.error("error",Q),new x.Notice(Q.message)}},N=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await Vl()){fn();return}const U=[...t],Z=ft.getState().settings.startSync,Q=ft.getState().app,G=Q==null?void 0:Q.loadLocalStorage("tokenForSync");try{const re=U.filter($=>$.sourceType==="DAILY"),de=U.filter($=>$.sourceType!=="DAILY");for(const $ of de)await we.deleteMemoById($.id);const fe=Bu(re);for(const{path:$,thinos:he}of fe){const se=await we.dealWithDailyThinoBulk($,he,"deleteForever");if(!(!G||!Z))for(const ue of se)ue&&ue.webId&&await A2(ue.webId)}we.updateTagsState(),at.clearQuery(),new x.Notice(E("DELETE SUCCEED"))}catch(re){console.error("error",re),new x.Notice(re.message)}},B=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await Vl()){fn();return}const U=[...t];try{const Z=U.filter(de=>de.sourceType==="DAILY"),Q=U.filter(de=>de.sourceType!=="DAILY"),G=await we.unarchiveThinoBulk(Q);for(const de of G)de&&we.editMemo(de);const re=Bu(Z);for(const{path:de,thinos:fe}of re)await we.dealWithDailyThinoBulk(de,fe,"restoreFromArchive");new x.Notice(E("RESTORE SUCCEED")),we.updateTagsState(),at.clearQuery()}catch(Z){console.error("error",Z),new x.Notice(Z.message)}},k=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await Vl()){fn();return}const U=[...t],Z=ft.getState().settings.startSync,Q=ft.getState().app,G=Q==null?void 0:Q.loadLocalStorage("tokenForSync");try{const re=U.filter($=>$.sourceType==="DAILY"),de=U.filter($=>$.sourceType!=="DAILY");for(const $ of de){const he=await we.restoreMemoById($.id);he&&he.webId&&G&&Z&&await Xg(he.webId),he&&we.editMemo(he)}const fe=Bu(re);for(const{path:$,thinos:he}of fe){const se=await we.dealWithDailyThinoBulk($,he,"restoreFromDelete");for(const ue of se)ue&&ue.webId&&G&&Z&&await Xg(ue.webId),ue&&we.editMemo(ue)}we.updateTagsState(),at.clearQuery(),new x.Notice(E("RESTORE SUCCEED"))}catch(re){new x.Notice(re.message)}},R=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await Vl()){fn();return}const U=[...t];try{const Z=U.filter(de=>de.sourceType==="DAILY"),Q=U.filter(de=>de.sourceType!=="DAILY"),G=await we.archiveThinoBulk(Q);for(const de of G)de&&we.editMemo(de);const re=Bu(Z);for(const{path:de,thinos:fe}of re)await we.dealWithDailyThinoBulk(de,fe,"archive");we.updateTagsState(),at.clearQuery()}catch(Z){console.error("error",Z),new x.Notice(Z.message)}},L=async()=>{if((t==null?void 0:t.length)>0){if(!await Vl()){fn();return}new Sxe(i,t).open()}},_=async U=>{document.body.toggleClass("thino-share-page",!0),setTimeout(async()=>{if(new x.Notice(E("Image is generating...")),!U){new x.Notice(E("No content to generate."));return}await bxe(U,n),await qE(U);let Z;document.body.hasClass("theme-dark")?Z="#232323":Z="#eaeaea",kb(U,{backgroundColor:Z,pixelRatio:window.devicePixelRatio*2}).then(Q=>{if(o!=null&&o.AutoSaveWhenOnMobile&&x.Platform.isMobile){const G=Q.split("base64,")[1];gb(G,"image/png").arrayBuffer().then(async de=>{let fe;const $="png",he=Ju();for(const se in he)if(he[se]instanceof x.TFile){fe=he[se];break}fe!==void 0&&await i.vault.createBinary(await vault.getAvailablePathForAttachments(`Pasted Image ${x.moment().format("YYYYMMDDHHmmss")}`,$,fe),de)})}document.body.toggleClass("thino-share-page",!1),Nb({imgUrl:Q}),new x.Notice(E("Image generated successfully.")),U.hasClass("share-image")?U.toggleClass("share-image",!1):U.closest(".share-image").toggleClass("share-image",!1)}).catch(Q=>{document.body.toggleClass("thino-share-page",!1),console.error(Q)})},0)},V=U=>{const Z=new x.Menu;switch(Z.addItem(Q=>{Q.setTitle(E("Copy filtered thinos")).setIcon("copy").onClick(async()=>{await I()})}),Z.addItem(Q=>{Q.setTitle(E("Share filtered thinos as image")).setIcon("image").onClick(async()=>{const G=document.querySelector(".memolist-container");G.toggleClass("share-image",!0);try{if(n==="calendar"){if(G.find(".rbc-agenda-table")){const re=G.find(".rbc-agenda-table");await _(re)}if(G.find(".rbc-month-view")){const re=G.find(".rbc-month-view");await _(re)}}else if(n==="table"){if(G.find(".thino-table")){const re=G.find(".thino-table");await _(re)}}else await _(G)}catch(re){console.error(re),new x.Notice(E("Failed to generate image.")),G.toggleClass("share-image",!1)}})}),Z.addItem(Q=>{Q.setTitle(E("Merge thinos in to thino share image")).setIcon("image").onClick(async()=>{let G="";t.forEach((de,fe)=>{G+=`> [!thino] ${de.createdAt}
${de.content.split(`
`).map($=>$.trim()?`> ${$}
`:`> 
`)}

`+(fe===t.length-1?`

`:`

------

`)});const re={createdAt:x.moment().format("YYYY/MM/DD HH:mm:ss"),updatedAt:x.moment().format("YYYY/MM/DD HH:mm:ss"),content:G.replace(/(^|\n),>/g,`
>`),id:"temp-"+Math.random().toString(36).substr(2,9),thinoType:"JOURNAL",sourceType:"DAILY",rowStatus:"NORMAL",visibility:"PRIVATE",pinned:!1,creatorName:"thino",deletedAt:"",path:"",resourceList:[]};uf(re,"clean")})}),Z.addSeparator(),a){case"/":Z.addItem(Q=>{Q.setTitle(E("Bulk tag operation")).setIcon("hash").onClick(async()=>{await L()})}).addItem(Q=>{Q.setTitle(E("Bulk archive")).setIcon("archive").onClick(async()=>{new _s(i,E("ARCHIVE"),async G=>{G==="confirm"&&await R()}).open()})}).addItem(Q=>{Q.setTitle(E("Bulk delete")).setIcon("trash").onClick(async()=>{new _s(i,E("DELETE"),async G=>{G==="confirm"&&await M()}).open()})});break;case"/archive":Z.addItem(Q=>{Q.setTitle(E("Bulk restore")).setIcon("archive").onClick(async()=>{new _s(i,E("RESTORE"),async G=>{G==="confirm"&&await B()}).open()})}).addItem(Q=>{Q.setTitle(E("Bulk delete")).setIcon("trash").onClick(async()=>{new _s(i,E("DELETE"),async G=>{G==="confirm"&&await M()}).open()})});break;case"/recycle":Z.addItem(Q=>{Q.setTitle(E("Bulk restore")).setIcon("archive-restore").onClick(async()=>{new _s(i,E("RESTORE"),async G=>{G==="confirm"&&await k()}).open()})}).addItem(Q=>{Q.setTitle(E("Bulk delete")).setIcon("trash").onClick(async()=>{new _s(i,E("DELETE"),async G=>{G==="confirm"&&await N()}).open()})});break}Z.showAtMouseEvent(U.nativeEvent)};return v.jsxs("div",{className:`filter-query-container ${S?"":"thino-hidden"}`,children:[v.jsxs("div",{className:"filter-query",children:[v.jsx("span",{className:"tip-text",children:E("FILTER")}),v.jsxs("div",{"data-filter-type":"query",className:"filter-item-container "+(w?"":"thino-hidden"),onClick:()=>{at.setMemoFilter("")},children:[v.jsx("span",{className:"icon-text",children:"üîñ"})," ",w==null?void 0:w.title]}),v.jsxs("div",{"data-filter-type":"tag",className:"filter-item-container "+(l?"":"thino-hidden"),onClick:()=>{at.setTagQuery("")},children:[v.jsx("span",{className:"icon-text",children:"üè∑Ô∏è"})," ",l]}),v.jsxs("div",{"data-filter-type":"type",className:"filter-item-container "+(f?"":"thino-hidden"),onClick:()=>{at.setMemoTypeQuery("")},children:[v.jsx("span",{className:"icon-text",children:"üì¶"})," ",dU(f)]}),c&&c.from<c.to&&v.jsxs("div",{"data-filter-type":"date",className:"filter-item-container",children:[v.jsxs("div",{className:"day-picker-component-group",children:[v.jsx("span",{className:"icon-text",children:"üóìÔ∏è"})," ",v.jsx(Pw,{type:"text",startOrEnd:"start",defaultValue:x.moment(c.from,"x").valueOf(),handleValueChange:U=>{const Z=x.moment(c.to,"x"),Q=x.moment(U,"x"),G=Q.isAfter(Z)||Q.isSame(Z);at.setFromAndToQuery(G?Z.startOf("day").valueOf():x.moment(U,"x").startOf("day").valueOf(),c.to)}}),v.jsx("span",{children:E("to")}),v.jsx(Pw,{type:"text",startOrEnd:"end",defaultValue:x.moment(c.to,"x").add(1,"days").valueOf(),handleValueChange:U=>{const Z=x.moment(c.from,"x"),Q=x.moment(U,"x"),G=Q.isBefore(Z)||Q.isSame(Z),re=x.moment(U,"x").endOf("day").valueOf();at.setFromAndToQuery(c.from,G?Z.endOf("day").valueOf():re)}})]}),v.jsx("div",{ref:U=>U&&x.setIcon(U,"x"),className:"btn close-btn",onClick:()=>{at.setFromAndToQuery(0,0)}})]}),v.jsxs("div",{className:"filter-item-container "+(h?"":"thino-hidden"),onClick:()=>{at.setTextQuery("")},children:[v.jsx("span",{className:"icon-text",children:"üîç"})," ",h]}),v.jsxs("div",{className:"filter-item-container "+(y?"":"thino-hidden"),onClick:()=>{at.setPathQuery("")},children:[v.jsx("span",{className:"icon-text",children:"üì¶"})," ",v.jsx("span",{className:"path-text",children:y})]})]}),v.jsxs("div",{className:"thino-filter-items",children:[e&&v.jsx("div",{className:"thinos-count",children:`${e?`${e} Thinos `:""}`}),v.jsx("div",{ref:D,className:"btn memo-action-menu",onClick:V})]})]})},cf=async e=>{const{app:t,settings:n}=ft.getState();if(!n.startSync||!(t!=null&&t.loadLocalStorage("tokenForSync")))return;const r=await n_(e);if(!r||r.length===0)return;r.sort((i,l)=>x.moment(i.createdAt,"YYYY/MM/DD HH:mm:ss").isAfter(x.moment(l.createdAt,"YYYY/MM/DD HH:mm:ss"))?1:-1);const a=r.filter(i=>!i.deleted),o=r.filter(i=>i.deleted);for(let i=0;i<a.length;i++){const l=a[i],c=await we.createOrPatchThinoFromWeb(l);c&&we.pushMemo(c)}for(let i=0;i<o.length;i++){const l=o[i],c=we.getMemoByWebId(l.id);c&&await we.deleteMemoById(c.id,"local")}we.updateTagsState(),Ixe(t)};function Dxe(){const{settings:e,app:t,view:n}=ft.getState(),{globalState:{loaded:r,memoListView:a}}=P.useContext(Lt),o=x.Platform.isMobile&&e.DefaultEditorLocation==="Bottom",i=ne.useRef(null),[l,c]=ne.useState([]),[f,h]=ne.useState((window.app||t).loadLocalStorage("thinoListView"));P.useEffect(()=>{a===f||!a||(h(a),t&&(t==null||t.saveLocalStorage("thinoListView",a)))},[a]),P.useEffect(()=>{if(e.SyncManually||!t||!r||!n||!(t==null?void 0:t.loadLocalStorage("tokenForSync"))||!e.startSync)return;i.current=window.setInterval(async()=>{const S=S2(t);await cf(S)},3e4),n.registerInterval(i.current);const w=S2(t);return cf(w),()=>{i.current&&window.clearInterval(i.current)}},[n,t,r,e.startSync]);const g=[v.jsx(yy,{thinosCount:l.length,thinos:l},"filter"),v.jsx(oxe,{listView:f,updateThinos:y=>{c(y)}},"list")];return v.jsx(v.Fragment,{children:a==="chat"?v.jsx(v.Fragment,{children:[v.jsx(Iw,{syncThino:cf},"header"),...g.reverse(),v.jsx(mf,{className:"mod-editor-bottom",editorType:"inline"},"editor")]}):v.jsx(v.Fragment,{children:o?[v.jsx(Iw,{syncThino:cf},"header"),...g,v.jsx(mf,{className:"mod-editor-bottom",editorType:"block"},"editor")]:[v.jsx(Iw,{syncThino:cf},"header"),v.jsx(mf,{editorType:"block"},"editor"),...g]})})}function Txe(e){try{e!=null&&e.saveLocalStorage&&(e==null||e.saveLocalStorage("thinoLastUpdated",x.moment("2000-01-01 00:01:00","YYYY-MM-DD HH:mm:ss").format("x")))}catch(t){console.error(t)}}function S2(e){try{const t=(e==null?void 0:e.loadLocalStorage)&&(e==null?void 0:e.loadLocalStorage("thinoLastUpdated"));return t||x.moment("2000-01-01 00:01:00","YYYY-MM-DD HH:mm:ss").format("x")}catch(t){return console.error(t),x.moment().format("x")}}function Ixe(e){try{e!=null&&e.saveLocalStorage&&(e==null||e.saveLocalStorage("thinoLastUpdated",x.moment().format("x")))}catch(t){console.error(t)}}const Exe={text:E("SELECT"),value:""},Cxe=e=>{const{className:t,dataSource:n,handleValueChanged:r,value:a}=e,[o,i]=Xl(!1),l=P.useRef(null);let c=Exe;for(const g of n)if(g.value===a){c=g;break}P.useEffect(()=>{if(o){const g=y=>{var w;(w=l.current)!=null&&w.contains(y.target)||i(!1)};window.addEventListener("click",g,{capture:!0,once:!0})}},[o]);const f=g=>{r&&r(g.value),i(!1)},h=g=>{g.stopPropagation(),i()};return v.jsxs("div",{className:`selector-wrapper ${t||""}`,ref:l,children:[v.jsxs("div",{className:`current-value-container ${o?"active":""}`,onClick:h,children:[v.jsx("span",{className:"value-text",children:c.text}),v.jsx("span",{ref:g=>{g&&x.setIcon(g,"chevron-right")},className:"btn arrow-text"})]}),v.jsx("div",{className:`items-wrapper ${o?"":"thino-hidden"}`,children:n.map(g=>v.jsx("div",{className:`item-container ${g.value===a?"selected":""}`,onClick:()=>{f(g)},children:g.text},g.value))})]})},nf=P.memo(Cxe),GE=e=>{const{destroy:t,queryId:n,type:r="dialog"}=e,[a,o]=P.useState(""),[i,l]=P.useState(r!=="dialog"?[Sx()]:[]),c=lm(!1),[f,h]=P.useState(!1),[g,y]=Xl(!1),w=we.getState().memos.filter(L=>!(L.deletedAt!==""&&L.deletedAt)).filter(L=>Vp(L,i)).length;P.useEffect(()=>{S()},[n]);const S=()=>{const L=on.getQueryById(n??"");if(L){o(L.title);const _=JSON.parse(L.querystring);return Array.isArray(_)&&l(_),L}},D=L=>{const _=L.target.value;o(_)},I=async()=>{if(!a)return new x.Notice(E("TITLE CANNOT BE NULL!")),null;if(i.length===0)return new x.Notice(E("FILTER CANNOT BE NULL!")),null;if(i.length===1&&i[i.length-1].value.value==="")return new x.Notice(E("Please finish the last filter setting first")),null;let L;const _=on.getQueryById(n||"");try{n&&!n.startsWith("Filter [Temp] ")&&_.title===a?(L=await on.updateQuery(n,a,JSON.stringify(i)),on.editQuery(L),await on.getMyAllQueries()):(L=await on.createQuery(a,JSON.stringify(i)),on.pushQuery(L),await on.getMyAllQueries())}catch(V){new x.Notice(V.message)}return L},M=async()=>{switch(r){case"modal":case"inline":if(i.length===0){new x.Notice(E("FILTER CANNOT BE NULL!"));return}if(i.length===1&&i[i.length-1].value.value===""){new x.Notice(E("Please finish the last filter setting first"));return}try{const L=on.getQueryById(n??"");if(L&&JSON.stringify(i)===L.querystring){at.setMemoFilter(L.id),t();return}const _=on.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify(i));on.pushQuery(_),at.setMemoFilter(_.id)}catch(L){new x.Notice(L.message)}t();break;case"dialog":try{if(!await I())return}catch(L){console.error(L),new x.Notice(L.message)}t();break}},N=()=>{if(i.length===0){new x.Notice(E("FILTER CANNOT BE NULL!"));return}if(f){at.setMemoFilter(""),h(!1);return}const L=on.getQueryById(n??"");if(L&&JSON.stringify(i)===L.querystring){at.setMemoFilter(L.id);return}const _=on.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify(i));on.pushQuery(_),at.setMemoFilter(_.id),e.setPreview&&e.setPreview(_.id),h(!0)},B=()=>{if(i.length>0&&i[i.length-1].value.value===""){new x.Notice(E("Please finish the last filter setting first"));return}l([...i,Sx()])},k=P.useCallback((L,_)=>{l(V=>{const U=[...V];return U[L]=_,U})},[]),R=P.useCallback(L=>{l(_=>_.filter((U,Z)=>Z!==L))},[]);return v.jsxs(v.Fragment,{children:[r==="dialog"&&v.jsxs("div",{className:"dialog-header-container",children:[v.jsxs("span",{className:"title-text",children:[v.jsx("span",{className:"icon-text",children:"üîñ"}),E(n?"EDIT QUERY":"CREATE QUERY")]}),v.jsx("button",{ref:L=>{L&&x.setIcon(L,"x")},className:"btn close-btn",onClick:t})]}),v.jsxs("div",{className:"dialog-content-container",children:[(r==="dialog"||g)&&v.jsxs("div",{className:"form-item-container input-form-container",children:[v.jsx("span",{className:"normal-text",children:E("TITLE")}),v.jsx("input",{className:"title-input",type:"text",value:a,onChange:D})]}),v.jsxs("div",{className:"form-item-container filter-form-container",children:[v.jsx("span",{className:"normal-text",children:E("FILTER")}),v.jsxs("div",{className:"filters-wrapper",children:[i.map((L,_)=>v.jsx(Mxe,{index:_,filter:L,handleFilterChange:k,handleFilterRemove:R},_)),v.jsx("div",{className:"create-filter-btn",onClick:B,children:E("ADD FILTER TERMS")})]})]})]}),v.jsx("div",{className:"dialog-footer-container",children:v.jsxs("div",{className:"btns-container",children:[(r==="inline"||r==="modal")&&v.jsx("button",{className:`btn ${g?"mod-cta":"save-btn"}`,onClick:async()=>{if(!g)y();else{const L=await I();y(!1),t(),L&&at.setMemoFilter(L.id)}},children:E(g?"Set and save":"Save")}),v.jsxs("div",{className:"btns-group-container",children:[v.jsxs("span",{className:`tip-text ${i.length===0&&"thino-hidden"}`,children:[E("MATCH")," Thino ",v.jsx("strong",{children:w})," ",E("TIMES")]}),v.jsx(v.Fragment,{children:r==="inline"&&v.jsx("button",{className:"btn mod-cta",onClick:N,children:E("Preview")})}),v.jsx("button",{className:`btn save-btn ${c.isLoading?"requesting":""}`,onClick:M,children:E(r==="inline"||r==="modal"?"Filter":n?"EDIT":"Save")})]})]})})]})},xxe=e=>{const{index:t,filter:n,handleFilterChange:r,handleFilterRemove:a}=e,{type:o}=n,i=P.useRef(null),l=P.useRef(null),c=P.useRef(n),f=P.useRef(o);P.useEffect(()=>{c.current=e.filter},[n]),P.useEffect(()=>{if(i.current)return o!=="TAG"&&l.current&&(l.current.destroy(),l.current=null,i.current.detach()),o==="TAG"&&!l.current&&(f.current=o,l.current=new rv(i.current,w)),()=>{l.current&&(l.current.destroy(),l.current=null)}},[i,o]);const h=P.useCallback(I=>{["AND","OR"].includes(I)&&r(t,{...n,relation:I})},[n]),g=P.useCallback(async I=>{var M;if(n.type!==I){const{verifyState:N}=ft.getState(),B=!x.Platform.isDesktop&&await((M=window.Capacitor)==null?void 0:M.Plugins.Device.getId()),k=x.Platform.isDesktop?await cr():B.identifier||B.uuid,R=N&&(N==null?void 0:N.appId)===k;if((I==="SOURCE"||I==="PATH"||I==="METADATA"||I==="TIME_RANGE")&&!R){fn();return}const L=Object.values(jl[I].operators);r(t,{...n,type:I,value:{operator:L[0].value,value:I==="METADATA"?{name:"",value:""}:I==="TIME_RANGE"?jl.TIME_RANGE.values[0].value:""}})}},[n]),y=P.useCallback(I=>{r(t,{...n,value:{...n.value,operator:I}})},[n]),w=P.useCallback((I,M="OTHERS")=>{if(M==="OTHERS")r(t,{...c.current,value:{...c.current.value,value:I}});else{const N={...c.current,value:{...c.current.value,value:{...c.current.value.value,[M==="METADATA_NAME"?"name":"value"]:I}}};r(t,N)}},[n]),S=()=>{a(t)},D={TYPE:v.jsx(nf,{className:"value-selector",dataSource:jl.TYPE.values,value:n.value.value,handleValueChanged:w}),LIST:v.jsx(nf,{className:"value-selector",dataSource:jl.LIST.values,value:n.value.value,handleValueChanged:w}),SOURCE:v.jsx(nf,{className:"value-selector",dataSource:jl.SOURCE.values,value:n.value.value,handleValueChanged:w}),PATH:v.jsx("input",{type:"text",className:"value-inputer",value:n.value.value,onChange:I=>{w(I.target.value)}}),METADATA:v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"text",className:"value-inputer",value:n.value.value.name,onChange:I=>{w(I.target.value,"METADATA_NAME")}}),v.jsx("input",{type:"text",className:"value-inputer",value:n.value.value.value,onChange:I=>{w(I.target.value,"METADATA_VALUE")}})]}),TAG:v.jsx("input",{type:"text",id:Math.random().toString(36).substring(7),className:"value-inputer",ref:i,value:n.value.value,onChange:I=>{w(I.target.value)}}),TEXT:v.jsx("input",{type:"text",className:"value-inputer",value:n.value.value,onChange:I=>{w(I.target.value)}}),DATE:v.jsxs("div",{className:"date-inputer",children:[v.jsx(Pw,{type:"icon",handleValueChange:w}),v.jsx("input",{type:"text",className:"value-inputer",value:n.value.value,onChange:I=>{w(I.target.value)}})]}),TIME_RANGE:v.jsx(nf,{className:"value-selector",dataSource:jl.TIME_RANGE.values,value:n.value.value,handleValueChanged:w})};return v.jsxs("div",{className:"memo-filter-input-wrapper",children:[t>0&&v.jsx(nf,{className:"relation-selector",dataSource:cU,value:n.relation,handleValueChanged:h}),v.jsx(nf,{className:"type-selector",dataSource:Object.values(jl),value:n.type,handleValueChanged:g}),v.jsxs(v.Fragment,{children:[Object.keys(jl).includes(o)&&v.jsx(nf,{className:"operator-selector",dataSource:Object.values(jl[o].operators),value:n.value.operator,handleValueChanged:y}),D[o]]}),v.jsx("div",{ref:I=>{I&&x.setIcon(I,"x")},className:"btn remove-btn",onClick:S})]})},Mxe=P.memo(xxe);function D2(e){Db({className:"create-query-dialog"},GE,{queryId:e})}const JE=e=>{var w,S;const{dailyNotesState:{app:t,verifyState:n},locationState:{query:r}}=P.useContext(Lt),a=ne.useRef(null),[o,i]=ne.useState(!1),l=ne.useRef(null),[c,f]=ne.useState(""),h=Mb(a.current,l.current,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,10]}}]});P.useEffect(()=>{o&&h.update&&(h==null||h.update())},[o]),P.useEffect(()=>{a&&x.setIcon(a.current,"filter")},[a]);const g=async()=>{var M;const D=!x.Platform.isDesktop&&await((M=window.Capacitor)==null?void 0:M.Plugins.Device.getId()),I=x.Platform.isDesktop?await cr():D.identifier||D.uuid;return!n||(n==null?void 0:n.appId)!==I?(fn(),!1):!0};return Hv(l,()=>{i(!1),c&&at.getState().query.filter===c&&at.setMemoFilter("")}),v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"thino-inline-filter-wrapper pro",ref:a,onClick:async()=>{await g()&&(x.Platform.isDesktop?(i(!o),await(h==null?void 0:h.update())):new kxe(ft.getState().app,r.filter,I=>{f(I)}).open())}}),v.jsx("div",{ref:l,className:`thino-inline-filter-container ${o?"":"thino-hidden"}`,style:h.styles.popper,children:o&&v.jsx(GE,{type:"inline",queryId:(w=r.filter)!=null&&w.startsWith("Filter [Temp] ")&&!((S=r.filter)!=null&&S.includes("Filter [Temp]"))?"":r.filter,destroy:()=>{i(!1)},setPreview:D=>{f(D)}})})]})};class kxe extends x.Modal{constructor(n,r,a){super(n);Se(this,"root");Se(this,"setPreview");this.filter=r,this.setPreview=a}onOpen(){var r,a;const{contentEl:n}=this;this.root=Rv(n),this.root.render(v.jsx(is,{store:Le,context:Lt,children:v.jsx("div",{className:"thino-inline-filter-container",children:v.jsx(GE,{type:"modal",queryId:(r=this.filter)!=null&&r.startsWith("Filter [Temp] ")&&!((a=this.filter)!=null&&a.includes("Filter [Temp]"))?"":this.filter,destroy:()=>{this.close()},setPreview:o=>{this.setPreview(o)}})})}))}onClose(){var n;(n=this.root)==null||n.unmount()}}const UO=()=>{const{dailyNotesState:{app:e},globalState:{isMobileView:t,showSiderbarInMobileView:n}}=P.useContext(Lt),[r]=P.useState(ne.createRef());P.useEffect(()=>{if(!r.current)return;const o=r.current;x.setIcon(o,"refresh-cw")},[r.current]);const a=P.useCallback(async()=>{if(!(t&&n)){if(cf){const o=S2(e);await cf(o)}await we.fetchAllMemos()}},[]);return v.jsx("span",{className:"refresh-icon",ref:r,onClick:()=>{a(),r&&r.current.firstElementChild.toggleClass("rotate-hidden",!0),setTimeout(()=>{r&&r.current.firstElementChild.toggleClass("rotate-hidden",!1)},1e3)}})},Iw=()=>{const{locationState:{query:{filter:e}},globalState:{isMobileView:t},queryState:{queries:n}}=P.useContext(Lt),[r,a]=P.useState("THINO");P.useEffect(()=>{const i=on.getQueryById(e);a(i?i.title:"THINO")},[e,n]);const o=P.useCallback(i=>{i.stopPropagation(),dt.setShowSiderbarInMobileView(!0)},[]);return v.jsxs("div",{className:"section-header-container memos-header-container",children:[v.jsxs("div",{className:"title-text",children:[v.jsx(ts,{when:t,children:v.jsx("button",{ref:i=>{i&&x.setIcon(i,"menu")},className:"btn action-btn clickable-icon",onClick:o})}),v.jsx("span",{className:"normal-text",children:r}),v.jsx(UO,{})]}),v.jsxs("div",{className:"memos-header-search-section",children:[v.jsx(DU,{}),v.jsx(SU,{}),v.jsx(JE,{}),v.jsx(_v,{})]})]})},Nxe=()=>{const{dailyNotesState:{settings:e,plugin:t,app:n,verifyState:r},globalState:{manifest:a,showSiderbarInMobileView:o,isMobileView:i}}=P.useContext(Lt),[l,c]=P.useState("Memos");P.useState(!1);const[f,h]=P.useState("");P.useEffect(()=>{if(!(e!=null&&e.MomentsIcon)||!n)return;const k=n.vault.adapter.getResourcePath(x.normalizePath(e.MomentsIcon));k&&!(e!=null&&e.MomentsIcon.startsWith("http"))?h(k):h(e==null?void 0:e.MomentsIcon)},[e==null?void 0:e.MomentsIcon,n]),P.useEffect(()=>{e&&c(e.UserName)},[e]);const g=P.useCallback(()=>{at.pushHistory("/"),at.clearQuery()},[]),y=()=>{n.setting.open(),n.setting.openTabById(a.id||"obsidian-memos")},w=()=>{if(e!=null&&e.needVerify){dt.setLocked(!0);return}else new x.Notice(E("You have not set a password or enable this feature yet")),n.setting.open(),n.setting.openTabById(a.id||"obsidian-memos")},S=()=>{new lC(n,a.version).open()},D=()=>{dt.setShowSiderbarInMobileView(!1),t.settingTab.updateSettings("FirstLoaded",!0)},I=()=>{new XH(n,t,a.version).open()},M=P.useCallback(async k=>{const{type:R}=k;if(R.startsWith("text"))try{return`${await q2.parseHtml(k)}`}catch(L){new x.Notice(L)}},[]),N=P.useCallback(()=>{const k=document.createElement("input");document.body.appendChild(k),k.type="file",k.multiple=!1,k.accept="text/html",k.onchange=async()=>{if(!k.files||k.files.length===0)return;const R=k.files[0];await M(R),document.body.removeChild(k)},k.click()},[]),B=k=>{const R=new x.Menu;R.addItem(L=>{L.setIcon("user").setTitle(E("Settings")).onClick(y)}),e!=null&&e.needVerify&&R.addItem(L=>{L.setIcon("lock").setTitle(E("Lock")).onClick(w)}),R.addItem(L=>{L.setIcon("import").setTitle(E("Import")).onClick(N)}),R.addSeparator(),R.addItem(L=>{L.setIcon("file-text").setTitle(E("ChangeLog")).onClick(S)}),R.addItem(L=>{L.setIcon("settings").setTitle(E("Setting guide")).onClick(D)}),R.addItem(L=>{L.setIcon("alert-circle").setTitle(E("Submit issue")).onClick(I)}),R.showAtMouseEvent(k.nativeEvent)};return v.jsxs("div",{className:"user-banner-container",children:[v.jsxs("div",{className:"userinfo-header-container",children:[v.jsxs("div",{className:"userinfo-container",onClick:()=>{n.setting.open(),n.setting.openTabById(a.id||"obsidian-memos")},children:[v.jsx("div",{ref:k=>{if(f){k==null||k.empty();return}f||k&&x.setIcon(k,"Memos")},className:"thino-user-icon",style:{backgroundImage:`url("${f}")`}}),v.jsxs("div",{className:"thino-user-info",children:[v.jsxs("span",{className:"username-container",children:[v.jsx("span",{"aria-label":l==="MEMO üòâ"?"THINO üòâ":l||"THINO",className:"username-text",onClick:g,children:l==="MEMO üòâ"?"THINO üòâ":l||"THINO"}),v.jsx("span",{className:`user-pro-badge ${r?"activated":""}`,onClick:()=>{n.setting.open(),n.setting.openTabById(a.id||"obsidian-memos")},children:"PRO"})]}),(e==null?void 0:e.MomentsQuote)&&v.jsx("span",{className:"thino-user-quote",children:e==null?void 0:e.MomentsQuote})]})]}),v.jsxs("span",{className:"btn-group",children:[(e==null?void 0:e.DefaultThemeForThino)==="modern"&&!i&&v.jsx(UO,{}),v.jsx("span",{ref:k=>{k&&k.hasChildNodes()||k&&x.setIcon(k,"more-horizontal")},className:"btn action-btn menu-popup-btn",onClick:B}),o&&v.jsx("span",{ref:k=>{k&&k.hasChildNodes()||k&&x.setIcon(k,"x")},className:"btn action-btn",onClick:()=>{dt.setShowSiderbarInMobileView(!1)}})]})]}),v.jsx(K2,{statusType:"banner"})]})},uN=()=>{const{queryState:{queries:e},dailyNotesState:{app:t},locationState:{query:{filter:n}}}=P.useContext(Lt),r=lm(),[a,o]=P.useState([]);return P.useEffect(()=>{const i=e.filter(l=>{var c,f;return!((c=l.id)!=null&&c.toString().startsWith("Filter [Temp]"))&&!((f=l.id)!=null&&f.toString().includes("Filter [Temp]"))}).sort((l,c)=>{if(c.pinnedAt&&!l.pinnedAt)return 1;if(l.pinnedAt&&!c.pinnedAt)return-1;const f=ut.getTimeStampByDate(l.pinnedAt||l.createdAt);return ut.getTimeStampByDate(c.pinnedAt||c.createdAt)-f});o(i)},[e]),P.useEffect(()=>{on.getMyAllQueries().catch(()=>{}).finally(()=>{r.setFinish()})},[t]),v.jsxs("div",{className:"queries-wrapper",children:[v.jsxs("span",{className:"title-text",children:[v.jsx("span",{className:"normal-text",children:E("QUERY")}),v.jsx("span",{ref:i=>{i&&x.setIcon(i,"plus")},className:"btn create-query-btn",onClick:()=>D2()})]}),v.jsx(ts,{when:r.isSucceed&&a.length===0,children:v.jsx("div",{className:"create-query-btn-container",children:v.jsx("span",{className:"btn",onClick:()=>D2(),children:E("CREATE FILTER")})})}),v.jsx("div",{className:"queries-container",children:a.map(i=>v.jsx(Axe,{query:i,isActive:i.id===n},`${i.id}-${x.moment(i.createdAt,"YYYY/MM/DD HH:mm:ss").format("x")}`))})]})},Axe=e=>{const{query:t,isActive:n}=e,[r,a]=Xl(!1),[o,i]=Xl(!1),l=()=>{at.setMemoFilter(n?"":t.id)},c=D=>{D.stopPropagation(),a()},f=()=>{a(!1)},h=async D=>{if(D.stopPropagation(),o)try{await on.deleteQuery(t.id)}catch(I){new x.Notice(I.message)}else i()},g=D=>{D.stopPropagation(),D2(t.id)},y=async D=>{D.stopPropagation();try{t.pinnedAt?await on.unpinQuery(t.id):await on.pinQuery(t.id),on.editQuery({...t,pinnedAt:t.pinnedAt?"":ut.getDateTimeString(Date.now())})}catch(I){console.error(I)}},w=()=>{i(!1)},S=P.useMemo(()=>v.jsxs("div",{className:"action-btns-container",children:[v.jsxs("span",{className:"btn",onClick:y,children:[v.jsx("span",{ref:D=>{D&&x.setIcon(D,t.pinnedAt?"pin-off":"pin")},className:"icon-text"}),v.jsx("span",{className:"normal-text",children:t.pinnedAt?E("UNPIN"):E("PIN")})]}),v.jsxs("span",{className:"btn",onClick:g,children:[v.jsx("span",{ref:D=>{D&&!D.hasChildNodes()&&x.setIcon(D,"edit")},className:"icon-text"}),v.jsx("span",{className:"normal-text",children:E("EDIT")})]}),v.jsxs("span",{className:`btn delete-btn ${o?"final-confirm":""}`,onClick:h,onMouseLeave:w,children:[v.jsx("span",{ref:D=>{D&&!D.hasChildNodes()&&x.setIcon(D,"trash-2")},className:"icon-text"}),v.jsx("span",{className:"normal-text",children:E(o?"CONFIRMÔºÅ":"DELETE")})]})]}),[t.pinnedAt,o]);return v.jsx(v.Fragment,{children:v.jsxs("div",{className:`query-item-container ${n?"active":""}`,onClick:l,children:[v.jsxs("div",{className:"query-text-container",children:[v.jsx("span",{ref:D=>{D&&!D.hasChildNodes()&&x.setIcon(D,"filter")},className:"icon-text"}),v.jsxs("span",{className:"query-text",children:[t.title,t.pinnedAt&&" üìå"]})]}),v.jsxs("div",{className:"btns-container",children:[v.jsx("span",{ref:D=>{D&&!D.hasChildNodes()&&x.setIcon(D,"more-horizontal")},className:"btn action-btn toggle-btn",onClick:c}),v.jsx("div",{className:`action-btns-wrapper ${r?"":"thino-hidden"}`,onMouseLeave:f,children:S})]})]})})},cN=()=>{var y,w;const{locationState:{query:{tag:e,filter:t}},dailyNotesState:{app:n},memoState:{tags:r,tagsNum:a,memos:o}}=P.useContext(Lt),i=t&&((y=t==null?void 0:t.toString())==null?void 0:y.startsWith("Filter [Temp] "))&&on.getQueryById(t),[l,c]=P.useState([]),[f,h]=P.useState(((w=n||app)==null?void 0:w.loadLocalStorage("thino-tag-sort-order"))||"alphabetical");P.useEffect(()=>{var D;const S=(D=n||app)==null?void 0:D.loadLocalStorage("thino-temp-tags");c(S||[])},[]),P.useEffect(()=>{we.updateTagsState()},[o]),P.useEffect(()=>{const S=Array.from(r).sort(),D={subTags:[]};for(const I of S){const M=I.split("/");let N=D,B="";for(let k=0;k<M.length;k++){const R=M[k];B+=k===0?R:"/"+R;let L=N.subTags.find(_=>_.text===B);if(L||(L={key:R,text:B,count:a[B]||0,subTags:[],parent:N},N.subTags.push(L)),k===M.length-1){let _=L.parent;for(;_;)_.count||(_.count=0),_.count+=a[B]||0,_=_.parent}N=L}}c(D.subTags)},[r]),P.useEffect(()=>{var S;we.initialized&&((S=n||app)==null||S.saveLocalStorage("thino-temp-tags",l))},[l]);const g=S=>{S.stopPropagation();const D=new x.Menu;for(const I of["alphabetical","alphabeticalReverse","byCount","byCountReverse"])D.addItem(M=>{M.setTitle(E(I)).onClick(()=>{h(I),n==null||n.saveLocalStorage("thino-tag-sort-order",I)}).setChecked(f===I)}),I==="alphabeticalReverse"&&D.addSeparator();D.showAtMouseEvent(S.nativeEvent)};return v.jsxs("div",{className:"tags-wrapper",children:[v.jsxs("div",{className:"tags-header title-text",children:[v.jsx("span",{className:"normal-text",children:E("Frequently Used Tags")}),v.jsx("span",{ref:S=>{S&&x.setIcon(S,"arrow-down-narrow-wide")},className:"tags-sort-btn",onClick:g})]}),v.jsxs("div",{className:"tags-container",children:[l.sort(Fxe(f)).map((S,D)=>v.jsx(YO,{tag:S,tagQuery:e,filterQuery:i},S.text+"-"+D)),v.jsx(ts,{when:l.length<5&&we.initialized,children:v.jsxs("span",{className:"tag-tip-container",children:[E("Input")," ",v.jsxs("span",{className:"code-text",children:[E("#Tag")," "]}),E("to create tag"),"..."]})})]})]})},YO=e=>{const{tag:t,tagQuery:n,filterQuery:r}=e,a=n===t.text||r&&JSON.parse(r.querystring).find(h=>h.type==="TAG"&&h.value.value===t.text),o=t.subTags.length>0,[i,l]=Xl(!1),c=async h=>{var g;if(h.ctrlKey||h.metaKey){const{verifyState:y}=ft.getState(),w=!x.Platform.isDesktop&&await((g=window.Capacitor)==null?void 0:g.Plugins.Device.getId()),S=x.Platform.isDesktop?await cr():w.identifier||w.uuid;if(!(y&&(y==null?void 0:y.appId)===S)){fn();return}const I=at.getState().query.filter;if(I&&(I!=null&&I.startsWith("Filter [Temp] "))){const N=on.getQueryById(I).querystring,B=JSON.parse(N);let k;if(B.some(R=>R.type==="TAG"&&R.value.value===t.text)){if(k=B.filter(L=>L.value.value!==t.text),k.length===0){at.setMemoFilter("");return}const R=on.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([{...k[0],relation:"AND"},...k.slice(1)]));on.pushQuery(R),at.setMemoFilter(R.id)}else{k=[...B,{type:"TAG",value:{value:t.text,operator:"CONTAIN"},relation:"OR"}];const R=on.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify(k));on.pushQuery(R),at.setMemoFilter(R.id)}}else if(n){at.setTagQuery("");const M=on.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([{type:"TAG",value:{value:n,operator:"CONTAIN"},relation:"AND"},{type:"TAG",value:{value:t.text,operator:"CONTAIN"},relation:"OR"}]));on.pushQuery(M),at.setMemoFilter(M.id)}else if(!n){const M=on.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([{type:"TAG",value:{value:t.text,operator:"CONTAIN"},relation:"AND"}]));on.pushQuery(M),at.setMemoFilter(M.id)}ut.copyTextToClipboard(`#${t.text} `),["/","/recycle","/archive","/daily"].includes(at.getState().pathname)||at.setPathname("/");return}if(a){if(at.setTagQuery(""),r){const w=JSON.parse(r.querystring).filter(D=>D.value.value!==t.text);if(w.length===0){at.setMemoFilter("");return}const S=on.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([{...w[0],relation:"AND"},...w.slice(1)]));on.pushQuery(S),at.setMemoFilter(S.id)}}else await ut.copyTextToClipboard(`#${t.text} `),["/","/recycle","/archive","/daily"].includes(at.getState().pathname)||at.setPathname("/"),at.setTagQuery(t.text)},f=h=>{h.stopPropagation(),l()};return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:`tag-item-container ${a?"active":""}`,onClick:c,children:[v.jsxs("div",{className:"tag-text-container",children:[v.jsx("span",{ref:h=>{h&&x.setIcon(h,"hash")},className:"btn tag-btn"}),v.jsx("span",{className:"tag-text",children:t.key})]}),v.jsxs("div",{className:"btns-container",children:[v.jsx("span",{className:"tag-count",children:t.count}),o?v.jsx("span",{ref:h=>{h&&x.setIcon(h,"chevron-right")},className:`btn action-btn toggle-btn ${i?"shown":""}`,onClick:f}):null]})]}),o?v.jsx("div",{className:`subtags-container ${i?"":"thino-hidden"}`,children:t.subTags.map((h,g)=>v.jsx(YO,{tag:h,tagQuery:n},h.text+"-"+g))}):null]})},dN=new Intl.Collator(void 0,{usage:"sort",sensitivity:"base",numeric:!0}).compare,eT={alphabetical:(e,t)=>dN(e.text,t.text),alphabeticalReverse:(e,t)=>-dN(e.text,t.text),byCount:(e,t)=>t.count-e.count,byCountReverse:(e,t)=>e.count-t.count},Fxe=(e="byCount")=>eT.hasOwnProperty(e)?eT[e]:eT.alphabetical,fN=()=>{const{dailyNotesState:{app:e,settings:t,verifyState:n}}=P.useContext(Lt),r=[{name:E("Random Review"),path:"/review",iconID:"star"},{name:E("ARCHIVE"),path:"/archive",iconID:"archive"},{name:E("Recycle bin"),path:"/recycle",iconID:"recycle"}],a=P.useRef([]);return P.useEffect(()=>{a.current.forEach((o,i)=>{o&&x.setIcon(o,r[i].iconID)})},[t,a]),v.jsx(v.Fragment,{children:v.jsx("div",{className:"path-entry-wrapper",children:r.map((o,i)=>v.jsx(v.Fragment,{children:v.jsxs("div",{className:`path-entry-container ${at.getState().pathname===o.path?"active":""} ${t.DeleteThinoDirectly&&o.path==="/recycle"?"thino-hidden":""} ${o.path==="/review"&&"pro"}`,onClick:async()=>{var f;const l=!x.Platform.isDesktop&&await((f=window.Capacitor)==null?void 0:f.Plugins.Device.getId()),c=x.Platform.isDesktop?await cr():l.identifier||l.uuid;if(!n&&(n==null?void 0:n.appId)!==c&&o.path==="/review"){fn();return}if(at.setPathname(o.path),o.path==="/review"&&at.getState().pathname==="/review"){e.workspace.trigger("refresh-review-memos");return}at.clearQuery()},children:[v.jsx("span",{ref:l=>a.current[i]=l,className:"path-entry-icon"}),v.jsx("span",{className:"path-entry-text",children:o.name})]},i)}))})})},hN=e=>{const{dailyNotesState:{settings:t},locationState:n,globalState:{isMobileView:r,showSiderbarInMobileView:a}}=P.useContext(Lt),o=P.useRef(null),i=P.useMemo(()=>l=>{var f,h,g;const c=dt.getState().showSiderbarInMobileView;if(!c){window.removeEventListener("click",i,{capture:!0});return}(f=o.current)!=null&&f.contains(l.target)||(g=(h=o.current)==null?void 0:h.parentNode)!=null&&g.contains(l.target)&&(c&&l.stopPropagation(),dt.setShowSiderbarInMobileView(!1),window.removeEventListener("click",i,{capture:!0}))},[]);return P.useEffect(()=>{dt.setShowSiderbarInMobileView(!1)},[n]),P.useEffect(()=>{a?document.body.classList.add(FC):document.body.classList.remove(FC)},[a]),P.useEffect(()=>{r&&a&&window.addEventListener("click",i,{capture:!0})},[r,a]),v.jsxs("aside",{className:ar("memos-sidebar-wrapper",e.className),ref:o,children:[e.children,v.jsx(Nxe,{}),(t==null?void 0:t.DefaultThemeForThino)==="modern"&&!r?(e==null?void 0:e.sidebarPosition)==="right"?v.jsx(av,{}):null:v.jsx(av,{}),(t==null?void 0:t.DefaultThemeForThino)==="modern"&&!r?(e==null?void 0:e.sidebarPosition)==="left"?v.jsxs(v.Fragment,{children:[v.jsx(fN,{}),v.jsx(uN,{}),v.jsx(K2,{statusType:"sidebar"})]}):null:v.jsxs(v.Fragment,{children:[v.jsx(fN,{}),v.jsx(uN,{})]}),(t==null?void 0:t.DefaultThemeForThino)==="modern"&&!r?(e==null?void 0:e.sidebarPosition)==="right"?v.jsx(v.Fragment,{children:v.jsx(cN,{})}):null:v.jsx(v.Fragment,{children:v.jsx(cN,{})})]})},Oxe=()=>{const{dailyNotesState:{settings:e}}=P.useContext(Lt),[t,n]=ne.useState(""),r=a=>{n(a.target.value)};return v.jsx("div",{className:"locked-screen-wrapper",children:v.jsxs("div",{className:"locked-screen-content",children:[v.jsx("div",{className:"locked-screen-header",children:v.jsx("div",{className:"locked-screen-header-title",children:E("Locked")})}),v.jsx("div",{className:"locked-screen-body",children:v.jsxs("div",{className:"locked-screen-body-content",children:[v.jsxs("div",{className:"locked-screen-body-content-text",children:[v.jsx("div",{className:"locked-screen-body-content-text-title",children:E("Thino is locked")}),v.jsx("div",{className:"locked-screen-body-content-text-desc",children:E("Please unlock Thino by input password")})]}),v.jsxs("div",{className:"locked-screen-body-content-inputer",children:[v.jsx("input",{onKeyDown:a=>{a.key==="Enter"&&((e==null?void 0:e.password)===t?dt.setLocked(!1):new x.Notice(E("Password is incorrect")))},onChange:r,value:t,type:"password",className:"locked-screen-body-content-input"}),v.jsx("button",{className:"locked-screen-body-content-btn",onClick:()=>{(e==null?void 0:e.password)===t?dt.setLocked(!1):new x.Notice(E("Password is incorrect"))},children:E("Unlock")})]})]})})]})})};class sf extends t9{fuzzySearchItemsOptimized(t,n){const r=x.prepareFuzzySearch(t);return n.map(a=>{const o=r(a.path);return o?{item:a,match:o,score:o.score}:null}).sort((a,o)=>(o==null?void 0:o.score)-(a==null?void 0:a.score)).filter(Boolean)}getSuggestions(t){const r=app.vault.getFiles().filter(o=>["png","jpg","jpeg","gif"].includes(o.extension)),a=t.toLowerCase();return this.fuzzySearchItemsOptimized(a,r).map(o=>o.item)}renderSuggestion(t,n){var o;const r=t.basename,a=((o=t.parent)==null?void 0:o.path)||"";n.toggleClass("thino-image-suggest-item",!0),n.createSpan({cls:"suggestion-name",text:r}),n.createSpan({cls:"suggestion-path",text:a})}selectSuggestion(t){this.inputEl.value=t.path,this.inputEl.trigger("input"),this.close()}}const Pxe=e=>{const{dailyNotesState:{settings:t,app:n,plugin:r},globalState:{manifest:a}}=P.useContext(Lt),[o,i]=ne.useState(0),[l,c]=ne.useState(""),f=ne.useRef(null),h=ne.useRef(null),[g,y]=ne.useState({enabled:!1,path:"",format:""});P.useEffect(()=>{if(o===2&&(t!=null&&t.EnabledLocationList.find(I=>I.value==="DAILY")))if(!Kg())y({enabled:!1,path:"",format:""});else{const I=Jc().folder,M=Jc().format;y({enabled:!0,path:I,format:M})}},[o]),P.useEffect(()=>{if(!(t!=null&&t.MomentsIcon)||!n){c("");return}const I=n.vault.adapter.getResourcePath(x.normalizePath(t.MomentsIcon));I&&!(t!=null&&t.MomentsIcon.startsWith("http"))?c(I):c(t==null?void 0:t.MomentsIcon)},[t==null?void 0:t.MomentsIcon,n]),P.useEffect(()=>{h&&(h.current=null)},[o]),P.useEffect(()=>{f.current&&(h.current||(h.current=new sf(f.current)))},[f.current]);const w=(I,M)=>{let N=r;N||(N=n.plugins.getPlugin("obsidian-memos")),N.settingTab.updateSettings(I,M)},S=P.useMemo(()=>{switch(o){case 0:return v.jsxs(v.Fragment,{children:[v.jsx("h1",{children:E("Get started with Thino")}),v.jsx("p",{children:E("Set up your user info for Thino.")})]});case 1:return v.jsxs(v.Fragment,{children:[v.jsx("h1",{children:E("Set theme for Thino")}),v.jsx("p",{children:E("Choose a theme for Thino.")})]});case 2:return v.jsxs(v.Fragment,{children:[v.jsx("h1",{children:E("Go with daily note plugin")}),v.jsx("p",{children:E("If you are using the Thino basic version, enabling the daily note plugin is required. Configure its settings to work effectively with it.")})]});case 3:return v.jsxs(v.Fragment,{children:[v.jsx("h1",{children:E("Set preferences for using Thino")}),v.jsx("p",{children:E("Adjust settings that influence your user experience with Thino.")})]});case 4:return v.jsxs(v.Fragment,{children:[v.jsx("h1",{children:E("Congrats! All settings done")}),v.jsx("p",{children:E("Go and enjoy Thino")})]})}},[o]),D=()=>{switch(o){case 0:return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"thino-user-preview-wrapper",children:v.jsxs("div",{className:"userinfo-container",onClick:()=>{n.setting.open(),n.setting.openTabById(a.id||"obsidian-memos")},children:[v.jsx("div",{ref:I=>{if(t!=null&&t.MomentsIcon){I==null||I.empty();return}t!=null&&t.MomentsIcon||I&&x.setIcon(I,"Memos")},className:"thino-user-icon",style:{backgroundImage:`url("${l}")`}}),v.jsxs("div",{className:"thino-user-info",children:[v.jsx("span",{className:"username-container",children:v.jsx("span",{"aria-label":(t==null?void 0:t.UserName)==="MEMO üòâ"?"THINO üòâ":(t==null?void 0:t.UserName)||"THINO",className:"username-text",children:(t==null?void 0:t.UserName)==="MEMO üòâ"?"THINO üòâ":(t==null?void 0:t.UserName)||"THINO"})}),(t==null?void 0:t.MomentsQuote)&&v.jsx("span",{className:"thino-user-quote",children:t==null?void 0:t.MomentsQuote})]})]})}),v.jsxs("div",{className:"thino-user-info-wrapper",children:[v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-item-info",children:[v.jsx("div",{className:"setting-item-name",children:E("User name")}),v.jsx("div",{className:"setting-item-description",children:E("Set your user name here. 'Memos üòè' By default")})]}),v.jsx("div",{className:"setting-item-control",children:v.jsx("input",{type:"text",placeholder:"Thino üòè",defaultValue:t==null?void 0:t.UserName,onInput:I=>w("UserName",I.currentTarget.value)})})]}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-item-info",children:[v.jsx("div",{className:"setting-item-name",children:E("User quote")}),v.jsx("div",{className:"setting-item-description",children:E("Set user quote for thino")})]}),v.jsx("div",{className:"setting-item-control",children:v.jsx("input",{type:"text",placeholder:"Share thino with the world",defaultValue:t==null?void 0:t.MomentsQuote,onInput:I=>w("MomentsQuote",I.currentTarget.value)})})]}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-item-info",children:[v.jsx("div",{className:"setting-item-name",children:E("User icon")}),v.jsx("div",{className:"setting-item-description",children:E("Set user icon for thino. You can input http/https link or file path in vault.")})]}),v.jsx("div",{className:"setting-item-control",children:v.jsx("input",{type:"text",ref:f,placeholder:"Input url or file path",defaultValue:t==null?void 0:t.MomentsIcon,onInput:I=>w("MomentsIcon",I.currentTarget.value)})})]})]})]});case 1:return v.jsx(v.Fragment,{children:v.jsxs("div",{className:ar("theme-selector-group","selected"),children:[v.jsxs("div",{className:ar("theme-selector",(t==null?void 0:t.DefaultThemeForThino)==="modern"?"selected":""),onClick:()=>w("DefaultThemeForThino","modern"),children:[v.jsxs("div",{className:"theme-selector-header-component",children:[v.jsx("div",{className:"theme-selector-header",children:E("Modern")}),v.jsx("div",{className:"theme-selector-description",children:E("A modern theme for Thino with a three-column layout and some unique features.")})]}),v.jsxs("div",{className:"theme-selector-content",children:[v.jsx("div",{className:"left-column column-component"}),v.jsx("div",{className:"center-column column-component"}),v.jsx("div",{className:"right-column column-component"})]}),v.jsx("div",{className:"theme-selector-footer",children:v.jsx("button",{className:"mod-cta",disabled:(t==null?void 0:t.DefaultThemeForThino)==="modern",onClick:()=>w("DefaultThemeForThino","modern"),children:(t==null?void 0:t.DefaultThemeForThino)==="modern"?E("Selected"):E("Select")})})]}),v.jsxs("div",{className:ar("theme-selector",(t==null?void 0:t.DefaultThemeForThino)==="classic"?"selected":""),onClick:()=>w("DefaultThemeForThino","classic"),children:[v.jsxs("div",{className:"theme-selector-header-component",children:[v.jsx("div",{className:"theme-selector-header",children:E("Classic")}),v.jsx("div",{className:"theme-selector-description",children:E("A classic theme for Thino with a two-column layout")})]}),v.jsxs("div",{className:"theme-selector-content",children:[v.jsx("div",{className:"left-column column-component"}),v.jsx("div",{className:"center-column column-component"})]}),v.jsx("div",{className:"theme-selector-footer",children:v.jsx("button",{className:"mod-cta",disabled:(t==null?void 0:t.DefaultThemeForThino)==="classic",onClick:()=>w("DefaultThemeForThino","classic"),children:(t==null?void 0:t.DefaultThemeForThino)==="classic"?E("Selected"):E("Select")})})]})]})});case 2:return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"daily-note-plugin-status",children:[v.jsxs("div",{className:"daily-note-plugin-status-header",children:[v.jsx("div",{className:"plugin-status-header",children:E("Daily note plugin")}),v.jsx("div",{className:"plugin-status-description",children:E("Enable daily note plugin")})]}),v.jsx("div",{className:"daily-note-plugin-status-content",children:g.enabled&&v.jsx(v.Fragment,{children:v.jsxs("div",{className:"daily-note-format",children:[v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-item-info",children:[v.jsx("div",{className:"setting-item-name",children:E("Daily note name format")}),v.jsx("div",{className:"setting-item-description",children:E("Set daily note name format")})]}),v.jsx("div",{className:"setting-item-control",children:v.jsx("input",{type:"text",placeholder:"YYYY-MM-DD",defaultValue:g.format,onInput:I=>{y({...g,format:I.currentTarget.value.trim()});try{const M=n.internalPlugins.getPluginById("daily-notes");M.instance.options={...M.instance.options,format:I.currentTarget.value.trim()},M.saveData({...M.instance.options,format:I.currentTarget.value.trim()})}catch(M){console.error(M)}}})})]}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-item-info",children:[v.jsx("div",{className:"setting-item-name",children:E("Daily notes folder")}),v.jsx("div",{className:"setting-item-description",children:E("Set daily notes folder")})]}),v.jsx("div",{className:"setting-item-control",children:v.jsx("input",{type:"text",placeholder:"YYYY-MM-DD",defaultValue:g.path,onInput:I=>{y({...g,path:I.currentTarget.value.trim()});try{const M=n.internalPlugins.getPluginById("daily-notes");M.instance.options={...M.instance.options,folder:I.currentTarget.value.trim()},M.saveData({...M.instance.options,folder:I.currentTarget.value.trim()})}catch(M){console.error(M)}}})})]})]})})}),v.jsxs("div",{className:"daily-note-plugin-status-footer",children:[!g.enabled&&v.jsx("div",{className:"notice-click",children:E("Click to enable =>")}),v.jsx("button",{className:"mod-cta",disabled:g.enabled,onClick:()=>{if(!g.enabled){n.internalPlugins.getPluginById("daily-notes").enable();const I=Jc().folder,M=Jc().format;y({enabled:!0,format:M,path:I})}},children:g.enabled?E("Enabled"):E("Enable")})]})]}),v.jsxs("div",{className:"thino-daily-settings-wrapper",children:[v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-item-info",children:[v.jsx("div",{className:"setting-item-name",children:E("Default time prefix")}),v.jsx("div",{className:"setting-item-description",children:E("Set default time prefix for thino in daily notes.")})]}),v.jsx("div",{className:"setting-item-control",children:v.jsxs("select",{className:"dropdown",defaultValue:t==null?void 0:t.DefaultTimePrefix,onChange:I=>w("DefaultTimePrefix",I.currentTarget.value),children:[v.jsx("option",{value:"HH:mm",children:"HH:mm"}),v.jsx("option",{value:"HH:mm:ss",children:"HH:mm:ss"})]})})]}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-item-info",children:[v.jsx("div",{className:"setting-item-name",children:E("Set thino insert place")}),v.jsx("div",{className:"setting-item-description",children:E("Set where to insert thino content")})]}),v.jsx("div",{className:"setting-item-control",children:v.jsxs("select",{className:"dropdown",defaultValue:t==null?void 0:t.InsertType,onChange:I=>w("InsertType",I.currentTarget.value),children:[v.jsx("option",{value:"end",children:E("End of the diary")}),v.jsx("option",{value:"custom",children:E("Custom location")})]})})]}),(t==null?void 0:t.InsertType)==="custom"&&v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-item-info",children:[v.jsx("div",{className:"setting-item-name",children:E("Insert after heading")}),v.jsx("div",{className:"setting-item-description",children:E("If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.")})]}),v.jsx("div",{className:"setting-item-control",children:v.jsx("input",{type:"text",placeholder:"# Heading",defaultValue:t==null?void 0:t.InsertAfter,onInput:I=>w("InsertAfter",I.currentTarget.value)})})]}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-item-info",children:[v.jsx("div",{className:"setting-item-name",children:E("Set process target")}),v.jsx("div",{className:"setting-item-description",children:E("You can set whole diary or only part of it")})]}),v.jsx("div",{className:"setting-item-control",children:v.jsxs("select",{className:"dropdown",defaultValue:t==null?void 0:t.ProcessContentTarget,onChange:I=>w("ProcessContentTarget",I.currentTarget.value),children:[v.jsx("option",{value:"custom",children:E("Custom")}),v.jsx("option",{value:"whole",children:E("Whole diary")})]})})]}),(t==null?void 0:t.ProcessContentTarget)==="custom"&&v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-item-info",children:[v.jsx("div",{className:"setting-item-name",children:E("Process Memos below")}),v.jsx("div",{className:"setting-item-description",children:E("If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.")})]}),v.jsx("div",{className:"setting-item-control",children:v.jsx("input",{type:"text",placeholder:"# Heading",defaultValue:t==null?void 0:t.ProcessEntriesBelow,onInput:I=>w("ProcessEntriesBelow",I.currentTarget.value)})})]})]})]});case 3:return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"thino-custom-settings-wrapper",children:[v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-item-info",children:[v.jsx("div",{className:"setting-item-name",children:E("Default prefix when save thino")}),v.jsx("div",{className:"setting-item-description",children:E("Set the default prefix when create memo, 'List' by default.")})]}),v.jsx("div",{className:"setting-item-control",children:v.jsxs("select",{className:"dropdown",defaultValue:t==null?void 0:t.DefaultPrefix,onChange:I=>w("DefaultPrefix",I.currentTarget.value),children:[v.jsx("option",{value:"List",children:E("List")}),v.jsx("option",{value:"Task",children:E("Task")})]})})]}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-item-info",children:[v.jsx("div",{className:"setting-item-name",children:E("Use Tags In Vault")}),v.jsx("div",{className:"setting-item-description",children:E("Use tags in vault rather than only in Memos. False by default.")})]}),v.jsx("div",{className:"setting-item-control",ref:I=>{I&&(I.hasChildNodes()||new x.ToggleComponent(I).setValue((t==null?void 0:t.UseVaultTags)===void 0?!1:t==null?void 0:t.UseVaultTags).onChange(M=>{w("UseVaultTags",M)}))}})]}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-item-info",children:[v.jsx("div",{className:"setting-item-name",children:E("Delete Thino Directly")}),v.jsx("div",{className:"setting-item-description",children:E("When delete thino directly, it will not be moved to trash. False by default.")})]}),v.jsx("div",{className:"setting-item-control",ref:I=>{I&&(I.hasChildNodes()||new x.ToggleComponent(I).setValue((t==null?void 0:t.DeleteThinoDirectly)===void 0?!1:t==null?void 0:t.DeleteThinoDirectly).onChange(M=>{w("DeleteThinoDirectly",M)}))}})]})]})});case 4:return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"thino-congrats",children:[v.jsxs("div",{className:"final-congrats-text",children:[v.jsx("p",{className:"ready-use",children:E("Thino is ready to use. ")}),v.jsx("p",{className:"start-to-use",children:E("You can start using Thino now. If you want to know more about Thino Pro, click the button below.")})]}),v.jsxs("div",{className:"next-btns-group",children:[v.jsx("button",{onClick:()=>{const I=localStorage.getItem("language");I&&(I==="zh"||I==="zh-TW")?window.open("https://pkmer.cn/products/thino","_blank"):window.open("https://thino.pkmer.net/en/#price","_blank")},children:E("About Thino Pro")}),v.jsx("button",{className:"mod-cta",onClick:()=>{w("FirstLoaded",!1),dt.getState().isMobileView?(setTimeout(()=>{dt.setShowSiderbarInMobileView(!0)},500),setTimeout(()=>{dt.setExitSteps(!0)},1e3)):setTimeout(()=>{dt.setExitSteps(!0)},800)},children:E("Start Thino")})]})]})})}};return v.jsx(v.Fragment,{children:v.jsx("div",{className:"onboarding-view-container",children:v.jsx("div",{className:"onboarding-view-wrapper",children:v.jsxs("div",{"data-onboarding-step":o,className:"onboarding-view-content",children:[v.jsxs("div",{className:"onboarding-step-heading",children:[v.jsxs("div",{className:"onboarding-step-count",children:[o+1,"/5"]}),v.jsx("div",{className:"close-btn",children:v.jsx("button",{onClick:()=>{w("FirstLoaded",!1)},children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x",children:[v.jsx("path",{d:"M18 6 6 18"}),v.jsx("path",{d:"m6 6 12 12"})]})})})]}),v.jsxs("div",{className:"onboarding-view-details",children:[v.jsxs("div",{className:"details-content",children:[v.jsx("div",{className:"onboarding-header-group",children:S}),v.jsx(v.Fragment,{children:v.jsx("div",{className:"onboarding-form",children:D()})})]}),v.jsxs("div",{className:"details-footer",children:[v.jsx("div",{className:"skip-btn",children:o!==4&&v.jsx("button",{onClick:()=>{w("FirstLoaded",!1)},children:E("Skip and start Thino")})}),v.jsxs("div",{className:"navigate-btns-group",children:[o!==0&&v.jsx("button",{onClick:()=>i(o-1),children:E("Back to previous step")}),o!==4&&v.jsx("button",{className:"mod-cta",onClick:()=>i(o+1),children:E("Next step")}),o===4&&v.jsx("button",{className:"details-settings-btn",onClick:()=>{n.setting.open(),n.setting.openTabById(a.id||"obsidian-memos")},children:E("Details settings")})]})]})]})]})})})})};function sb(e){return sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sb(e)}function Wn(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(f){try{c(r.next(f))}catch(h){o(h)}}function l(f){try{c(r.throw(f))}catch(h){o(h)}}function c(f){var h;f.done?a(f.value):(h=f.value,h instanceof n?h:new n(function(g){g(h)})).then(i,l)}c((r=r.apply(e,t||[])).next())})}function $n(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(c){return function(f){return function(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&h[0]?r.return:h[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,h[1])).done)return a;switch(r=0,a&&(h=[2&h[0],a.value]),h[0]){case 0:case 1:a=h;break;case 4:return i.label++,{value:h[1],done:!1};case 5:i.label++,r=h[1],h=[0];continue;case 7:h=i.ops.pop(),i.trys.pop();continue;default:if(a=i.trys,!((a=a.length>0&&a[a.length-1])||h[0]!==6&&h[0]!==2)){i=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){i.label=h[1];break}if(h[0]===6&&i.label<a[1]){i.label=a[1],a=h;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(h);break}a[2]&&i.ops.pop(),i.trys.pop();continue}h=t.call(e,i)}catch(g){h=[6,g],r=0}finally{n=a=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([c,f])}}}function pN(e,t,n){var r,a=((r={})[e]=t,r.path="/",r.expires=void 0,r);if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),a.expires=o.toUTCString()}var i=[];for(var l in a)i.push("".concat(l,"=").concat(a[l]));return document.cookie=i.join("; "),zO(e)}function zO(e){return(t={},document.cookie.split(";").forEach(function(n){var r=n.split("="),a=r[0],o=r[1];t[a.trim()]=o}),t)[e];var t}function jxe(e,t){t?pN(e._options.dontShowAgainCookie,"true",e._options.dontShowAgainCookieDays):pN(e._options.dontShowAgainCookie,"",-1)}var q0,T2=(q0={},function(e,t){return t===void 0&&(t="introjs-stamp"),q0[t]=q0[t]||0,e[t]===void 0&&(e[t]=q0[t]++),e[t]}),Ql=new(function(){function e(){this.events_key="introjs_event"}return e.prototype._id=function(t,n,r){return t+T2(n)+(r?"_".concat(T2(r)):"")},e.prototype.on=function(t,n,r,a,o){var i=this._id(n,r,a),l=function(c){return r(a||t,c||window.event)};"addEventListener"in t?t.addEventListener(n,l,o):"attachEvent"in t&&t.attachEvent("on".concat(n),l),t[this.events_key]=t[this.events_key]||{},t[this.events_key][i]=l},e.prototype.off=function(t,n,r,a,o){var i=this._id(n,r,a),l=t[this.events_key]&&t[this.events_key][i];l&&("removeEventListener"in t?t.removeEventListener(n,l,o):"detachEvent"in t&&t.detachEvent("on".concat(n),l),t[this.events_key][i]=null)},e}()),lr=function(e){return typeof e=="function"};function ql(e,t){if(e instanceof SVGElement){var n=e.getAttribute("class")||"";n.match(t)||e.setAttribute("class","".concat(n," ").concat(t))}else if(e.classList!==void 0)for(var r=0,a=t.split(" ");r<a.length;r++){var o=a[r];e.classList.add(o)}else e.className.match(t)||(e.className+=" ".concat(t))}function KE(e,t){var n="";return"currentStyle"in e?n=e.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),n&&n.toLowerCase?n.toLowerCase():n}function mN(e,t){if(e){var n=function(r){var a=window.getComputedStyle(r),o=a.position==="absolute",i=/(auto|scroll)/;if(a.position==="fixed")return document.body;for(var l=r;l=l.parentElement;)if(a=window.getComputedStyle(l),(!o||a.position!=="static")&&i.test(a.overflow+a.overflowY+a.overflowX))return l;return document.body}(t);n!==document.body&&(n.scrollTop=t.offsetTop-n.offsetTop)}}function QE(){if(window.innerWidth!==void 0)return{width:window.innerWidth,height:window.innerHeight};var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function gN(e,t,n,r,a){var o;if(t!=="off"&&e&&(o=t==="tooltip"?a.getBoundingClientRect():r.getBoundingClientRect(),!function(l){var c=l.getBoundingClientRect();return c.top>=0&&c.left>=0&&c.bottom+80<=window.innerHeight&&c.right<=window.innerWidth}(r))){var i=QE().height;o.bottom-(o.bottom-o.top)<0||r.clientHeight>i?window.scrollBy(0,o.top-(i/2-o.height/2)-n):window.scrollBy(0,o.top-(i/2-o.height/2)+n)}}function qg(e){e.setAttribute("role","button"),e.tabIndex=0}function I1(e){var t=e.parentElement;return!(!t||t.nodeName==="HTML")&&(KE(e,"position")==="fixed"||I1(t))}function Op(e,t){var n=document.body,r=document.documentElement,a=window.pageYOffset||r.scrollTop||n.scrollTop,o=window.pageXOffset||r.scrollLeft||n.scrollLeft;t=t||n;var i=e.getBoundingClientRect(),l=t.getBoundingClientRect(),c=KE(t,"position"),f={width:i.width,height:i.height};return t.tagName.toLowerCase()!=="body"&&c==="relative"||c==="sticky"?Object.assign(f,{top:i.top-l.top,left:i.left-l.left}):I1(e)?Object.assign(f,{top:i.top,left:i.left}):Object.assign(f,{top:i.top+a,left:i.left+o})}function XE(e,t){if(e instanceof SVGElement){var n=e.getAttribute("class")||"";e.setAttribute("class",n.replace(t,"").replace(/^\s+|\s+$/g,""))}else e.className=e.className.replace(t,"").replace(/^\s+|\s+$/g,"")}function rd(e,t){var n="";if(e.style.cssText&&(n+=e.style.cssText),typeof t=="string")n+=t;else for(var r in t)n+="".concat(r,":").concat(t[r],";");e.style.cssText=n}function Hu(e,t,n){if(n&&t){var r=Op(t.element,e._targetElement),a=e._options.helperElementPadding;t.element instanceof Element&&I1(t.element)?ql(n,"introjs-fixedTooltip"):XE(n,"introjs-fixedTooltip"),t.position==="floating"&&(a=0),rd(n,{width:"".concat(r.width+a,"px"),height:"".concat(r.height+a,"px"),top:"".concat(r.top-a/2,"px"),left:"".concat(r.left-a/2,"px")})}}function G0(e,t,n,r,a){return e.left+t+n.width>r.width?(a.style.left="".concat(r.width-n.width-e.left,"px"),!1):(a.style.left="".concat(t,"px"),!0)}function J0(e,t,n,r){return e.left+e.width-t-n.width<0?(r.style.left="".concat(-e.left,"px"),!1):(r.style.right="".concat(t,"px"),!0)}function Pl(e,t){e.includes(t)&&e.splice(e.indexOf(t),1)}function Lxe(e,t,n,r){var a=e.slice(),o=QE(),i=Op(n).height+10,l=Op(n).width+20,c=t.getBoundingClientRect(),f="floating";if(c.bottom+i>o.height&&Pl(a,"bottom"),c.top-i<0&&Pl(a,"top"),c.right+l>o.width&&Pl(a,"right"),c.left-l<0&&Pl(a,"left"),r&&(r=r.split("-")[0]),a.length&&(f=a[0],a.includes(r)&&(f=r)),f==="top"||f==="bottom"){var h=void 0,g=[];f==="top"?(h="top-middle-aligned",g=["top-left-aligned","top-middle-aligned","top-right-aligned"]):(h="bottom-middle-aligned",g=["bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned"]),f=function(y,w,S,D){var I=w/2,M=Math.min(S,window.screen.width);return M-y<w&&(Pl(D,"top-left-aligned"),Pl(D,"bottom-left-aligned")),(y<I||M-y<I)&&(Pl(D,"top-middle-aligned"),Pl(D,"bottom-middle-aligned")),y<w&&(Pl(D,"top-right-aligned"),Pl(D,"bottom-right-aligned")),D.length?D[0]:null}(c.left,l,o.width,g)||h}return f}function lb(e,t,n,r,a){if(a===void 0&&(a=!1),t){var o,i,l,c,f="";n.style.top="",n.style.right="",n.style.bottom="",n.style.left="",n.style.marginLeft="",n.style.marginTop="",r.style.display="inherit",f=typeof t.tooltipClass=="string"?t.tooltipClass:e._options.tooltipClass,n.className=["introjs-tooltip",f].filter(Boolean).join(" "),n.setAttribute("role","dialog"),(c=t.position)!=="floating"&&e._options.autoPosition&&(c=Lxe(e._options.positionPrecedence,t.element,n,c)),i=Op(t.element),o=Op(n),l=QE(),ql(n,"introjs-".concat(c));var h=i.width/2-o.width/2;switch(c){case"top-right-aligned":r.className="introjs-arrow bottom-right";var g=0;J0(i,g,o,n),n.style.bottom="".concat(i.height+20,"px");break;case"top-middle-aligned":r.className="introjs-arrow bottom-middle",a&&(h+=5),J0(i,h,o,n)&&(n.style.right="",G0(i,h,o,l,n)),n.style.bottom="".concat(i.height+20,"px");break;case"top-left-aligned":case"top":r.className="introjs-arrow bottom",G0(i,a?0:15,o,l,n),n.style.bottom="".concat(i.height+20,"px");break;case"right":n.style.left="".concat(i.width+20,"px"),i.top+o.height>l.height?(r.className="introjs-arrow left-bottom",n.style.top="-".concat(o.height-i.height-20,"px")):r.className="introjs-arrow left";break;case"left":a||e._options.showStepNumbers!==!0||(n.style.top="15px"),i.top+o.height>l.height?(n.style.top="-".concat(o.height-i.height-20,"px"),r.className="introjs-arrow right-bottom"):r.className="introjs-arrow right",n.style.right="".concat(i.width+20,"px");break;case"floating":r.style.display="none",n.style.left="50%",n.style.top="50%",n.style.marginLeft="-".concat(o.width/2,"px"),n.style.marginTop="-".concat(o.height/2,"px");break;case"bottom-right-aligned":r.className="introjs-arrow top-right",J0(i,g=0,o,n),n.style.top="".concat(i.height+20,"px");break;case"bottom-middle-aligned":r.className="introjs-arrow top-middle",a&&(h+=5),J0(i,h,o,n)&&(n.style.right="",G0(i,h,o,l,n)),n.style.top="".concat(i.height+20,"px");break;default:r.className="introjs-arrow top",G0(i,0,o,l,n),n.style.top="".concat(i.height+20,"px")}}}function VO(){for(var e=0,t=Array.from(document.querySelectorAll(".introjs-showElement"));e<t.length;e++)XE(t[e],/introjs-[a-zA-Z]+/g)}function Mn(e,t){var n=document.createElement(e);t=t||{};var r=/^(?:role|data-|aria-)/;for(var a in t){var o=t[a];a==="style"&&typeof o!="function"?rd(n,o):typeof o=="string"&&a.match(r)?n.setAttribute(a,o):n[a]=o}return n}function vN(e,t,n){if(n===void 0&&(n=!1),n){var r=t.style.opacity||"1";rd(t,{opacity:"0"}),window.setTimeout(function(){rd(t,{opacity:r})},10)}e.appendChild(t)}function WO(e,t){return(e+1)/t*100}function $O(e,t){var n=Mn("div",{className:"introjs-bullets"});e._options.showBullets===!1&&(n.style.display="none");var r=Mn("ul");r.setAttribute("role","tablist");for(var a=function(){var f=this.getAttribute("data-step-number");f!=null&&e.goToStep(parseInt(f,10))},o=0;o<e._introItems.length;o++){var i=e._introItems[o].step,l=Mn("li"),c=Mn("a");l.setAttribute("role","presentation"),c.setAttribute("role","tab"),c.onclick=a,o===t.step-1&&(c.className="active"),qg(c),c.innerHTML="&nbsp;",c.setAttribute("data-step-number",i.toString()),l.appendChild(c),r.appendChild(l)}return n.appendChild(r),n}function ZO(e,t,n){var r=e.querySelector(".introjs-progress .introjs-progressbar");if(r){var a=WO(t,n);r.style.cssText="width:".concat(a,"%;"),r.setAttribute("aria-valuenow",a.toString())}}function qO(e,t){return Wn(this,void 0,void 0,function(){var n,r,a,o,i,l,c,f,h,g,y,w,S,D,I,M,N,B,k,R,L,_,V,U,Z=this;return $n(this,function(Q){switch(Q.label){case 0:return lr(e._introChangeCallback)?[4,e._introChangeCallback.call(e,t.element)]:[3,2];case 1:Q.sent(),Q.label=2;case 2:return n=document.querySelector(".introjs-helperLayer"),r=document.querySelector(".introjs-tooltipReferenceLayer"),a="introjs-helperLayer",typeof t.highlightClass=="string"&&(a+=" ".concat(t.highlightClass)),typeof e._options.highlightClass=="string"&&(a+=" ".concat(e._options.highlightClass)),n!==null&&r!==null?(c=r.querySelector(".introjs-helperNumberLayer"),f=r.querySelector(".introjs-tooltiptext"),h=r.querySelector(".introjs-tooltip-title"),g=r.querySelector(".introjs-arrow"),y=r.querySelector(".introjs-tooltip"),l=r.querySelector(".introjs-skipbutton"),i=r.querySelector(".introjs-prevbutton"),o=r.querySelector(".introjs-nextbutton"),n.className=a,y.style.opacity="0",y.style.display="none",mN(e._options.scrollToElement,t.element),Hu(e,t,n),Hu(e,t,r),VO(),e._lastShowElementTimer&&window.clearTimeout(e._lastShowElementTimer),e._lastShowElementTimer=window.setTimeout(function(){c!==null&&(c.innerHTML="".concat(t.step," ").concat(e._options.stepNumbersOfLabel," ").concat(e._introItems.length)),f.innerHTML=t.intro||"",h.innerHTML=t.title||"",y.style.display="block",lb(e,t,y,g),function(G,re,de){if(G){var fe=re.querySelector(".introjs-bullets li > a.active"),$=re.querySelector('.introjs-bullets li > a[data-step-number="'.concat(de.step,'"]'));fe&&$&&(fe.className="",$.className="active")}}(e._options.showBullets,r,t),ZO(r,e._currentStep,e._introItems.length),y.style.opacity="1",(o!=null&&/introjs-donebutton/gi.test(o.className)||o!=null)&&o.focus(),gN(e._options.scrollToElement,t.scrollTo,e._options.scrollPadding,t.element,f)},350)):(w=Mn("div",{className:a}),S=Mn("div",{className:"introjs-tooltipReferenceLayer"}),D=Mn("div",{className:"introjs-arrow"}),I=Mn("div",{className:"introjs-tooltip"}),M=Mn("div",{className:"introjs-tooltiptext"}),N=Mn("div",{className:"introjs-tooltip-header"}),B=Mn("h1",{className:"introjs-tooltip-title"}),k=Mn("div"),rd(w,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(e._options.overlayOpacity.toString(),") 0 0 0 5000px")}),mN(e._options.scrollToElement,t.element),Hu(e,t,w),Hu(e,t,S),vN(e._targetElement,w,!0),vN(e._targetElement,S),M.innerHTML=t.intro,B.innerHTML=t.title,k.className="introjs-tooltipbuttons",e._options.showButtons===!1&&(k.style.display="none"),N.appendChild(B),I.appendChild(N),I.appendChild(M),e._options.dontShowAgain&&(R=Mn("div",{className:"introjs-dontShowAgain"}),(L=Mn("input",{type:"checkbox",id:"introjs-dontShowAgain",name:"introjs-dontShowAgain"})).onchange=function(G){e.setDontShowAgain(G.target.checked)},(_=Mn("label",{htmlFor:"introjs-dontShowAgain"})).innerText=e._options.dontShowAgainLabel,R.appendChild(L),R.appendChild(_),I.appendChild(R)),I.appendChild($O(e,t)),I.appendChild(function(G){var re=Mn("div");re.className="introjs-progress",G._options.showProgress===!1&&(re.style.display="none");var de=Mn("div",{className:"introjs-progressbar"});G._options.progressBarAdditionalClass&&(de.className+=" "+G._options.progressBarAdditionalClass);var fe=WO(G._currentStep,G._introItems.length);return de.setAttribute("role","progress"),de.setAttribute("aria-valuemin","0"),de.setAttribute("aria-valuemax","100"),de.setAttribute("aria-valuenow",fe.toString()),de.style.cssText="width:".concat(fe,"%;"),re.appendChild(de),re}(e)),V=Mn("div"),e._options.showStepNumbers===!0&&(V.className="introjs-helperNumberLayer",V.innerHTML="".concat(t.step," ").concat(e._options.stepNumbersOfLabel," ").concat(e._introItems.length),I.appendChild(V)),I.appendChild(D),S.appendChild(I),(o=Mn("a")).onclick=function(){return Wn(Z,void 0,void 0,function(){return $n(this,function(G){switch(G.label){case 0:return e._introItems.length-1===e._currentStep?[3,2]:[4,kf(e)];case 1:return G.sent(),[3,6];case 2:return/introjs-donebutton/gi.test(o.className)?lr(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"done")]:[3,4]:[3,6];case 3:G.sent(),G.label=4;case 4:return[4,Nf(e,e._targetElement)];case 5:G.sent(),G.label=6;case 6:return[2]}})})},qg(o),o.innerHTML=e._options.nextLabel,(i=Mn("a")).onclick=function(){return Wn(Z,void 0,void 0,function(){return $n(this,function(G){switch(G.label){case 0:return e._currentStep>0?[4,ub(e)]:[3,2];case 1:G.sent(),G.label=2;case 2:return[2]}})})},qg(i),i.innerHTML=e._options.prevLabel,qg(l=Mn("a",{className:"introjs-skipbutton"})),l.innerHTML=e._options.skipLabel,l.onclick=function(){return Wn(Z,void 0,void 0,function(){return $n(this,function(G){switch(G.label){case 0:return e._introItems.length-1===e._currentStep&&lr(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"skip")]:[3,2];case 1:G.sent(),G.label=2;case 2:return lr(e._introSkipCallback)?[4,e._introSkipCallback.call(e,e._currentStep)]:[3,4];case 3:G.sent(),G.label=4;case 4:return[4,Nf(e,e._targetElement)];case 5:return G.sent(),[2]}})})},N.appendChild(l),e._introItems.length>1&&k.appendChild(i),k.appendChild(o),I.appendChild(k),lb(e,t,I,D),gN(e._options.scrollToElement,t.scrollTo,e._options.scrollPadding,t.element,I)),(U=e._targetElement.querySelector(".introjs-disableInteraction"))&&U.parentNode&&U.parentNode.removeChild(U),t.disableInteraction&&function(G,re){var de=document.querySelector(".introjs-disableInteraction");de===null&&(de=Mn("div",{className:"introjs-disableInteraction"}),G._targetElement.appendChild(de)),Hu(G,re,de)}(e,t),e._currentStep===0&&e._introItems.length>1?(o!=null&&(o.className="".concat(e._options.buttonClass," introjs-nextbutton"),o.innerHTML=e._options.nextLabel),e._options.hidePrev===!0?(i!=null&&(i.className="".concat(e._options.buttonClass," introjs-prevbutton introjs-hidden")),o!=null&&ql(o,"introjs-fullbutton")):i!=null&&(i.className="".concat(e._options.buttonClass," introjs-prevbutton introjs-disabled"))):e._introItems.length-1===e._currentStep||e._introItems.length===1?(i!=null&&(i.className="".concat(e._options.buttonClass," introjs-prevbutton")),e._options.hideNext===!0?(o!=null&&(o.className="".concat(e._options.buttonClass," introjs-nextbutton introjs-hidden")),i!=null&&ql(i,"introjs-fullbutton")):o!=null&&(e._options.nextToDone===!0?(o.innerHTML=e._options.doneLabel,ql(o,"".concat(e._options.buttonClass," introjs-nextbutton introjs-donebutton"))):o.className="".concat(e._options.buttonClass," introjs-nextbutton introjs-disabled"))):(i!=null&&(i.className="".concat(e._options.buttonClass," introjs-prevbutton")),o!=null&&(o.className="".concat(e._options.buttonClass," introjs-nextbutton"),o.innerHTML=e._options.nextLabel)),i!=null&&i.setAttribute("role","button"),o!=null&&o.setAttribute("role","button"),l!=null&&l.setAttribute("role","button"),o!=null&&o.focus(),function(G){ql(G,"introjs-showElement");var re=KE(G,"position");re!=="absolute"&&re!=="relative"&&re!=="sticky"&&re!=="fixed"&&ql(G,"introjs-relativePosition")}(t.element),lr(e._introAfterChangeCallback)?[4,e._introAfterChangeCallback.call(e,t.element)]:[3,4];case 3:Q.sent(),Q.label=4;case 4:return[2]}})})}function Rxe(e,t){return Wn(this,void 0,void 0,function(){return $n(this,function(n){switch(n.label){case 0:return e._currentStep=t-2,e._introItems===void 0?[3,2]:[4,kf(e)];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function _xe(e,t){return Wn(this,void 0,void 0,function(){return $n(this,function(n){switch(n.label){case 0:return e._currentStepNumber=t,e._introItems===void 0?[3,2]:[4,kf(e)];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function kf(e){return Wn(this,void 0,void 0,function(){var t,n,r;return $n(this,function(a){switch(a.label){case 0:if(e._direction="forward",e._currentStepNumber!==void 0)for(t=0;t<e._introItems.length;t++)e._introItems[t].step===e._currentStepNumber&&(e._currentStep=t-1,e._currentStepNumber=void 0);return e._currentStep===-1?e._currentStep=0:++e._currentStep,n=e._introItems[e._currentStep],r=!0,lr(e._introBeforeChangeCallback)?[4,e._introBeforeChangeCallback.call(e,n&&n.element,e._currentStep,e._direction)]:[3,2];case 1:r=a.sent(),a.label=2;case 2:return r===!1?(--e._currentStep,[2,!1]):e._introItems.length<=e._currentStep?lr(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"end")]:[3,4]:[3,6];case 3:a.sent(),a.label=4;case 4:return[4,Nf(e,e._targetElement)];case 5:return a.sent(),[2,!1];case 6:return[4,qO(e,n)];case 7:return a.sent(),[2,!0]}})})}function ub(e){return Wn(this,void 0,void 0,function(){var t,n;return $n(this,function(r){switch(r.label){case 0:return e._direction="backward",e._currentStep<=0?[2,!1]:(--e._currentStep,t=e._introItems[e._currentStep],n=!0,lr(e._introBeforeChangeCallback)?[4,e._introBeforeChangeCallback.call(e,t&&t.element,e._currentStep,e._direction)]:[3,2]);case 1:n=r.sent(),r.label=2;case 2:return n===!1?(++e._currentStep,[2,!1]):[4,qO(e,t)];case 3:return r.sent(),[2,!0]}})})}function GO(e,t){return Wn(this,void 0,void 0,function(){var n,r;return $n(this,function(a){switch(a.label){case 0:return(n=t.code===void 0?t.which:t.code)===null&&(n=t.charCode===null?t.keyCode:t.charCode),n!=="Escape"&&n!==27||e._options.exitOnEsc!==!0?[3,2]:[4,Nf(e,e._targetElement)];case 1:return a.sent(),[3,16];case 2:return n!=="ArrowLeft"&&n!==37?[3,4]:[4,ub(e)];case 3:return a.sent(),[3,16];case 4:return n!=="ArrowRight"&&n!==39?[3,6]:[4,kf(e)];case 5:return a.sent(),[3,16];case 6:return n!=="Enter"&&n!=="NumpadEnter"&&n!==13?[3,16]:(r=t.target||t.srcElement)&&r.className.match("introjs-prevbutton")?[4,ub(e)]:[3,8];case 7:return a.sent(),[3,15];case 8:return r&&r.className.match("introjs-skipbutton")?e._introItems.length-1===e._currentStep&&lr(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"skip")]:[3,10]:[3,12];case 9:a.sent(),a.label=10;case 10:return[4,Nf(e,e._targetElement)];case 11:return a.sent(),[3,15];case 12:return r&&r.getAttribute("data-step-number")?(r.click(),[3,15]):[3,13];case 13:return[4,kf(e)];case 14:a.sent(),a.label=15;case 15:t.preventDefault?t.preventDefault():t.returnValue=!1,a.label=16;case 16:return[2]}})})}function eC(e){if(e===null||sb(e)!=="object"||"nodeType"in e)return e;var t={};for(var n in e)"jQuery"in window&&e[n]instanceof window.jQuery?t[n]=e[n]:t[n]=eC(e[n]);return t}function um(e){var t=document.querySelector(".introjs-hints");return t?Array.from(t.querySelectorAll(e)):[]}function tC(e,t){return Wn(this,void 0,void 0,function(){var n;return $n(this,function(r){switch(r.label){case 0:return n=um('.introjs-hint[data-step="'.concat(t,'"]'))[0],E1(),n&&ql(n,"introjs-hidehint"),lr(e._hintCloseCallback)?[4,e._hintCloseCallback.call(e,t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}function Bxe(e){return Wn(this,void 0,void 0,function(){var t,n,r,a,o;return $n(this,function(i){switch(i.label){case 0:t=um(".introjs-hint"),n=0,r=t,i.label=1;case 1:return n<r.length?(a=r[n],(o=a.getAttribute("data-step"))?[4,tC(e,parseInt(o,10))]:[3,3]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function Hxe(e){return Wn(this,void 0,void 0,function(){var t,n,r,a,o;return $n(this,function(i){switch(i.label){case 0:if(!(t=um(".introjs-hint"))||!t.length)return[3,1];for(n=0,r=t;n<r.length;n++)a=r[n],(o=a.getAttribute("data-step"))&&JO(parseInt(o,10));return[3,3];case 1:return[4,XO(e,e._targetElement)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function JO(e){var t=um('.introjs-hint[data-step="'.concat(e,'"]'))[0];t&&XE(t,/introjs-hidehint/g)}function yN(e){var t=um('.introjs-hint[data-step="'.concat(e,'"]'))[0];t&&t.parentNode&&t.parentNode.removeChild(t)}function Uxe(e){return Wn(this,void 0,void 0,function(){var t,n,r,a,o,i,l;return $n(this,function(c){switch(c.label){case 0:for((t=document.querySelector(".introjs-hints"))===null&&(t=Mn("div",{className:"introjs-hints"})),n=function(y){return function(w){var S=w||window.event;S&&S.stopPropagation&&S.stopPropagation(),S&&S.cancelBubble!==null&&(S.cancelBubble=!0),QO(e,y)}},r=0;r<e._hintItems.length;r++){if(a=e._hintItems[r],document.querySelector('.introjs-hint[data-step="'.concat(r,'"]')))return[2];qg(o=Mn("a",{className:"introjs-hint"})),o.onclick=n(r),a.hintAnimation||ql(o,"introjs-hint-no-anim"),I1(a.element)&&ql(o,"introjs-fixedhint"),i=Mn("div",{className:"introjs-hint-dot"}),l=Mn("div",{className:"introjs-hint-pulse"}),o.appendChild(i),o.appendChild(l),o.setAttribute("data-step",r.toString()),a.hintTargetElement=a.element,a.element=o,KO(a.hintPosition,o,a.hintTargetElement),t.appendChild(o)}return document.body.appendChild(t),lr(e._hintsAddedCallback)?[4,e._hintsAddedCallback.call(e)]:[3,2];case 1:c.sent(),c.label=2;case 2:return e._options.hintAutoRefreshInterval>=0&&(e._hintsAutoRefreshFunction=(f=function(){return C1(e)},h=e._options.hintAutoRefreshInterval,function(){for(var y=[],w=0;w<arguments.length;w++)y[w]=arguments[w];window.clearTimeout(g),g=window.setTimeout(function(){f(y)},h)}),Ql.on(window,"scroll",e._hintsAutoRefreshFunction,e,!0)),[2]}var f,h,g})})}function KO(e,t,n){if(n!==void 0){var r=Op(n),a=20,o=20;switch(e){default:case"top-left":t.style.left="".concat(r.left,"px"),t.style.top="".concat(r.top,"px");break;case"top-right":t.style.left="".concat(r.left+r.width-a,"px"),t.style.top="".concat(r.top,"px");break;case"bottom-left":t.style.left="".concat(r.left,"px"),t.style.top="".concat(r.top+r.height-o,"px");break;case"bottom-right":t.style.left="".concat(r.left+r.width-a,"px"),t.style.top="".concat(r.top+r.height-o,"px");break;case"middle-left":t.style.left="".concat(r.left,"px"),t.style.top="".concat(r.top+(r.height-o)/2,"px");break;case"middle-right":t.style.left="".concat(r.left+r.width-a,"px"),t.style.top="".concat(r.top+(r.height-o)/2,"px");break;case"middle-middle":t.style.left="".concat(r.left+(r.width-a)/2,"px"),t.style.top="".concat(r.top+(r.height-o)/2,"px");break;case"bottom-middle":t.style.left="".concat(r.left+(r.width-a)/2,"px"),t.style.top="".concat(r.top+r.height-o,"px");break;case"top-middle":t.style.left="".concat(r.left+(r.width-a)/2,"px"),t.style.top="".concat(r.top,"px")}}}function QO(e,t){return Wn(this,void 0,void 0,function(){var n,r,a,o,i,l,c,f,h,g,y;return $n(this,function(w){switch(w.label){case 0:return n=document.querySelector('.introjs-hint[data-step="'.concat(t,'"]')),r=e._hintItems[t],lr(e._hintClickCallback)?[4,e._hintClickCallback.call(e,n,r,t)]:[3,2];case 1:w.sent(),w.label=2;case 2:return(a=E1())!==void 0&&parseInt(a,10)===t||(o=Mn("div",{className:"introjs-tooltip"}),i=Mn("div"),l=Mn("div"),c=Mn("div"),o.onclick=function(S){S.stopPropagation?S.stopPropagation():S.cancelBubble=!0},i.className="introjs-tooltiptext",(f=Mn("p")).innerHTML=r.hint||"",i.appendChild(f),e._options.hintShowButton&&((h=Mn("a")).className=e._options.buttonClass,h.setAttribute("role","button"),h.innerHTML=e._options.hintButtonLabel,h.onclick=function(){return tC(e,t)},i.appendChild(h)),l.className="introjs-arrow",o.appendChild(l),o.appendChild(i),g=n.getAttribute("data-step")||"",e._currentStep=parseInt(g,10),y=e._hintItems[e._currentStep],c.className="introjs-tooltipReferenceLayer introjs-hintReference",c.setAttribute("data-step",g),Hu(e,y,c),c.appendChild(o),document.body.appendChild(c),lb(e,y,o,l,!0)),[2]}})})}function E1(){var e=document.querySelector(".introjs-hintReference");if(e&&e.parentNode){var t=e.getAttribute("data-step");return t?(e.parentNode.removeChild(e),t):void 0}}function XO(e,t){return Wn(this,void 0,void 0,function(){var n,r,a,o,i,l,c,f,h,g;return $n(this,function(y){switch(y.label){case 0:if(e._hintItems=[],e._options.hints&&e._options.hints.length>0)for(n=0,r=e._options.hints;n<r.length;n++)a=r[n],typeof(o=eC(a)).element=="string"&&(o.element=document.querySelector(o.element)),o.hintPosition=o.hintPosition||e._options.hintPosition,o.hintAnimation=o.hintAnimation||e._options.hintAnimation,o.element!==null&&e._hintItems.push(o);else{if(!(i=Array.from(t.querySelectorAll("*[data-hint]")))||!i.length)return[2,!1];for(l=0,c=i;l<c.length;l++)f=c[l],h=f.getAttribute("data-hint-animation"),g=e._options.hintAnimation,h&&(g=h==="true"),e._hintItems.push({element:f,hint:f.getAttribute("data-hint")||"",hintPosition:f.getAttribute("data-hint-position")||e._options.hintPosition,hintAnimation:g,tooltipClass:f.getAttribute("data-tooltip-class")||void 0,position:f.getAttribute("data-position")||e._options.tooltipPosition})}return[4,Uxe(e)];case 1:return y.sent(),Ql.on(document,"click",E1,e,!1),Ql.on(window,"resize",C1,e,!0),[2,!0]}})})}function C1(e){for(var t=0,n=e._hintItems;t<n.length;t++){var r=n[t],a=r.hintTargetElement;KO(r.hintPosition,r.element,a)}}function eP(e,t){var n=Array.from(t.querySelectorAll("*[data-intro]")),r=[];if(e._options.steps&&e._options.steps.length)for(var a=0,o=e._options.steps;a<o.length;a++){var i=eC(y=o[a]);if(i.step=r.length+1,i.title=i.title||"",typeof i.element=="string"&&(i.element=document.querySelector(i.element)||void 0),i.element===void 0||i.element===null){var l=document.querySelector(".introjsFloatingElement");l===null&&(l=Mn("div",{className:"introjsFloatingElement"}),document.body.appendChild(l)),i.element=l,i.position="floating"}i.position=i.position||e._options.tooltipPosition,i.scrollTo=i.scrollTo||e._options.scrollTo,i.disableInteraction===void 0&&(i.disableInteraction=e._options.disableInteraction),i.element!==null&&r.push(i)}else{var c=void 0;if(n.length<1)return[];for(var f=0,h=n;f<h.length;f++){var g=h[f];if((!e._options.group||g.getAttribute("data-intro-group")===e._options.group)&&g.style.display!=="none"){var y=parseInt(g.getAttribute("data-step")||"",10);c=e._options.disableInteraction,g.hasAttribute("data-disable-interaction")&&(c=!!g.getAttribute("data-disable-interaction")),y>0&&(r[y-1]={step:y,element:g,title:g.getAttribute("data-title")||"",intro:g.getAttribute("data-intro")||"",tooltipClass:g.getAttribute("data-tooltip-class")||void 0,highlightClass:g.getAttribute("data-highlight-class")||void 0,position:g.getAttribute("data-position")||e._options.tooltipPosition,scrollTo:g.getAttribute("data-scroll-to")||e._options.scrollTo,disableInteraction:c})}}for(var w=0,S=0,D=n;S<D.length;S++)if(g=D[S],(!e._options.group||g.getAttribute("data-intro-group")===e._options.group)&&g.getAttribute("data-step")===null){for(;r[w]!==void 0;)w++;c=g.hasAttribute("data-disable-interaction")?!!g.getAttribute("data-disable-interaction"):e._options.disableInteraction,r[w]={element:g,title:g.getAttribute("data-title")||"",intro:g.getAttribute("data-intro")||"",step:w+1,tooltipClass:g.getAttribute("data-tooltip-class")||void 0,highlightClass:g.getAttribute("data-highlight-class")||void 0,position:g.getAttribute("data-position")||e._options.tooltipPosition,scrollTo:g.getAttribute("data-scroll-to")||e._options.scrollTo,disableInteraction:c}}}for(var I=[],M=0;M<r.length;M++)r[M]&&I.push(r[M]);return(r=I).sort(function(N,B){return N.step-B.step}),r}function tP(e,t){var n=e._currentStep;if(n!=null&&n!=-1){var r=e._introItems[n],a=document.querySelector(".introjs-tooltipReferenceLayer"),o=document.querySelector(".introjs-helperLayer"),i=document.querySelector(".introjs-disableInteraction");Hu(e,r,o),Hu(e,r,a),Hu(e,r,i),t&&(e._introItems=eP(e,e._targetElement),function(f,h){if(f._options.showBullets){var g=document.querySelector(".introjs-bullets");g&&g.parentNode&&g.parentNode.replaceChild($O(f,h),g)}}(e,r),ZO(a,n,e._introItems.length));var l=document.querySelector(".introjs-arrow"),c=document.querySelector(".introjs-tooltip");return c&&l&&lb(e,e._introItems[n],c,l),C1(e),e}}function nP(e){tP(e)}function Fg(e,t){if(t===void 0&&(t=!1),e&&e.parentElement){var n=e.parentElement;t?(rd(e,{opacity:"0"}),window.setTimeout(function(){try{n.removeChild(e)}catch{}},500)):n.removeChild(e)}}function Nf(e,t,n){return n===void 0&&(n=!1),Wn(this,void 0,void 0,function(){var r,a,o,i;return $n(this,function(l){switch(l.label){case 0:return r=!0,e._introBeforeExitCallback===void 0?[3,2]:[4,e._introBeforeExitCallback.call(e,t)];case 1:r=l.sent(),l.label=2;case 2:if(!n&&r===!1)return[2];if((a=Array.from(t.querySelectorAll(".introjs-overlay")))&&a.length)for(o=0,i=a;o<i.length;o++)Fg(i[o]);return Fg(t.querySelector(".introjs-helperLayer"),!0),Fg(t.querySelector(".introjs-tooltipReferenceLayer")),Fg(t.querySelector(".introjs-disableInteraction")),Fg(document.querySelector(".introjsFloatingElement")),VO(),Ql.off(window,"keydown",GO,e,!0),Ql.off(window,"resize",nP,e,!0),lr(e._introExitCallback)?[4,e._introExitCallback.call(e)]:[3,4];case 3:l.sent(),l.label=4;case 4:return e._currentStep=-1,[2]}})})}function Yxe(e,t){return Wn(this,void 0,void 0,function(){var n;return $n(this,function(r){switch(r.label){case 0:return e.isActive()?lr(e._introStartCallback)?[4,e._introStartCallback.call(e,t)]:[3,2]:[2,!1];case 1:r.sent(),r.label=2;case 2:return(n=eP(e,t)).length===0?[2,!1]:(e._introItems=n,function(a,o){var i=this,l=Mn("div",{className:"introjs-overlay"});rd(l,{top:0,bottom:0,left:0,right:0,position:"fixed"}),o.appendChild(l),a._options.exitOnOverlayClick===!0&&(rd(l,{cursor:"pointer"}),l.onclick=function(){return Wn(i,void 0,void 0,function(){return $n(this,function(c){switch(c.label){case 0:return[4,Nf(a,o)];case 1:return c.sent(),[2]}})})})}(e,t),[4,kf(e)]);case 3:r.sent(),t.addEventListener,e._options.keyboardNavigation&&Ql.on(window,"keydown",GO,e,!0),Ql.on(window,"resize",nP,e,!0),r.label=4;case 4:return[2,!1]}})})}function wN(e,t,n){return e[t]=n,e}var tT=function(){function e(t){this._currentStep=-1,this._introItems=[],this._hintItems=[],this._targetElement=t,this._options={steps:[],hints:[],isActive:!0,nextLabel:"Next",prevLabel:"Back",skipLabel:"√ó",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",group:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,stepNumbersOfLabel:"of",keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,dontShowAgain:!1,dontShowAgainLabel:"Don't show this again",dontShowAgainCookie:"introjs-dontShowAgain",dontShowAgainCookieDays:365,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintShowButton:!0,hintAutoRefreshInterval:10,hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}return e.prototype.isActive=function(){return(!this._options.dontShowAgain||(t=zO(this._options.dontShowAgainCookie))===""||t!=="true")&&this._options.isActive;var t},e.prototype.clone=function(){return new e(this._targetElement)},e.prototype.setOption=function(t,n){return this._options=wN(this._options,t,n),this},e.prototype.setOptions=function(t){return this._options=function(n,r){for(var a=0,o=Object.entries(r);a<o.length;a++){var i=o[a];n=wN(n,i[0],i[1])}return n}(this._options,t),this},e.prototype.start=function(){return Wn(this,void 0,void 0,function(){return $n(this,function(t){switch(t.label){case 0:return[4,Yxe(this,this._targetElement)];case 1:return t.sent(),[2,this]}})})},e.prototype.goToStep=function(t){return Wn(this,void 0,void 0,function(){return $n(this,function(n){switch(n.label){case 0:return[4,Rxe(this,t)];case 1:return n.sent(),[2,this]}})})},e.prototype.addStep=function(t){return this._options.steps||(this._options.steps=[]),this._options.steps.push(t),this},e.prototype.addSteps=function(t){if(!t.length)return this;for(var n=0;n<t.length;n++)this.addStep(t[n]);return this},e.prototype.goToStepNumber=function(t){return Wn(this,void 0,void 0,function(){return $n(this,function(n){switch(n.label){case 0:return[4,_xe(this,t)];case 1:return n.sent(),[2,this]}})})},e.prototype.nextStep=function(){return Wn(this,void 0,void 0,function(){return $n(this,function(t){switch(t.label){case 0:return[4,kf(this)];case 1:return t.sent(),[2,this]}})})},e.prototype.previousStep=function(){return Wn(this,void 0,void 0,function(){return $n(this,function(t){switch(t.label){case 0:return[4,ub(this)];case 1:return t.sent(),[2,this]}})})},e.prototype.currentStep=function(){return this._currentStep},e.prototype.exit=function(t){return Wn(this,void 0,void 0,function(){return $n(this,function(n){switch(n.label){case 0:return[4,Nf(this,this._targetElement,t)];case 1:return n.sent(),[2,this]}})})},e.prototype.refresh=function(t){return tP(this,t),this},e.prototype.setDontShowAgain=function(t){return jxe(this,t),this},e.prototype.onbeforechange=function(t){if(!lr(t))throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},e.prototype.onchange=function(t){if(!lr(t))throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},e.prototype.onafterchange=function(t){if(!lr(t))throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=t,this},e.prototype.oncomplete=function(t){if(!lr(t))throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},e.prototype.onhintsadded=function(t){if(!lr(t))throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=t,this},e.prototype.onhintclick=function(t){if(!lr(t))throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=t,this},e.prototype.onhintclose=function(t){if(!lr(t))throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=t,this},e.prototype.onstart=function(t){if(!lr(t))throw new Error("Provided callback for onstart was not a function.");return this._introStartCallback=t,this},e.prototype.onexit=function(t){if(!lr(t))throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this},e.prototype.onskip=function(t){if(!lr(t))throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=t,this},e.prototype.onbeforeexit=function(t){if(!lr(t))throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=t,this},e.prototype.addHints=function(){return Wn(this,void 0,void 0,function(){return $n(this,function(t){switch(t.label){case 0:return[4,XO(this,this._targetElement)];case 1:return t.sent(),[2,this]}})})},e.prototype.hideHint=function(t){return Wn(this,void 0,void 0,function(){return $n(this,function(n){switch(n.label){case 0:return[4,tC(this,t)];case 1:return n.sent(),[2,this]}})})},e.prototype.hideHints=function(){return Wn(this,void 0,void 0,function(){return $n(this,function(t){switch(t.label){case 0:return[4,Bxe(this)];case 1:return t.sent(),[2,this]}})})},e.prototype.showHint=function(t){return JO(t),this},e.prototype.showHints=function(){return Wn(this,void 0,void 0,function(){return $n(this,function(t){switch(t.label){case 0:return[4,Hxe(this)];case 1:return t.sent(),[2,this]}})})},e.prototype.removeHints=function(){return function(t){for(var n=0,r=um(".introjs-hint");n<r.length;n++){var a=r[n].getAttribute("data-step");a&&yN(parseInt(a,10))}Ql.off(document,"click",E1,t,!1),Ql.off(window,"resize",C1,t,!0),t._hintsAutoRefreshFunction&&Ql.off(window,"scroll",t._hintsAutoRefreshFunction,t,!0)}(this),this},e.prototype.removeHint=function(t){return yN(t),this},e.prototype.showHintDialog=function(t){return Wn(this,void 0,void 0,function(){return $n(this,function(n){switch(n.label){case 0:return[4,QO(this,t)];case 1:return n.sent(),[2,this]}})})},e}(),cb=function e(t){var n;if(sb(t)==="object")n=new tT(t);else if(typeof t=="string"){var r=document.querySelector(t);if(!r)throw new Error("There is no element with given selector.");n=new tT(r)}else n=new tT(document.body);return e.instances[T2(n,"introjs-instance")]=n,n};cb.version="7.2.0",cb.instances={};var rf={},bN;function zxe(){if(bN)return rf;bN=1;var e=P;function t(A){for(var Y="https://reactjs.org/docs/error-decoder.html?invariant="+A,K=1;K<arguments.length;K++)Y+="&args[]="+encodeURIComponent(arguments[K]);return"Minified React error #"+A+"; visit "+Y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=Object.prototype.hasOwnProperty,r=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a={},o={};function i(A){return n.call(o,A)?!0:n.call(a,A)?!1:r.test(A)?o[A]=!0:(a[A]=!0,!1)}function l(A,Y,K,ie,Ne,Ie,Ye){this.acceptsBooleans=Y===2||Y===3||Y===4,this.attributeName=ie,this.attributeNamespace=Ne,this.mustUseProperty=K,this.propertyName=A,this.type=Y,this.sanitizeURL=Ie,this.removeEmptyString=Ye}var c={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(A){c[A]=new l(A,0,!1,A,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(A){var Y=A[0];c[Y]=new l(Y,1,!1,A[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(A){c[A]=new l(A,2,!1,A.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(A){c[A]=new l(A,2,!1,A,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(A){c[A]=new l(A,3,!1,A.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(A){c[A]=new l(A,3,!0,A,null,!1,!1)}),["capture","download"].forEach(function(A){c[A]=new l(A,4,!1,A,null,!1,!1)}),["cols","rows","size","span"].forEach(function(A){c[A]=new l(A,6,!1,A,null,!1,!1)}),["rowSpan","start"].forEach(function(A){c[A]=new l(A,5,!1,A.toLowerCase(),null,!1,!1)});var f=/[\-:]([a-z])/g;function h(A){return A[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(A){var Y=A.replace(f,h);c[Y]=new l(Y,1,!1,A,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(A){var Y=A.replace(f,h);c[Y]=new l(Y,1,!1,A,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(A){var Y=A.replace(f,h);c[Y]=new l(Y,1,!1,A,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(A){c[A]=new l(A,1,!1,A.toLowerCase(),null,!1,!1)}),c.xlinkHref=new l("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(A){c[A]=new l(A,1,!1,A.toLowerCase(),null,!0,!0)});var g={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y=["Webkit","ms","Moz","O"];Object.keys(g).forEach(function(A){y.forEach(function(Y){Y=Y+A.charAt(0).toUpperCase()+A.substring(1),g[Y]=g[A]})});var w=/["'&<>]/;function S(A){if(typeof A=="boolean"||typeof A=="number")return""+A;A=""+A;var Y=w.exec(A);if(Y){var K="",ie,Ne=0;for(ie=Y.index;ie<A.length;ie++){switch(A.charCodeAt(ie)){case 34:Y="&quot;";break;case 38:Y="&amp;";break;case 39:Y="&#x27;";break;case 60:Y="&lt;";break;case 62:Y="&gt;";break;default:continue}Ne!==ie&&(K+=A.substring(Ne,ie)),Ne=ie+1,K+=Y}A=Ne!==ie?K+A.substring(Ne,ie):K}return A}var D=/([A-Z])/g,I=/^ms-/,M=Array.isArray;function N(A,Y){return{insertionMode:A,selectedValue:Y}}function B(A,Y,K){switch(Y){case"select":return N(1,K.value!=null?K.value:K.defaultValue);case"svg":return N(2,null);case"math":return N(3,null);case"foreignObject":return N(1,null);case"table":return N(4,null);case"thead":case"tbody":case"tfoot":return N(5,null);case"colgroup":return N(7,null);case"tr":return N(6,null)}return 4<=A.insertionMode||A.insertionMode===0?N(1,null):A}var k=new Map;function R(A,Y,K){if(typeof K!="object")throw Error(t(62));Y=!0;for(var ie in K)if(n.call(K,ie)){var Ne=K[ie];if(Ne!=null&&typeof Ne!="boolean"&&Ne!==""){if(ie.indexOf("--")===0){var Ie=S(ie);Ne=S((""+Ne).trim())}else{Ie=ie;var Ye=k.get(Ie);Ye!==void 0||(Ye=S(Ie.replace(D,"-$1").toLowerCase().replace(I,"-ms-")),k.set(Ie,Ye)),Ie=Ye,Ne=typeof Ne=="number"?Ne===0||n.call(g,ie)?""+Ne:Ne+"px":S((""+Ne).trim())}Y?(Y=!1,A.push(' style="',Ie,":",Ne)):A.push(";",Ie,":",Ne)}}Y||A.push('"')}function L(A,Y,K,ie){switch(K){case"style":R(A,Y,ie);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<K.length)||K[0]!=="o"&&K[0]!=="O"||K[1]!=="n"&&K[1]!=="N"){if(Y=c.hasOwnProperty(K)?c[K]:null,Y!==null){switch(typeof ie){case"function":case"symbol":return;case"boolean":if(!Y.acceptsBooleans)return}switch(K=Y.attributeName,Y.type){case 3:ie&&A.push(" ",K,'=""');break;case 4:ie===!0?A.push(" ",K,'=""'):ie!==!1&&A.push(" ",K,'="',S(ie),'"');break;case 5:isNaN(ie)||A.push(" ",K,'="',S(ie),'"');break;case 6:!isNaN(ie)&&1<=ie&&A.push(" ",K,'="',S(ie),'"');break;default:Y.sanitizeURL&&(ie=""+ie),A.push(" ",K,'="',S(ie),'"')}}else if(i(K)){switch(typeof ie){case"function":case"symbol":return;case"boolean":if(Y=K.toLowerCase().slice(0,5),Y!=="data-"&&Y!=="aria-")return}A.push(" ",K,'="',S(ie),'"')}}}function _(A,Y,K){if(Y!=null){if(K!=null)throw Error(t(60));if(typeof Y!="object"||!("__html"in Y))throw Error(t(61));Y=Y.__html,Y!=null&&A.push(""+Y)}}function V(A){var Y="";return e.Children.forEach(A,function(K){K!=null&&(Y+=K)}),Y}function U(A,Y,K,ie){A.push(G(K));var Ne=K=null,Ie;for(Ie in Y)if(n.call(Y,Ie)){var Ye=Y[Ie];if(Ye!=null)switch(Ie){case"children":K=Ye;break;case"dangerouslySetInnerHTML":Ne=Ye;break;default:L(A,ie,Ie,Ye)}}return A.push(">"),_(A,Ne,K),typeof K=="string"?(A.push(S(K)),null):K}var Z=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Q=new Map;function G(A){var Y=Q.get(A);if(Y===void 0){if(!Z.test(A))throw Error(t(65,A));Y="<"+A,Q.set(A,Y)}return Y}function re(A,Y,K,ie,Ne){switch(Y){case"select":A.push(G("select"));var Ie=null,Ye=null;for($t in K)if(n.call(K,$t)){var it=K[$t];if(it!=null)switch($t){case"children":Ie=it;break;case"dangerouslySetInnerHTML":Ye=it;break;case"defaultValue":case"value":break;default:L(A,ie,$t,it)}}return A.push(">"),_(A,Ye,Ie),Ie;case"option":Ye=Ne.selectedValue,A.push(G("option"));var ct=it=null,Ft=null,$t=null;for(Ie in K)if(n.call(K,Ie)){var Pn=K[Ie];if(Pn!=null)switch(Ie){case"children":it=Pn;break;case"selected":Ft=Pn;break;case"dangerouslySetInnerHTML":$t=Pn;break;case"value":ct=Pn;default:L(A,ie,Ie,Pn)}}if(Ye!=null)if(K=ct!==null?""+ct:V(it),M(Ye)){for(ie=0;ie<Ye.length;ie++)if(""+Ye[ie]===K){A.push(' selected=""');break}}else""+Ye===K&&A.push(' selected=""');else Ft&&A.push(' selected=""');return A.push(">"),_(A,$t,it),it;case"textarea":A.push(G("textarea")),$t=Ye=Ie=null;for(it in K)if(n.call(K,it)&&(ct=K[it],ct!=null))switch(it){case"children":$t=ct;break;case"value":Ie=ct;break;case"defaultValue":Ye=ct;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:L(A,ie,it,ct)}if(Ie===null&&Ye!==null&&(Ie=Ye),A.push(">"),$t!=null){if(Ie!=null)throw Error(t(92));if(M($t)&&1<$t.length)throw Error(t(93));Ie=""+$t}return typeof Ie=="string"&&Ie[0]===`
`&&A.push(`
`),Ie!==null&&A.push(S(""+Ie)),null;case"input":A.push(G("input")),ct=$t=it=Ie=null;for(Ye in K)if(n.call(K,Ye)&&(Ft=K[Ye],Ft!=null))switch(Ye){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"defaultChecked":ct=Ft;break;case"defaultValue":it=Ft;break;case"checked":$t=Ft;break;case"value":Ie=Ft;break;default:L(A,ie,Ye,Ft)}return $t!==null?L(A,ie,"checked",$t):ct!==null&&L(A,ie,"checked",ct),Ie!==null?L(A,ie,"value",Ie):it!==null&&L(A,ie,"value",it),A.push("/>"),null;case"menuitem":A.push(G("menuitem"));for(var Ga in K)if(n.call(K,Ga)&&(Ie=K[Ga],Ie!=null))switch(Ga){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:L(A,ie,Ga,Ie)}return A.push(">"),null;case"title":A.push(G("title")),Ie=null;for(Pn in K)if(n.call(K,Pn)&&(Ye=K[Pn],Ye!=null))switch(Pn){case"children":Ie=Ye;break;case"dangerouslySetInnerHTML":throw Error(t(434));default:L(A,ie,Pn,Ye)}return A.push(">"),Ie;case"listing":case"pre":A.push(G(Y)),Ye=Ie=null;for(ct in K)if(n.call(K,ct)&&(it=K[ct],it!=null))switch(ct){case"children":Ie=it;break;case"dangerouslySetInnerHTML":Ye=it;break;default:L(A,ie,ct,it)}if(A.push(">"),Ye!=null){if(Ie!=null)throw Error(t(60));if(typeof Ye!="object"||!("__html"in Ye))throw Error(t(61));K=Ye.__html,K!=null&&(typeof K=="string"&&0<K.length&&K[0]===`
`?A.push(`
`,K):A.push(""+K))}return typeof Ie=="string"&&Ie[0]===`
`&&A.push(`
`),Ie;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":A.push(G(Y));for(var ja in K)if(n.call(K,ja)&&(Ie=K[ja],Ie!=null))switch(ja){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,Y));default:L(A,ie,ja,Ie)}return A.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return U(A,K,Y,ie);case"html":return Ne.insertionMode===0&&A.push("<!DOCTYPE html>"),U(A,K,Y,ie);default:if(Y.indexOf("-")===-1&&typeof K.is!="string")return U(A,K,Y,ie);A.push(G(Y)),Ye=Ie=null;for(Ft in K)if(n.call(K,Ft)&&(it=K[Ft],it!=null))switch(Ft){case"children":Ie=it;break;case"dangerouslySetInnerHTML":Ye=it;break;case"style":R(A,ie,it);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:i(Ft)&&typeof it!="function"&&typeof it!="symbol"&&A.push(" ",Ft,'="',S(it),'"')}return A.push(">"),_(A,Ye,Ie),Ie}}function de(A,Y,K){if(A.push('<!--$?--><template id="'),K===null)throw Error(t(395));return A.push(K),A.push('"></template>')}function fe(A,Y,K,ie){switch(K.insertionMode){case 0:case 1:return A.push('<div hidden id="'),A.push(Y.segmentPrefix),Y=ie.toString(16),A.push(Y),A.push('">');case 2:return A.push('<svg aria-hidden="true" style="display:none" id="'),A.push(Y.segmentPrefix),Y=ie.toString(16),A.push(Y),A.push('">');case 3:return A.push('<math aria-hidden="true" style="display:none" id="'),A.push(Y.segmentPrefix),Y=ie.toString(16),A.push(Y),A.push('">');case 4:return A.push('<table hidden id="'),A.push(Y.segmentPrefix),Y=ie.toString(16),A.push(Y),A.push('">');case 5:return A.push('<table hidden><tbody id="'),A.push(Y.segmentPrefix),Y=ie.toString(16),A.push(Y),A.push('">');case 6:return A.push('<table hidden><tr id="'),A.push(Y.segmentPrefix),Y=ie.toString(16),A.push(Y),A.push('">');case 7:return A.push('<table hidden><colgroup id="'),A.push(Y.segmentPrefix),Y=ie.toString(16),A.push(Y),A.push('">');default:throw Error(t(397))}}function $(A,Y){switch(Y.insertionMode){case 0:case 1:return A.push("</div>");case 2:return A.push("</svg>");case 3:return A.push("</math>");case 4:return A.push("</table>");case 5:return A.push("</tbody></table>");case 6:return A.push("</tr></table>");case 7:return A.push("</colgroup></table>");default:throw Error(t(397))}}var he=/[<\u2028\u2029]/g;function se(A){return JSON.stringify(A).replace(he,function(Y){switch(Y){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function ue(A,Y){return Y=Y===void 0?"":Y,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:Y+"P:",segmentPrefix:Y+"S:",boundaryPrefix:Y+"B:",idPrefix:Y,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:A}}function X(A,Y,K,ie){return K.generateStaticMarkup?(A.push(S(Y)),!1):(Y===""?A=ie:(ie&&A.push("<!-- -->"),A.push(S(Y)),A=!0),A)}var oe=Object.assign,De=Symbol.for("react.element"),je=Symbol.for("react.portal"),Re=Symbol.for("react.fragment"),Fe=Symbol.for("react.strict_mode"),Be=Symbol.for("react.profiler"),Xe=Symbol.for("react.provider"),Ze=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),Ct=Symbol.for("react.suspense"),tn=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),nt=Symbol.for("react.scope"),ht=Symbol.for("react.debug_trace_mode"),St=Symbol.for("react.legacy_hidden"),Tt=Symbol.for("react.default_value"),Gt=Symbol.iterator;function _t(A){if(A==null)return null;if(typeof A=="function")return A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case Re:return"Fragment";case je:return"Portal";case Be:return"Profiler";case Fe:return"StrictMode";case Ct:return"Suspense";case tn:return"SuspenseList"}if(typeof A=="object")switch(A.$$typeof){case Ze:return(A.displayName||"Context")+".Consumer";case Xe:return(A._context.displayName||"Context")+".Provider";case st:var Y=A.render;return A=A.displayName,A||(A=Y.displayName||Y.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case _e:return Y=A.displayName||null,Y!==null?Y:_t(A.type)||"Memo";case et:Y=A._payload,A=A._init;try{return _t(A(Y))}catch{}}return null}var Vt={};function Xt(A,Y){if(A=A.contextTypes,!A)return Vt;var K={},ie;for(ie in A)K[ie]=Y[ie];return K}var dn=null;function en(A,Y){if(A!==Y){A.context._currentValue2=A.parentValue,A=A.parent;var K=Y.parent;if(A===null){if(K!==null)throw Error(t(401))}else{if(K===null)throw Error(t(401));en(A,K)}Y.context._currentValue2=Y.value}}function Zn(A){A.context._currentValue2=A.parentValue,A=A.parent,A!==null&&Zn(A)}function Dn(A){var Y=A.parent;Y!==null&&Dn(Y),A.context._currentValue2=A.value}function Er(A,Y){if(A.context._currentValue2=A.parentValue,A=A.parent,A===null)throw Error(t(402));A.depth===Y.depth?en(A,Y):Er(A,Y)}function pt(A,Y){var K=Y.parent;if(K===null)throw Error(t(402));A.depth===K.depth?en(A,K):pt(A,K),Y.context._currentValue2=Y.value}function Mt(A){var Y=dn;Y!==A&&(Y===null?Dn(A):A===null?Zn(Y):Y.depth===A.depth?en(Y,A):Y.depth>A.depth?Er(Y,A):pt(Y,A),dn=A)}var Jt={isMounted:function(){return!1},enqueueSetState:function(A,Y){A=A._reactInternals,A.queue!==null&&A.queue.push(Y)},enqueueReplaceState:function(A,Y){A=A._reactInternals,A.replace=!0,A.queue=[Y]},enqueueForceUpdate:function(){}};function sn(A,Y,K,ie){var Ne=A.state!==void 0?A.state:null;A.updater=Jt,A.props=K,A.state=Ne;var Ie={queue:[],replace:!1};A._reactInternals=Ie;var Ye=Y.contextType;if(A.context=typeof Ye=="object"&&Ye!==null?Ye._currentValue2:ie,Ye=Y.getDerivedStateFromProps,typeof Ye=="function"&&(Ye=Ye(K,Ne),Ne=Ye==null?Ne:oe({},Ne,Ye),A.state=Ne),typeof Y.getDerivedStateFromProps!="function"&&typeof A.getSnapshotBeforeUpdate!="function"&&(typeof A.UNSAFE_componentWillMount=="function"||typeof A.componentWillMount=="function"))if(Y=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),Y!==A.state&&Jt.enqueueReplaceState(A,A.state,null),Ie.queue!==null&&0<Ie.queue.length)if(Y=Ie.queue,Ye=Ie.replace,Ie.queue=null,Ie.replace=!1,Ye&&Y.length===1)A.state=Y[0];else{for(Ie=Ye?Y[0]:A.state,Ne=!0,Ye=Ye?1:0;Ye<Y.length;Ye++){var it=Y[Ye];it=typeof it=="function"?it.call(A,Ie,K,ie):it,it!=null&&(Ne?(Ne=!1,Ie=oe({},Ie,it)):oe(Ie,it))}A.state=Ie}else Ie.queue=null}var ln={id:1,overflow:""};function vr(A,Y,K){var ie=A.id;A=A.overflow;var Ne=32-fr(ie)-1;ie&=~(1<<Ne),K+=1;var Ie=32-fr(Y)+Ne;if(30<Ie){var Ye=Ne-Ne%5;return Ie=(ie&(1<<Ye)-1).toString(32),ie>>=Ye,Ne-=Ye,{id:1<<32-fr(Y)+Ne|K<<Ne|ie,overflow:Ie+A}}return{id:1<<Ie|K<<Ne|ie,overflow:A}}var fr=Math.clz32?Math.clz32:nr,ha=Math.log,jr=Math.LN2;function nr(A){return A>>>=0,A===0?32:31-(ha(A)/jr|0)|0}function Lr(A,Y){return A===Y&&(A!==0||1/A===1/Y)||A!==A&&Y!==Y}var te=typeof Object.is=="function"?Object.is:Lr,me=null,xe=null,Ue=null,He=null,Qe=!1,tt=!1,kt=0,Ut=null,On=0;function yn(){if(me===null)throw Error(t(321));return me}function Cr(){if(0<On)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function Jn(){return He===null?Ue===null?(Qe=!1,Ue=He=Cr()):(Qe=!0,He=Ue):He.next===null?(Qe=!1,He=He.next=Cr()):(Qe=!0,He=He.next),He}function yr(){xe=me=null,tt=!1,Ue=null,On=0,He=Ut=null}function ta(A,Y){return typeof Y=="function"?Y(A):Y}function Pi(A,Y,K){if(me=yn(),He=Jn(),Qe){var ie=He.queue;if(Y=ie.dispatch,Ut!==null&&(K=Ut.get(ie),K!==void 0)){Ut.delete(ie),ie=He.memoizedState;do ie=A(ie,K.action),K=K.next;while(K!==null);return He.memoizedState=ie,[ie,Y]}return[He.memoizedState,Y]}return A=A===ta?typeof Y=="function"?Y():Y:K!==void 0?K(Y):Y,He.memoizedState=A,A=He.queue={last:null,dispatch:null},A=A.dispatch=Aa.bind(null,me,A),[He.memoizedState,A]}function Nn(A,Y){if(me=yn(),He=Jn(),Y=Y===void 0?null:Y,He!==null){var K=He.memoizedState;if(K!==null&&Y!==null){var ie=K[1];e:if(ie===null)ie=!1;else{for(var Ne=0;Ne<ie.length&&Ne<Y.length;Ne++)if(!te(Y[Ne],ie[Ne])){ie=!1;break e}ie=!0}if(ie)return K[0]}}return A=A(),He.memoizedState=[A,Y],A}function Aa(A,Y,K){if(25<=On)throw Error(t(301));if(A===me)if(tt=!0,A={action:K,next:null},Ut===null&&(Ut=new Map),K=Ut.get(Y),K===void 0)Ut.set(Y,A);else{for(Y=K;Y.next!==null;)Y=Y.next;Y.next=A}}function Fa(){throw Error(t(394))}function Zr(){}var fo={readContext:function(A){return A._currentValue2},useContext:function(A){return yn(),A._currentValue2},useMemo:Nn,useReducer:Pi,useRef:function(A){me=yn(),He=Jn();var Y=He.memoizedState;return Y===null?(A={current:A},He.memoizedState=A):Y},useState:function(A){return Pi(ta,A)},useInsertionEffect:Zr,useLayoutEffect:function(){},useCallback:function(A,Y){return Nn(function(){return A},Y)},useImperativeHandle:Zr,useEffect:Zr,useDebugValue:Zr,useDeferredValue:function(A){return yn(),A},useTransition:function(){return yn(),[!1,Fa]},useId:function(){var A=xe.treeContext,Y=A.overflow;A=A.id,A=(A&~(1<<32-fr(A)-1)).toString(32)+Y;var K=Oa;if(K===null)throw Error(t(404));return Y=kt++,A=":"+K.idPrefix+"R"+A,0<Y&&(A+="H"+Y.toString(32)),A+":"},useMutableSource:function(A,Y){return yn(),Y(A._source)},useSyncExternalStore:function(A,Y,K){if(K===void 0)throw Error(t(407));return K()}},Oa=null,iu=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function si(A){return console.error(A),null}function li(){}function nc(A,Y,K,ie,Ne,Ie,Ye,it,ct){var Ft=[],$t=new Set;return Y={destination:null,responseState:Y,progressiveChunkSize:ie===void 0?12800:ie,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:$t,pingedTasks:Ft,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:Ne===void 0?si:Ne,onAllReady:Ie===void 0?li:Ie,onShellReady:Ye===void 0?li:Ye,onShellError:it===void 0?li:it,onFatalError:ct===void 0?li:ct},K=us(Y,0,null,K,!1,!1),K.parentFlushed=!0,A=su(Y,A,null,K,$t,Vt,null,ln),Ft.push(A),Y}function su(A,Y,K,ie,Ne,Ie,Ye,it){A.allPendingTasks++,K===null?A.pendingRootTasks++:K.pendingTasks++;var ct={node:Y,ping:function(){var Ft=A.pingedTasks;Ft.push(ct),Ft.length===1&&Pa(A)},blockedBoundary:K,blockedSegment:ie,abortSet:Ne,legacyContext:Ie,context:Ye,treeContext:it};return Ne.add(ct),ct}function us(A,Y,K,ie,Ne,Ie){return{status:0,id:-1,index:Y,parentFlushed:!1,chunks:[],children:[],formatContext:ie,boundary:K,lastPushedText:Ne,textEmbedded:Ie}}function ji(A,Y){if(A=A.onError(Y),A!=null&&typeof A!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof A+'" instead');return A}function cs(A,Y){var K=A.onShellError;K(Y),K=A.onFatalError,K(Y),A.destination!==null?(A.status=2,A.destination.destroy(Y)):(A.status=1,A.fatalError=Y)}function lu(A,Y,K,ie,Ne){for(me={},xe=Y,kt=0,A=K(ie,Ne);tt;)tt=!1,kt=0,On+=1,He=null,A=K(ie,Ne);return yr(),A}function ds(A,Y,K,ie){var Ne=K.render(),Ie=ie.childContextTypes;if(Ie!=null){var Ye=Y.legacyContext;if(typeof K.getChildContext!="function")ie=Ye;else{K=K.getChildContext();for(var it in K)if(!(it in Ie))throw Error(t(108,_t(ie)||"Unknown",it));ie=oe({},Ye,K)}Y.legacyContext=ie,na(A,Y,Ne),Y.legacyContext=Ye}else na(A,Y,Ne)}function rc(A,Y){if(A&&A.defaultProps){Y=oe({},Y),A=A.defaultProps;for(var K in A)Y[K]===void 0&&(Y[K]=A[K]);return Y}return Y}function An(A,Y,K,ie,Ne){if(typeof K=="function")if(K.prototype&&K.prototype.isReactComponent){Ne=Xt(K,Y.legacyContext);var Ie=K.contextType;Ie=new K(ie,typeof Ie=="object"&&Ie!==null?Ie._currentValue2:Ne),sn(Ie,K,ie,Ne),ds(A,Y,Ie,K)}else{Ie=Xt(K,Y.legacyContext),Ne=lu(A,Y,K,ie,Ie);var Ye=kt!==0;if(typeof Ne=="object"&&Ne!==null&&typeof Ne.render=="function"&&Ne.$$typeof===void 0)sn(Ne,K,ie,Ie),ds(A,Y,Ne,K);else if(Ye){ie=Y.treeContext,Y.treeContext=vr(ie,1,0);try{na(A,Y,Ne)}finally{Y.treeContext=ie}}else na(A,Y,Ne)}else if(typeof K=="string"){switch(Ne=Y.blockedSegment,Ie=re(Ne.chunks,K,ie,A.responseState,Ne.formatContext),Ne.lastPushedText=!1,Ye=Ne.formatContext,Ne.formatContext=B(Ye,K,ie),Gs(A,Y,Ie),Ne.formatContext=Ye,K){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:Ne.chunks.push("</",K,">")}Ne.lastPushedText=!1}else{switch(K){case St:case ht:case Fe:case Be:case Re:na(A,Y,ie.children);return;case tn:na(A,Y,ie.children);return;case nt:throw Error(t(343));case Ct:e:{K=Y.blockedBoundary,Ne=Y.blockedSegment,Ie=ie.fallback,ie=ie.children,Ye=new Set;var it={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:Ye,errorDigest:null},ct=us(A,Ne.chunks.length,it,Ne.formatContext,!1,!1);Ne.children.push(ct),Ne.lastPushedText=!1;var Ft=us(A,0,null,Ne.formatContext,!1,!1);Ft.parentFlushed=!0,Y.blockedBoundary=it,Y.blockedSegment=Ft;try{if(Gs(A,Y,ie),A.responseState.generateStaticMarkup||Ft.lastPushedText&&Ft.textEmbedded&&Ft.chunks.push("<!-- -->"),Ft.status=1,Fo(it,Ft),it.pendingTasks===0)break e}catch($t){Ft.status=4,it.forceClientRender=!0,it.errorDigest=ji(A,$t)}finally{Y.blockedBoundary=K,Y.blockedSegment=Ne}Y=su(A,Ie,K,ct,Ye,Y.legacyContext,Y.context,Y.treeContext),A.pingedTasks.push(Y)}return}if(typeof K=="object"&&K!==null)switch(K.$$typeof){case st:if(ie=lu(A,Y,K.render,ie,Ne),kt!==0){K=Y.treeContext,Y.treeContext=vr(K,1,0);try{na(A,Y,ie)}finally{Y.treeContext=K}}else na(A,Y,ie);return;case _e:K=K.type,ie=rc(K,ie),An(A,Y,K,ie,Ne);return;case Xe:if(Ne=ie.children,K=K._context,ie=ie.value,Ie=K._currentValue2,K._currentValue2=ie,Ye=dn,dn=ie={parent:Ye,depth:Ye===null?0:Ye.depth+1,context:K,parentValue:Ie,value:ie},Y.context=ie,na(A,Y,Ne),A=dn,A===null)throw Error(t(403));ie=A.parentValue,A.context._currentValue2=ie===Tt?A.context._defaultValue:ie,A=dn=A.parent,Y.context=A;return;case Ze:ie=ie.children,ie=ie(K._currentValue2),na(A,Y,ie);return;case et:Ne=K._init,K=Ne(K._payload),ie=rc(K,ie),An(A,Y,K,ie,void 0);return}throw Error(t(130,K==null?K:typeof K,""))}}function na(A,Y,K){if(Y.node=K,typeof K=="object"&&K!==null){switch(K.$$typeof){case De:An(A,Y,K.type,K.props,K.ref);return;case je:throw Error(t(257));case et:var ie=K._init;K=ie(K._payload),na(A,Y,K);return}if(M(K)){qs(A,Y,K);return}if(K===null||typeof K!="object"?ie=null:(ie=Gt&&K[Gt]||K["@@iterator"],ie=typeof ie=="function"?ie:null),ie&&(ie=ie.call(K))){if(K=ie.next(),!K.done){var Ne=[];do Ne.push(K.value),K=ie.next();while(!K.done);qs(A,Y,Ne)}return}throw A=Object.prototype.toString.call(K),Error(t(31,A==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":A))}typeof K=="string"?(ie=Y.blockedSegment,ie.lastPushedText=X(Y.blockedSegment.chunks,K,A.responseState,ie.lastPushedText)):typeof K=="number"&&(ie=Y.blockedSegment,ie.lastPushedText=X(Y.blockedSegment.chunks,""+K,A.responseState,ie.lastPushedText))}function qs(A,Y,K){for(var ie=K.length,Ne=0;Ne<ie;Ne++){var Ie=Y.treeContext;Y.treeContext=vr(Ie,ie,Ne);try{Gs(A,Y,K[Ne])}finally{Y.treeContext=Ie}}}function Gs(A,Y,K){var ie=Y.blockedSegment.formatContext,Ne=Y.legacyContext,Ie=Y.context;try{return na(A,Y,K)}catch(ct){if(yr(),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"){K=ct;var Ye=Y.blockedSegment,it=us(A,Ye.chunks.length,null,Ye.formatContext,Ye.lastPushedText,!0);Ye.children.push(it),Ye.lastPushedText=!1,A=su(A,Y.node,Y.blockedBoundary,it,Y.abortSet,Y.legacyContext,Y.context,Y.treeContext).ping,K.then(A,A),Y.blockedSegment.formatContext=ie,Y.legacyContext=Ne,Y.context=Ie,Mt(Ie)}else throw Y.blockedSegment.formatContext=ie,Y.legacyContext=Ne,Y.context=Ie,Mt(Ie),ct}}function ui(A){var Y=A.blockedBoundary;A=A.blockedSegment,A.status=3,ho(this,Y,A)}function uu(A,Y,K){var ie=A.blockedBoundary;A.blockedSegment.status=3,ie===null?(Y.allPendingTasks--,Y.status!==2&&(Y.status=2,Y.destination!==null&&Y.destination.push(null))):(ie.pendingTasks--,ie.forceClientRender||(ie.forceClientRender=!0,A=K===void 0?Error(t(432)):K,ie.errorDigest=Y.onError(A),ie.parentFlushed&&Y.clientRenderedBoundaries.push(ie)),ie.fallbackAbortableTasks.forEach(function(Ne){return uu(Ne,Y,K)}),ie.fallbackAbortableTasks.clear(),Y.allPendingTasks--,Y.allPendingTasks===0&&(ie=Y.onAllReady,ie()))}function Fo(A,Y){if(Y.chunks.length===0&&Y.children.length===1&&Y.children[0].boundary===null){var K=Y.children[0];K.id=Y.id,K.parentFlushed=!0,K.status===1&&Fo(A,K)}else A.completedSegments.push(Y)}function ho(A,Y,K){if(Y===null){if(K.parentFlushed){if(A.completedRootSegment!==null)throw Error(t(389));A.completedRootSegment=K}A.pendingRootTasks--,A.pendingRootTasks===0&&(A.onShellError=li,Y=A.onShellReady,Y())}else Y.pendingTasks--,Y.forceClientRender||(Y.pendingTasks===0?(K.parentFlushed&&K.status===1&&Fo(Y,K),Y.parentFlushed&&A.completedBoundaries.push(Y),Y.fallbackAbortableTasks.forEach(ui,A),Y.fallbackAbortableTasks.clear()):K.parentFlushed&&K.status===1&&(Fo(Y,K),Y.completedSegments.length===1&&Y.parentFlushed&&A.partialBoundaries.push(Y)));A.allPendingTasks--,A.allPendingTasks===0&&(A=A.onAllReady,A())}function Pa(A){if(A.status!==2){var Y=dn,K=iu.current;iu.current=fo;var ie=Oa;Oa=A.responseState;try{var Ne=A.pingedTasks,Ie;for(Ie=0;Ie<Ne.length;Ie++){var Ye=Ne[Ie],it=A,ct=Ye.blockedSegment;if(ct.status===0){Mt(Ye.context);try{na(it,Ye,Ye.node),it.responseState.generateStaticMarkup||ct.lastPushedText&&ct.textEmbedded&&ct.chunks.push("<!-- -->"),Ye.abortSet.delete(Ye),ct.status=1,ho(it,Ye.blockedBoundary,ct)}catch(ra){if(yr(),typeof ra=="object"&&ra!==null&&typeof ra.then=="function"){var Ft=Ye.ping;ra.then(Ft,Ft)}else{Ye.abortSet.delete(Ye),ct.status=4;var $t=Ye.blockedBoundary,Pn=ra,Ga=ji(it,Pn);if($t===null?cs(it,Pn):($t.pendingTasks--,$t.forceClientRender||($t.forceClientRender=!0,$t.errorDigest=Ga,$t.parentFlushed&&it.clientRenderedBoundaries.push($t))),it.allPendingTasks--,it.allPendingTasks===0){var ja=it.onAllReady;ja()}}}}}Ne.splice(0,Ie),A.destination!==null&&po(A,A.destination)}catch(ra){ji(A,ra),cs(A,ra)}finally{Oa=ie,iu.current=K,K===fo&&Mt(Y)}}}function fs(A,Y,K){switch(K.parentFlushed=!0,K.status){case 0:var ie=K.id=A.nextSegmentId++;return K.lastPushedText=!1,K.textEmbedded=!1,A=A.responseState,Y.push('<template id="'),Y.push(A.placeholderPrefix),A=ie.toString(16),Y.push(A),Y.push('"></template>');case 1:K.status=2;var Ne=!0;ie=K.chunks;var Ie=0;K=K.children;for(var Ye=0;Ye<K.length;Ye++){for(Ne=K[Ye];Ie<Ne.index;Ie++)Y.push(ie[Ie]);Ne=Rr(A,Y,Ne)}for(;Ie<ie.length-1;Ie++)Y.push(ie[Ie]);return Ie<ie.length&&(Ne=Y.push(ie[Ie])),Ne;default:throw Error(t(390))}}function Rr(A,Y,K){var ie=K.boundary;if(ie===null)return fs(A,Y,K);if(ie.parentFlushed=!0,ie.forceClientRender)return A.responseState.generateStaticMarkup||(ie=ie.errorDigest,Y.push("<!--$!-->"),Y.push("<template"),ie&&(Y.push(' data-dgst="'),ie=S(ie),Y.push(ie),Y.push('"')),Y.push("></template>")),fs(A,Y,K),A=A.responseState.generateStaticMarkup?!0:Y.push("<!--/$-->"),A;if(0<ie.pendingTasks){ie.rootSegmentID=A.nextSegmentId++,0<ie.completedSegments.length&&A.partialBoundaries.push(ie);var Ne=A.responseState,Ie=Ne.nextSuspenseID++;return Ne=Ne.boundaryPrefix+Ie.toString(16),ie=ie.id=Ne,de(Y,A.responseState,ie),fs(A,Y,K),Y.push("<!--/$-->")}if(ie.byteSize>A.progressiveChunkSize)return ie.rootSegmentID=A.nextSegmentId++,A.completedBoundaries.push(ie),de(Y,A.responseState,ie.id),fs(A,Y,K),Y.push("<!--/$-->");if(A.responseState.generateStaticMarkup||Y.push("<!--$-->"),K=ie.completedSegments,K.length!==1)throw Error(t(391));return Rr(A,Y,K[0]),A=A.responseState.generateStaticMarkup?!0:Y.push("<!--/$-->"),A}function Js(A,Y,K){return fe(Y,A.responseState,K.formatContext,K.id),Rr(A,Y,K),$(Y,K.formatContext)}function Ks(A,Y,K){for(var ie=K.completedSegments,Ne=0;Ne<ie.length;Ne++)Qs(A,Y,K,ie[Ne]);if(ie.length=0,A=A.responseState,ie=K.id,K=K.rootSegmentID,Y.push(A.startInlineScript),A.sentCompleteBoundaryFunction?Y.push('$RC("'):(A.sentCompleteBoundaryFunction=!0,Y.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),ie===null)throw Error(t(395));return K=K.toString(16),Y.push(ie),Y.push('","'),Y.push(A.segmentPrefix),Y.push(K),Y.push('")<\/script>')}function Qs(A,Y,K,ie){if(ie.status===2)return!0;var Ne=ie.id;if(Ne===-1){if((ie.id=K.rootSegmentID)===-1)throw Error(t(392));return Js(A,Y,ie)}return Js(A,Y,ie),A=A.responseState,Y.push(A.startInlineScript),A.sentCompleteSegmentFunction?Y.push('$RS("'):(A.sentCompleteSegmentFunction=!0,Y.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),Y.push(A.segmentPrefix),Ne=Ne.toString(16),Y.push(Ne),Y.push('","'),Y.push(A.placeholderPrefix),Y.push(Ne),Y.push('")<\/script>')}function po(A,Y){try{var K=A.completedRootSegment;if(K!==null&&A.pendingRootTasks===0){Rr(A,Y,K),A.completedRootSegment=null;var ie=A.responseState.bootstrapChunks;for(K=0;K<ie.length-1;K++)Y.push(ie[K]);K<ie.length&&Y.push(ie[K])}var Ne=A.clientRenderedBoundaries,Ie;for(Ie=0;Ie<Ne.length;Ie++){var Ye=Ne[Ie];ie=Y;var it=A.responseState,ct=Ye.id,Ft=Ye.errorDigest,$t=Ye.errorMessage,Pn=Ye.errorComponentStack;if(ie.push(it.startInlineScript),it.sentClientRenderFunction?ie.push('$RX("'):(it.sentClientRenderFunction=!0,ie.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),ct===null)throw Error(t(395));if(ie.push(ct),ie.push('"'),Ft||$t||Pn){ie.push(",");var Ga=se(Ft||"");ie.push(Ga)}if($t||Pn){ie.push(",");var ja=se($t||"");ie.push(ja)}if(Pn){ie.push(",");var ra=se(Pn);ie.push(ra)}if(!ie.push(")<\/script>")){A.destination=null,Ie++,Ne.splice(0,Ie);return}}Ne.splice(0,Ie);var Oo=A.completedBoundaries;for(Ie=0;Ie<Oo.length;Ie++)if(!Ks(A,Y,Oo[Ie])){A.destination=null,Ie++,Oo.splice(0,Ie);return}Oo.splice(0,Ie);var La=A.partialBoundaries;for(Ie=0;Ie<La.length;Ie++){var Ja=La[Ie];e:{Ne=A,Ye=Y;var pa=Ja.completedSegments;for(it=0;it<pa.length;it++)if(!Qs(Ne,Ye,Ja,pa[it])){it++,pa.splice(0,it);var go=!1;break e}pa.splice(0,it),go=!0}if(!go){A.destination=null,Ie++,La.splice(0,Ie);return}}La.splice(0,Ie);var Ra=A.completedBoundaries;for(Ie=0;Ie<Ra.length;Ie++)if(!Ks(A,Y,Ra[Ie])){A.destination=null,Ie++,Ra.splice(0,Ie);return}Ra.splice(0,Ie)}finally{A.allPendingTasks===0&&A.pingedTasks.length===0&&A.clientRenderedBoundaries.length===0&&A.completedBoundaries.length===0&&Y.push(null)}}function hs(A,Y){try{var K=A.abortableTasks;K.forEach(function(ie){return uu(ie,A,Y)}),K.clear(),A.destination!==null&&po(A,A.destination)}catch(ie){ji(A,ie),cs(A,ie)}}function ci(){}function mo(A,Y,K,ie){var Ne=!1,Ie=null,Ye="",it={push:function(Ft){return Ft!==null&&(Ye+=Ft),!0},destroy:function(Ft){Ne=!0,Ie=Ft}},ct=!1;if(A=nc(A,ue(K,Y?Y.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,ci,void 0,function(){ct=!0},void 0,void 0),Pa(A),hs(A,ie),A.status===1)A.status=2,it.destroy(A.fatalError);else if(A.status!==2&&A.destination===null){A.destination=it;try{po(A,it)}catch(Ft){ji(A,Ft),cs(A,Ft)}}if(Ne)throw Ie;if(!ct)throw Error(t(426));return Ye}return rf.renderToNodeStream=function(){throw Error(t(207))},rf.renderToStaticMarkup=function(A,Y){return mo(A,Y,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},rf.renderToStaticNodeStream=function(){throw Error(t(208))},rf.renderToString=function(A,Y){return mo(A,Y,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},rf.version="18.2.0",rf}var K0={},SN;function Vxe(){if(SN)return K0;SN=1;var e=P;function t(F){for(var H="https://reactjs.org/docs/error-decoder.html?invariant="+F,q=1;q<arguments.length;q++)H+="&args[]="+encodeURIComponent(arguments[q]);return"Minified React error #"+F+"; visit "+H+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=null,r=0;function a(F,H){if(H.length!==0)if(512<H.length)0<r&&(F.enqueue(new Uint8Array(n.buffer,0,r)),n=new Uint8Array(512),r=0),F.enqueue(H);else{var q=n.length-r;q<H.length&&(q===0?F.enqueue(n):(n.set(H.subarray(0,q),r),F.enqueue(n),H=H.subarray(q)),n=new Uint8Array(512),r=0),n.set(H,r),r+=H.length}}function o(F,H){return a(F,H),!0}function i(F){n&&0<r&&(F.enqueue(new Uint8Array(n.buffer,0,r)),n=null,r=0)}var l=new TextEncoder;function c(F){return l.encode(F)}function f(F){return l.encode(F)}function h(F,H){typeof F.error=="function"?F.error(H):F.close()}var g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},S={};function D(F){return g.call(S,F)?!0:g.call(w,F)?!1:y.test(F)?S[F]=!0:(w[F]=!0,!1)}function I(F,H,q,ae,Ae,Ee,Ve){this.acceptsBooleans=H===2||H===3||H===4,this.attributeName=ae,this.attributeNamespace=Ae,this.mustUseProperty=q,this.propertyName=F,this.type=H,this.sanitizeURL=Ee,this.removeEmptyString=Ve}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(F){M[F]=new I(F,0,!1,F,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(F){var H=F[0];M[H]=new I(H,1,!1,F[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(F){M[F]=new I(F,2,!1,F.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(F){M[F]=new I(F,2,!1,F,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(F){M[F]=new I(F,3,!1,F.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(F){M[F]=new I(F,3,!0,F,null,!1,!1)}),["capture","download"].forEach(function(F){M[F]=new I(F,4,!1,F,null,!1,!1)}),["cols","rows","size","span"].forEach(function(F){M[F]=new I(F,6,!1,F,null,!1,!1)}),["rowSpan","start"].forEach(function(F){M[F]=new I(F,5,!1,F.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function B(F){return F[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(F){var H=F.replace(N,B);M[H]=new I(H,1,!1,F,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(F){var H=F.replace(N,B);M[H]=new I(H,1,!1,F,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(F){var H=F.replace(N,B);M[H]=new I(H,1,!1,F,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(F){M[F]=new I(F,1,!1,F.toLowerCase(),null,!1,!1)}),M.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(F){M[F]=new I(F,1,!1,F.toLowerCase(),null,!0,!0)});var k={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},R=["Webkit","ms","Moz","O"];Object.keys(k).forEach(function(F){R.forEach(function(H){H=H+F.charAt(0).toUpperCase()+F.substring(1),k[H]=k[F]})});var L=/["'&<>]/;function _(F){if(typeof F=="boolean"||typeof F=="number")return""+F;F=""+F;var H=L.exec(F);if(H){var q="",ae,Ae=0;for(ae=H.index;ae<F.length;ae++){switch(F.charCodeAt(ae)){case 34:H="&quot;";break;case 38:H="&amp;";break;case 39:H="&#x27;";break;case 60:H="&lt;";break;case 62:H="&gt;";break;default:continue}Ae!==ae&&(q+=F.substring(Ae,ae)),Ae=ae+1,q+=H}F=Ae!==ae?q+F.substring(Ae,ae):q}return F}var V=/([A-Z])/g,U=/^ms-/,Z=Array.isArray,Q=f("<script>"),G=f("<\/script>"),re=f('<script src="'),de=f('<script type="module" src="'),fe=f('" async=""><\/script>'),$=/(<\/|<)(s)(cript)/gi;function he(F,H,q,ae){return H+(q==="s"?"\\u0073":"\\u0053")+ae}function se(F,H,q,ae,Ae){F=F===void 0?"":F,H=H===void 0?Q:f('<script nonce="'+_(H)+'">');var Ee=[];if(q!==void 0&&Ee.push(H,c((""+q).replace($,he)),G),ae!==void 0)for(q=0;q<ae.length;q++)Ee.push(re,c(_(ae[q])),fe);if(Ae!==void 0)for(ae=0;ae<Ae.length;ae++)Ee.push(de,c(_(Ae[ae])),fe);return{bootstrapChunks:Ee,startInlineScript:H,placeholderPrefix:f(F+"P:"),segmentPrefix:f(F+"S:"),boundaryPrefix:F+"B:",idPrefix:F,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function ue(F,H){return{insertionMode:F,selectedValue:H}}function X(F){return ue(F==="http://www.w3.org/2000/svg"?2:F==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function oe(F,H,q){switch(H){case"select":return ue(1,q.value!=null?q.value:q.defaultValue);case"svg":return ue(2,null);case"math":return ue(3,null);case"foreignObject":return ue(1,null);case"table":return ue(4,null);case"thead":case"tbody":case"tfoot":return ue(5,null);case"colgroup":return ue(7,null);case"tr":return ue(6,null)}return 4<=F.insertionMode||F.insertionMode===0?ue(1,null):F}var De=f("<!-- -->");function je(F,H,q,ae){return H===""?ae:(ae&&F.push(De),F.push(c(_(H))),!0)}var Re=new Map,Fe=f(' style="'),Be=f(":"),Xe=f(";");function Ze(F,H,q){if(typeof q!="object")throw Error(t(62));H=!0;for(var ae in q)if(g.call(q,ae)){var Ae=q[ae];if(Ae!=null&&typeof Ae!="boolean"&&Ae!==""){if(ae.indexOf("--")===0){var Ee=c(_(ae));Ae=c(_((""+Ae).trim()))}else{Ee=ae;var Ve=Re.get(Ee);Ve!==void 0||(Ve=f(_(Ee.replace(V,"-$1").toLowerCase().replace(U,"-ms-"))),Re.set(Ee,Ve)),Ee=Ve,Ae=typeof Ae=="number"?Ae===0||g.call(k,ae)?c(""+Ae):c(Ae+"px"):c(_((""+Ae).trim()))}H?(H=!1,F.push(Fe,Ee,Be,Ae)):F.push(Xe,Ee,Be,Ae)}}H||F.push(tn)}var st=f(" "),Ct=f('="'),tn=f('"'),_e=f('=""');function et(F,H,q,ae){switch(q){case"style":Ze(F,H,ae);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<q.length)||q[0]!=="o"&&q[0]!=="O"||q[1]!=="n"&&q[1]!=="N"){if(H=M.hasOwnProperty(q)?M[q]:null,H!==null){switch(typeof ae){case"function":case"symbol":return;case"boolean":if(!H.acceptsBooleans)return}switch(q=c(H.attributeName),H.type){case 3:ae&&F.push(st,q,_e);break;case 4:ae===!0?F.push(st,q,_e):ae!==!1&&F.push(st,q,Ct,c(_(ae)),tn);break;case 5:isNaN(ae)||F.push(st,q,Ct,c(_(ae)),tn);break;case 6:!isNaN(ae)&&1<=ae&&F.push(st,q,Ct,c(_(ae)),tn);break;default:H.sanitizeURL&&(ae=""+ae),F.push(st,q,Ct,c(_(ae)),tn)}}else if(D(q)){switch(typeof ae){case"function":case"symbol":return;case"boolean":if(H=q.toLowerCase().slice(0,5),H!=="data-"&&H!=="aria-")return}F.push(st,c(q),Ct,c(_(ae)),tn)}}}var nt=f(">"),ht=f("/>");function St(F,H,q){if(H!=null){if(q!=null)throw Error(t(60));if(typeof H!="object"||!("__html"in H))throw Error(t(61));H=H.__html,H!=null&&F.push(c(""+H))}}function Tt(F){var H="";return e.Children.forEach(F,function(q){q!=null&&(H+=q)}),H}var Gt=f(' selected=""');function _t(F,H,q,ae){F.push(en(q));var Ae=q=null,Ee;for(Ee in H)if(g.call(H,Ee)){var Ve=H[Ee];if(Ve!=null)switch(Ee){case"children":q=Ve;break;case"dangerouslySetInnerHTML":Ae=Ve;break;default:et(F,ae,Ee,Ve)}}return F.push(nt),St(F,Ae,q),typeof q=="string"?(F.push(c(_(q))),null):q}var Vt=f(`
`),Xt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,dn=new Map;function en(F){var H=dn.get(F);if(H===void 0){if(!Xt.test(F))throw Error(t(65,F));H=f("<"+F),dn.set(F,H)}return H}var Zn=f("<!DOCTYPE html>");function Dn(F,H,q,ae,Ae){switch(H){case"select":F.push(en("select"));var Ee=null,Ve=null;for(Rt in q)if(g.call(q,Rt)){var ot=q[Rt];if(ot!=null)switch(Rt){case"children":Ee=ot;break;case"dangerouslySetInnerHTML":Ve=ot;break;case"defaultValue":case"value":break;default:et(F,ae,Rt,ot)}}return F.push(nt),St(F,Ve,Ee),Ee;case"option":Ve=Ae.selectedValue,F.push(en("option"));var It=ot=null,Kt=null,Rt=null;for(Ee in q)if(g.call(q,Ee)){var Hn=q[Ee];if(Hn!=null)switch(Ee){case"children":ot=Hn;break;case"selected":Kt=Hn;break;case"dangerouslySetInnerHTML":Rt=Hn;break;case"value":It=Hn;default:et(F,ae,Ee,Hn)}}if(Ve!=null)if(q=It!==null?""+It:Tt(ot),Z(Ve)){for(ae=0;ae<Ve.length;ae++)if(""+Ve[ae]===q){F.push(Gt);break}}else""+Ve===q&&F.push(Gt);else Kt&&F.push(Gt);return F.push(nt),St(F,Rt,ot),ot;case"textarea":F.push(en("textarea")),Rt=Ve=Ee=null;for(ot in q)if(g.call(q,ot)&&(It=q[ot],It!=null))switch(ot){case"children":Rt=It;break;case"value":Ee=It;break;case"defaultValue":Ve=It;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:et(F,ae,ot,It)}if(Ee===null&&Ve!==null&&(Ee=Ve),F.push(nt),Rt!=null){if(Ee!=null)throw Error(t(92));if(Z(Rt)&&1<Rt.length)throw Error(t(93));Ee=""+Rt}return typeof Ee=="string"&&Ee[0]===`
`&&F.push(Vt),Ee!==null&&F.push(c(_(""+Ee))),null;case"input":F.push(en("input")),It=Rt=ot=Ee=null;for(Ve in q)if(g.call(q,Ve)&&(Kt=q[Ve],Kt!=null))switch(Ve){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"defaultChecked":It=Kt;break;case"defaultValue":ot=Kt;break;case"checked":Rt=Kt;break;case"value":Ee=Kt;break;default:et(F,ae,Ve,Kt)}return Rt!==null?et(F,ae,"checked",Rt):It!==null&&et(F,ae,"checked",It),Ee!==null?et(F,ae,"value",Ee):ot!==null&&et(F,ae,"value",ot),F.push(ht),null;case"menuitem":F.push(en("menuitem"));for(var oa in q)if(g.call(q,oa)&&(Ee=q[oa],Ee!=null))switch(oa){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:et(F,ae,oa,Ee)}return F.push(nt),null;case"title":F.push(en("title")),Ee=null;for(Hn in q)if(g.call(q,Hn)&&(Ve=q[Hn],Ve!=null))switch(Hn){case"children":Ee=Ve;break;case"dangerouslySetInnerHTML":throw Error(t(434));default:et(F,ae,Hn,Ve)}return F.push(nt),Ee;case"listing":case"pre":F.push(en(H)),Ve=Ee=null;for(It in q)if(g.call(q,It)&&(ot=q[It],ot!=null))switch(It){case"children":Ee=ot;break;case"dangerouslySetInnerHTML":Ve=ot;break;default:et(F,ae,It,ot)}if(F.push(nt),Ve!=null){if(Ee!=null)throw Error(t(60));if(typeof Ve!="object"||!("__html"in Ve))throw Error(t(61));q=Ve.__html,q!=null&&(typeof q=="string"&&0<q.length&&q[0]===`
`?F.push(Vt,c(q)):F.push(c(""+q)))}return typeof Ee=="string"&&Ee[0]===`
`&&F.push(Vt),Ee;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":F.push(en(H));for(var Ka in q)if(g.call(q,Ka)&&(Ee=q[Ka],Ee!=null))switch(Ka){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,H));default:et(F,ae,Ka,Ee)}return F.push(ht),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return _t(F,q,H,ae);case"html":return Ae.insertionMode===0&&F.push(Zn),_t(F,q,H,ae);default:if(H.indexOf("-")===-1&&typeof q.is!="string")return _t(F,q,H,ae);F.push(en(H)),Ve=Ee=null;for(Kt in q)if(g.call(q,Kt)&&(ot=q[Kt],ot!=null))switch(Kt){case"children":Ee=ot;break;case"dangerouslySetInnerHTML":Ve=ot;break;case"style":Ze(F,ae,ot);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:D(Kt)&&typeof ot!="function"&&typeof ot!="symbol"&&F.push(st,c(Kt),Ct,c(_(ot)),tn)}return F.push(nt),St(F,Ve,Ee),Ee}}var Er=f("</"),pt=f(">"),Mt=f('<template id="'),Jt=f('"></template>'),sn=f("<!--$-->"),ln=f('<!--$?--><template id="'),vr=f('"></template>'),fr=f("<!--$!-->"),ha=f("<!--/$-->"),jr=f("<template"),nr=f('"'),Lr=f(' data-dgst="');f(' data-msg="'),f(' data-stck="');var te=f("></template>");function me(F,H,q){if(a(F,ln),q===null)throw Error(t(395));return a(F,q),o(F,vr)}var xe=f('<div hidden id="'),Ue=f('">'),He=f("</div>"),Qe=f('<svg aria-hidden="true" style="display:none" id="'),tt=f('">'),kt=f("</svg>"),Ut=f('<math aria-hidden="true" style="display:none" id="'),On=f('">'),yn=f("</math>"),Cr=f('<table hidden id="'),Jn=f('">'),yr=f("</table>"),ta=f('<table hidden><tbody id="'),Pi=f('">'),Nn=f("</tbody></table>"),Aa=f('<table hidden><tr id="'),Fa=f('">'),Zr=f("</tr></table>"),fo=f('<table hidden><colgroup id="'),Oa=f('">'),iu=f("</colgroup></table>");function si(F,H,q,ae){switch(q.insertionMode){case 0:case 1:return a(F,xe),a(F,H.segmentPrefix),a(F,c(ae.toString(16))),o(F,Ue);case 2:return a(F,Qe),a(F,H.segmentPrefix),a(F,c(ae.toString(16))),o(F,tt);case 3:return a(F,Ut),a(F,H.segmentPrefix),a(F,c(ae.toString(16))),o(F,On);case 4:return a(F,Cr),a(F,H.segmentPrefix),a(F,c(ae.toString(16))),o(F,Jn);case 5:return a(F,ta),a(F,H.segmentPrefix),a(F,c(ae.toString(16))),o(F,Pi);case 6:return a(F,Aa),a(F,H.segmentPrefix),a(F,c(ae.toString(16))),o(F,Fa);case 7:return a(F,fo),a(F,H.segmentPrefix),a(F,c(ae.toString(16))),o(F,Oa);default:throw Error(t(397))}}function li(F,H){switch(H.insertionMode){case 0:case 1:return o(F,He);case 2:return o(F,kt);case 3:return o(F,yn);case 4:return o(F,yr);case 5:return o(F,Nn);case 6:return o(F,Zr);case 7:return o(F,iu);default:throw Error(t(397))}}var nc=f('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),su=f('$RS("'),us=f('","'),ji=f('")<\/script>'),cs=f('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),lu=f('$RC("'),ds=f('","'),rc=f('")<\/script>'),An=f('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),na=f('$RX("'),qs=f('"'),Gs=f(")<\/script>"),ui=f(","),uu=/[<\u2028\u2029]/g;function Fo(F){return JSON.stringify(F).replace(uu,function(H){switch(H){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var ho=Object.assign,Pa=Symbol.for("react.element"),fs=Symbol.for("react.portal"),Rr=Symbol.for("react.fragment"),Js=Symbol.for("react.strict_mode"),Ks=Symbol.for("react.profiler"),Qs=Symbol.for("react.provider"),po=Symbol.for("react.context"),hs=Symbol.for("react.forward_ref"),ci=Symbol.for("react.suspense"),mo=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),K=Symbol.for("react.scope"),ie=Symbol.for("react.debug_trace_mode"),Ne=Symbol.for("react.legacy_hidden"),Ie=Symbol.for("react.default_value"),Ye=Symbol.iterator;function it(F){if(F==null)return null;if(typeof F=="function")return F.displayName||F.name||null;if(typeof F=="string")return F;switch(F){case Rr:return"Fragment";case fs:return"Portal";case Ks:return"Profiler";case Js:return"StrictMode";case ci:return"Suspense";case mo:return"SuspenseList"}if(typeof F=="object")switch(F.$$typeof){case po:return(F.displayName||"Context")+".Consumer";case Qs:return(F._context.displayName||"Context")+".Provider";case hs:var H=F.render;return F=F.displayName,F||(F=H.displayName||H.name||"",F=F!==""?"ForwardRef("+F+")":"ForwardRef"),F;case A:return H=F.displayName||null,H!==null?H:it(F.type)||"Memo";case Y:H=F._payload,F=F._init;try{return it(F(H))}catch{}}return null}var ct={};function Ft(F,H){if(F=F.contextTypes,!F)return ct;var q={},ae;for(ae in F)q[ae]=H[ae];return q}var $t=null;function Pn(F,H){if(F!==H){F.context._currentValue=F.parentValue,F=F.parent;var q=H.parent;if(F===null){if(q!==null)throw Error(t(401))}else{if(q===null)throw Error(t(401));Pn(F,q)}H.context._currentValue=H.value}}function Ga(F){F.context._currentValue=F.parentValue,F=F.parent,F!==null&&Ga(F)}function ja(F){var H=F.parent;H!==null&&ja(H),F.context._currentValue=F.value}function ra(F,H){if(F.context._currentValue=F.parentValue,F=F.parent,F===null)throw Error(t(402));F.depth===H.depth?Pn(F,H):ra(F,H)}function Oo(F,H){var q=H.parent;if(q===null)throw Error(t(402));F.depth===q.depth?Pn(F,q):Oo(F,q),H.context._currentValue=H.value}function La(F){var H=$t;H!==F&&(H===null?ja(F):F===null?Ga(H):H.depth===F.depth?Pn(H,F):H.depth>F.depth?ra(H,F):Oo(H,F),$t=F)}var Ja={isMounted:function(){return!1},enqueueSetState:function(F,H){F=F._reactInternals,F.queue!==null&&F.queue.push(H)},enqueueReplaceState:function(F,H){F=F._reactInternals,F.replace=!0,F.queue=[H]},enqueueForceUpdate:function(){}};function pa(F,H,q,ae){var Ae=F.state!==void 0?F.state:null;F.updater=Ja,F.props=q,F.state=Ae;var Ee={queue:[],replace:!1};F._reactInternals=Ee;var Ve=H.contextType;if(F.context=typeof Ve=="object"&&Ve!==null?Ve._currentValue:ae,Ve=H.getDerivedStateFromProps,typeof Ve=="function"&&(Ve=Ve(q,Ae),Ae=Ve==null?Ae:ho({},Ae,Ve),F.state=Ae),typeof H.getDerivedStateFromProps!="function"&&typeof F.getSnapshotBeforeUpdate!="function"&&(typeof F.UNSAFE_componentWillMount=="function"||typeof F.componentWillMount=="function"))if(H=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),H!==F.state&&Ja.enqueueReplaceState(F,F.state,null),Ee.queue!==null&&0<Ee.queue.length)if(H=Ee.queue,Ve=Ee.replace,Ee.queue=null,Ee.replace=!1,Ve&&H.length===1)F.state=H[0];else{for(Ee=Ve?H[0]:F.state,Ae=!0,Ve=Ve?1:0;Ve<H.length;Ve++){var ot=H[Ve];ot=typeof ot=="function"?ot.call(F,Ee,q,ae):ot,ot!=null&&(Ae?(Ae=!1,Ee=ho({},Ee,ot)):ho(Ee,ot))}F.state=Ee}else Ee.queue=null}var go={id:1,overflow:""};function Ra(F,H,q){var ae=F.id;F=F.overflow;var Ae=32-Li(ae)-1;ae&=~(1<<Ae),q+=1;var Ee=32-Li(H)+Ae;if(30<Ee){var Ve=Ae-Ae%5;return Ee=(ae&(1<<Ve)-1).toString(32),ae>>=Ve,Ae-=Ve,{id:1<<32-Li(H)+Ae|q<<Ae|ae,overflow:Ee+F}}return{id:1<<Ee|q<<Ae|ae,overflow:F}}var Li=Math.clz32?Math.clz32:Bf,Ri=Math.log,dm=Math.LN2;function Bf(F){return F>>>=0,F===0?32:31-(Ri(F)/dm|0)|0}function ps(F,H){return F===H&&(F!==0||1/F===1/H)||F!==F&&H!==H}var fm=typeof Object.is=="function"?Object.is:ps,Po=null,Xs=null,cu=null,Bn=null,hn=!1,pn=!1,jo=0,vo=null,ac=0;function ms(){if(Po===null)throw Error(t(321));return Po}function oc(){if(0<ac)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function el(){return Bn===null?cu===null?(hn=!1,cu=Bn=oc()):(hn=!0,Bn=cu):Bn.next===null?(hn=!1,Bn=Bn.next=oc()):(hn=!0,Bn=Bn.next),Bn}function tl(){Xs=Po=null,pn=!1,cu=null,ac=0,Bn=vo=null}function fd(F,H){return typeof H=="function"?H(F):H}function zn(F,H,q){if(Po=ms(),Bn=el(),hn){var ae=Bn.queue;if(H=ae.dispatch,vo!==null&&(q=vo.get(ae),q!==void 0)){vo.delete(ae),ae=Bn.memoizedState;do ae=F(ae,q.action),q=q.next;while(q!==null);return Bn.memoizedState=ae,[ae,H]}return[Bn.memoizedState,H]}return F=F===fd?typeof H=="function"?H():H:q!==void 0?q(H):H,Bn.memoizedState=F,F=Bn.queue={last:null,dispatch:null},F=F.dispatch=Lo.bind(null,Po,F),[Bn.memoizedState,F]}function nl(F,H){if(Po=ms(),Bn=el(),H=H===void 0?null:H,Bn!==null){var q=Bn.memoizedState;if(q!==null&&H!==null){var ae=q[1];e:if(ae===null)ae=!1;else{for(var Ae=0;Ae<ae.length&&Ae<H.length;Ae++)if(!fm(H[Ae],ae[Ae])){ae=!1;break e}ae=!0}if(ae)return q[0]}}return F=F(),Bn.memoizedState=[F,H],F}function Lo(F,H,q){if(25<=ac)throw Error(t(301));if(F===Po)if(pn=!0,F={action:q,next:null},vo===null&&(vo=new Map),q=vo.get(H),q===void 0)vo.set(H,F);else{for(H=q;H.next!==null;)H=H.next;H.next=F}}function hd(){throw Error(t(394))}function di(){}var qr={readContext:function(F){return F._currentValue},useContext:function(F){return ms(),F._currentValue},useMemo:nl,useReducer:zn,useRef:function(F){Po=ms(),Bn=el();var H=Bn.memoizedState;return H===null?(F={current:F},Bn.memoizedState=F):H},useState:function(F){return zn(fd,F)},useInsertionEffect:di,useLayoutEffect:function(){},useCallback:function(F,H){return nl(function(){return F},H)},useImperativeHandle:di,useEffect:di,useDebugValue:di,useDeferredValue:function(F){return ms(),F},useTransition:function(){return ms(),[!1,hd]},useId:function(){var F=Xs.treeContext,H=F.overflow;F=F.id,F=(F&~(1<<32-Li(F)-1)).toString(32)+H;var q=rl;if(q===null)throw Error(t(404));return H=jo++,F=":"+q.idPrefix+"R"+F,0<H&&(F+="H"+H.toString(32)),F+":"},useMutableSource:function(F,H){return ms(),H(F._source)},useSyncExternalStore:function(F,H,q){if(q===void 0)throw Error(t(407));return q()}},rl=null,Gr=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function gs(F){return console.error(F),null}function _i(){}function al(F,H,q,ae,Ae,Ee,Ve,ot,It){var Kt=[],Rt=new Set;return H={destination:null,responseState:H,progressiveChunkSize:ae===void 0?12800:ae,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:Rt,pingedTasks:Kt,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:Ae===void 0?gs:Ae,onAllReady:Ee===void 0?_i:Ee,onShellReady:Ve===void 0?_i:Ve,onShellError:ot===void 0?_i:ot,onFatalError:It===void 0?_i:It},q=xr(H,0,null,q,!1,!1),q.parentFlushed=!0,F=ic(H,F,null,q,Rt,ct,null,go),Kt.push(F),H}function ic(F,H,q,ae,Ae,Ee,Ve,ot){F.allPendingTasks++,q===null?F.pendingRootTasks++:q.pendingTasks++;var It={node:H,ping:function(){var Kt=F.pingedTasks;Kt.push(It),Kt.length===1&&md(F)},blockedBoundary:q,blockedSegment:ae,abortSet:Ae,legacyContext:Ee,context:Ve,treeContext:ot};return Ae.add(It),It}function xr(F,H,q,ae,Ae,Ee){return{status:0,id:-1,index:H,parentFlushed:!1,chunks:[],children:[],formatContext:ae,boundary:q,lastPushedText:Ae,textEmbedded:Ee}}function vs(F,H){if(F=F.onError(H),F!=null&&typeof F!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof F+'" instead');return F}function wr(F,H){var q=F.onShellError;q(H),q=F.onFatalError,q(H),F.destination!==null?(F.status=2,h(F.destination,H)):(F.status=1,F.fatalError=H)}function du(F,H,q,ae,Ae){for(Po={},Xs=H,jo=0,F=q(ae,Ae);pn;)pn=!1,jo=0,ac+=1,Bn=null,F=q(ae,Ae);return tl(),F}function sc(F,H,q,ae){var Ae=q.render(),Ee=ae.childContextTypes;if(Ee!=null){var Ve=H.legacyContext;if(typeof q.getChildContext!="function")ae=Ve;else{q=q.getChildContext();for(var ot in q)if(!(ot in Ee))throw Error(t(108,it(ae)||"Unknown",ot));ae=ho({},Ve,q)}H.legacyContext=ae,aa(F,H,Ae),H.legacyContext=Ve}else aa(F,H,Ae)}function fi(F,H){if(F&&F.defaultProps){H=ho({},H),F=F.defaultProps;for(var q in F)H[q]===void 0&&(H[q]=F[q]);return H}return H}function ol(F,H,q,ae,Ae){if(typeof q=="function")if(q.prototype&&q.prototype.isReactComponent){Ae=Ft(q,H.legacyContext);var Ee=q.contextType;Ee=new q(ae,typeof Ee=="object"&&Ee!==null?Ee._currentValue:Ae),pa(Ee,q,ae,Ae),sc(F,H,Ee,q)}else{Ee=Ft(q,H.legacyContext),Ae=du(F,H,q,ae,Ee);var Ve=jo!==0;if(typeof Ae=="object"&&Ae!==null&&typeof Ae.render=="function"&&Ae.$$typeof===void 0)pa(Ae,q,ae,Ee),sc(F,H,Ae,q);else if(Ve){ae=H.treeContext,H.treeContext=Ra(ae,1,0);try{aa(F,H,Ae)}finally{H.treeContext=ae}}else aa(F,H,Ae)}else if(typeof q=="string"){switch(Ae=H.blockedSegment,Ee=Dn(Ae.chunks,q,ae,F.responseState,Ae.formatContext),Ae.lastPushedText=!1,Ve=Ae.formatContext,Ae.formatContext=oe(Ve,q,ae),Ro(F,H,Ee),Ae.formatContext=Ve,q){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:Ae.chunks.push(Er,c(q),pt)}Ae.lastPushedText=!1}else{switch(q){case Ne:case ie:case Js:case Ks:case Rr:aa(F,H,ae.children);return;case mo:aa(F,H,ae.children);return;case K:throw Error(t(343));case ci:e:{q=H.blockedBoundary,Ae=H.blockedSegment,Ee=ae.fallback,ae=ae.children,Ve=new Set;var ot={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:Ve,errorDigest:null},It=xr(F,Ae.chunks.length,ot,Ae.formatContext,!1,!1);Ae.children.push(It),Ae.lastPushedText=!1;var Kt=xr(F,0,null,Ae.formatContext,!1,!1);Kt.parentFlushed=!0,H.blockedBoundary=ot,H.blockedSegment=Kt;try{if(Ro(F,H,ae),Kt.lastPushedText&&Kt.textEmbedded&&Kt.chunks.push(De),Kt.status=1,il(ot,Kt),ot.pendingTasks===0)break e}catch(Rt){Kt.status=4,ot.forceClientRender=!0,ot.errorDigest=vs(F,Rt)}finally{H.blockedBoundary=q,H.blockedSegment=Ae}H=ic(F,Ee,q,It,Ve,H.legacyContext,H.context,H.treeContext),F.pingedTasks.push(H)}return}if(typeof q=="object"&&q!==null)switch(q.$$typeof){case hs:if(ae=du(F,H,q.render,ae,Ae),jo!==0){q=H.treeContext,H.treeContext=Ra(q,1,0);try{aa(F,H,ae)}finally{H.treeContext=q}}else aa(F,H,ae);return;case A:q=q.type,ae=fi(q,ae),ol(F,H,q,ae,Ae);return;case Qs:if(Ae=ae.children,q=q._context,ae=ae.value,Ee=q._currentValue,q._currentValue=ae,Ve=$t,$t=ae={parent:Ve,depth:Ve===null?0:Ve.depth+1,context:q,parentValue:Ee,value:ae},H.context=ae,aa(F,H,Ae),F=$t,F===null)throw Error(t(403));ae=F.parentValue,F.context._currentValue=ae===Ie?F.context._defaultValue:ae,F=$t=F.parent,H.context=F;return;case po:ae=ae.children,ae=ae(q._currentValue),aa(F,H,ae);return;case Y:Ae=q._init,q=Ae(q._payload),ae=fi(q,ae),ol(F,H,q,ae,void 0);return}throw Error(t(130,q==null?q:typeof q,""))}}function aa(F,H,q){if(H.node=q,typeof q=="object"&&q!==null){switch(q.$$typeof){case Pa:ol(F,H,q.type,q.props,q.ref);return;case fs:throw Error(t(257));case Y:var ae=q._init;q=ae(q._payload),aa(F,H,q);return}if(Z(q)){jn(F,H,q);return}if(q===null||typeof q!="object"?ae=null:(ae=Ye&&q[Ye]||q["@@iterator"],ae=typeof ae=="function"?ae:null),ae&&(ae=ae.call(q))){if(q=ae.next(),!q.done){var Ae=[];do Ae.push(q.value),q=ae.next();while(!q.done);jn(F,H,Ae)}return}throw F=Object.prototype.toString.call(q),Error(t(31,F==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":F))}typeof q=="string"?(ae=H.blockedSegment,ae.lastPushedText=je(H.blockedSegment.chunks,q,F.responseState,ae.lastPushedText)):typeof q=="number"&&(ae=H.blockedSegment,ae.lastPushedText=je(H.blockedSegment.chunks,""+q,F.responseState,ae.lastPushedText))}function jn(F,H,q){for(var ae=q.length,Ae=0;Ae<ae;Ae++){var Ee=H.treeContext;H.treeContext=Ra(Ee,ae,Ae);try{Ro(F,H,q[Ae])}finally{H.treeContext=Ee}}}function Ro(F,H,q){var ae=H.blockedSegment.formatContext,Ae=H.legacyContext,Ee=H.context;try{return aa(F,H,q)}catch(It){if(tl(),typeof It=="object"&&It!==null&&typeof It.then=="function"){q=It;var Ve=H.blockedSegment,ot=xr(F,Ve.chunks.length,null,Ve.formatContext,Ve.lastPushedText,!0);Ve.children.push(ot),Ve.lastPushedText=!1,F=ic(F,H.node,H.blockedBoundary,ot,H.abortSet,H.legacyContext,H.context,H.treeContext).ping,q.then(F,F),H.blockedSegment.formatContext=ae,H.legacyContext=Ae,H.context=Ee,La(Ee)}else throw H.blockedSegment.formatContext=ae,H.legacyContext=Ae,H.context=Ee,La(Ee),It}}function pd(F){var H=F.blockedBoundary;F=F.blockedSegment,F.status=3,Uf(this,H,F)}function Hf(F,H,q){var ae=F.blockedBoundary;F.blockedSegment.status=3,ae===null?(H.allPendingTasks--,H.status!==2&&(H.status=2,H.destination!==null&&H.destination.close())):(ae.pendingTasks--,ae.forceClientRender||(ae.forceClientRender=!0,F=q===void 0?Error(t(432)):q,ae.errorDigest=H.onError(F),ae.parentFlushed&&H.clientRenderedBoundaries.push(ae)),ae.fallbackAbortableTasks.forEach(function(Ae){return Hf(Ae,H,q)}),ae.fallbackAbortableTasks.clear(),H.allPendingTasks--,H.allPendingTasks===0&&(ae=H.onAllReady,ae()))}function il(F,H){if(H.chunks.length===0&&H.children.length===1&&H.children[0].boundary===null){var q=H.children[0];q.id=H.id,q.parentFlushed=!0,q.status===1&&il(F,q)}else F.completedSegments.push(H)}function Uf(F,H,q){if(H===null){if(q.parentFlushed){if(F.completedRootSegment!==null)throw Error(t(389));F.completedRootSegment=q}F.pendingRootTasks--,F.pendingRootTasks===0&&(F.onShellError=_i,H=F.onShellReady,H())}else H.pendingTasks--,H.forceClientRender||(H.pendingTasks===0?(q.parentFlushed&&q.status===1&&il(H,q),H.parentFlushed&&F.completedBoundaries.push(H),H.fallbackAbortableTasks.forEach(pd,F),H.fallbackAbortableTasks.clear()):q.parentFlushed&&q.status===1&&(il(H,q),H.completedSegments.length===1&&H.parentFlushed&&F.partialBoundaries.push(H)));F.allPendingTasks--,F.allPendingTasks===0&&(F=F.onAllReady,F())}function md(F){if(F.status!==2){var H=$t,q=Gr.current;Gr.current=qr;var ae=rl;rl=F.responseState;try{var Ae=F.pingedTasks,Ee;for(Ee=0;Ee<Ae.length;Ee++){var Ve=Ae[Ee],ot=F,It=Ve.blockedSegment;if(It.status===0){La(Ve.context);try{aa(ot,Ve,Ve.node),It.lastPushedText&&It.textEmbedded&&It.chunks.push(De),Ve.abortSet.delete(Ve),It.status=1,Uf(ot,Ve.blockedBoundary,It)}catch(Qa){if(tl(),typeof Qa=="object"&&Qa!==null&&typeof Qa.then=="function"){var Kt=Ve.ping;Qa.then(Kt,Kt)}else{Ve.abortSet.delete(Ve),It.status=4;var Rt=Ve.blockedBoundary,Hn=Qa,oa=vs(ot,Hn);if(Rt===null?wr(ot,Hn):(Rt.pendingTasks--,Rt.forceClientRender||(Rt.forceClientRender=!0,Rt.errorDigest=oa,Rt.parentFlushed&&ot.clientRenderedBoundaries.push(Rt))),ot.allPendingTasks--,ot.allPendingTasks===0){var Ka=ot.onAllReady;Ka()}}}}}Ae.splice(0,Ee),F.destination!==null&&cc(F,F.destination)}catch(Qa){vs(F,Qa),wr(F,Qa)}finally{rl=ae,Gr.current=q,q===qr&&La(H)}}}function lc(F,H,q){switch(q.parentFlushed=!0,q.status){case 0:var ae=q.id=F.nextSegmentId++;return q.lastPushedText=!1,q.textEmbedded=!1,F=F.responseState,a(H,Mt),a(H,F.placeholderPrefix),F=c(ae.toString(16)),a(H,F),o(H,Jt);case 1:q.status=2;var Ae=!0;ae=q.chunks;var Ee=0;q=q.children;for(var Ve=0;Ve<q.length;Ve++){for(Ae=q[Ve];Ee<Ae.index;Ee++)a(H,ae[Ee]);Ae=fu(F,H,Ae)}for(;Ee<ae.length-1;Ee++)a(H,ae[Ee]);return Ee<ae.length&&(Ae=o(H,ae[Ee])),Ae;default:throw Error(t(390))}}function fu(F,H,q){var ae=q.boundary;if(ae===null)return lc(F,H,q);if(ae.parentFlushed=!0,ae.forceClientRender)ae=ae.errorDigest,o(H,fr),a(H,jr),ae&&(a(H,Lr),a(H,c(_(ae))),a(H,nr)),o(H,te),lc(F,H,q);else if(0<ae.pendingTasks){ae.rootSegmentID=F.nextSegmentId++,0<ae.completedSegments.length&&F.partialBoundaries.push(ae);var Ae=F.responseState,Ee=Ae.nextSuspenseID++;Ae=f(Ae.boundaryPrefix+Ee.toString(16)),ae=ae.id=Ae,me(H,F.responseState,ae),lc(F,H,q)}else if(ae.byteSize>F.progressiveChunkSize)ae.rootSegmentID=F.nextSegmentId++,F.completedBoundaries.push(ae),me(H,F.responseState,ae.id),lc(F,H,q);else{if(o(H,sn),q=ae.completedSegments,q.length!==1)throw Error(t(391));fu(F,H,q[0])}return o(H,ha)}function hu(F,H,q){return si(H,F.responseState,q.formatContext,q.id),fu(F,H,q),li(H,q.formatContext)}function ys(F,H,q){for(var ae=q.completedSegments,Ae=0;Ae<ae.length;Ae++)uc(F,H,q,ae[Ae]);if(ae.length=0,F=F.responseState,ae=q.id,q=q.rootSegmentID,a(H,F.startInlineScript),F.sentCompleteBoundaryFunction?a(H,lu):(F.sentCompleteBoundaryFunction=!0,a(H,cs)),ae===null)throw Error(t(395));return q=c(q.toString(16)),a(H,ae),a(H,ds),a(H,F.segmentPrefix),a(H,q),o(H,rc)}function uc(F,H,q,ae){if(ae.status===2)return!0;var Ae=ae.id;if(Ae===-1){if((ae.id=q.rootSegmentID)===-1)throw Error(t(392));return hu(F,H,ae)}return hu(F,H,ae),F=F.responseState,a(H,F.startInlineScript),F.sentCompleteSegmentFunction?a(H,su):(F.sentCompleteSegmentFunction=!0,a(H,nc)),a(H,F.segmentPrefix),Ae=c(Ae.toString(16)),a(H,Ae),a(H,us),a(H,F.placeholderPrefix),a(H,Ae),o(H,ji)}function cc(F,H){n=new Uint8Array(512),r=0;try{var q=F.completedRootSegment;if(q!==null&&F.pendingRootTasks===0){fu(F,H,q),F.completedRootSegment=null;var ae=F.responseState.bootstrapChunks;for(q=0;q<ae.length-1;q++)a(H,ae[q]);q<ae.length&&o(H,ae[q])}var Ae=F.clientRenderedBoundaries,Ee;for(Ee=0;Ee<Ae.length;Ee++){var Ve=Ae[Ee];ae=H;var ot=F.responseState,It=Ve.id,Kt=Ve.errorDigest,Rt=Ve.errorMessage,Hn=Ve.errorComponentStack;if(a(ae,ot.startInlineScript),ot.sentClientRenderFunction?a(ae,na):(ot.sentClientRenderFunction=!0,a(ae,An)),It===null)throw Error(t(395));a(ae,It),a(ae,qs),(Kt||Rt||Hn)&&(a(ae,ui),a(ae,c(Fo(Kt||"")))),(Rt||Hn)&&(a(ae,ui),a(ae,c(Fo(Rt||"")))),Hn&&(a(ae,ui),a(ae,c(Fo(Hn)))),o(ae,Gs)}Ae.splice(0,Ee);var oa=F.completedBoundaries;for(Ee=0;Ee<oa.length;Ee++)ys(F,H,oa[Ee]);oa.splice(0,Ee),i(H),n=new Uint8Array(512),r=0;var Ka=F.partialBoundaries;for(Ee=0;Ee<Ka.length;Ee++){var Qa=Ka[Ee];e:{Ae=F,Ve=H;var pu=Qa.completedSegments;for(ot=0;ot<pu.length;ot++)if(!uc(Ae,Ve,Qa,pu[ot])){ot++,pu.splice(0,ot);var vd=!1;break e}pu.splice(0,ot),vd=!0}if(!vd){F.destination=null,Ee++,Ka.splice(0,Ee);return}}Ka.splice(0,Ee);var Bi=F.completedBoundaries;for(Ee=0;Ee<Bi.length;Ee++)ys(F,H,Bi[Ee]);Bi.splice(0,Ee)}finally{i(H),F.allPendingTasks===0&&F.pingedTasks.length===0&&F.clientRenderedBoundaries.length===0&&F.completedBoundaries.length===0&&H.close()}}function gd(F,H){try{var q=F.abortableTasks;q.forEach(function(ae){return Hf(ae,F,H)}),q.clear(),F.destination!==null&&cc(F,F.destination)}catch(ae){vs(F,ae),wr(F,ae)}}return K0.renderToReadableStream=function(F,H){return new Promise(function(q,ae){var Ae,Ee,Ve=new Promise(function(Rt,Hn){Ee=Rt,Ae=Hn}),ot=al(F,se(H?H.identifierPrefix:void 0,H?H.nonce:void 0,H?H.bootstrapScriptContent:void 0,H?H.bootstrapScripts:void 0,H?H.bootstrapModules:void 0),X(H?H.namespaceURI:void 0),H?H.progressiveChunkSize:void 0,H?H.onError:void 0,Ee,function(){var Rt=new ReadableStream({type:"bytes",pull:function(Hn){if(ot.status===1)ot.status=2,h(Hn,ot.fatalError);else if(ot.status!==2&&ot.destination===null){ot.destination=Hn;try{cc(ot,Hn)}catch(oa){vs(ot,oa),wr(ot,oa)}}},cancel:function(){gd(ot)}},{highWaterMark:0});Rt.allReady=Ve,q(Rt)},function(Rt){Ve.catch(function(){}),ae(Rt)},Ae);if(H&&H.signal){var It=H.signal,Kt=function(){gd(ot,It.reason),It.removeEventListener("abort",Kt)};It.addEventListener("abort",Kt)}md(ot)})},K0.version="18.2.0",K0}var cm,rP;cm=zxe();rP=Vxe();cm.version;cm.renderToString;var Wxe=cm.renderToStaticMarkup;cm.renderToNodeStream;cm.renderToStaticNodeStream;rP.renderToReadableStream;const aP=ke.oneOf(["top","right","bottom","left","bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned","top-left-aligned","top-middle-aligned","top-right-aligned","auto"]),oP=ke.oneOf(["top-middle","top-left","top-right","bottom-left","bottom-right","bottom-middle","middle-left","middle-right","middle-middle"]),iP=ke.shape({nextLabel:ke.string,prevLabel:ke.string,skipLabel:ke.string,doneLabel:ke.string,hidePrev:ke.bool,hideNext:ke.bool,tooltipPosition:aP,tooltipClass:ke.string,highlightClass:ke.string,exitOnEsc:ke.bool,exitOnOverlayClick:ke.bool,showStepNumbers:ke.bool,keyboardNavigation:ke.bool,showButtons:ke.bool,showBullets:ke.bool,showProgress:ke.bool,scrollToElement:ke.bool,overlayOpacity:ke.number,scrollPadding:ke.number,positionPrecedence:ke.arrayOf(ke.string),disableInteraction:ke.bool,hintPosition:oP,hintButtonLabel:ke.string,hintAnimation:ke.bool}),sP={hidePrev:!0,hideNext:!0};function lP(){return typeof window>"u"}class I2 extends P.Component{constructor(n){super(n);Se(this,"onExit",()=>{const{onExit:n}=this.props;this.isVisible=!1,n(this.introJs._currentStep)});Se(this,"onBeforeExit",()=>{const{onBeforeExit:n}=this.props;return n?n(this.introJs._currentStep):!0});Se(this,"onBeforeChange",n=>{if(!this.isVisible)return!0;const{onBeforeChange:r,onPreventChange:a}=this.props;if(r){const o=r(this.introJs._currentStep,n);return o===!1&&a&&setTimeout(()=>{a(this.introJs._currentStep)},0),o}return!0});Se(this,"onAfterChange",n=>{if(!this.isVisible)return;const{onAfterChange:r}=this.props;r&&r(this.introJs._currentStep,n)});Se(this,"onChange",n=>{if(!this.isVisible)return;const{onChange:r}=this.props;r&&r(this.introJs._currentStep,n)});Se(this,"onComplete",()=>{const{onComplete:n}=this.props;n&&n()});Se(this,"updateStepElement",n=>{const r=document.querySelector(this.introJs._options.steps[n].element);r&&(this.introJs._introItems[n].element=r,this.introJs._introItems[n].position=this.introJs._options.steps[n].position||"auto")});this.introJs=null,this.isConfigured=!1,this.isVisible=!1,this.installIntroJs()}componentDidMount(){this.props.enabled&&(this.configureIntroJs(),this.renderSteps())}componentDidUpdate(n){const{enabled:r,steps:a,options:o}=this.props;(!this.isConfigured||n.steps!==a||n.options!==o)&&(this.configureIntroJs(),this.renderSteps()),n.enabled!==r&&this.renderSteps()}componentWillUnmount(){this.introJs.exit()}installIntroJs(){lP()||(this.introJs=cb(),this.introJs.onexit(this.onExit),this.introJs.onbeforeexit(this.onBeforeExit),this.introJs.onbeforechange(this.onBeforeChange),this.introJs.onafterchange(this.onAfterChange),this.introJs.onchange(this.onChange),this.introJs.oncomplete(this.onComplete))}configureIntroJs(){const{options:n,steps:r}=this.props,a=r.map(o=>P.isValidElement(o.intro)?{...o,intro:Wxe(o.intro)}:o);this.introJs.setOptions({...n,steps:a}),this.isConfigured=!0}renderSteps(){const{enabled:n,initialStep:r,steps:a,onStart:o}=this.props;n&&a.length>0&&!this.isVisible?(this.introJs.start(),this.isVisible=!0,this.introJs.goToStepNumber(r+1),o&&o(this.introJs._currentStep)):!n&&this.isVisible&&(this.isVisible=!1,this.introJs.exit())}render(){return null}}Se(I2,"propTypes",{enabled:ke.bool,initialStep:ke.number.isRequired,steps:ke.arrayOf(ke.shape({element:ke.oneOfType([ke.string,typeof Element>"u"?ke.any:ke.instanceOf(Element)]),intro:ke.node.isRequired,position:aP,tooltipClass:ke.string,highlightClass:ke.string})).isRequired,onStart:ke.func,onExit:ke.func.isRequired,onBeforeExit:ke.func,onBeforeChange:ke.func,onAfterChange:ke.func,onChange:ke.func,onPreventChange:ke.func,onComplete:ke.func,options:iP}),Se(I2,"defaultProps",{enabled:!1,onStart:null,onBeforeExit:null,onBeforeChange:null,onAfterChange:null,onChange:null,onPreventChange:null,onComplete:null,options:sP});class DN extends P.Component{constructor(t){super(t),this.introJs=null,this.isConfigured=!1,this.installIntroJs()}componentDidMount(){this.props.enabled&&(this.configureIntroJs(),this.renderHints())}componentDidUpdate(t){const{enabled:n,hints:r,options:a}=this.props;(!this.isConfigured||t.hints!==r||t.options!==a)&&(this.configureIntroJs(),this.renderHints()),t.enabled!==n&&this.renderHints()}componentWillUnmount(){this.introJs.hideHints()}installIntroJs(){if(lP())return;this.introJs=cb();const{onClick:t,onClose:n}=this.props;t&&this.introJs.onhintclick(t),n&&this.introJs.onhintclose(n)}configureIntroJs(){const{options:t,hints:n}=this.props;this.introJs.removeHints(),this.introJs.setOptions({...t,hints:n}),this.isConfigured=!0}renderHints(){const{enabled:t,hints:n}=this.props;t&&n.length>0?this.introJs.showHints():t||this.introJs.hideHints()}render(){return null}}Se(DN,"propTypes",{enabled:ke.bool,hints:ke.arrayOf(ke.shape({element:ke.string.isRequired,hint:ke.string.isRequired,hintPosition:oP})).isRequired,onClick:ke.func,onClose:ke.func,options:iP}),Se(DN,"defaultProps",{enabled:!1,onClick:null,onClose:null,options:sP});const $xe=[{element:".left-sidebar",intro:E("This is Thino's sidebar. Navigate to different path or select query filter.")},{element:".user-banner-container",intro:E("Click here and go to settings page.")},{element:".path-entry-wrapper",intro:E("Click here and go to different path.")},{element:".queries-wrapper",intro:E("Select or create query filter here.")},{element:".status-text-container.sidebar",intro:E("See the status of Thinos here.")+E("It is not available on small view")},{element:".heatmap-default",intro:E("See your time status of thinos here.")},{element:".tags-wrapper",intro:E("See your tags here. Tags will be shown when thino contains tags.")},{element:".section-header-container.memos-header-container",intro:E("Search your thino quickly here.")},{element:".memo-editor-wrapper",intro:E("Edit or create your thino here.")},{element:".memolist-wrapper",intro:E("See your thinos here.")}],Zxe=[{element:".memos-sidebar-wrapper.left-sidebar",intro:E("This is Thino's sidebar. Navigate to different path or select query filter.")},{element:".user-banner-container",intro:E("Click here and go to settings page.")},{element:".heatmap-default",intro:E("See your time status of thinos here.")},{element:".path-entry-wrapper",intro:E("Click here and go to different path.")},{element:".queries-wrapper",intro:E("Select or create query filter here.")},{element:".tags-wrapper",intro:E("See your tags here. Tags will be shown when thino contains tags.")},{element:".section-header-container.memos-header-container",intro:E("Search your thino quickly here.")},{element:".memo-editor-wrapper",intro:E("Edit or create your thino here.")},{element:".memolist-wrapper",intro:E("See your thinos here.")}],qxe={nextLabel:E("Next"),prevLabel:E("Previous"),doneLabel:E("Done"),hideNext:!1};function Gxe(){var y;const{dailyNotesState:{settings:e,verifyState:t},locationState:{pathname:n},globalState:{isMobileView:r,memoListView:a,globalEditorShown:o,locked:i,exited:l}}=P.useContext(Lt),c=P.useRef(null),f=P.useRef(null),h=e?e.FirstLoaded:(y=app.plugins.getPlugin("obsidian-memos").settings)==null?void 0:y.FirstLoaded;P.useEffect(()=>{if(!e.needVerify){dt.setLocked(!1);return}dt.setLocked(!0)},[e==null?void 0:e.needVerify]),P.useEffect(()=>{(async()=>{var I,M;const S=!x.Platform.isDesktop&&await((M=(I=window.Capacitor)==null?void 0:I.Plugins.Device)==null?void 0:M.getId()),D=x.Platform.isDesktop?await cr():(S==null?void 0:S.identifier)||(S==null?void 0:S.uuid);!t||(t==null?void 0:t.appId)!==D?document.body.toggleClass("hide-pro",!0):document.body.toggleClass("hide-pro",!1)})()},[t]);const g=()=>{dt.setExitSteps(!1)};return v.jsxs(v.Fragment,{children:[h&&v.jsx(Pxe,{}),v.jsx(I2,{ref:c,enabled:l,steps:(e==null?void 0:e.DefaultThemeForThino)==="modern"?$xe:Zxe,initialStep:0,onExit:g,options:qxe,onBeforeChange:w=>{(r&&(e==null?void 0:e.DefaultThemeForThino)==="classic"&&w===6||r&&(e==null?void 0:e.DefaultThemeForThino)==="modern"&&w===7)&&dt.setShowSiderbarInMobileView(!1)}}),i&&!h&&v.jsx(Oxe,{}),!i&&!h&&o&&v.jsx(mf,{editorType:"block"}),!i&&!h&&!o&&v.jsx("section",{ref:f,id:"page-wrapper","data-path":n,className:ar(`memos-${n==="/"?a:"list"}-view`,(e==null?void 0:e.DefaultThemeForThino)==="modern"?"modern":"classic"),children:v.jsxs(v.Fragment,{children:[v.jsx(hN,{sidebarPosition:"left",className:"left-sidebar"}),v.jsx("main",{className:"content-wrapper",children:lMe(n)}),(e==null?void 0:e.DefaultThemeForThino)==="modern"&&!r?v.jsx(hN,{sidebarPosition:"right",className:"right-sidebar"}):null]})})]})}const Jxe={"*":v.jsx(Gxe,{})},Kxe=e=>{const{memo:t,handleDeletedMemoAction:n}=e,{dailyNotesState:r}=P.useContext(Lt),a={...t,createdAtStr:ut.getDateTimeString(t.createdAt),deletedAtStr:ut.getDateTimeString(t.deletedAt||t.createdAt)},o=ne.useRef(null),i=ne.useRef(null),[l,c]=ne.useState(""),[f,h]=Xl(!1),g={restore:P.useRef(null),delete:P.useRef(null),source:P.useRef(null)};P.useEffect(()=>{i&&(x.setIcon(g.restore.current,"archive-restore"),x.setIcon(g.delete.current,"trash"),x.setIcon(g.source.current,"home"))},[i]),P.useEffect(()=>{if(!o.current||!i.current||o.current.hasChildNodes()&&t.content===l||!r.view)return;const I=r.view;c(t.content),o.current.hasChildNodes()&&o.current.empty();async function M(){var B;await x.MarkdownRenderer.render(r.app,t.content+`
`,o.current,t.path,I);const N=(B=o.current)==null?void 0:B.querySelectorAll(".internal-link");N==null||N.forEach(k=>{const R=k,L=R.getAttribute("data-href");if(!L)return;r.app.metadataCache.getFirstLinkpathDest(L,t.path)||k.classList.add("is-unresolved"),R.addEventListener("mouseover",V=>{V.stopPropagation(),r.app.workspace.trigger("hover-link",{event:V,source:"thino",hoverParent:I.containerEl,targetEl:R,linktext:L,sourcePath:R.href})})})}M()},[t.content,i]);const y=async()=>{if(f)try{await we.deleteMemoById(a.id),n(a.id)}catch(I){new x.Notice(I.message)}else h()},w=async()=>{switch(a.sourceType){case"DAILY":await W2(a.id,a.path);break;case"CANVAS":await Z2(a.id,a.path);break;case"MULTI":await V2(a.path);break;case"FILE":await $2(a.id,a.path);break}},S=async()=>{try{const I=await we.restoreMemoById(a.id),M=r.app,N=M==null?void 0:M.loadLocalStorage("tokenForSync");I&&I.webId&&N&&r.settings.startSync&&await Xg(I.webId),I&&we.editMemo(I),n(a.id),new x.Notice(E("RESTORE SUCCEED"))}catch(I){new x.Notice(I.message)}},D=()=>{f&&h(!1)};return v.jsxs("div",{ref:i,className:`memo-wrapper ${"memos-"+a.id}`,onMouseLeave:D,children:[v.jsxs("div",{className:"memo-top-wrapper",children:[v.jsxs("span",{className:"time-text",children:[E("DELETE AT")," ",a.deletedAtStr]}),v.jsxs("div",{className:"btns-container",children:[v.jsx("span",{ref:I=>{I&&x.setIcon(I,"more-horizontal")},className:"btn more-action-btn"}),v.jsx("div",{className:"more-action-btns-wrapper",children:v.jsxs("div",{className:"more-action-btns-container",children:[v.jsxs("div",{className:"more-action-menu-item",children:[v.jsx("span",{ref:g.restore,className:"more-action-item-icon"}),v.jsx("span",{className:"btn restore-btn",onClick:S,children:E("RESTORE")})]}),v.jsxs("div",{className:"more-action-menu-item",children:[v.jsx("span",{ref:g.source,className:"more-action-item-icon"}),v.jsx("span",{className:"btn",onClick:w,children:E("SOURCE")})]}),v.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[v.jsx("span",{ref:g.delete,className:"more-action-item-icon"}),v.jsx("span",{className:`btn delete-btn ${f?"final-confirm":""}`,onClick:y,children:E(f?"CONFIRMÔºÅ":"DELETE")})]})]})})]})]}),v.jsx("div",{ref:o,className:"memo-content-text",onContextMenu:I=>{I.preventDefault(),I.stopPropagation()}})]})},Qxe=({memos:e,query:t,HideDoneTasks:n})=>{const{tag:r,duration:a,type:o,text:i,filter:l}=t,c=on.getQueryById(l);return!!(r||a&&a.from<a.to||o||i||c)||c||n?e.filter(h=>{let g=!0;if(h.thinoType!==void 0&&n&&h.thinoType==="TASK-DONE"&&(g=!1),h.content.contains("comment:")&&(g=!1),c){const y=JSON.parse(c.querystring);Array.isArray(y)&&(g=Vp(h,y))}if(r){const y=new Set;for(const w of Array.from(h.content.match($r)||[])){const D=w.replace($r,"$1").trim().split("/");let I="";for(const M of D)I+=M,y.add(I),I+="/"}for(const w of Array.from(h.content.match(ua)||[])){const D=w.replace(ua,"$1").trim().split("/");let I="";for(const M of D)I+=M,y.add(I),I+="/"}for(const w of Array.from(h.content.match(Wa)||[])){const D=w.replace(Wa,"$2").trim().split("/");let I="";for(const M of D)I+=M,y.add(I),I+="/"}y.has(r)||(g=!1)}return a&&a.from<a.to&&(ut.getTimeStampByDate(h.createdAt)<a.from||ut.getTimeStampByDate(h.createdAt)>a.to)&&(g=!1),o&&(o==="NOT_TAGGED"&&(h.content.match($r)!==null||h.content.match(Wa)!==null||h.content.match(ua)!==null)||o==="LINKED"&&h.content.match(Af)===null||o==="IMAGED"&&h.content.match(Ff)===null||o==="CONNECTED"&&h.content.match(ad)===null)&&(g=!1),i&&!h.content.toLowerCase().includes(i.toLowerCase())&&(g=!1),g}):e.filter(h=>!h.content.contains("comment:"))},Xxe=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n}}=P.useContext(Lt),r=lm(),[a,o]=P.useState([]),i=ne.useRef(null),l=ne.useRef(null);P.useEffect(()=>{l.current&&x.setIcon(l.current,"more-horizontal")},[l]),P.useEffect(()=>{const w=Qxe({memos:n.filter(S=>S.deletedAt!==""&&S.deletedAt),query:e,HideDoneTasks:!1});o(w),r.setFinish()},[n,i.current,e]);const c=P.useCallback(w=>{o(S=>S.filter(D=>D.id!==w))},[]),f=P.useCallback(()=>{dt.setShowSiderbarInMobileView(!0)},[]),h=async()=>{if(!((a==null?void 0:a.length)>0))return;if(!await Vl()){fn();return}const w=[...a],S=ft.getState().settings.startSync,D=ft.getState().app,I=D==null?void 0:D.loadLocalStorage("tokenForSync");try{const M=w.filter(k=>k.sourceType==="DAILY"),N=w.filter(k=>k.sourceType!=="DAILY");for(const k of N){const R=await we.restoreMemoById(k.id);R&&R.webId&&I&&S&&await Xg(R.webId),R&&we.editMemo(R)}const B=Bu(M);for(const{path:k,thinos:R}of B){const L=await we.dealWithDailyThinoBulk(k,R,"restoreFromDelete");for(const _ of L)_&&_.webId&&I&&S&&await Xg(_.webId)}at.clearQuery(),new x.Notice(E("RESTORE SUCCEED"))}catch(M){new x.Notice(M.message)}},g=async()=>{if(!((a==null?void 0:a.length)>0))return;if(!await Vl()){fn();return}const w=[...a],S=ft.getState().settings,D=ft.getState().app,I=D==null?void 0:D.loadLocalStorage("tokenForSync");try{const M=w.filter(k=>k.sourceType==="DAILY"),N=w.filter(k=>k.sourceType!=="DAILY");for(const k of N)await we.deleteMemoById(k.id);const B=Bu(M);for(const{path:k,thinos:R}of B){const L=await we.dealWithDailyThinoBulk(k,R,"deleteForever");if(!(!I||!S.startSync))for(const _ of L)_&&_.webId&&await A2(_.webId)}at.clearQuery(),new x.Notice(E("DELETE SUCCEED"))}catch(M){console.error("error",M),new x.Notice(M.message)}},y=w=>{const S=new x.Menu;S.addItem(D=>{D.setTitle(E("Bulk restore")).setIcon("archive-restore").onClick(async()=>{new _s(app,E("RESTORE"),async I=>{I==="confirm"&&await h()}).open()})}).addItem(D=>{D.setTitle(E("Bulk delete")).setIcon("trash").onClick(async()=>{new _s(app,E("DELETE"),async I=>{I==="confirm"&&await g()}).open()})}),S.showAtMouseEvent(w.nativeEvent)};return v.jsxs("div",{className:"memo-trash-wrapper",ref:i,children:[v.jsxs("div",{className:"section-header-container",children:[v.jsxs("div",{className:"title-text",children:[v.jsx(ts,{when:t,children:v.jsx("button",{ref:w=>{w&&x.setIcon(w,"menu")},className:"btn action-btn clickable-icon",onClick:f})}),v.jsxs("span",{className:"go-home-btn",onClick:()=>{at.clearQuery(),at.setPathname("/")},children:["üè† ",E("Return To Home Page")]}),v.jsx("span",{ref:l,className:"menu-popup-btn",onClick:y})]}),v.jsx(_v,{})]}),v.jsx(yy,{thinosCount:a.length,thinos:a}),r.isLoading?v.jsx("div",{className:"tip-text-container",children:v.jsx("span",{className:"tip-text",children:E("Fetching data...")})}):a.length===0?v.jsx("div",{className:"tip-text-container",children:v.jsx("span",{className:"tip-text",children:E("Here is No Memos.")})}):v.jsx("div",{className:"deleted-memos-container",children:a.map(w=>v.jsx(Kxe,{memo:w,handleDeletedMemoAction:c},`${w.id}-${w.updatedAt}`))})]})},Q0="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='currentColor'%3e%3cpath%20d='M0%200h24v24H0V0z'%20fill='none'/%3e%3cpath%20d='M19%203H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2zm0%2016H5V5h14v14zM17.99%209l-1.41-1.42-6.59%206.59-2.58-2.57-1.42%201.41%204%203.99z'/%3e%3c/svg%3e",X0="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20fill='currentColor'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0V0z'/%3e%3cpath%20d='M19%205v14H5V5h14m0-2H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2z'/%3e%3c/svg%3e",eMe=()=>{const{globalState:e}=P.useContext(Lt),{useTinyUndoHistoryCache:t,shouldHideImageUrl:n,shouldSplitMemoWord:r,shouldUseMarkdownParser:a}=e,o=`üëã ‰Ω†Â•ΩÂëÄÔΩûÊ¨¢Ëøé‰ΩøÁî®memos!
* ‚ú® **ÂºÄÊ∫êÈ°πÁõÆ**Ôºõ
* üòã Á≤æÁæé‰∏îÁªÜËäÇÁöÑËßÜËßâÊ†∑ÂºèÔºõ
* üìë ‰ΩìÈ™å‰ºòËâØÁöÑ‰∫§‰∫íÈÄªËæëÔºõ`,i=()=>{dt.setAppSetting({useTinyUndoHistoryCache:!t})},l=()=>{dt.setAppSetting({shouldSplitMemoWord:!r})},c=()=>{dt.setAppSetting({shouldHideImageUrl:!n})},f=()=>{dt.setAppSetting({shouldUseMarkdownParser:!a})},h=async()=>{const g=we.getState().memos.map(S=>({...S})),y=JSON.stringify(g),w=document.createElement("a");w.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(y)),w.setAttribute("download","data.json"),w.style.display="none",document.body.appendChild(w),w.click(),document.body.removeChild(w)};return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"section-container preferences-section-container",children:[v.jsx("p",{className:"title-text",children:"Memo ÊòæÁ§∫Áõ∏ÂÖ≥"}),v.jsx("div",{className:"demo-content-container memo-content-text",dangerouslySetInnerHTML:{__html:dT(o)}}),v.jsxs("label",{className:"form-label checkbox-form-label",onClick:l,children:[v.jsx("span",{className:"normal-text",children:"‰∏≠Ëã±ÊñáÂÜÖÂÆπËá™Âä®Èó¥Èöî"}),v.jsx("img",{className:"icon-img",src:r?Q0:X0})]}),v.jsxs("label",{className:"form-label checkbox-form-label",onClick:f,children:[v.jsx("span",{className:"normal-text",children:"ÈÉ®ÂàÜ markdown Ê†ºÂºèËß£Êûê"}),v.jsx("img",{className:"icon-img",src:a?Q0:X0})]}),v.jsxs("label",{className:"form-label checkbox-form-label",onClick:c,children:[v.jsx("span",{className:"normal-text",children:"ÈöêËóèÂõæÁâáÈìæÊé•Âú∞ÂùÄ"}),v.jsx("img",{className:"icon-img",src:n?Q0:X0})]})]}),v.jsxs("div",{className:"section-container preferences-section-container",children:[v.jsx("p",{className:"title-text",children:"ÁºñËæëÂô®"}),v.jsxs("label",{className:"form-label checkbox-form-label",onClick:i,children:[v.jsxs("span",{className:"normal-text",children:["ÂêØÁî®"," ",v.jsx("a",{target:"_blank",href:"https://github.com/boojack/tiny-undo",onClick:g=>g.stopPropagation(),rel:"noreferrer",children:"tiny-undo"})]}),v.jsx("img",{className:"icon-img",src:t?Q0:X0})]})]}),v.jsxs("div",{className:"section-container thino-hidden",children:[v.jsx("p",{className:"title-text",children:"ÂÖ∂‰ªñ"}),v.jsx("div",{className:"btn-container",children:v.jsx("button",{className:"btn export-btn",onClick:h,children:"ÂØºÂá∫Êï∞ÊçÆ(JSON)"})})]})]})},tMe=()=>{const{globalState:{isMobileView:e}}=P.useContext(Lt);P.useEffect(()=>{we.fetchAllMemos()},[]);const t=P.useCallback(()=>{dt.setShowSiderbarInMobileView(!0)},[]);return v.jsxs("div",{className:"preference-wrapper",children:[v.jsx("div",{className:"section-header-container",children:v.jsxs("div",{className:"title-text",children:[v.jsx(ts,{when:e,children:v.jsx("button",{className:"action-btn",onClick:t})}),v.jsx("span",{className:"normal-text",children:"Ë¥¶Âè∑‰∏éËÆæÁΩÆ"})]})}),v.jsx("div",{className:"sections-wrapper",children:v.jsx(eMe,{})})]})},nMe=()=>{const{dailyNotesState:{app:e},locationState:{query:t},globalState:{isMobileView:n,changedByMemos:r},memoState:{memos:a}}=P.useContext(Lt),o=lm(),[i,l]=P.useState([]),[c,f]=P.useState([]),h=ne.useRef(null),g=ne.useRef(null),[y,w]=P.useState(!1),[S,D]=P.useState([]),I=ne.useRef([]),M=P.useCallback(({memos:k,query:R,HideDoneTasks:L})=>{const{tag:_,duration:V,type:U,text:Z,filter:Q}=R,G=on.getQueryById(Q);return!!(_||V&&V.from<V.to||U||Z||G)||G||L?k.filter(de=>{let fe=!0;if(de.thinoType!==void 0&&L&&de.thinoType==="TASK-DONE"&&(fe=!1),de.content.contains("comment:")&&(fe=!1),G){const $=JSON.parse(G.querystring);Array.isArray($)&&(fe=Vp(de,$))}if(_){const $=new Set;for(const he of Array.from(de.content.match($r)||[])){const ue=he.replace($r,"$1").trim().split("/");let X="";for(const oe of ue)X+=oe,$.add(X),X+="/"}for(const he of Array.from(de.content.match(ua)||[])){const ue=he.replace(ua,"$1").trim().split("/");let X="";for(const oe of ue)X+=oe,$.add(X),X+="/"}for(const he of Array.from(de.content.match(Wa)||[])){const ue=he.replace(Wa,"$2").trim().split("/");let X="";for(const oe of ue)X+=oe,$.add(X),X+="/"}$.has(_)||(fe=!1)}return V&&V.from<V.to&&(ut.getTimeStampByDate(de.createdAt)<V.from||ut.getTimeStampByDate(de.createdAt)>V.to)&&(fe=!1),U&&(U==="NOT_TAGGED"&&(de.content.match($r)!==null||de.content.match(ua)!==null)||U==="LINKED"&&de.content.match(Af)===null||U==="IMAGED"&&de.content.match(Ff)===null||U==="CONNECTED"&&de.content.match(ad)===null)&&(fe=!1),Z&&!de.content.toLowerCase().includes(Z.toLowerCase())&&(fe=!1),fe}):k},[]);P.useEffect(()=>{g.current&&(x.setIcon(g.current,"refresh-cw"),e.workspace.on("refresh-review-memos",B))},[g]),P.useEffect(()=>{if(!y)return;if(t){const L=[...M({memos:a,query:t,HideDoneTasks:!1})].sort(()=>Math.random()-Math.random()).slice(0,10);l(L),w(!1);return}const k=[...S].sort(()=>Math.random()-Math.random()).slice(0,10);l(k),w(!1)},[y]),P.useEffect(()=>{if(!(S.length>0))return;const k=[...S].sort(()=>Math.random()-Math.random()).slice(0,10);l(k),w(!1)},[S]),P.useEffect(()=>{h.current&&(D(M({memos:a,query:t,HideDoneTasks:!1}).filter(k=>k.rowStatus!=="ARCHIVED"&&!(k.deletedAt!==""&&k.deletedAt))),o.setFinish(),at.clearQuery())},[a,h.current]),P.useEffect(()=>{if(r&&I.current.length>0){const k=S.filter(L=>I.current.includes(L.id)),R=I.current.map(L=>k.find(_=>_.id===L)).filter(L=>L!==void 0);f(R);return}I.current=i.map(k=>k.id),f(i)},[i]),P.useEffect(()=>{if(i.length===0)return;const k=M({memos:i,query:t,HideDoneTasks:!1});f(k)},[t]);const N=P.useCallback(()=>{dt.setShowSiderbarInMobileView(!0)},[]),B=()=>{w(!0)};return v.jsxs("div",{className:"memo-review-wrapper",ref:h,children:[v.jsx("div",{className:"section-header-container",children:v.jsxs("div",{className:"title-wrapper",children:[v.jsxs("div",{className:"title-btns-left-wrapper",children:[v.jsx(ts,{when:n,children:v.jsx("button",{ref:k=>{k&&x.setIcon(k,"menu")},className:"btn action-btn clickable-icon",onClick:N})}),v.jsx("span",{ref:g,onClick:B,className:"refresh-icon"})]}),v.jsx("div",{className:"title-btns-right-wrapper",children:v.jsxs("span",{className:"go-home-btn",onClick:()=>{at.setPathname("/")},children:["üè† ",E("Return To Home Page")]})})]})}),v.jsx(yy,{}),o.isLoading?v.jsx("div",{className:"tip-text-container",children:v.jsx("span",{className:"tip-text",children:E("Fetching data...")})}):a.length===0?v.jsx("div",{className:"tip-text-container",children:v.jsx("span",{className:"tip-text",children:E("Here is No Memos.")})}):v.jsx("div",{className:"review-memos-container",children:c.map(k=>v.jsx(ai,{memo:k},`${k==null?void 0:k.id}-${k.createdAt}`))})]})},uP=({memos:e,query:t,HideDoneTasks:n})=>{const{tag:r,duration:a,type:o,text:i,filter:l}=t,c=on.getQueryById(l);return!!(r||a&&a.from<a.to||o||i||c)||c||n?e.filter(h=>{let g=!0;if(h.thinoType!==void 0&&n&&h.thinoType==="TASK-DONE"&&(g=!1),h.content.contains("comment:")&&(g=!1),c){const y=JSON.parse(c.querystring);Array.isArray(y)&&(g=Vp(h,y))}if(r){const y=new Set;for(const w of Array.from(h.content.match($r)||[])){const D=w.replace($r,"$1").trim().split("/");let I="";for(const M of D)I+=M,y.add(I),I+="/"}for(const w of Array.from(h.content.match(ua)||[])){const D=w.replace(ua,"$1").trim().split("/");let I="";for(const M of D)I+=M,y.add(I),I+="/"}for(const w of Array.from(h.content.match(Wa)||[])){const D=w.replace(Wa,"$2").trim().split("/");let I="";for(const M of D)I+=M,y.add(I),I+="/"}y.has(r)||(g=!1)}return a&&a.from<a.to&&(ut.getTimeStampByDate(h.createdAt)<a.from||ut.getTimeStampByDate(h.createdAt)>a.to)&&(g=!1),o&&(o==="NOT_TAGGED"&&(h.content.match($r)!==null||h.content.match(Wa)!==null||h.content.match(ua)!==null)||o==="LINKED"&&h.content.match(Af)===null||o==="IMAGED"&&h.content.match(Ff)===null||o==="CONNECTED"&&h.content.match(ad)===null)&&(g=!1),i&&!h.content.toLowerCase().includes(i.toLowerCase())&&(g=!1),g}):e.filter(h=>!h.content.contains("comment:"))},rMe=P.forwardRef((e,t)=>{const{currentDate:n,setCurrentDateStamp:r}=e,[a,o]=P.useState(!1),i=ut.getDateStampByDate(ut.getDateString(n)),l=P.useRef(null);P.useEffect(()=>{l.current&&(!a&&x.setIcon(l.current,"more-horizontal"),a&&x.setIcon(l.current,"x"))},[l.current,a]);const c=f=>{r(f)};return P.useImperativeHandle(t,()=>({closeDatePicker:()=>{o(!1)}})),v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"date-card-container",children:[v.jsxs("div",{className:"date-container-details",children:[v.jsxs("div",{className:"details-text",children:[x.moment(i,"x").format("dddd"),v.jsx("div",{className:"date-text",children:x.moment(i,"x").format("MMM")+x.moment(i,"x").format("DD")})]}),v.jsx("div",{className:"details-logo-text",children:E("Daily Memos")})]}),v.jsxs("div",{className:"date-container-info",children:[v.jsxs("div",{className:"date-container-info-text",children:["Week ",v.jsx("div",{className:"week-text",children:x.moment(i,"x").format("ww")}),"of ",v.jsx("div",{className:"year-text",children:x.moment(i,"x").format("YYYY")})]}),v.jsx("div",{ref:l,onClick:()=>o(!a)})]})]}),v.jsx(Cb,{className:`date-picker ${a?"":"thino-hidden"}`,datestamp:i,handleDateStampChange:c})]})}),aMe=({thino:e})=>{const t=P.useCallback(()=>{Df(e)},[]);return v.jsxs("div",{className:"daily-thino-wrapper",children:[v.jsx("div",{className:"time-wrapper",onClick:t,children:v.jsx("span",{className:"normal-text",children:x.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm")})}),v.jsx("div",{className:"daily-thino-container",children:v.jsx(ai,{memo:e})})]})},oMe=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n},dailyNotesState:{settings:r,app:a}}=P.useContext(Lt),o=lm(),[i,l]=P.useState([]),[c,f]=P.useState(ut.getDateStampByDate(ut.getDateString(x.moment().format("YYYY-MM-DD HH:mm:ss")))),h=P.useRef(),g=P.useRef(null),y=ne.useRef(null),w=P.useRef(null),[S,D]=P.useState(!1);P.useEffect(()=>{e.duration&&e.duration.from&&e.duration.to&&f(e.duration.from)},[e.duration]),P.useEffect(()=>{w.current&&(x.setIcon&&w&&!S&&x.setIcon(w.current,"share"),x.setIcon&&w&&S&&x.setIcon(w.current,"chrome"))},[w.current,S]),P.useEffect(()=>{const B=uP({memos:n,query:e,HideDoneTasks:!1}).filter(k=>ut.getTimeStampByDate(k.createdAt)>=c&&ut.getTimeStampByDate(k.createdAt)<c+ei).filter(k=>k.deletedAt==="").sort((k,R)=>ut.getTimeStampByDate(k.createdAt)-ut.getTimeStampByDate(R.createdAt));l(B.slice(0,40)),o.setFinish()},[n,c,y.current,e]);const I=P.useCallback(()=>{dt.setShowSiderbarInMobileView(!0)},[]),M=async()=>{var N;h.current&&((N=h==null?void 0:h.current)==null||N.closeDatePicker()),D(!0),document.body.toggleClass("thino-share-page",!0),setTimeout(async()=>{if(!g.current){D(!1);return}await qE(g.current),kb(g.current,{pixelRatio:window.devicePixelRatio*2}).then(B=>{if(r!=null&&r.AutoSaveWhenOnMobile&&x.Platform.isMobile){const k=B.split("base64,")[1];gb(k,"image/png").arrayBuffer().then(async L=>{let _;const V="png",U=Ju();for(const Z in U)if(U[Z]instanceof x.TFile){_=U[Z];break}_!==void 0&&await a.vault.createBinary(await vault.getAvailablePathForAttachments(`Pasted Image ${x.moment().format("YYYYMMDDHHmmss")}`,V,_),L)})}document.body.toggleClass("thino-share-page",!1),Nb({imgUrl:B}),D(!1)}).catch(()=>{document.body.toggleClass("thino-share-page",!1),D(!1)})},0)};return v.jsxs("div",{className:"daily-thinos-list-wrapper",ref:y,children:[v.jsxs("div",{className:"section-header-container",children:[v.jsxs("div",{className:"title-text",children:[v.jsx(ts,{when:t,children:v.jsx("button",{ref:N=>{N&&x.setIcon(N,"menu")},className:"btn action-btn clickable-icon",onClick:I})}),v.jsxs("span",{className:"go-home-btn",onClick:()=>{at.clearQuery(),at.setPathname("/")},children:["üè† ",E("Return To Home Page")]})]}),v.jsxs("div",{className:"header-right-section",children:[v.jsxs("div",{className:"btns-container",children:[v.jsx("span",{ref:N=>{x.setIcon&&N&&x.setIcon(N,"chevron-left")},className:"btn btn-text",onClick:()=>f(N=>N-ei)}),v.jsx("span",{ref:N=>{x.setIcon&&N&&x.setIcon(N,"chevron-right")},className:"btn btn-text",onClick:()=>f(N=>N+ei)}),v.jsx("span",{ref:w,className:ar("btn btn-text share-btn",S?"generating":""),onClick:M})]}),v.jsx(JE,{}),v.jsx(_v,{})]})]}),v.jsx(yy,{thinosCount:i.length,thinos:i}),v.jsx("div",{className:"daily-thinos-view-wrapper",children:v.jsxs("div",{ref:g,className:"daily-thinos-view-container",children:[v.jsx(rMe,{ref:h,currentDate:new Date(c),setCurrentDateStamp:f}),o.isLoading?v.jsx("div",{className:"tip-text-container",children:v.jsx("p",{className:"tip-text",children:E("Fetching data...")})}):i.length===0?v.jsx("div",{className:"tip-container",children:v.jsx("p",{className:"tip-text",children:E("Noooop!")})}):v.jsx("div",{className:"daily-thinos-list-container",children:i.map(N=>v.jsx(aMe,{thino:N},`${N.id}-${N.updatedAt}`))})]})})]})},iMe={"/recycle":v.jsx(Xxe,{}),"/setting":v.jsx(tMe,{}),"/archive":v.jsx(wxe,{}),"/review":v.jsx(nMe,{}),"/daily":v.jsx(oMe,{}),"*":v.jsx(Dxe,{})},cP=e=>t=>{for(const n of Object.keys(e))if(n===t)return e[n];return e["*"]},sMe=cP(Jxe),lMe=cP(iMe);function uMe({app:e}){const{locationState:{pathname:t},dailyNotesState:{settings:n}}=P.useContext(Lt);return P.useEffect(()=>{we.fetchAllMemos()},[]),!Kg()&&!e.plugins.getPlugin("periodic-notes")&&(n!=null&&n.EnabledLocationList.find(r=>r.value==="DAILY"))&&new x.Notice(E("Check if you opened Daily Notes Plugin Or Periodic Notes Plugin")),!Kg()&&(n!=null&&n.EnabledLocationList.find(r=>r.value==="DAILY"))&&!yR()&&new x.Notice(E("Your daily note folder is not set correctly, please check your settings")),v.jsx(is,{store:Le,context:Lt,children:sMe(t)})}function cMe(e){const t=e.view.canvas,n=ft.getState().settings.EnabledLocationList.find(i=>i.value==="CANVAS");if(!t||!e.view.file.path.endsWith(".thino.canvas")||t.thinoBtn||!n)return;const r=t.wrapperEl.createDiv({cls:"thino-canvas-menu-btn"}),a=Rv(r);a.render(v.jsx(ne.StrictMode,{children:v.jsx(is,{store:Le,context:Lt,children:v.jsx(dMe,{leaf:e})})})),t.thinoBtn=a,ft.getState().view.appendRoot({root:a,canvas:t})}function dMe({leaf:e}){const{memoState:{memos:t},locationState:{query:n}}=P.useContext(Lt),r=ne.useRef(null),a=ne.useRef(null),[o,i]=ne.useState(!1),[l,c]=ne.useState([]),[f,h]=ne.useState([]),{tag:g,duration:y,type:w,text:S,filter:D}=n,I=on.getQueryById(D),M=!!(g||y&&y.from<y.to||w||S||I);return P.useEffect(()=>{a.current&&x.setIcon(a.current,"eraser")},[a.current]),P.useEffect(()=>{r.current&&x.setIcon(r.current,"Memos")},[r.current]),P.useEffect(()=>{const N=e.view.file.path,B=t.filter(k=>k.sourceType==="CANVAS"&&k.path===N);c(B)},[t,o]),P.useEffect(()=>{if(l.length===0)return;if(!n||!M){h(l);return}const N=uP({memos:l,query:n,HideDoneTasks:!1});h(N)},[n,l]),P.useEffect(()=>{if(!n||!M&&f.length===0)return;const N=new Set(f.map(k=>k.id)),B=Array.from(e.view.canvas.nodes.values());B.forEach(k=>{k.nodeEl.toggleVisibility(!0),e.view.canvas.getEdgesForNode(k).forEach(R=>{var L,_,V;(L=R.lineGroupEl)==null||L.toggleClass("thino-hidden",!1),(_=R.lineStartGroupEl)==null||_.toggleClass("thino-hidden",!1),(V=R.lineEndGroupEl)==null||V.toggleClass("thino-hidden",!1)})}),B.filter(k=>!N.has(k.id)).forEach(k=>{k.nodeEl.toggleVisibility(!1),e.view.canvas.getEdgesForNode(k).forEach(R=>{var L,_,V;(L=R.lineGroupEl)==null||L.toggleClass("thino-hidden",!0),(_=R.lineStartGroupEl)==null||_.toggleClass("thino-hidden",!0),(V=R.lineEndGroupEl)==null||V.toggleClass("thino-hidden",!0)})})},[f]),v.jsxs(v.Fragment,{children:[v.jsx("div",{ref:r,className:"btn-container",onClick:()=>i(!o)}),o&&v.jsxs("div",{className:"thino-canvas-menu",children:[v.jsxs("div",{className:"thino-canvas-filter-group",children:[v.jsx(JE,{}),v.jsx(_v,{}),M&&v.jsx("div",{ref:a,className:"clear-query",onClick:()=>{at.clearQuery()}})]}),v.jsx(av,{initThinos:f})]})]})}function Hg(e,t){const n=Object.keys(t).map(r=>fMe(e,r,t[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}function fMe(e,t,n){const r=e[t],a=e.hasOwnProperty(t);let o=n(r);return r&&Object.setPrototypeOf(o,r),Object.setPrototypeOf(i,o),e[t]=i,l;function i(...c){return o===r&&e[t]===i&&l(),o.apply(this,c)}function l(){e[t]===i&&(a?e[t]=r:delete e[t]),o!==r&&(o=r,Object.setPrototypeOf(i,r||Function))}}const lo="thino_view";class hMe extends x.EditorSuggest{constructor(n,r){super(n);Se(this,"root");Se(this,"editor");Se(this,"cursor");Se(this,"plugin");this.plugin=r,this.suggestEl.toggleClass("thino-date-selector",!0)}checkInMemosView(n){var o;const r=n.containerEl;if(!r)return!1;const a=(o=r.parentElement)==null?void 0:o.parentElement;return(a==null?void 0:a.classList.contains("common-editor-inputer"))||!1}onTrigger(n,r){const o=r.getLine(n.line)[n.ch-1];return this.checkInMemosView(r)&&o==="@"?(this.cursor=n,this.editor=r,x.Platform.isMobile?(new e9(this.app,"text",i=>{this.selectSuggestion(parseInt(i),new MouseEvent("click"))}).open(),null):{start:{line:n.line,ch:n.ch-1},end:n,query:""}):null}getSuggestions(){return[parseInt(x.moment().startOf("day").format("x"))]}renderSuggestion(n,r){r.empty(),this.root=rs.createRoot(r),this.root.render(v.jsx(ne.StrictMode,{children:v.jsx(Cb,{className:"editor-date-picker",datestamp:n,handleDateStampChange:this.selectSuggestion.bind(this)})}))}selectSuggestion(n,r){var l,c,f;if(r instanceof KeyboardEvent||r instanceof PointerEvent&&!r.target.closest(".day-item"))return;const a=(l=this.app.workspace.getLeavesOfType("thino_view")[0])==null?void 0:l.view;(c=a==null?void 0:a.contentEl.find(".action-btn.list-or-task.list"))==null||c.click();let o="",i="";switch(this.plugin.settings.InsertDateFormat){case"Dataview":o="[due:: ",i="]";break;case"Tasks":o="üìÖ ";break}this.editor.replaceRange(o+x.moment(n).format("YYYY-MM-DD")+i,{line:this.cursor.line,ch:this.cursor.ch-1},this.cursor),(f=this.root)==null||f.unmount(),this.close()}}class pMe extends x.EditorSuggest{constructor(n,r){super(n);Se(this,"root");Se(this,"editor");Se(this,"cursor");Se(this,"plugin");Se(this,"memos",[]);this.plugin=r,this.memos=we.getState().memos.filter(a=>!a.deletedAt&&a.rowStatus!=="ARCHIVED")}checkInMemosView(n){var o;const r=n.containerEl;if(!r)return!1;const a=(o=r.parentElement)==null?void 0:o.parentElement;return(a==null?void 0:a.classList.contains("common-editor-inputer"))||!1}fuzzySearchItemsOptimized(n,r){const a=x.prepareFuzzySearch(n);return r.map(o=>{const i=a(o.content);return i?{item:o,match:i}:null}).filter(Boolean)}onTrigger(n,r){if(!this.checkInMemosView(r))return null;const o=r.getLine(n.line).slice(0,n.ch);if(o.lastIndexOf("~")===-1)return null;const i=o.slice(o.lastIndexOf("~")+1,n.ch);if(o[o.lastIndexOf("~")-1]!==" "&&o.lastIndexOf("~")!==0)return null;const l=i.trim();return this.memos=we.getState().memos.filter(c=>!c.deletedAt&&c.rowStatus!=="ARCHIVED"),{start:{line:n.line,ch:n.ch-l.length},end:n,query:l}}getSuggestions(n){return n.query?this.fuzzySearchItemsOptimized(n.query,this.memos).sort((a,o)=>o.match.score-a.match.score).map(a=>a.item).map(a=>({time:a.createdAt,id:a.id,content:a.content})):this.memos.map(a=>({time:a.createdAt,id:a.id,content:a.content}))}renderSuggestion(n,r){r.toggleClass("thino-suggestion",!0),r.createEl("div",{cls:"thino-suggestion-time",text:n.time}),r.createEl("div",{cls:"thino-suggestion-container"}).createEl("div",{cls:"thino-suggestion-content",text:n.content})}selectSuggestion(n){const r=n.id;this.context.editor.replaceRange("MARK: [@THINO]("+r+")",{line:this.context.end.line,ch:this.context.start.ch-1},this.context.end)}}class mMe{constructor(){Se(this,"path","/fake-file-that-generated-for-thino.png");Se(this,"basename","fake-file-that-generated-for-thino");Se(this,"extension","png");Se(this,"deleted",!1);Se(this,"name","fake-file-that-generated-for-thino.png");Se(this,"parent",null);Se(this,"stat");Se(this,"vault",null)}static[Symbol.hasInstance](t){return t instanceof x.TFile}setPath(t){}getNewPathAfterRename(t){}getShortName(){}cache(t){}updateCacheLimit(){}}class wf extends x.ItemView{constructor(n,r){super(n);Se(this,"scope",new x.Scope(this.app.scope));Se(this,"root");Se(this,"mobileHeaderRoot");Se(this,"plugin");Se(this,"memosComponent");Se(this,"rootList",[]);Se(this,"editor",null);Se(this,"navigation",!1);Se(this,"file",this.app.vault.getMarkdownFiles()[0]||new mMe);Se(this,"handleUpdateInstance",n=>{this.editor=n.editor});Se(this,"updateCacheDebounced",x.debounce(async n=>{this.app.vault.getFileByPath(n.path)&&await we.updateMemosInFile(n)},1e3));Se(this,"debounceTemplateExecution",x.debounce(async()=>{this.app.workspace.trigger("templater:all-templates-executed")},1e3));this.plugin=r,this.registerScope()}getDisplayText(){return"Thino"}getIcon(){return"Memos"}getViewType(){return lo}getMode(){return"source"}canToggleBacklinks(){return!1}registerScope(){const{scope:n}=this;n.register(["Mod"],"Enter",()=>{}),n.register([],"i",r=>{const a=r.target;a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.hasClass("cm-line")||a.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-textarea"))}),n.register(["Mod"],"f",r=>{const a=r.target;a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.hasClass("cm-line")||a.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-searchBar"))}),n.register([],"o",r=>{const a=r.target;a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.hasClass("cm-line")||a.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-searchBar"))}),n.register([],"Escape",()=>{setTimeout(()=>{this.plugin.app.workspace.trigger("blur-on-memos")},20)})}async onFileDeleted(n){var h,g,y,w,S;const r=hp(n,"day"),a=n.path.contains(".thino")&&n.path.contains(".canvas"),o=n.path.contains(".thino")&&n.path.contains(".md"),i=((h=this.plugin.settings)==null?void 0:h.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",l=(y=((g=n.parent)==null?void 0:g.path)||n.path)==null?void 0:y.contains(i==null?void 0:i.trim());(r||a&&this.plugin.settings.EnabledLocationList.find(D=>D.value==="CANVAS"))&&(await we.removeMemosInFile(n),we.updateTagsState()),l&&this.plugin.settings.EnabledLocationList.find(D=>D.value==="MULTI")&&(await we.removeMemosInFile(n,i),we.updateTagsState()),o&&this.plugin.settings.EnabledLocationList.find(D=>D.value==="FILE")&&(await we.removeMemosInFile(n),we.updateTagsState());const c=(w=x.getAllTags(this.app.metadataCache.getFileCache(n)))==null?void 0:w.contains(this.plugin.settings.TagForMultiTypeFiles),f=(S=x.getAllTags(this.app.metadataCache.getFileCache(n)))==null?void 0:S.contains(this.plugin.settings.TagForFileTypeFiles);!l&&c&&(await we.updateMemosInFile(n,i),we.updateTagsState()),!o&&f&&(await we.updateMemosInFile(n),we.updateTagsState())}async onFileModified(n){var g,y,w;if(dt.getState().changedByMemos){dt.setChangedByMemos(!1);return}const r=hp(n,"day"),a=n.path.contains(".thino")&&n.path.contains(".canvas"),o=n.path.contains(".thino")&&n.path.contains(".md"),i=((g=this.plugin.settings)==null?void 0:g.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",l=n.parent.path.contains(i==null?void 0:i.trim()),c=we.getState().preparingUpdateMemo&&we.getState().preparingUpdateMemo.length>0;if((r||a&&this.plugin.settings.EnabledLocationList.find(S=>S.value==="CANVAS"))&&!c){await we.updateMemosInFile(n),we.updateTagsState();return}l&&this.plugin.settings.EnabledLocationList.find(S=>S.value==="MULTI")&&(await we.updateMemosInFile(n,i),we.updateTagsState()),o&&this.plugin.settings.EnabledLocationList.find(S=>S.value==="FILE")&&(await we.updateMemosInFile(n),we.updateTagsState());const f=(y=x.getAllTags(this.app.metadataCache.getFileCache(n)))==null?void 0:y.contains(this.plugin.settings.TagForMultiTypeFiles),h=(w=x.getAllTags(this.app.metadataCache.getFileCache(n)))==null?void 0:w.contains(this.plugin.settings.TagForFileTypeFiles);!l&&f&&(await we.updateMemosInFile(n,i),we.updateTagsState()),!o&&h&&(await we.updateMemosInFile(n),we.updateTagsState())}async onFileCreated(n){var r,a,o;if(this.app.workspace.layoutReady&&this.root){const i=hp(n,"day"),l=n.path.contains(".thino")&&n.path.contains(".canvas"),c=n.path.contains(".thino")&&n.path.contains(".md"),f=((r=this.plugin.settings)==null?void 0:r.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",h=n.parent.path.contains(f==null?void 0:f.trim()),g=we.getState().preparingUpdateMemo&&we.getState().preparingUpdateMemo.length>0;if(i&&!g){await ft.updateDailyNotes(n,!1),await we.updateMemosInFile(n),we.updateTagsState();return}if(l&&this.plugin.settings.EnabledLocationList.find(S=>S.value==="CANVAS")){await we.updateMemosInFile(n),we.updateTagsState();return}h&&this.plugin.settings.EnabledLocationList.find(S=>S.value==="MULTI")&&(await we.updateMemosInFile(n,f),we.updateTagsState()),c&&this.plugin.settings.EnabledLocationList.find(S=>S.value==="FILE")&&(await we.updateMemosInFile(n),we.updateTagsState());const y=(a=x.getAllTags(this.app.metadataCache.getFileCache(n)))==null?void 0:a.contains(this.plugin.settings.TagForMultiTypeFiles),w=(o=x.getAllTags(this.app.metadataCache.getFileCache(n)))==null?void 0:o.contains(this.plugin.settings.TagForFileTypeFiles);!h&&y&&(await we.updateMemosInFile(n,f),we.updateTagsState()),!c&&w&&(await we.updateMemosInFile(n),we.updateTagsState())}}async onFileRenamed(n,r){n instanceof x.TFile&&(await we.removeThinosByPath(r),await this.onFileCreated(n))}async onResize(){var r;super.onResize();const n=this.leaf;if(n&&n.height!==0){if(n.view.containerEl.toggleClass("tiny-view",n.width<600),n.view.containerEl.toggleClass("waterfall-small-group",n.width<1300),n.width>950){n.view.containerEl.classList.toggle("mobile-view",!1),dt.setIsMobileView(n.width<=950);return}if((r=this.plugin.settings)!=null&&r.ShowLeftSideBar&&!x.Platform.isMobile)return;n.view.containerEl.classList.toggle("mobile-view",!0),dt.setIsMobileView(n.width<=950)}}appendToHeader(){const n=this.leaf.view.titleContainerEl;n&&(this.mobileHeaderRoot=rs.createRoot(n),this.mobileHeaderRoot.render(v.jsx(ne.StrictMode,{children:v.jsx(is,{store:Le,context:Lt,children:v.jsx(Iw,{})})})))}appendRoot({root:n,canvas:r}){this.rootList.push({root:n,canvas:r})}registerPatchWorkspaceLeaf(){const n=this;this.register(Hg(x.Workspace.prototype,{getActiveViewOfType:r=>function(a){const o=r.call(this,a);if(!o&&(a==null?void 0:a.VIEW_TYPE)==="markdown"){const i=this.activeLeaf;if((i==null?void 0:i.view)instanceof wf)return i.view}return o},setActiveLeaf:r=>function(a,o){if(GU(a)&&(r.call(this,a,o),a.activeTime=17e11),r.call(this,a,o),a.view instanceof wf){const i=dt.getState().instanceList.get(a.id);if(!i)return;n.app.workspace.activeEditor=i.owner,a.view.editor=i.editor}},getActiveFile:r=>function(){var o;const a=r.call(this);return((o=this.activeLeaf)==null?void 0:o.view)instanceof wf&&n.file||a}}))}async registerEventList(){await this.onResize(),this.onFileCreated=this.onFileCreated.bind(this),this.onFileDeleted=this.onFileDeleted.bind(this),this.onFileModified=this.onFileModified.bind(this),this.registerEvent(this.app.vault.on("create",this.onFileCreated)),this.registerEvent(this.app.vault.on("delete",this.onFileDeleted)),this.registerEvent(this.app.vault.on("modify",x.debounce(this.onFileModified,2e3,!0))),this.registerEvent(this.app.vault.on("rename",this.onFileRenamed.bind(this))),this.registerEvent(this.app.workspace.on("active-leaf-change",n=>{n.view.getViewType()==="canvas"&&cMe(n)})),this.registerEvent(this.app.metadataCache.on("changed",(n,r,a)=>{if(we.getState().preparingUpdateMemo&&we.getState().preparingUpdateMemo.length>0){this.debounceTemplateExecution();return}if(!we.initialized)return;hp(n,"day")&&this.updateCacheDebounced(n)})),this.registerEvent(this.app.workspace.on("templater:all-templates-executed",async()=>{await we.finishWaitingForTemplaterThinos()}))}registerActionList(){this.addAction("messages-square","Open thino discussion",()=>{window.open("https://github.com/Quorafind/Obsidian-Thino/discussions","_blank")}),this.addAction("help","Open thino help",()=>{window.open("https://thino.pkmer.net","_blank")})}async onOpen(){this.navigation=this.plugin.settings.navigation,x.Platform.isTablet&&document.body.toggleClass("is-tablet",!0),x.Platform.isMobile&&!x.Platform.isTablet&&this.appendToHeader(),await this.registerEventList(),this.registerActionList(),this.registerPatchWorkspaceLeaf();try{this.root=rs.createRoot(this.contentEl),ft.setView(this),this.root.render(v.jsx(ne.StrictMode,{children:v.jsx(uMe,{app:this.plugin.app})}))}catch(n){console.error(n)}}onunload(){var n;super.onunload(),this.root.unmount(),(n=this.mobileHeaderRoot)==null||n.unmount(),this.rootList.forEach(r=>{var a,o,i;(a=r==null?void 0:r.root)==null||a.unmount(),(o=r==null?void 0:r.canvas)!=null&&o.thinoBtn&&(r.canvas.thinoBtn=void 0),(i=r==null?void 0:r.canvas)!=null&&i.wrapperEl.find(".thino-canvas-menu-btn")&&r.canvas.wrapperEl.find(".thino-canvas-menu-btn").detach()})}}const TN={Memos:'<svg t="1641348507339" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2120" width="100" height="100"><path d="M126.692653 478.099639l-90.757281 0c-19.019408 0-34.437336 15.423923-34.437336 34.417356 0 18.992434 15.416929 34.477297 34.437336 34.477297l90.757281 0c19.013414 0 34.42335-15.484863 34.42335-34.477297C161.116003 493.523561 145.706067 478.099639 126.692653 478.099639zM244.662333 243.526943c13.742566-13.110184 14.310011-34.948836 1.185841-48.706388l-62.644762-65.668806c-13.128167-13.762547-34.974811-14.229091-48.717377-1.118906s-14.261059 34.911872-1.132893 48.674419l62.644762 65.668806C209.123074 256.13262 230.919767 256.637127 244.662333 243.526943zM543.066631 957.422083l-60.603757 0c-18.654764 0-33.794964 15.147193-33.794964 33.862898 0 18.661757 15.1402 32.71502 33.794964 32.71502l60.603757 0c18.654764 0 33.794964-14.053262 33.794964-32.71502C576.861595 972.568277 561.721395 957.422083 543.066631 957.422083zM988.076617 479.050709l-90.757281 0c-19.019408 0-34.437336 15.423923-34.437336 34.417356s15.416929 34.477297 34.437336 34.477297l90.757281 0c19.013414 0 34.42335-15.484863 34.42335-34.477297S1007.09003 479.050709 988.076617 479.050709zM512.268737 192.765564c-172.737143 0-312.75527 150.079292-312.75527 322.746503 0 125.630192 74.080583 233.957298 180.936128 283.703669l0 84.51838c0 16.762614 15.410935 31.35435 34.42335 31.35435 0.598415 0 1.193833-0.014985 1.785255-0.042958 0.618395 0.026974 1.239788 0.042958 1.867175 0.042958l187.479731 0c5.905227 0 11.455802-1.220807 16.288078-3.477601 12.231044-4.657447 20.795671-15.383962 20.795671-27.87575l0-84.052835c107.391021-49.534578 181.935151-158.147405 181.935151-284.168214C825.024007 342.843857 684.997888 192.765564 512.268737 192.765564zM574.863548 742.713968l0 80.17063c0 3.159911-0.221783 5.976158-0.642372 8.496694l0 19.092336-124.910895 0 0-17.71768c-0.423586-2.856208-0.642372-6.123015-0.642372-9.870351l0-80.443363c-99.204024-27.75387-171.970892-118.821847-171.970892-226.930167 0-130.094827 105.4689-245.507007 235.571719-245.507007s235.563727 115.41218 235.563727 245.507007C747.832465 623.984031 674.578074 715.293772 574.863548 742.713968zM895.407204 129.328576c-13.429872-13.429872-35.233558-13.439862-48.677416 0.004995l-64.174267 64.175266c-13.448853 13.448853-13.443858 35.257534-0.013986 48.687406 13.429872 13.429872 35.281511 13.477825 48.730364 0.028972l64.175266-64.175266C908.889025 164.605092 908.837076 142.758448 895.407204 129.328576zM511.796199 159.617967c18.992434 0 34.417356-15.410935 34.417356-34.42335l0-90.757281c0-19.019408-15.423923-34.437336-34.417356-34.437336-18.992434 0-34.477297 15.416929-34.477297 34.437336l0 90.757281C477.317903 144.208031 492.802766 159.617967 511.796199 159.617967z" fill="currentColor" p-id="2121"></path></svg>'};function gMe(){Object.keys(TN).forEach(e=>{x.addIcon(e,TN[e])})}const nC=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;const IN=typeof TextEncoder=="function"?new TextEncoder:void 0,vMe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ug=Array.prototype.slice.call(vMe);(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(Ug);const Ll=String.fromCharCode.bind(String);typeof Uint8Array.from=="function"&&Uint8Array.from.bind(Uint8Array);const yMe=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),wMe=e=>{let t,n,r,a,o="";const i=e.length%3;for(let l=0;l<e.length;){if((n=e.charCodeAt(l++))>255||(r=e.charCodeAt(l++))>255||(a=e.charCodeAt(l++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|a,o+=Ug[t>>18&63]+Ug[t>>12&63]+Ug[t>>6&63]+Ug[t&63]}return i?o.slice(0,i-3)+"===".substring(i):o},dP=typeof btoa=="function"?e=>btoa(e):nC?e=>Buffer.from(e,"binary").toString("base64"):wMe,bMe=nC?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,a=e.length;r<a;r+=4096)n.push(Ll.apply(null,e.subarray(r,r+4096)));return dP(n.join(""))},SMe=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Ll(192|t>>>6)+Ll(128|t&63):Ll(224|t>>>12&15)+Ll(128|t>>>6&63)+Ll(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Ll(240|t>>>18&7)+Ll(128|t>>>12&63)+Ll(128|t>>>6&63)+Ll(128|t&63)}},DMe=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,TMe=e=>e.replace(DMe,SMe),EN=nC?e=>Buffer.from(e,"utf8").toString("base64"):IN?e=>bMe(IN.encode(e)):e=>dP(TMe(e)),IMe=(e,t=!1)=>t?yMe(EN(e)):EN(e),nT=x.Platform.isDesktop&&require("os"),fP=async()=>{var r,a;let e="";if(x.Platform.isDesktop)e=await cr();else{const o=await((r=window.Capacitor)==null?void 0:r.Plugins.Device.getId());e=o.identifier||o.uuid}let t;if(nT)t=JSON.stringify({hostname:nT.hostname(),platform:nT.platform(),machineid:e});else{const o=await((a=window.Capacitor)==null?void 0:a.Plugins.Device.getInfo()),i=o==null?void 0:o.model,l=o==null?void 0:o.platform;t=JSON.stringify({hostname:i||("mobile"+x.Platform.isMobile?Math.random().toString(36).substring(7):""),platform:l||"mobile",machineid:e})}return IMe(t)},EMe=async()=>{var t;let e="";if(x.Platform.isDesktop)e=await cr();else{const n=await((t=window.Capacitor)==null?void 0:t.Plugins.Device.getId());e=n.identifier||n.uuid}return e},CMe={General:"chef-hat",Thino:"Memos",Interface:"brush",Share:"share-2",Advanced:"cog"},xMe=[{value:"DAILY",target:"ProcessEntriesBelow",insert:"InsertAfter"},{value:"CANVAS",target:"MemoDefaultCanvasPath"},{value:"MULTI",target:"MemoDefaultMultiFilePath"},{value:"FILE",target:"MemoDefaultSingleFilePath"}],Ei={FirstLoaded:!0,StartDate:"Sunday",InsertAfter:"",UserName:"THINO üòâ",ProcessEntriesBelow:"",Language:"en",SaveMemoButtonLabel:"NOTE",SaveMemoButtonIcon:"",ShareFooterStart:"{ThinoNum} Thino {UsedDay} Day",ShareFooterEnd:"‚úçÔ∏è by {UserName}",DefaultPrefix:"List",DefaultTimePrefix:"HH:mm",UseDailyOrPeriodic:"Daily",InsertDateFormat:"Tasks",DefaultEditorLocation:"Top",UseButtonToShowEditor:!1,FocusOnEditor:!0,OpenDailyMemosWithMemos:!0,HideDoneTasks:!1,ShowTaskLabel:!0,AppendDateWhenTaskDone:!1,MobileAndDesktop:"All",OpenMemosAutomatically:!1,ShowScrollbar:!1,ShowTime:!0,ShowDate:!0,AddBlankLineWhenDate:!1,AutoSaveWhenOnMobile:!1,DeleteFileName:"delete",QueryFileName:"query",UseVaultTags:!1,SetCustomBackgroundImage:!1,SetCustomMemoFooter:!1,DefaultLightBackgroundImage:"",DefaultDarkBackgroundImage:"",DefaultLightBackgroundImageForClean:"",DefaultDarkBackgroundImageForClean:"",DefaultMemoComposition:"{TIME} {CONTENT}",CommentOnMemos:!1,CommentsInOriginalNotes:!1,FetchMemosMark:"#memo",FetchMemosFromNote:!1,ShowCommentOnMemos:!1,ShowLeftSideBar:!1,MemoListView:"list",MemoSaveLocation:"DAILY",MemoOtherSaveLocation:{MemoDefaultCanvasPath:"basic.thino.canvas",MemoDefaultMultiFilePath:"Thino",MemoDefaultSingleFilePath:"basic.thino.md"},MemoDailyTarget:5,HeatmapColorScheme:"default",EnabledHttpApi:!1,HttpApiIpType:"127.0.0.1",HttpApiPort:"43999",AutoDownloadImage:!1,EditorType:"obsidian",EnabledLocationList:[{value:"DAILY",target:"ProcessEntriesBelow",insert:"InsertAfter"}],DeleteThinoDirectly:!1,CaptureKey:{EnableCaptureKey:!1,OpenThinoGlobally:"CommandOrControl+Shift+T",ShowNearMouse:!1},startSync:!1,tokenForVerify:{},saveThinoType:"FILE",showDayMark:!1,dayMarkRange:"day",navigation:!1,password:"",needVerify:!1,addTagAutomatically:!1,addTagPosition:"End",addTagWithNewline:!1,chatViewStyle:"default",MomentsBackgroundImage:"https://images.pexels.com/photos/531767/pexels-photo-531767.jpeg",MomentsIcon:"https://images.pexels.com/photos/256514/pexels-photo-256514.jpeg",MomentsQuote:"Share your thino with the world",DefaultThemeForThino:"modern",LastUpdatedVersion:"0.0.0",ShareToThinoWithText:!1,ShareToThinoWithTextAppend:"",ShareToThinoWithTextPrepend:"",ShareToThinoWithTextNewline:"none",hidePinnedGroup:!1,DifferentInsertTarget:!1,InsertAfterForTask:"",ProcessContentTarget:"custom",InsertType:"custom",ShareAppendType:"preset",SharePrependType:"preset",SetFileNameAfterCreate:!1,TagForFileTypeFiles:"thino/file",TagForMultiTypeFiles:"thino/multi",MinHeightForShare:"200px",ThinoMaxHeight:0,ThinoCollapsedHeight:100,OptimizeForCallout:!0,AppendOrPrependTextViaServer:!1,AppendViaServer:"",PrependViaServer:"",WithNewLineViaServer:"none",SupportSelectOtherView:!1,WaitTemplaterToFinishParse:!1,NavbarButton:!1,AlwaysShowStatusText:!1,FilterByMetadata:!1,ShowSourcePath:!1,ShowUpdateMessage:!0,SyncManually:!1};function MMe({plugin:e}){const{dailyNotesState:{verifyState:t}}=P.useContext(Lt),[n,r]=P.useState(!1),[a,o]=P.useState(!1),[i,l]=P.useState(""),[c,f]=P.useState("");P.useEffect(()=>{EMe().then(y=>{f(y)})},[]);const h=async()=>{var D;const y=i,w=!x.Platform.isDesktop&&await((D=window.Capacitor)==null?void 0:D.Plugins.Device.getId()),S=x.Platform.isDesktop?await cr():w.identifier||w.uuid;y&&(e.settingTab.updateSettings("tokenForVerify",{...e.settings.tokenForVerify,[S]:y}),e.verify().then(I=>{I&&(r(!0),dt.setRefresh(!0),setTimeout(()=>{e.settingTab.display()},200),e.registerToolbarCheck()),new x.Notice(E(I?"Verify successfully":"Failed to verify"))}).catch(I=>{new x.Notice(E("Failed to verify"))}))},g=async y=>{l(y)};return v.jsx("div",{className:"thino-verify-component",children:t?v.jsxs("div",{className:"thino-verify-content verified",children:[v.jsx("div",{className:"thino-verified-text",children:E("You have verified your account. Congrats!")}),v.jsx("div",{className:"thino-description-link",children:v.jsxs("p",{children:[E("If you have any questions, please contact us."),v.jsx("span",{className:"thino-url",onClick:()=>{const y=localStorage.getItem("language");y&&(y==="zh"||y==="zh-TW")?window.open("https://pkmer.cn","_blank"):window.open("https://thino.pkmer.net/en/","_blank")},children:"@ PKMer"})]})})]}):v.jsxs("div",{className:"thino-verify-content",children:[v.jsxs("div",{className:"thino-description-link",children:[E("You can buy a license from")+"->",v.jsxs("span",{className:"thino-url",onClick:()=>{const y=localStorage.getItem("language");y&&(y==="zh"||y==="zh-TW")?window.open("https://pkmer.cn/products/thino","_blank"):window.open("https://thino.pkmer.net/en/#price","_blank")},children:[" ","PKMer"]})]}),v.jsx("textarea",{className:"thino-verify-textarea",value:i,onChange:y=>g(y.target.value),placeholder:E("Input activation code here")}),v.jsxs("div",{className:"thino-button-container",children:[v.jsxs("div",{className:"thino-button-group",children:[v.jsx("button",{onClick:async()=>{try{const y=await fP();await navigator.clipboard.writeText(y),o(!0)}catch(y){console.error(y),new x.Notice("Failed to copy id");return}new x.Notice(E("Copied to clipboard Successfully"))},children:E("Copy Thino id")}),v.jsx("button",{onClick:()=>{if(!a){new x.Notice(E("Please copy Thino id first"));return}const y=localStorage.getItem("language");y&&(y==="zh"||y==="zh-TW")?window.open("https://pkmer.cn/products/UserProfile/#tab-21&getCode","_blank"):window.open("https://pkmer.net/en/userprofile/#tab-21&getCode","_blank"),r(!0)},children:E("Get activation code")}),i&&v.jsx(v.Fragment,{children:v.jsx("button",{onClick:async()=>{await h()},children:E("Verify")})})]}),n?v.jsx("p",{children:E("After you verify your account, please refresh this page.")}):""]}),v.jsxs("div",{className:"thino-description-link",children:[E("If you have any questions, please contact us."),v.jsx("span",{className:"thino-url",onClick:()=>{const y=localStorage.getItem("language");y&&(y==="zh"||y==="zh-TW")?window.open("https://pkmer.cn","_blank"):window.open("https://thino.pkmer.net/en/","_blank")},children:"@ PKMer"})]})]})})}class kMe extends x.PluginSettingTab{constructor(n,r){super(n,r);Se(this,"plugin");Se(this,"applyDebounceTimer",0);Se(this,"tabContent",new Map);Se(this,"selectedTab","General");Se(this,"search");Se(this,"searchSettingInfo",new Map);Se(this,"searchZeroState");Se(this,"navigateEl");Se(this,"passwordMatched",!1);Se(this,"root");Se(this,"debounceApplySettingsUpdate",x.debounce(async()=>{await this.plugin.saveSettings()},100,!0));Se(this,"debounceDisplay",x.debounce(async()=>{await this.display()},300,!0));this.plugin=r}updateSettings(n,r){this.plugin.settings={...this.plugin.settings,[n]:r},this.applySettingsUpdate()}applySettingsUpdate(){this.debounceApplySettingsUpdate(),we.updateTagsState()}async hide(){var n;(n=this.root)==null||n.unmount(),this.passwordMatched=!1}async display(){var n;await this.plugin.loadSettings(),this.root&&((n=this.root)==null||n.unmount()),this.containerEl.empty(),this.containerEl.toggleClass("memos-settings",!0),x.Platform.isMobile&&this.containerEl.toggleClass("memos-mobile",!0),this.generateSettingsTitle(),this.addTabHeader()}generateSettingsTitle(){const n=this.containerEl.createDiv("memos-setting-title");n.createEl("h2",{text:"Thino"}),this.generateSearchBar(n)}addTabHeader(){const n=this.containerEl.createEl("nav",{cls:"memos-setting-header"});this.navigateEl=n.createDiv("memos-setting-tab-group");const r=this.containerEl.createDiv("memos-setting-content");this.updateOldData(),this.createTabAndContent("General",this.navigateEl,r,(a,o)=>this.generateGeneralSettings(o,a)),this.createTabAndContent("Thino",this.navigateEl,r,(a,o)=>this.generateMemosSettings(o,a)),this.createTabAndContent("Interface",this.navigateEl,r,(a,o)=>this.generateThemeSettings(o,a)),this.createTabAndContent("Share",this.navigateEl,r,(a,o)=>this.generateShareSettings(o,a)),this.createTabAndContent("Advanced",this.navigateEl,r,(a,o)=>this.generateAdvancedSettings(o,a)),this.createSearchZeroState(r)}updateOldData(){this.plugin.settings.UserName.startsWith("MEMO ")&&(this.plugin.settings.UserName="THINO üòâ"),this.plugin.settings.ShareFooterStart.contains("{Memo")&&(this.plugin.settings.ShareFooterStart=this.plugin.settings.ShareFooterStart.replace("{MemosNum}","{ThinoNum}").replace("memos","thino")),this.applySettingsUpdate()}generateSearchBar(n){const r=new x.Setting(n);r.settingEl.style.border="none",r.addSearch(a=>{this.search=a}),this.search.setPlaceholder(E("Search all settings")),this.search.inputEl.oninput=()=>{for(const a of this.tabContent){const o=a[1];o.navButton.removeClass("memos-navigation-item-selected"),o.content.show(),o.heading.show();const i=this.search.getValue();this.selectedTab==""&&i.trim()!=""&&this.searchSettings(i.toLowerCase()),this.selectedTab=""}this.navigateEl.addClass("memos-setting-searching")},this.search.inputEl.onblur=()=>{this.navigateEl.removeClass("memos-setting-searching")},this.search.onChange(a=>{var o;if(a===""){this.triggerTabChange((o=this.tabContent.get("General"))==null?void 0:o.navButton,"General");return}this.searchSettings(a.toLowerCase())})}triggerTabChange(n,r){if(this.selectedTab==r)return;n.toggleClass("memos-navigation-item-selected",!0);const a=this.tabContent.get(r);if((a==null?void 0:a.content).show(),this.selectedTab!=""){const o=this.tabContent.get(this.selectedTab);o==null||o.navButton.removeClass("memos-navigation-item-selected"),(o==null?void 0:o.content).hide()}else{this.searchZeroState.hide();for(const o of this.searchSettingInfo)for(const i of o[1])i.containerEl.show();for(const o of this.tabContent){const i=o[1];i.heading.hide(),r!==o[0]&&i.content.hide()}}this.selectedTab=r}createTabAndContent(n,r,a,o){const i=this.selectedTab===n,l=r.createDiv("memos-navigation-item");l.toggleClass("memos-desktop",!0),x.setIcon(l.createEl("div",{cls:"memos-navigation-item-icon"}),CMe[n]),l.createSpan({text:E(n)}),l.onclick=()=>{this.triggerTabChange(l,n)};const c=a.createDiv("memos-tab-settings"),f=c.createEl("h2",{cls:"memos-setting-heading",text:n+" Settings"});f.hide(),c.id=n.toLowerCase().replace(" ","-"),i?l.addClass("memos-navigation-item-selected"):c.hide(),o&&o(c,n),this.tabContent.set(n,{content:c,heading:f,navButton:l})}searchSettings(n){var o;const r=new Set,a=(i,l)=>{i.show(),r.has(l)||r.add(l)};for(const i of this.searchSettingInfo){const l=i[0],c=i[1];for(const f of c)if(n.trim()===""||(o=f.alias)!=null&&o.includes(n)||f.description.includes(n)||f.name.includes(n))a(f.containerEl,l);else if(f.options&&f.options.length>0)for(const h of f.options){if(h.description.toLowerCase().includes(n)||h.name.toLowerCase().includes(n)){a(f.containerEl,l);break}else if(h.options){for(const g of h.options)if(g.description.toLowerCase().includes(n)||g.value.toLowerCase().includes(n)){a(f.containerEl,l);break}}f.containerEl.hide()}else f.containerEl.hide()}for(const i of this.tabContent)r.has(i[0])?i[1].heading.show():i[1].heading.hide();r.size===0?this.searchZeroState.show():this.searchZeroState.hide()}addSettingToMasterSettingsList(n,r,a="",o="",i=[],l=""){var f;const c={containerEl:r,name:a.toLowerCase(),description:o.toLowerCase(),options:i,alias:l};this.searchSettingInfo.has(n)?(f=this.searchSettingInfo.get(n))==null||f.push(c):this.searchSettingInfo.set(n,[c])}createSearchZeroState(n){this.searchZeroState=n.createDiv(),this.searchZeroState.hide(),this.searchZeroState.createEl(x.Platform.isMobile?"h3":"h2",{text:"No settings match search"}).style.textAlign="center"}generateGeneralSettings(n,r){this.customHeading(n,r)}async generateThemeSettings(n,r){var c;const a=ft.getState().verifyState,o=!x.Platform.isDesktop&&await((c=window.Capacitor)==null?void 0:c.Plugins.Device.getId()),i=x.Platform.isDesktop?await cr():o.identifier||o.uuid,l=a&&(a==null?void 0:a.appId)===i;await this.customNameAndTheme(n,r,l)}async generateMemosSettings(n,r){var c;const a=ft.getState().verifyState,o=!x.Platform.isDesktop&&await((c=window.Capacitor)==null?void 0:c.Plugins.Device.getId()),i=x.Platform.isDesktop?await cr():o.identifier||o.uuid,l=a&&(a==null?void 0:a.appId)===i;this.setPasswordSettings(n,r),this.addMemoSettings(n,r),this.addTaskRelatedSettings(n,r),this.customFileNameSettings(n,r,l),this.addThinoProSettings(n,r,l)}async generateShareSettings(n,r){var c;const a=ft.getState().verifyState,o=!x.Platform.isDesktop&&await((c=window.Capacitor)==null?void 0:c.Plugins.Device.getId()),i=x.Platform.isDesktop?await cr():o.identifier||o.uuid,l=a&&(a==null?void 0:a.appId)===i;new Je(r,this).setHeading().setTab(n).setName("üìÑ "+E("Copy filtered results")),this.copyMemosSettings(n,r),new Je(r,this).setHeading().setTab(n).setName("üñº "+E("Share image")),this.shareMemosSettings(n,r),x.Platform.isMobile&&this.shareToThinosSettings(n,r,l)}async generateAdvancedSettings(n,r){var c;this.saveDataSettings(n,r),this.fetchDataSettings(n,r),this.navigationSettings(n,r),this.optimizeForCalloutSettings(n,r),this.addUpdateMessageSettings(n,r),this.clearConfigSettings(n,r);const a=ft.getState().verifyState,o=!x.Platform.isDesktop&&await((c=window.Capacitor)==null?void 0:c.Plugins.Device.getId()),i=x.Platform.isDesktop?await cr():o.identifier||o.uuid,l=a&&(a==null?void 0:a.appId)===i;this.setGlobalSettings(n,r,l)}async customNameAndTheme(n,r,a){new Je(r,this).setName(E("Theme for Thino")).setDesc(E("Set the theme for Thino")).setTab(n).addDropdown(async i=>{i.addOption("modern","Modern"),i.addOption("classic","Classic"),i.setValue(this.plugin.settings.DefaultThemeForThino).onChange(async l=>{this.plugin.settings.DefaultThemeForThino=l,this.applySettingsUpdate()})}),new Je(r,this).setTab(n).setHeading().setName("üé® "+E("Interface Details"));let o;new Je(r,this).setName(E("Heatmap Color Scheme")).setDesc(E("Set different color scheme for heatmap.")).setTab(n).addDropdown(async i=>{o=i,o.addOption("default",E("Default")),o.addOption("gray",E("Gray")),o.addOption("grass",E("Grass")),o.addOption("flame",E("Flame")),o.addOption("olive",E("Olive")),o.addOption("ice",E("Ice")),o.addOption("magenta",E("Magenta")),o.setValue(this.plugin.settings.HeatmapColorScheme).onChange(async l=>{this.plugin.settings.HeatmapColorScheme=l,this.applySettingsUpdate()})}),new Je(r,this).setName(E("Save Memo button label")).setDesc(E("The text shown on the save Memo button in the UI. 'NOTEIT' by default.")).setTab(n).addText(i=>i.setPlaceholder(Ei.SaveMemoButtonLabel).setValue(this.plugin.settings.SaveMemoButtonLabel).onChange(async l=>{this.plugin.settings.SaveMemoButtonLabel=l,this.applySettingsUpdate()})),!x.Platform.isMobile&&new Je(r,this).setName(E("Always Show Leaf Sidebar on PC")).setDesc(E("Show left sidebar on PC/Tablet even when the leaf width is less than 875px. False by default.")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.ShowLeftSideBar).onChange(async l=>{this.plugin.settings.ShowLeftSideBar=l,this.applySettingsUpdate()})),new Je(r,this).setName(E("Max height for collapse")).setDesc(E("The max height for thino collapse, when set 0, thino would not collapse. 0 by default. (This is not lines count, it is height in px.)")).setTab(n).addText(i=>i.setPlaceholder(Ei.ThinoMaxHeight.toString()).setValue(this.plugin.settings.ThinoMaxHeight.toString()).onChange(async l=>{if(Number(l)<80&&Number(l)!==0){new x.Notice(E("The value should be greater than")+"80");return}this.plugin.settings.ThinoMaxHeight=Number(l),this.debounceApplySettingsUpdate()})),new Je(r,this).setName(E("Thino height when collapsed")).setDesc(E("The height for thino when it is collapsed, when set 0, thino would not collapse. 100 by default. (This is not lines count, it is height in px.)")).setTab(n).addText(i=>i.setPlaceholder(Ei.ThinoCollapsedHeight.toString()).setValue(this.plugin.settings.ThinoCollapsedHeight.toString()).onChange(async l=>{if(Number(l)<40&&Number(l)!==0){new x.Notice(E("The value should be greater than")+"40");return}this.plugin.settings.ThinoCollapsedHeight=Number(l),this.debounceApplySettingsUpdate()})),await this.getEditorLocation(r,n),new Je(r,this).setHeading().setTab(n).setName("üíé "+E("Pro features")),new Je(r,this).setName(E("Always show status text")).addToggle(i=>i.setValue(this.plugin.settings.AlwaysShowStatusText).onChange(async l=>{this.plugin.settings.AlwaysShowStatusText=l,document.body.toggleClass("thino-show-status",l),this.applySettingsUpdate()})),x.Platform.isMobile&&new Je(r,this).setName(E("Quick add button on mobile navbar")).setTab(n).addToggle(i=>{i.setValue(this.plugin.settings.NavbarButton).onChange(async l=>{if(!a){fn();return}this.plugin.settings.NavbarButton=l,this.applySettingsUpdate()})}),this.addThinoDailyMarkSettings(n,r,a),new Je(r,this).setName(E("Chat view style")).setDesc(E("Set the style of chat view")).setTab(n).addDropdown(async i=>{o=i,o.addOption("default","Default"),o.addOption("fluent","Fluent"),o.addOption("inline","Inline"),o.setValue(this.plugin.settings.chatViewStyle).onChange(async l=>{if(!a){fn();return}this.plugin.settings.chatViewStyle=l,this.applySettingsUpdate()})}),new Je(r,this).setName(E("Can select other views when leaf width is not enough")).setDesc(E("This option will allow you use other views when leaf width is not enough. False by default.")).setTab(n).addToggle(i=>{i.setValue(this.plugin.settings.SupportSelectOtherView).onChange(async l=>{if(!a){fn();return}this.plugin.settings.SupportSelectOtherView=l,this.applySettingsUpdate()})}),this.addThinoMomentsSettings(n,r,a)}addThinoDailyMarkSettings(n,r,a){let o;new Je(r,this).setName(E("Show day mark in thino list")).setDesc(E("Show day mark on the top of daily range thino. False by default.")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.showDayMark).onChange(async l=>{if(!a){fn();return}this.plugin.settings.showDayMark=l,this.applySettingsUpdate(),this.debounceDisplay()})),this.plugin.settings.showDayMark&&(new Je(r,this).setName(E("Day mark range")).setDesc(E("Set the range of day mark. Day by default.")).setTab(n).addDropdown(async i=>{o=i,o.addOption("day","day"),o.addOption("week","week"),o.addOption("month","month"),o.addOption("quarter","quarter"),o.addOption("year","year"),o.setValue(this.plugin.settings.dayMarkRange).onChange(async l=>{this.plugin.settings.dayMarkRange=l,this.applySettingsUpdate()})}),new Je(r,this).setName(E("Hide pinned group")).setDesc(E("Hide pinned group in thino list. False by default.")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.hidePinnedGroup).onChange(async l=>{if(!a){fn();return}this.plugin.settings.hidePinnedGroup=l,this.applySettingsUpdate()})))}addThinoMomentsSettings(n,r,a){new Je(r,this).setTab(n).setName(E("Background image for moments view")).setDesc(E("Set the background image for moments view")).addText(o=>{new sf(o.inputEl),o.setPlaceholder("URL").setValue(this.plugin.settings.MomentsBackgroundImage).onChange(async i=>{a&&(this.plugin.settings.MomentsBackgroundImage=i,this.applySettingsUpdate())})})}async getEditorLocation(n,r){let a;x.Platform.isMobile&&(new Je(n,this).setName(E("Default editor position on mobile")).setDesc(E("Set the default editor position on Mobile, 'Top' by default.")).setTab(r).addDropdown(async o=>{a=o,a.addOption("Top",E("Top")),a.addOption("Bottom",E("Bottom")),a.setValue(this.plugin.settings.DefaultEditorLocation).onChange(async i=>{this.plugin.settings.DefaultEditorLocation=i,this.applySettingsUpdate(),setTimeout(()=>{this.display()},200)})}),this.plugin.settings.DefaultEditorLocation!=="Top"&&new Je(n,this).setName(E("Use button to show editor on mobile")).setDesc(E("Set a float button to call editor on mobile. Only when editor located at the bottom works.")).setTab(r).addToggle(o=>o.setValue(this.plugin.settings.UseButtonToShowEditor).onChange(async i=>{this.plugin.settings.UseButtonToShowEditor=i,this.applySettingsUpdate()})))}customHeading(n,r){new Je(r,this).setHeading().setName("üë§ "+E("User info")).setTab(n),new Je(r,this).setName(E("User name")).setDesc(E("Set your user name here. 'Memos üòè' By default")).setTab(n).addText(y=>y.setPlaceholder(Ei.UserName).setValue(this.plugin.settings.UserName).onChange(async w=>{this.plugin.settings.UserName=w,this.applySettingsUpdate()})),new Je(r,this).setTab(n).setName(E("User icon")).setDesc(E("Set user icon for thino. You can input http/https link or file path in vault.")).addText(y=>{new sf(y.inputEl),y.setPlaceholder("URL").setValue(this.plugin.settings.MomentsIcon).onChange(async w=>{this.plugin.settings.MomentsIcon=w,this.applySettingsUpdate()})}),new Je(r,this).setTab(n).setName(E("User quote")).setDesc(E("Set user quote for thino")).addText(y=>y.setPlaceholder("Input anything here").setValue(this.plugin.settings.MomentsQuote).onChange(async w=>{this.plugin.settings.MomentsQuote=w,this.applySettingsUpdate()}));let a=!1;const o=document.createDocumentFragment();o.createEl("span",{text:E("Connect to PKMer Sync, you can check it in ")});const i=localStorage.getItem("language");let l;i&&i==="zh"?l="https://pkmer.cn/products/UserProfile/#tab-21&activateSync":l="https://thino.pkmer.net/en/",o.createEl("a",{text:E("PKMer Sync"),attr:{href:l}}),new Je(r,this).setHeading().setName("üèÜ "+E("Pro verification status")).setTab(n);const c=document.createDocumentFragment(),f=c.createEl("div",{cls:"thino-activation"}),h=new Je(r,this).setName(E("Activate Pro Version")).setDesc(c).setTab(n);h.settingEl.toggleClass("thino-activation-setting",!0),h.nameEl.toggleClass("thino-activation-title",!0),this.root=rs.createRoot(f),this.root.render(v.jsx(is,{store:Le,context:Lt,children:v.jsx(MMe,{plugin:this.plugin})}));let g=!1;new Je(r,this).setName(E("Deactivate")).setTab(n).addButton(y=>{y.setWarning().setButtonText(E("Remove")).onClick(async()=>{var D;if(!g){y.setButtonText(E("Confirm?")),g=!0;return}g=!1;const w=!x.Platform.isDesktop&&await((D=window.Capacitor)==null?void 0:D.Plugins.Device.getId()),S=x.Platform.isDesktop?await cr():w.identifier||w.uuid;this.plugin.settings.tokenForVerify[S]&&(delete this.plugin.settings.tokenForVerify[S],await this.plugin.saveSettings(),new x.Notice(E("Remove successfully"))),await this.plugin.verify(),dt.setRefresh(!0),setTimeout(()=>{this.display()},20)})}),(i==="zh"||i==="zh-TW")&&new Je(r,this).setHeading().setName("‚òÅ "+E("Sync service")).setTab(n),(i==="zh"||i==="zh-TW")&&new Je(r,this).setName(E("Sync Thino via PKMer")).setDesc(o).setTab(n).addButton(y=>{var S;const w=(S=this.plugin.app)==null?void 0:S.loadLocalStorage("tokenForSync");y.setButtonText(E(w?"Unlink":"Link")).onClick(async()=>{var D;if(!w){const I=localStorage.getItem("language");I&&(I==="zh"||I==="zh-TW")?window.open("https://pkmer.cn/products/UserProfile/#tab-21&activateSync","_blank"):window.open("https://thino.pkmer.net/en/","_blank");return}if(!a){y.setButtonText(E("Confirm?")),a=!0;return}a=!1,w&&((D=this.plugin.app)==null||D.saveLocalStorage("tokenForSync",""),new x.Notice(E("Remove successfully"))),dt.setRefresh(!0),setTimeout(()=>{this.display()},20)})}),(i==="zh"||i==="zh-TW")&&this.showSyncStatus(r,n)}showSyncStatus(n,r){var o;(o=this.plugin.app)!=null&&o.loadLocalStorage("tokenForSync")&&(new Je(n,this).setName(E("Save thino type when sync local")).setDesc(E("Set the default save thino type when sync local, FILE by default.")).setTab(r).addDropdown(async i=>{i.addOption("DAILY",E("DAILY")),i.addOption("FILE",E("FILE")),i.setValue(this.plugin.settings.saveThinoType).onChange(async l=>{this.plugin.settings.saveThinoType=l,this.applySettingsUpdate()})}),new Je(n,this).setName(E("Sync Status")).setDesc(E("Start or stop sync")).setTab(r).addButton(i=>{i.setButtonText(this.plugin.settings.startSync?E("Stop"):E("Start")).onClick(async()=>{this.plugin.settings.startSync=!this.plugin.settings.startSync,await this.plugin.saveSettings(),dt.setRefresh(!0),new x.Notice(this.plugin.settings.startSync?E("Start sync successfully"):E("Stop sync successfully")),setTimeout(()=>{this.display()},200)})}),new Je(n,this).setName(E("Sync manually")).setTab(r).addToggle(i=>{i.setValue(this.plugin.settings.SyncManually).onChange(async l=>{this.plugin.settings.SyncManually=l,this.applySettingsUpdate()})}))}addMemoSettings(n,r){new Je(r,this).setName(E("Open Memos when obsidian opens")).setDesc(E("When enable this, Memos will open when Obsidian opens. False by default.")).setTab(n).addDropdown(o=>{o.addOption("Desktop","Desktop"),o.addOption("Mobile","Mobile"),o.addOption("All","All"),o.setValue(this.plugin.settings.MobileAndDesktop).onChange(async i=>{this.plugin.settings.MobileAndDesktop=i,this.applySettingsUpdate()})}).addToggle(o=>o.setValue(this.plugin.settings.OpenMemosAutomatically).onChange(async i=>{this.plugin.settings.OpenMemosAutomatically=i,this.applySettingsUpdate()})),new Je(r,this).setHeading().setTab(n).setName("üìù "+E("Editor")),new Je(r,this).setName(E("Use Tags In Vault")).setDesc(E("Use tags in vault rather than only in Memos. False by default.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.UseVaultTags).onChange(async i=>{this.plugin.settings.UseVaultTags=i,this.applySettingsUpdate()}));let a;new Je(r,this).setName(E("Default insert date format")).setDesc(E("Set the default date format when insert date by @, 'Tasks' by default.")).setTab(n).addDropdown(async o=>{a=o,a.addOption("Tasks","Tasks"),a.addOption("Dataview","Dataview"),a.setValue(this.plugin.settings.InsertDateFormat).onChange(async i=>{this.plugin.settings.InsertDateFormat=i,this.applySettingsUpdate()})}),new Je(r,this).setHeading().setTab(n).setName("üìÖ "+E("Daily notes")),new Je(r,this).setName(E("Default prefix when save thino")).setDesc(E("Set the default prefix when create memo, 'List' by default.")).setTab(n).addDropdown(async o=>{a=o,a.addOption("List",E("List")),a.addOption("Task",E("Task")),a.setValue(this.plugin.settings.DefaultPrefix).onChange(async i=>{this.plugin.settings.DefaultPrefix=i,this.applySettingsUpdate()})}),this.plugin.settings.EnabledLocationList.some(o=>o.value==="DAILY")&&new Je(r,this).setName(E("Default time prefix for thino in daily notes")).setDesc(E("Set default time prefix for thino in daily notes.")).setTab(n).addDropdown(async o=>{a=o,a.addOption("HH:mm","HH:mm"),a.addOption("HH:mm:ss","HH:mm:ss"),a.setValue(this.plugin.settings.DefaultTimePrefix).onChange(async i=>{this.plugin.settings.DefaultTimePrefix=i,this.applySettingsUpdate()})})}addThinoProSettings(n,r,a){new Je(r,this).setHeading().setTab(n).setName("üíé "+E("Pro features")),new Je(r,this).setName(E("Default save type")).setDesc(E('Set the default save type for thino. "DAILY" by default')).setTab(n).addDropdown(async o=>{for(const i of this.plugin.settings.EnabledLocationList)o.addOption(i.value,E(i.value));o.setValue(this.plugin.settings.MemoSaveLocation||this.plugin.settings.EnabledLocationList[0].value).onChange(async i=>{if(!a){fn();return}this.plugin.settings.MemoSaveLocation=i,this.applySettingsUpdate()})}),new Je(r,this).setName(E("Support filter by metadata from file")).setDesc(E("When enable this, you can filter via metadata from file, like tags in file. But thinos from canvas is not supported. False by default.")).addToggle(o=>{o.setValue(this.plugin.settings.FilterByMetadata).onChange(async i=>{if(!a){fn();return}this.plugin.settings.FilterByMetadata=i,this.applySettingsUpdate()})}),new Je(r,this).setName(E("Show source near timestamp in thino")).setDesc(E("When enable this, you can see the source near timestamp in thino. You can set title in metadata to overwrite this. False by default.")).addToggle(o=>{o.setValue(this.plugin.settings.ShowSourcePath).onChange(async i=>{if(!a){fn();return}this.plugin.settings.ShowSourcePath=i,this.applySettingsUpdate()})}),new Je(r,this).setName(E("Add tag automatically")).setDesc(E("Add tag to the end or beginning of the thino content when creating a thino and filtering tags")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.addTagAutomatically).onChange(async i=>{if(!a){fn();return}this.plugin.settings.addTagAutomatically=i,this.applySettingsUpdate(),this.debounceDisplay()})),this.plugin.settings.addTagAutomatically&&(new Je(r,this).setName(E("Add tag position")).setDesc(E("Set the position of the tag when adding tag automatically")).setTab(n).addDropdown(async o=>{o.addOption("End",E("End")),o.addOption("Beginning",E("Beginning")),o.setValue(this.plugin.settings.addTagPosition).onChange(async i=>{this.plugin.settings.addTagPosition=i,this.applySettingsUpdate()})}),new Je(r,this).setName(E("Add tag with new line")).setDesc(E("Add tag with new line when adding tag automatically")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.addTagWithNewline).onChange(async i=>{this.plugin.settings.addTagWithNewline=i,this.applySettingsUpdate()})))}memosCommentSettings(n,r){new Je(r,this).setName(E("Allow Comments On Memos")).setDesc(E("You can comment on memos. False by default")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.CommentOnMemos).onChange(async o=>{this.plugin.settings.CommentOnMemos=o,this.applySettingsUpdate(),this.display()})),this.plugin.settings.CommentOnMemos&&(new Je(r,this).setName(E("Always Show Memo Comments")).setDesc(E("Always show memo comments on memos. False by default")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.ShowCommentOnMemos).onChange(async o=>{this.plugin.settings.ShowCommentOnMemos=o,this.applySettingsUpdate()})),new Je(r,this).setName(E("Comments In Original DailyNotes/Notes")).setDesc(E("You should install Dataview Plugin ver 0.5.9 or later to use this feature.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.CommentsInOriginalNotes).onChange(async o=>{this.plugin.settings.CommentsInOriginalNotes=o,this.applySettingsUpdate()})))}shareToThinosSettings(n,r,a){new Je(r,this).setHeading().setTab(n).setName("üíé "+E("Pro features")),new Je(r,this).setTab(n).setName(E("Append/prepend text when share to Thino")).addToggle(o=>{o.setValue(this.plugin.settings.ShareToThinoWithText).onChange(async i=>{if(!a){fn();return}this.plugin.settings.ShareToThinoWithText=i,this.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.ShareToThinoWithText&&(new Je(r,this).setTab(n).setName(E("Prepend Text Action")).addDropdown(o=>{o.addOption("none",E("None")),o.addOption("preset",E("Preset")),o.addOption("input",E("Input")),o.addOption("selectTags",E("Select Tags")),o.setValue(this.plugin.settings.SharePrependType).onChange(async i=>{this.plugin.settings.SharePrependType=i,this.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.SharePrependType==="preset"&&new Je(r,this).setTab(n).setName(E("Prepend text when share to Thino")).addText(o=>{o.setPlaceholder(E("Input anything here")).setValue(this.plugin.settings.ShareToThinoWithTextPrepend).onChange(async i=>{this.plugin.settings.ShareToThinoWithTextPrepend=i,this.applySettingsUpdate()})}),new Je(r,this).setTab(n).setName(E("Append Text Action")).addDropdown(o=>{o.addOption("none",E("None")),o.addOption("preset",E("Preset")),o.addOption("input",E("Input")),o.addOption("selectTags",E("Select Tags")),o.setValue(this.plugin.settings.ShareAppendType).onChange(async i=>{this.plugin.settings.ShareAppendType=i,this.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.ShareAppendType==="preset"&&new Je(r,this).setTab(n).setName(E("Append text when share to Thino")).addText(o=>{o.setPlaceholder(E("Input anything here")).setValue(this.plugin.settings.ShareToThinoWithTextAppend).onChange(async i=>{this.plugin.settings.ShareToThinoWithTextAppend=i,this.applySettingsUpdate()})}),new Je(r,this).setTab(n).setName(E("Add newline when append/prepend text")).addDropdown(async o=>{o.addOption("prepend",E("Prepend")),o.addOption("append",E("Append")),o.addOption("both",E("Both")),o.addOption("none",E("None")),o.setValue(this.plugin.settings.ShareToThinoWithTextNewline).onChange(async i=>{this.plugin.settings.ShareToThinoWithTextNewline=i,this.applySettingsUpdate()})}))}copyMemosSettings(n,r){new Je(r,this).setName(E("Show Time When Copy Results")).setDesc(E("Show time when you copy results, like 12:00. Copy time by default.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.ShowTime).onChange(async o=>{this.plugin.settings.ShowTime=o,this.applySettingsUpdate()})),new Je(r,this).setName(E("Show Date When Copy Results")).setDesc(E("Show date when you copy results, like [[2022-01-01]]. Copy date by default.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.ShowDate).onChange(async o=>{this.plugin.settings.ShowDate=o,this.applySettingsUpdate(),this.debounceDisplay()})),this.plugin.settings.ShowDate&&new Je(r,this).setName(E("Add Blank Line Between Different Date")).setDesc(E("Add blank line when copy result with date. No blank line by default.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.AddBlankLineWhenDate).onChange(async o=>{this.plugin.settings.AddBlankLineWhenDate=o,this.applySettingsUpdate()}))}shareMemosSettings(n,r){new Je(r,this).setName(E("Custom height for Thino content")).setDesc(E("Set custom height for Thino content. Like 200px or 20rem")).setTab(n).addText(a=>a.setPlaceholder(E("Input height")).setValue(this.plugin.settings.MinHeightForShare).onChange(async o=>{this.plugin.settings.MinHeightForShare=o,this.debounceApplySettingsUpdate()})),this.customMemoFooter(n,r),new Je(r,this).setName(E("Custom Background Image")).setDesc(E("Set custom background image.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.SetCustomBackgroundImage).onChange(async o=>{this.plugin.settings.SetCustomBackgroundImage=o,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.SetCustomBackgroundImage&&(new Je(r,this).setName(E("Background Image in Light Theme")+` [${E("Modern")}]`).setDesc(E('Set background image in light theme. Set something like "Daily/one.png"')).setTab(n).addText(a=>{new sf(a.inputEl),a.setPlaceholder(Ei.DefaultLightBackgroundImage).setValue(this.plugin.settings.DefaultLightBackgroundImage).onChange(async o=>{this.plugin.settings.DefaultLightBackgroundImage=o,this.applySettingsUpdate()})}),new Je(r,this).setName(E("Background Image in Dark Theme")+` [${E("Modern")}]`).setDesc(E('Set background image in dark theme. Set something like "Daily/one.png"')).setTab(n).addText(a=>{new sf(a.inputEl),a.setPlaceholder(Ei.DefaultDarkBackgroundImage).setValue(this.plugin.settings.DefaultDarkBackgroundImage).onChange(async o=>{this.plugin.settings.DefaultDarkBackgroundImage=o,this.applySettingsUpdate()})}),new Je(r,this).setName(E("Background Image in Light Theme")+` [${E("Clean")}]`).setDesc(E('Set background image in light theme. Set something like "Daily/one.png"')).setTab(n).addText(a=>{new sf(a.inputEl),a.setPlaceholder(Ei.DefaultLightBackgroundImageForClean).setValue(this.plugin.settings.DefaultLightBackgroundImageForClean).onChange(async o=>{this.plugin.settings.DefaultLightBackgroundImageForClean=o,this.applySettingsUpdate()})}),new Je(r,this).setName(E("Background Image in Dark Theme")+` [${E("Clean")}]`).setDesc(E('Set background image in dark theme. Set something like "Daily/one.png"')).setTab(n).addText(a=>{new sf(a.inputEl),a.setPlaceholder(Ei.DefaultDarkBackgroundImageForClean).setValue(this.plugin.settings.DefaultDarkBackgroundImageForClean).onChange(async o=>{this.plugin.settings.DefaultDarkBackgroundImageForClean=o,this.applySettingsUpdate()})}))}customMemoFooter(n,r){new Je(r,this).setName(E("Custom Memo Footer")).setDesc(E("Set custom memo footer.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.SetCustomMemoFooter).onChange(async o=>{this.plugin.settings.SetCustomMemoFooter=o,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.SetCustomMemoFooter&&new Je(r,this).setName(E("Share Memos Image Footer Start")).setDesc(E("Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default")).setTab(n).addText(a=>a.setPlaceholder(Ei.ShareFooterStart).setValue(this.plugin.settings.ShareFooterStart).onChange(async o=>{this.plugin.settings.ShareFooterStart=o,this.applySettingsUpdate()}))}saveDataSettings(n,r){let a;new Je(r,this).setName(E("Default Editor Mode")).setDesc(E("Live-Preview Mode OR Source Mode.")).setTab(n).addDropdown(async o=>{a=o,a.addOption("obsidian",E("Live-preview")),a.addOption("memos",E("Source")),a.setValue(this.plugin.settings.EditorType).onChange(async i=>{this.plugin.settings.EditorType=i,this.applySettingsUpdate()})}),new Je(r,this).setName(E("Delete Thino Directly")).setDesc(E("When delete thino directly, it will not be moved to trash. False by default.")).setTab(n).addToggle(o=>{o.setValue(this.plugin.settings.DeleteThinoDirectly).onChange(async i=>{this.plugin.settings.DeleteThinoDirectly=i,this.applySettingsUpdate()})})}async initHttpServer(n,r){var c;const a=ft.getState().verifyState,o=!x.Platform.isDesktop&&await((c=window.Capacitor)==null?void 0:c.Plugins.Device.getId()),i=x.Platform.isDesktop?await cr():o.identifier||o.uuid,l=a&&(a==null?void 0:a.appId)===i;new Je(n,this).setName(E("Enable Local Http Server")).setTab(r).setDisabled(!l).addToggle(f=>f.setValue(this.plugin.settings.EnabledHttpApi).onChange(async h=>{if(!l){fn();return}this.plugin.settings.EnabledHttpApi=h,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.settings.EnabledHttpApi?this.plugin.initServer():this.plugin.stopServer(),this.display()},100)})),this.plugin.settings.EnabledHttpApi&&(new Je(n,this).setName(E("Get thino capture extension")).setDesc(E("You can capture idea/text from chrome now.")).setTab(r).addButton(f=>{f.setButtonText("GitHub").onClick(()=>{window.open("https://github.com/quorafind/thino-capture-releases","_blank")})}).addButton(f=>{f.setButtonText("Chrome Web Store").onClick(()=>{window.open("https://chromewebstore.google.com/detail/thino-capture/oppagjehiimpjpjmgbfmanlnbpbcecff","_blank")})}),new Je(n,this).setName(E("Memos Http Server Port")).setDesc(E("Set memos http server port to listen. '43999' by default")).setTab(r).addText(f=>f.setPlaceholder(Ei.HttpApiPort).setValue(this.plugin.settings.HttpApiPort).onChange(async h=>{if(!l){fn();return}this.plugin.settings.HttpApiPort=h,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})),new Je(n,this).setName(E("Auto Download Image")).setDesc(E("Auto download image when save to thino. 'false' by default")).setTab(r).setDisabled(!l).addToggle(f=>{f.setValue(this.plugin.settings.AutoDownloadImage).onChange(async h=>{if(!l){fn();return}this.plugin.settings.AutoDownloadImage=h,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})}),new Je(n,this).setName(E("Thino Http IP Type")).setDesc(E("Set Thino http server ip to listen. 'localhost' by default")).setTab(r).addDropdown(f=>{f.addOption("localhost","localhost"),f.addOption("127.0.0.1","127.0.0.1"),f.setValue(this.plugin.settings.HttpApiIpType).onChange(async h=>{if(!a||(a==null?void 0:a.appId)!==i){fn();return}this.plugin.settings.HttpApiIpType=h,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})}),this.appendOrPrependTextSettings(r,n,l))}appendOrPrependTextSettings(n,r,a){new Je(r,this).setTab(n).setName(E("Append/prepend text when share to Thino")).addToggle(o=>{o.setValue(this.plugin.settings.AppendOrPrependTextViaServer).onChange(async i=>{if(!a){fn();return}this.plugin.settings.AppendOrPrependTextViaServer=i,this.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.AppendOrPrependTextViaServer&&(new Je(r,this).setName(E("Prepend Text")).setTab(n).addText(o=>{o.setPlaceholder(E("Input anything here")).setValue(this.plugin.settings.PrependViaServer).onChange(async i=>{this.plugin.settings.PrependViaServer=i,this.applySettingsUpdate()})}),new Je(r,this).setName(E("Append Text")).setTab(n).addText(o=>{o.setPlaceholder(E("Input anything here")).setValue(this.plugin.settings.AppendViaServer).onChange(async i=>{this.plugin.settings.AppendViaServer=i,this.applySettingsUpdate()})}),new Je(r,this).setName(E("Add newline when append/prepend text")).addDropdown(async o=>{o.addOption("prepend",E("Prepend")),o.addOption("append",E("Append")),o.addOption("both",E("Both")),o.addOption("none",E("None")),o.setValue(this.plugin.settings.WithNewLineViaServer).onChange(async i=>{this.plugin.settings.WithNewLineViaServer=i,this.applySettingsUpdate()})}))}fetchDataSettings(n,r){let a;new Je(r,this).setName(E("Use which plugin's default configuration")).setDesc(E("Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.")).setTab(n).addDropdown(async o=>{a=o,a.addOption("Daily",E("Daily")),a.addOption("Periodic","Periodic").setDisabled(!this.app.plugins.getPlugin("periodic-notes")),a.setValue(this.plugin.settings.UseDailyOrPeriodic).onChange(async i=>{this.plugin.settings.UseDailyOrPeriodic=i,this.applySettingsUpdate()})}).addExtraButton(o=>{o.setIcon("settings").onClick(()=>{if(this.plugin.settings.UseDailyOrPeriodic==="Daily"){if(!this.app.internalPlugins.plugins["daily-notes"]||!this.app.internalPlugins.plugins["daily-notes"].enabled){new x.Notice("Daily Notes plugin is not installed");return}this.app.setting.open(),this.app.setting.openTabById("daily-notes")}else{if(!this.app.plugins.getPlugin("periodic-notes")||!this.app.plugins.getPlugin("periodic-notes")._loaded){new x.Notice("Periodic Notes plugin is not installed");return}this.app.setting.open(),this.app.setting.openTabById("periodic-notes")}})})}navigationSettings(n,r){new Je(r,this).setName(E("Open link directly in Thino view")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.navigation).onChange(async o=>{this.plugin.settings.navigation=o,this.applySettingsUpdate()}))}optimizeForCalloutSettings(n,r){new Je(r,this).setName(E("Optimize for Callout")).setDesc(E("Won't render content contains more than 3 callouts automatically. True by default")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.OptimizeForCallout).onChange(async o=>{this.plugin.settings.OptimizeForCallout=o,this.applySettingsUpdate()}))}addUpdateMessageSettings(n,r){new Je(r,this).setName(E("Show Update Message")).setDesc(E("Show update message when Thino is updated. True by default")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.ShowUpdateMessage).onChange(async o=>{this.plugin.settings.ShowUpdateMessage=o,this.applySettingsUpdate()}))}clearConfigSettings(n,r){new Je(r,this).setName(E("Reset all Thino settings")).setDesc(E("Reset Thino settings to default settings.")).setTab(n).addButton(a=>{a.setWarning().setButtonText(E("Reset settings")).onClick(async()=>{new _s(this.app,E("Reset all Thino settings"),async()=>{var o;this.plugin.settings={...Ei,tokenForVerify:this.plugin.settings.tokenForVerify,password:this.plugin.settings.password,needVerify:this.plugin.settings.needVerify},this.debounceApplySettingsUpdate(),await we.fetchAllMemos(),we.updateTagsState(),(o=this.plugin.app)==null||o.saveLocalStorage("tokenForSync",""),dt.setRefresh(!0),dt.setMemoListView("list"),new x.Notice(E("All settings have been reset to default.")),this.debounceDisplay()}).open()})})}setPasswordSettings(n,r){new Je(r,this).setName(E("Need password to unlock Thino")).setTab(n).addToggle(a=>{this.plugin.settings.needVerify&&this.plugin.settings.password&&!this.passwordMatched&&(a.toggleEl.onclick=o=>{this.passwordMatched||(o.preventDefault(),new CN(this.app,this,this.plugin,i=>{a.setDisabled(!i),this.passwordMatched=i,this.debounceDisplay()}).open(),new x.Notice(E("Please input your password to change password settings")))}),a.setDisabled(this.plugin.settings.needVerify&&this.plugin.settings.password&&!this.passwordMatched).setValue(this.plugin.settings.needVerify).onChange(async o=>{this.plugin.settings.needVerify=o,o&&(this.passwordMatched=!1),this.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.needVerify&&new Je(r,this).setName(E("Password to lock Thino")).setTab(n).addText(a=>{this.plugin.settings.needVerify&&this.plugin.settings.password&&!this.passwordMatched&&(a.inputEl.onclick=o=>{this.passwordMatched||(o.preventDefault(),new CN(this.app,this,this.plugin,i=>{a.inputEl.readOnly=!i,this.passwordMatched=i,this.debounceDisplay()}).open(),new x.Notice(E("Please input your password to change password settings")))}),a.inputEl.readOnly=this.plugin.settings.password&&this.plugin.settings.needVerify&&!this.passwordMatched,a.inputEl.oncopy=()=>!1,a.inputEl.type="password",a.setValue(this.plugin.settings.password).onChange(async o=>{this.plugin.settings.password=o,this.applySettingsUpdate()})})}setGlobalSettings(n,r,a){new Je(r,this).setHeading().setTab(n).setName("üíé "+E("Pro features")),this.initHttpServer(r,n),new Je(r,this).setName(E("Enable opening thino globally")).setDesc(E("Enable opening thino globally. False by default.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.CaptureKey.EnableCaptureKey).onChange(async i=>{if(!a){fn();return}this.plugin.settings.CaptureKey.EnableCaptureKey=i,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.CaptureKey.EnableCaptureKey&&(new Je(r,this).setName(E("Key for opening thino globally")).setDesc(E("Set key for opening thino globally. CTRL + SHIFT + T by default.")).setTab(n).addText(o=>o.setPlaceholder(Ei.CaptureKey.OpenThinoGlobally).setValue(this.plugin.settings.CaptureKey.OpenThinoGlobally).onChange(async i=>{if(!a){fn();return}this.plugin.settings.CaptureKey.OpenThinoGlobally=i,this.applySettingsUpdate()})),new Je(r,this).setName(E("Show thino near mouse")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.CaptureKey.ShowNearMouse).onChange(async i=>{if(!a){fn();return}this.plugin.settings.CaptureKey.ShowNearMouse=i,this.applySettingsUpdate()})))}checkInList(n){return this.plugin.settings.EnabledLocationList.find(r=>r.value===n)!==void 0}customFileNameSettings(n,r,a){var c;const o=document.createDocumentFragment(),i=o.createEl("div",{cls:"memo-save-location-desc"});for(const f of xMe){const h=i.createEl("div",{cls:`memo-save-location-desc-item ${f.value}`}),g=h.createEl("span",{cls:"memo-save-location-desc-item-icon"});x.setIcon(g,((c=Qg.find(I=>I.title===f.value))==null?void 0:c.icon)||""),h.createEl("span",{cls:"memo-save-location-desc-item-desc",text:`${E(f.value)}`});const y=h.createEl("span",{cls:"memo-save-location-desc-item-toggle"}),w=h.createEl("span",{cls:"memo-save-location-desc-item-setting"});f.value!=="DAILY"&&h.createEl("span",{cls:["memo-save-location-desc-item-pro","user-pro-badge"],text:"PRO"}),new x.ToggleComponent(y).setValue(this.checkInList(f.value)).onChange(async I=>{if(!a){fn();return}I?(await we.updateTypeMemos(f.value),this.plugin.settings.EnabledLocationList=[...this.plugin.settings.EnabledLocationList,f]):(await we.removeTypeMemos(f.value),this.plugin.settings.EnabledLocationList=this.plugin.settings.EnabledLocationList.filter(M=>M.value!==f.value)),this.plugin.settings.EnabledLocationList.length===1&&(this.plugin.settings.MemoSaveLocation=f.value),this.applySettingsUpdate(),setTimeout(()=>{this.display()},500)}).setDisabled(this.plugin.settings.EnabledLocationList.length===1&&this.checkInList(f.value)),new x.ExtraButtonComponent(w).setIcon("settings").onClick(()=>{new NMe(this.app,this,this.plugin,f,a).open()})}const l=new Je(r,this).setName(E("Save type for Thino")).setDesc(o).setTab(n);l.settingEl.toggleClass("memo-save-location-setting",!0),l.nameEl.toggleClass("memo-save-location-title",!0)}addTaskRelatedSettings(n,r){new Je(r,this).setHeading().setName("üìÉ "+E("Task Management")),new Je(r,this).setName(E("Show Tasks Label")).setDesc(E("Show tasks label near the time text. False by default")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.ShowTaskLabel).onChange(async o=>{this.plugin.settings.ShowTaskLabel=o,this.applySettingsUpdate()})),new Je(r,this).setName(E("Append completed date when task done in thino")).setDesc(E("Append completed date when task done in thino. False by default")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.AppendDateWhenTaskDone).onChange(async o=>{this.plugin.settings.AppendDateWhenTaskDone=o,this.applySettingsUpdate()}))}}class NMe extends x.Modal{constructor(n,r,a,o,i){super(n);Se(this,"plugin");Se(this,"settingTab");Se(this,"LocationList");Se(this,"target","");Se(this,"insertTarget","");Se(this,"verified");Se(this,"updateValue",x.debounce(n=>{this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"?this.target=n.trim()===""?"basic":n.trim():this.target=n.trim()===""&&this.LocationList.value==="MULTI"?"Memos":n.trim()},400,!0));Se(this,"debounceDisplay",x.debounce(()=>this.display(),400,!0));this.verified=i,this.app=n,this.settingTab=r,this.plugin=a,this.LocationList=o,this.target=o.target!=="ProcessEntriesBelow"?a.settings.MemoOtherSaveLocation[o.target]:a.settings[o.target],this.insertTarget=a.settings.InsertAfter}onOpen(){this.display()}async display(){var c;const{contentEl:n}=this;this.contentEl.empty(),(c=n.parentElement)==null||c.classList.add("memo-save-location-modal"),this.titleEl.toggleClass("modal-title",!0),this.titleEl.setText(E("Save type for Thino")+` [${E(this.LocationList.value)}]`),(this.LocationList.value==="FILE"||this.LocationList.value==="CANVAS")&&n.createDiv("modal-desc",f=>{f.setText(E('You can set folder name with file name like "folder/file"'))}),this.LocationList.value==="MULTI"&&n.createDiv("modal-desc",f=>{f.setText(E('You can set folder name like "folder1/folder2/folder3" to create sub-folder'))}),this.LocationList.value==="DAILY"&&n.createDiv("modal-desc",f=>{f.setText(E('You can set target heading like "# Heading" to control data location'))});const r=n.createDiv("modal-setting"),a=this.LocationList.value==="DAILY"?E("Process Memos below"):this.LocationList.value==="MULTI"?E("Set the folder name"):E("Set the filename");if(this.LocationList.value==="DAILY"&&(new Je(r,this.settingTab).setName(E("Set thino insert place")).setDesc(E("Set where to insert thino content")).addDropdown(async f=>{f.addOption("end",E("End of the diary")),f.addOption("custom",E("Custom location")),f.setValue(this.plugin.settings.InsertType).onChange(async h=>{this.plugin.settings.InsertType=h,this.settingTab.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.InsertType==="custom"&&await this.addDailySettings(r),new Je(r,this.settingTab).setName(E("Set process target")).setDesc(E("You can set whole diary or only part of it")).addDropdown(async f=>{f.addOption("custom",E("Custom")),f.addOption("whole",E("Whole diary")),f.setValue(this.plugin.settings.ProcessContentTarget).onChange(async h=>{this.plugin.settings.ProcessContentTarget=h,this.settingTab.applySettingsUpdate(),this.debounceDisplay()})})),this.LocationList.value!=="DAILY"||this.plugin.settings.ProcessContentTarget!=="whole"){const f=new Je(r,this.settingTab).setName(a).addText(h=>h.setPlaceholder(this.LocationList.value==="DAILY"?E("# Heading"):E("Set the filename for current location file")).setValue(this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"?this.target.replace(/\.thino\.(canvas|md)/g,""):this.target).onChange(async g=>{const y=this.LocationList.value==="CANVAS"?".thino.canvas":this.LocationList.value==="FILE"?".thino.md":"";this.updateValue(g.replace(/\.thino\.(canvas|md)/g,"")+y)}));this.LocationList.value==="DAILY"&&f.setDesc(E("If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.")),this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"&&f.controlEl.createEl("span",{text:`${this.LocationList.value==="FILE"?".thino.md":".thino.canvas"}`})}this.LocationList.value==="MULTI"&&new Je(r,this.settingTab).setName(E("Set file name after create thino")).setDesc(E("You can set file name after create thino. A input box will show when you create thino.")).addToggle(f=>{f.setValue(this.plugin.settings.SetFileNameAfterCreate).onChange(async h=>{this.plugin.settings.SetFileNameAfterCreate=h,this.settingTab.debounceApplySettingsUpdate()})}),this.LocationList.value==="FILE"&&new Je(r,this.settingTab).setName(E("Set tag for file type file")).setDesc(E("When you set a tag here, Thino will index this file contains this tag and show it in the list. Don't need to add `#`.")).addText(f=>{new rv(f.inputEl,h=>{this.plugin.settings.TagForFileTypeFiles=h.trim(),this.settingTab.debounceApplySettingsUpdate()}),f.setPlaceholder(E("Please input the tag")).setValue(this.plugin.settings.TagForFileTypeFiles).onChange(async h=>{this.plugin.settings.TagForFileTypeFiles=h.trim(),this.settingTab.debounceApplySettingsUpdate()})}),this.LocationList.value==="MULTI"&&new Je(r,this.settingTab).setName(E("Set tag for multi type file")).setDesc(E("When you set a tag here, Thino will index this file contains this tag and show it in the list. Don't need to add `#`.")).addText(f=>{new rv(f.inputEl,h=>{this.plugin.settings.TagForMultiTypeFiles=h.trim(),this.settingTab.debounceApplySettingsUpdate()}),f.setPlaceholder(E("Please input the tag")).setValue(this.plugin.settings.TagForMultiTypeFiles).onChange(async h=>{this.plugin.settings.TagForMultiTypeFiles=h.trim(),this.settingTab.debounceApplySettingsUpdate()})});const o=n.createDiv("button-group"),i=o.createEl("button",{text:E("Cancel")}),l=o.createEl("button",{text:E("Save")});l.onclick=async()=>{if(!this.verified&&this.LocationList.value!=="DAILY"){this.close(),fn();return}this.LocationList.target!=="ProcessEntriesBelow"?this.plugin.settings.MemoOtherSaveLocation[this.LocationList.target]=this.target:this.plugin.settings[this.LocationList.target]=this.target,this.LocationList.value==="MULTI"&&ut.checkDailyInMulti(this.plugin.settings),this.LocationList.target==="ProcessEntriesBelow"&&(this.plugin.settings.InsertAfter=this.insertTarget),this.settingTab.applySettingsUpdate(),setTimeout(()=>{we.updateTypeMemos(this.LocationList.value)},1e3),this.close()},i.onclick=async()=>{this.close()}}async addDailySettings(n){var c,f,h,g;const r=ft.getState().verifyState,a=!x.Platform.isDesktop&&await((c=window.Capacitor)==null?void 0:c.Plugins.Device.getId()),o=x.Platform.isDesktop?await cr():a.identifier||a.uuid,i=r&&(r==null?void 0:r.appId)===o,l=((f=this.plugin.settings)!=null&&f.DifferentInsertTarget?`[${E("List")}] `:"")+E("Insert after heading");new Je(n,this.settingTab).setName(l).setDesc(E("If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.")).addText(y=>y.setPlaceholder(E("# Heading")).setValue(this.insertTarget).onChange(async w=>{this.insertTarget=w})),(h=this.plugin.settings)!=null&&h.DifferentInsertTarget&&new Je(n,this.settingTab).setName(((g=this.plugin.settings)!=null&&g.DifferentInsertTarget?`[${E("Task")}] `:"")+E("Insert after heading")).setDesc(E("Set the heading for the task type of thino, by default the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.")).addText(y=>{y.setPlaceholder(E("# Heading")).setValue(this.plugin.settings.InsertAfterForTask).onChange(async w=>{this.plugin.settings.InsertAfterForTask=w,this.settingTab.applySettingsUpdate()})}),new Je(n,this.settingTab).setName(E("Different insert target for different type")).setDesc(E("Toggle this to set different insert target for different type of thino, like task or list type of thino")).addToggle(y=>y.setValue(this.plugin.settings.DifferentInsertTarget).onChange(async w=>{if(!i){fn();return}this.plugin.settings.DifferentInsertTarget=w,this.settingTab.applySettingsUpdate(),this.debounceDisplay()}))}onClose(){const{contentEl:n}=this;n.empty()}}class CN extends x.Modal{constructor(n,r,a,o){super(n);Se(this,"plugin");Se(this,"settingTab");this.cb=o,this.app=n,this.settingTab=r,this.plugin=a}onOpen(){var c;const{contentEl:n}=this;(c=n.parentElement)==null||c.classList.add("memo-save-location-modal"),this.titleEl.toggleClass("modal-title",!0),this.titleEl.setText(E("Password for Thino")),n.createDiv("modal-desc",f=>{f.setText(E("Please input your password to change password settings"))});const r=n.createDiv("modal-setting"),a=new Je(r,this.settingTab).setName(E("Password")).addText(f=>{f.setPlaceholder(E("Please input your password")).inputEl.type="password"}),o=n.createDiv("button-group"),i=o.createEl("button",{text:E("Cancel")}),l=o.createEl("button",{cls:"thino-password-confirm-btn",text:E("Confirm?").replace(/(\?|Ôºü)/g,"")});l.onclick=async()=>{var f;a.controlEl.querySelector("input").value===this.plugin.settings.password?((f=this.cb)==null||f.call(this,!0),this.close()):new x.Notice(E("Password is incorrect"))},i.onclick=async()=>{this.close()}}onClose(){const{contentEl:n}=this;n.empty()}}function x1(e){return e.split("-")[0]}function hP(e){return e.split("-")[1]}function rC(e){return["top","bottom"].includes(x1(e))?"x":"y"}function pP(e){return e==="y"?"height":"width"}function xN(e){let{reference:t,floating:n,placement:r}=e;const a=t.x+t.width/2-n.width/2,o=t.y+t.height/2-n.height/2;let i;switch(x1(r)){case"top":i={x:a,y:t.y-n.height};break;case"bottom":i={x:a,y:t.y+t.height};break;case"right":i={x:t.x+t.width,y:o};break;case"left":i={x:t.x-n.width,y:o};break;default:i={x:t.x,y:t.y}}const l=rC(r),c=pP(l);switch(hP(r)){case"start":i[l]=i[l]-(t[c]/2-n[c]/2);break;case"end":i[l]=i[l]+(t[c]/2-n[c]/2);break}return i}const AMe=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:i}=n;let l=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:c,y:f}=xN({...l,placement:r}),h=r,g={};for(let y=0;y<o.length;y++){const{name:w,fn:S}=o[y],{x:D,y:I,data:M,reset:N}=await S({x:c,y:f,initialPlacement:r,placement:h,strategy:a,middlewareData:g,rects:l,platform:i,elements:{reference:e,floating:t}});if(c=D??c,f=I??f,g={...g,[w]:M??{}},N){typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(l=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:c,y:f}=xN({...l,placement:h})),y=-1;continue}}return{x:c,y:f,placement:h,strategy:a,middlewareData:g}};function FMe(e){return{top:0,right:0,bottom:0,left:0,...e}}function OMe(e){return typeof e!="number"?FMe(e):{top:e,right:e,bottom:e,left:e}}function E2(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function C2(e,t){t===void 0&&(t={});const{x:n,y:r,platform:a,rects:o,elements:i,strategy:l}=e,{boundary:c="clippingParents",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:g=!1,padding:y=0}=t,w=OMe(y),D=i[g?h==="floating"?"reference":"floating":h],I=await a.getClippingClientRect({element:await a.isElement(D)?D:D.contextElement||await a.getDocumentElement({element:i.floating}),boundary:c,rootBoundary:f}),M=E2(await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:h==="floating"?{...o.floating,x:n,y:r}:o.reference,offsetParent:await a.getOffsetParent({element:i.floating}),strategy:l}));return{top:I.top-M.top+w.top,bottom:M.bottom-I.bottom+w.bottom,left:I.left-M.left+w.left,right:M.right-I.right+w.right}}const PMe={left:"right",right:"left",bottom:"top",top:"bottom"};function db(e){return e.replace(/left|right|bottom|top/g,t=>PMe[t])}function jMe(e,t){const n=hP(e)==="start",r=rC(e),a=pP(r);let o=r==="x"?n?"right":"left":n?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=db(o)),{main:o,cross:db(o)}}const LMe={start:"end",end:"start"};function MN(e){return e.replace(/start|end/g,t=>LMe[t])}function RMe(e){const t=db(e);return[MN(e),t,MN(t)]}const _Me=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:i,initialPlacement:l}=t;if((n=o.flip)!=null&&n.skip)return{};const{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",flipAlignment:y=!0,...w}=e,S=x1(a),I=h||(S===l||!y?[db(l)]:RMe(l)),M=[l,...I],N=await C2(t,w),B=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&B.push(N[S]),f){const{main:V,cross:U}=jMe(a,i);B.push(N[V],N[U])}if(k=[...k,{placement:a,overflows:B}],!B.every(V=>V<=0)){var R,L;const V=((R=(L=o.flip)==null?void 0:L.index)!=null?R:0)+1,U=M[V];if(U)return{data:{index:V,overflows:k},reset:{placement:U}};let Z="bottom";switch(g){case"bestFit":{var _;const Q=(_=k.slice().sort((G,re)=>G.overflows.filter(de=>de>0).reduce((de,fe)=>de+fe,0)-re.overflows.filter(de=>de>0).reduce((de,fe)=>de+fe,0))[0])==null?void 0:_.placement;Q&&(Z=Q);break}case"initialPlacement":Z=l;break}return{data:{skip:!0},reset:{placement:Z}}}return{}}}};function BMe(e){let{placement:t,rects:n,value:r}=e;const a=x1(t),o=["left","top"].includes(a)?-1:1,i=typeof r=="function"?r({...n,placement:t}):r,{mainAxis:l,crossAxis:c}=typeof i=="number"?{mainAxis:i,crossAxis:0}:{mainAxis:0,crossAxis:0,...i};return rC(a)==="x"?{x:c,y:l*o}:{x:l*o,y:c}}const HMe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(t){const{x:n,y:r,placement:a,rects:o}=t,i=BMe({placement:a,rects:o,value:e});return{x:n+i.x,y:r+i.y,data:i}}}};function aC(e){return(e==null?void 0:e.toString())==="[object Window]"}function cd(e){if(e==null)return window;if(!aC(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function M1(e){return cd(e).getComputedStyle(e)}function qu(e){return aC(e)?"":e?(e.nodeName||"").toLowerCase():""}function Gu(e){return e instanceof cd(e).HTMLElement}function fb(e){return e instanceof cd(e).Element}function UMe(e){return e instanceof cd(e).Node}function mP(e){const t=cd(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function k1(e){const{overflow:t,overflowX:n,overflowY:r}=M1(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function YMe(e){return["table","td","th"].includes(qu(e))}function gP(e){const t=navigator.userAgent.toLowerCase().includes("firefox"),n=M1(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&(n.filter?n.filter!=="none":!1)}const kN=Math.min,Gg=Math.max,hb=Math.round;function Pp(e,t){t===void 0&&(t=!1);const n=e.getBoundingClientRect();let r=1,a=1;return t&&Gu(e)&&(r=e.offsetWidth>0&&hb(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&hb(n.height)/e.offsetHeight||1),{width:n.width/r,height:n.height/a,top:n.top/a,right:n.right/r,bottom:n.bottom/a,left:n.left/r,x:n.left/r,y:n.top/a}}function dd(e){return((UMe(e)?e.ownerDocument:e.document)||window.document).documentElement}function N1(e){return aC(e)?{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}:{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function vP(e){return Pp(dd(e)).left+N1(e).scrollLeft}function zMe(e){const t=Pp(e);return hb(t.width)!==e.offsetWidth||hb(t.height)!==e.offsetHeight}function VMe(e,t,n){const r=Gu(t),a=dd(t),o=Pp(e,r&&zMe(t));let i={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if(r||!r&&n!=="fixed")if((qu(t)!=="body"||k1(a))&&(i=N1(t)),Gu(t)){const c=Pp(t,!0);l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}else a&&(l.x=vP(a));return{x:o.left+i.scrollLeft-l.x,y:o.top+i.scrollTop-l.y,width:o.width,height:o.height}}function A1(e){return qu(e)==="html"?e:e.assignedSlot||e.parentNode||(mP(e)?e.host:null)||dd(e)}function NN(e){return!Gu(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function WMe(e){let t=A1(e);for(;Gu(t)&&!["html","body"].includes(qu(t));){if(gP(t))return t;t=t.parentNode}return null}function x2(e){const t=cd(e);let n=NN(e);for(;n&&YMe(n)&&getComputedStyle(n).position==="static";)n=NN(n);return n&&(qu(n)==="html"||qu(n)==="body"&&getComputedStyle(n).position==="static"&&!gP(n))?t:n||WMe(e)||t}function AN(e){return{width:e.offsetWidth,height:e.offsetHeight}}function $Me(e){let{rect:t,offsetParent:n,strategy:r}=e;const a=Gu(n),o=dd(n);if(n===o)return t;let i={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if((a||!a&&r!=="fixed")&&((qu(n)!=="body"||k1(o))&&(i=N1(n)),Gu(n))){const c=Pp(n,!0);l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{...t,x:t.x-i.scrollLeft+l.x,y:t.y-i.scrollTop+l.y}}function ZMe(e){const t=cd(e),n=dd(e),r=t.visualViewport;let a=n.clientWidth,o=n.clientHeight,i=0,l=0;return r&&(a=r.width,o=r.height,Math.abs(t.innerWidth/r.scale-r.width)<.01&&(i=r.offsetLeft,l=r.offsetTop)),{width:a,height:o,x:i,y:l}}function qMe(e){var t;const n=dd(e),r=N1(e),a=(t=e.ownerDocument)==null?void 0:t.body,o=Gg(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),i=Gg(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let l=-r.scrollLeft+vP(e);const c=-r.scrollTop;return M1(a||n).direction==="rtl"&&(l+=Gg(n.clientWidth,a?a.clientWidth:0)-o),{width:o,height:i,x:l,y:c}}function yP(e){return["html","body","#document"].includes(qu(e))?e.ownerDocument.body:Gu(e)&&k1(e)?e:yP(A1(e))}function wP(e,t){var n;t===void 0&&(t=[]);const r=yP(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),o=cd(r),i=a?[o].concat(o.visualViewport||[],k1(r)?r:[]):r,l=t.concat(i);return a?l:l.concat(wP(A1(i)))}function GMe(e,t){const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&mP(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function JMe(e){const t=Pp(e),n=t.top+e.clientTop,r=t.left+e.clientLeft;return{top:n,left:r,x:r,y:n,right:r+e.clientWidth,bottom:n+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function FN(e,t){return t==="viewport"?E2(ZMe(e)):fb(t)?JMe(t):E2(qMe(dd(e)))}function KMe(e){const t=wP(A1(e)),r=["absolute","fixed"].includes(M1(e).position)&&Gu(e)?x2(e):e;return fb(r)?t.filter(a=>fb(a)&&GMe(a,r)&&qu(a)!=="body"):[]}function QMe(e){let{element:t,boundary:n,rootBoundary:r}=e;const o=[...n==="clippingParents"?KMe(t):[].concat(n),r],i=o[0],l=o.reduce((c,f)=>{const h=FN(t,f);return c.top=Gg(h.top,c.top),c.right=kN(h.right,c.right),c.bottom=kN(h.bottom,c.bottom),c.left=Gg(h.left,c.left),c},FN(t,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}const XMe={getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:VMe(t,x2(n),r),floating:{...AN(n),x:0,y:0}}},convertOffsetParentRelativeRectToViewportRelativeRect:e=>$Me(e),getOffsetParent:e=>{let{element:t}=e;return x2(t)},isElement:e=>fb(e),getDocumentElement:e=>{let{element:t}=e;return dd(t)},getClippingClientRect:e=>QMe(e),getDimensions:e=>{let{element:t}=e;return AN(t)},getClientRects:e=>{let{element:t}=e;return t.getClientRects()}},e3e=(e,t,n)=>AMe(e,t,{platform:XMe,...n});var t3e=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,a,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(a=r;a--!==0;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[a]))return!1;for(a=r;a--!==0;){var i=o[a];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n};const n3e=qt(t3e),rT=Jg.Facet.define({combine:e=>{var t,n;return{defaultPlacement:((t=e.find(r=>r.defaultPlacement))==null?void 0:t.defaultPlacement)||"top",padding:((n=e.find(r=>r.padding))==null?void 0:n.padding)||8}}}),bP=e=>e.split("-")[0],r3e=e=>e==="x"?"y":"x",a3e=e=>["top","bottom"].includes(bP(e))?"x":"y",Og=(e,t,n)=>Math.max(e,Math.min(t,n)),o3e=(e,t)=>Object.fromEntries(Object.entries(e).map(([n,r],a)=>[n,t(r,n,a)])),i3e=e=>e===void 0?e:typeof e=="number"?-e:o3e(e,t=>t!==void 0?-t:t),s3e=(e={})=>({name:"shift",fn:async t=>{const{x:n,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l=({x:I,y:M})=>({x:I,y:M}),editorMenu:c,...f}=e,h={x:n,y:r},g=await C2(t,f),y=a3e(bP(a)),w=r3e(y);let S=h[y],D=h[w];if(o){const I=y==="y"?"top":"left",M=y==="y"?"bottom":"right",N=S+g[I],B=S-g[M];if(c){const k=await C2(t,{...f,boundary:c.dom,padding:i3e(f.padding)});if((w==="y"?["top","bottom"]:["left","right"]).every(L=>k[L]<=0)){const L=t.rects.floating.width,_=S+k[I]-L,V=S-k[M]+L,U=Math.abs(g[I]-k[I]),Z=Math.abs(g[M]-k[M]);U>=L||Z<U?S=Og(N,S,_):S=Og(V,S,B)}else S=Og(N,S,B)}else S=Og(N,S,B)}if(i){const I=w==="y"?"top":"left",M=w==="y"?"bottom":"right",N=D+g[I],B=D-g[M];D=Og(N,D,B)}return l({...t,[y]:S,[w]:D})}}),l3e="thino-mini-toolbar",u3e=(e=0,t=0)=>({width:0,height:0,top:t,left:e,bottom:t,right:e,x:e,y:t}),c3e=(e,t)=>{if(!e)return null;const n=Math.min(e.left,(t==null?void 0:t.left)??e.left),r=Math.max(e.right,(t==null?void 0:t.right)??e.right),a=Math.max(e.bottom,(t==null?void 0:t.bottom)??e.bottom)-Math.min(e.top,(t==null?void 0:t.top)??e.top),o=Math.min(e.top,(t==null?void 0:t.top)??e.top),i=o+a,l={left:n,right:r,top:o,bottom:i,width:0,height:a,x:o,y:n};return t&&(l.width=Math.abs(r-n)),l},d3e=u3e();class f3e{constructor(t){Se(this,"containerEl");Se(this,"virtualEl");Se(this,"toolbar",null);Se(this,"isThinoView");Se(this,"tooltipInfo");Se(this,"inView",!0);Se(this,"defaultPlacement");Se(this,"editorMenu");Se(this,"cachedRefRect",null);Se(this,"readFromDOM",()=>{if(this.tooltipInfo){const{start:t}=this.tooltipInfo;let{end:n}=this.tooltipInfo;n&&t===n&&(n=void 0);const r=this.view.coordsAtPos(t);let a=n?this.view.coordsAtPos(n):null;if(r&&a&&r.top!==a.top){const i=this.view.contentDOM.getBoundingClientRect();a={left:i.right,right:i.right,top:r.top,bottom:r.bottom}}const o=c3e(r,a);o&&(this.cachedRefRect=o,this.computePosition(o))}});this.view=t,this.containerEl=this.view.dom.parentElement,this.defaultPlacement=this.view.state.facet(rT).defaultPlacement,this.tooltipInfo=t.state.facet(M2),this.virtualEl={rect:d3e,getBoundingClientRect(){return this.rect}},this.maybeMeasure(),this.editorMenu={currMenu:null,evtRef:t.state.field(x.editorInfoField)},this.isThinoView=this.checkThinoView()}get workspace(){return this.view.state.field(x.editorInfoField).app.workspace}checkThinoView(){var t,n;return this.view.state.field(x.editorInfoField)?this.view.state.field(x.editorInfoField)&&((n=(t=this.view.state.field(x.editorInfoField))==null?void 0:t.getViewType)==null?void 0:n.call(t))==="thino_view":!1}shouldRemoveToolbar(t){const n=t??this.tooltipInfo;return!(n!=null&&n.end||this.editorMenu.currMenu)}onEditorMenuOpen(t){this.editorMenu.currMenu||(this.editorMenu.currMenu=t,this.cachedRefRect?this.computePosition(this.cachedRefRect):this.maybeMeasure(),!x.Platform.isMacOS&&this.tooltipInfo&&(this.createToolbar(),this.maybeMeasure()))}onEditorMenuClose(t){this.editorMenu.currMenu===t&&(this.editorMenu.currMenu=null),!x.Platform.isMacOS&&this.toolbar&&this.shouldRemoveToolbar()&&this.removeToolbar()}createToolbar(t){const n=t??this.tooltipInfo;if(!n)return;this.removeToolbar();const r=n.create(this.containerEl),a=this.view.state.field(x.editorInfoField);if(!a||!(a!=null&&a.editor))return;const o=a.editor.offsetToPos(n.start),i=n.end?a.editor.offsetToPos(n.end):o;this.workspace.trigger(l3e,r,{from:o,to:i},a.editor,a),this.toolbar=r}removeToolbar(){this.toolbar&&(this.toolbar.hide(),this.toolbar=null)}update(t){if(!this.isThinoView)return;const n=t.state.facet(M2),r=n!==this.tooltipInfo&&!n3e(n,this.tooltipInfo);r&&(this.tooltipInfo=n,this.shouldRemoveToolbar()?this.removeToolbar():n&&!this.toolbar&&this.createToolbar(n));const a=r||t.geometryChanged,o=t.state.facet(rT);o.defaultPlacement!=this.defaultPlacement&&(o.defaultPlacement=this.defaultPlacement),a&&this.maybeMeasure()}destroy(){this.editorMenu.currMenu=null,this.removeToolbar(),this.toolbar=null,this.view.state.field(x.editorInfoField).app.workspace.offref(this.editorMenu.evtRef)}async computePosition(t){if(!this.toolbar)return;this.virtualEl.rect=t;const{padding:n}=this.view.state.facet(rT),{x:r,y:a}=await e3e(this.virtualEl,this.toolbar.dom,{placement:this.defaultPlacement,middleware:[HMe({mainAxis:5}),_Me({padding:n,boundary:this.view.scrollDOM}),s3e({padding:n,boundary:this.view.scrollDOM,editorMenu:this.editorMenu.currMenu})]});Object.assign(this.toolbar.dom.style,{top:"0",left:"0",transform:`translate(${Math.round(r)}px,${Math.round(a)}px)`})}maybeMeasure(){this.view.inView&&this.toolbar&&this.view.requestMeasure({read:this.readFromDOM}),this.inView!=this.view.inView&&(this.inView=this.view.inView,this.inView||this.removeToolbar())}}const h3e=$l.ViewPlugin.fromClass(f3e,{eventHandlers:{scroll(){this.maybeMeasure()}}}),M2=Jg.Facet.define({enables:[h3e],combine:e=>e.filter(t=>t!=null).first()??null}),p3e=e=>{const t=w3e(e);t&&window.navigator.clipboard.writeText(t==null?void 0:t.getSelection())},m3e=e=>{e.commands.executeCommandById("editor:toggle-bold",e)},g3e=e=>{e.commands.executeCommandById("editor:toggle-strikethrough",e)},v3e=e=>{e.commands.executeCommandById("editor:toggle-highlight",e)},y3e=e=>{e.commands.executeCommandById("editor:toggle-italics",e)},w3e=e=>{const{editor:t}=e.field(x.editorInfoField);return t},ON=(e,t)=>{const n=e.selection.ranges[0];if(!n)return null;const{anchor:r,head:a,empty:o}=n,[i,l]=[r,a].sort();return{start:i,end:o?void 0:l,create:f=>new T3e(f).addSmallButton(g=>g.setClass("clickable-icon").setIcon("copy").onClick(()=>p3e(e))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("bold").onClick(()=>m3e(t))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("italic").onClick(()=>y3e(t))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("strikethrough").onClick(()=>g3e(t))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("highlighter").onClick(()=>v3e(t)))}},b3e=e=>Jg.StateField.define({create:t=>ON(t,e),update:(t,n)=>!n.docChanged&&!n.selection?t:ON(n.state,e),provide:t=>M2.from(t)}),S3e=e=>[b3e(e)];class D3e extends x.BaseComponent{constructor(n){super();Se(this,"button");Se(this,"disabled",!1);Se(this,"dropdownOptions",[]);Se(this,"menu");Se(this,"menuOpened",!1);this.button=new x.ButtonComponent(n)}setDisabled(n){return this.button.setDisabled(n),this.disabled=n,this}setIcon(n){return this.button.setIcon(n),this}setClass(n){return this.button.setClass(n),this}setDropdownText(n){var c;const r=this.button.buttonEl.createDiv("mini-toolbar-text"),a=this.button.buttonEl.createDiv("mini-toolbar-icon-with-text");x.setIcon(a,"chevron-down");const o=(c=n.doc.lineAt(n.selection.ranges[0].from))==null?void 0:c.from,i=wS.syntaxTree(n).resolveInner(o+1),l=i.type.prop(wS.tokenClassNodeProp);return r.setText(this.detectFormat(l,i)||"Text"),this}setDropdownIcon(){const n=this.button.buttonEl.createDiv("mini-toolbar-highlight-icon"),r=this.button.buttonEl.createDiv("mini-toolbar-icon-with-icon");return x.setIcon(n,"highlighter"),x.setIcon(r,"chevron-down"),this}detectFormat(n,r){var a;if(!n)return"Text";if(n.includes("strong"))return"Bold";if(n.includes("em"))return"Italic";if(n.includes("strikethrough"))return"Strike";if(n.contains("hmd-codeblock"))return"CodeBlock";if(n.contains("hmd-inline-code"))return"Code";if(n.contains("formatting-header")){const o=n.match(/header-\d{1,}/);if(o)return"Heading "+o[0].slice(-1)}if(n.contains("formatting-list")||n.contains("hmd-list-indent")){if(r!=null&&r.parent){const o=(a=r.parent)==null?void 0:a.type.prop(wS.lineClassNodeProp);if(o!=null&&o.contains("HyperMD-task-line"))return"To-do list"}if(n.contains("formatting-list-ol"))return"Numbered list";if(n.contains("formatting-list-ul"))return"Bulleted list"}}setTooltip(n){return this.button.setTooltip(n),this}setOptionsList(n){return this.dropdownOptions=n,this}onClick(n){return this.dropdownOptions.length>0?(this.button.onClick(r=>this.showEditMenu(r)),this):(this.button.onClick(n),this)}showEditMenu(n){var i,l;if(this.menuOpened=!this.menuOpened,!this.menuOpened)return;this.menu=new x.Menu,this.menu.onHide(()=>{this.menuOpened=!1});const r=n.currentTarget,a=(i=n.currentTarget)==null?void 0:i.getBoundingClientRect(),o={x:a.left-6,y:a.bottom+6};for(let c=0;c<((l=this.dropdownOptions)==null?void 0:l.length);c++)this.menu.addItem(f=>{f.setIcon("zap").setTitle(this.dropdownOptions[c]).onClick(()=>{})});this.menu.setParentElement(r).showAtPosition(o)}then(n){return n(this),this}}class T3e extends x.Component{constructor(n){super();Se(this,"dom");Se(this,"smallBtnContainer");Se(this,"unloading",!1);const r=n==null?void 0:n.closest(".memo-editor-wrapper");this.dom=r.createDiv({cls:"cm-mini-toolbar"},a=>a.style.position="absolute"),this.smallBtnContainer=this.dom}addSmallButton(n){return n(new D3e(this.smallBtnContainer)),this}hide(){return this.unload(),this.unloading?this:(this.unloading=!0,this.dom.detach(),this.unloading=!1,this)}}const I3e=$l.Decoration.line({attributes:{"data-ph":E("What do you think now...")},class:"thino-editor-placeholder"}),E3e=Jg.StateField.define({create(){return $l.Decoration.none},update(e,t){const n=t.state.field(x.editorInfoField);if(!(n!=null&&n.view)&&!((n==null?void 0:n.view)instanceof wf))return e;const r=new Jg.RangeSetBuilder,a=t.state.doc.toString(),o=t.state.doc.lineAt(0);return(a==null?void 0:a.length)==0&&r.add(o.from,o.from,I3e),r.finish()},provide:e=>$l.EditorView.decorations.from(e)});function SP(e){return`userId:${e}`}function C3e(e,t){return`expiryDate:${t}:${e}`}function x3e(e){try{const t=SP(e==null?void 0:e.appId);return la.get([t])[t]||""}catch(t){return console.error(t),""}}function M3e(e,t){try{const n=SP(t==null?void 0:t.appId);return la.set({[n]:e}),{userId:e,key:n}}catch(n){console.error(n)}}function k3e(e,t){try{const n=C3e(x3e(t),t==null?void 0:t.appId);la.set({[n]:e})}catch(n){console.error(n)}}const N3e=ut.grabImageFromUrl,A3e=require("http"),F3e=require("url");function O3e(e){const t=e.indexOf(";base64,"),n=e.substring(5,t),r=e.substr(t+8),a=atob(r),o=new ArrayBuffer(a.length),i=new Uint8Array(o);for(let c=0;c<a.length;c++)i[c]=a.charCodeAt(c);return new Blob([o],{type:n})}const PN=async e=>{const{type:t}=e;if(t.startsWith("image"))try{return`${await q2.upload(e)}`}catch(n){new x.Notice(n)}};function P3e(e,t){const n=A3e.createServer(async function(r,a){a.setHeader("Access-Control-Allow-Origin","*"),a.setHeader("Access-Control-Allow-Methods","GET, HEAD, POST, OPTIONS, PUT, PATCH, DELETE"),a.setHeader("Access-Control-Allow-Headers","Access-Control-Allow-Headers, Origin, Authorization,Accept,x-client-id, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, hypothesis-client-version"),a.setHeader("Access-Control-Allow-Credentials","true");try{if(r.url){const o=F3e.parse(r.url,!0);switch(o.pathname){case"/create":{if(r.method!=="POST"){a.statusCode=404,a.end();break}let i="";r.on("data",l=>{i+=l}),r.on("end",async()=>{var B;const l=JSON.parse(i),{text:c,isList:f,type:h,imageList:g,sourceLink:y}=l;let w=c;if(!w){a.statusCode=200,a.setHeader("Content-Type","application/json"),a.end(JSON.stringify({status:"success",thino:null,link:null}));return}new RegExp(/<[a-z/][\s\S]*>/g).test(c)&&(w=x.htmlToMarkdown(c)),y&&(w+=` [source](<${decodeURIComponent(y)}>)`);let D=[];const I=[];if(t.AutoDownloadImage){const k=w.match(Ff)||[];if(k.length>0){for(const R of k)try{const L=await N3e(R);if(L.size===0)continue;const _=new File([L],"image.png",{type:"image/png"}),V=await PN(_);I.push({oldUrl:R,newUrl:V})}catch(L){console.error(L)}I.forEach(R=>{w=w.replace(R.oldUrl,R.newUrl)}),g&&g.length>0&&(D=await Promise.all(g.map(async R=>{const L=O3e(R);return new File([L],"image.png",{type:"image/png"})})));for(const R of D){const L=await PN(R);w+=`
${L}`}}}let M=h;M||(M=t.MemoSaveLocation),(B=e.settings)!=null&&B.AppendOrPrependTextViaServer&&(w=`${t==null?void 0:t.PrependViaServer}${(t==null?void 0:t.WithNewLineViaServer)==="prepend"||(t==null?void 0:t.WithNewLineViaServer)==="both"?`
`:""}${w}${(t==null?void 0:t.WithNewLineViaServer)==="append"||(t==null?void 0:t.WithNewLineViaServer)==="both"?`
`:""}${t==null?void 0:t.AppendViaServer}`);const N=await we.createThino({content:w,isList:f,type:M});N&&(we.pushMemo(N),at.clearQuery()),a.statusCode=200,a.setHeader("Content-Type","application/json"),a.end(JSON.stringify({status:"success",thino:N,link:`obsidian://thino?openId=${N.id}`}))});break}case"/search":{if(r.method!=="GET"){a.statusCode=404,a.end();break}const i=o.query,{keyword:l}=i,c=we.getThinoViaKeyword(l);a.statusCode=200,a.setHeader("Content-Type","application/json");const f=JSON.stringify({status:"success",thinos:c});a.end(f);break}case"/list":{if(r.method!=="GET"){a.statusCode=404,a.end();break}const{count:i}=o.query,l=we.getState().memos.slice(0,parseInt(i));a.statusCode=200,a.setHeader("Content-Type","application/json"),a.end(JSON.stringify({status:"success",thinos:l}));break}case"/info":{if(r.method!=="GET"){a.statusCode=404,a.end();break}const{getSettings:i}=o.query;if(!i){a.statusCode=404,a.end();break}const l=ft.getState().settings;a.statusCode=200,a.setHeader("Content-Type","application/json");const c=JSON.stringify({status:"success",infoSettings:l});a.end(c);break}default:a.statusCode=404,a.end();break}}}catch(o){console.error(o),a.statusCode=500,a.end({status:"error",message:o.message})}});return{listen(r,a){try{n.listen({port:parseInt(a),host:r})}catch(o){console.error(o),new x.Notice(E("Thino - Failed to start HTTP server, please check the port is available."))}new x.Notice(`${E("Thino - Started HTTP server on port")} ${a}`)},close(){n.close(),new x.Notice(E("Thino - Terminated HTTP server"))}}}const{clipboard:mr}=x.Platform.isDesktop?require("electron"):"";class j3e{constructor(){Se(this,"eventListeners");this.eventListeners={}}on(t,n){this.eventListeners[t]=this.eventListeners[t]||[],this.eventListeners[t].push(n)}once(t,n){n.$emitOnce=!0,this.on(t,n)}removeListener(t,n){if(this.eventListeners[t]){const r=this.eventListeners[t].findIndex(a=>a===n);r>=0&&this.eventListeners[t].splice(r,1)}}removeAllListeners(t){this.eventListeners[t]&&(this.eventListeners[t].length=0)}emit(t,...n){this.eventListeners[t]&&this.eventListeners[t].forEach(r=>{r.call(this,...n),r.$emitOnce&&this.removeListener(t,r)})}}const cp=new j3e;let Pg=null,jN=mr==null?void 0:mr.readText(),LN=mr==null?void 0:mr.readImage();mr&&(mr.on=(e,t)=>(cp.on(e,t),mr),mr.once=(e,t)=>(cp.once(e,t),mr),mr.off=(e,t)=>(t?cp.removeListener(e,t):cp.removeAllListeners(e),mr),mr.startWatching=()=>(Pg||(Pg=setInterval(()=>{L3e(jN,jN=mr==null?void 0:mr.readText())&&cp.emit("text-changed"),R3e(LN,LN=mr==null?void 0:mr.readImage())&&cp.emit("image-changed")},500)),mr),mr.stopWatching=()=>(Pg&&clearInterval(Pg),Pg=null,mr));function L3e(e,t){return t&&e!==t}function R3e(e,t){return!t.isEmpty()&&e.toDataURL()!==t.toDataURL()}var zN;const aT=(zN=require("electron"))==null?void 0:zN.remote;var VN,WN;const RN=(WN=(VN=require("electron"))==null?void 0:VN.remote)==null?void 0:WN.screen;class _3e{constructor(t,n){Se(this,"isRegisted");Se(this,"leaf");Se(this,"clipboard");Se(this,"isScreenTop",!1);Se(this,"currentSplitWindow");Se(this,"intervalNum");Se(this,"allowsCopy",!1);Se(this,"plugin");Se(this,"actionEl",null);this.app=t,this.plugin=n,this.isRegisted=!1,this.leaf=null,this.clipboard=mr}async onload(){x.Platform.isDesktop&&(this.initGlobalCopyEvents(),await this.registerAllShortcuts(),this.registerEvents())}registerEvents(){this.plugin.registerEvent(this.app.workspace.on("quit",()=>{aT.globalShortcut.unregister(this.plugin.settings.CaptureKey.OpenThinoGlobally)}))}initGlobalCopyEvents(){this.plugin.addCommand({id:"init-global-copy-events",name:E("Global copy"),callback:()=>{this.allowsCopy=!this.allowsCopy,!this.allowsCopy&&this.clipboard.stopWatching(),this.allowsCopy&&this.clipboard.startWatching(),this.leaf&&this.allowsCopy&&(this.actionEl=this.leaf.view.addAction("clipboard-x","Stop global copying",()=>{var t;this.allowsCopy=!1,this.clipboard.stopWatching(),(t=this.actionEl)==null||t.remove()}))}})}onunload(){this.isRegisted&&(aT.globalShortcut.unregister(this.plugin.settings.CaptureKey.OpenThinoGlobally),this.clipboard.off("text-changed"),this.clipboard.off("image-changed"),this.clipboard.stopWatching(),this.leaf&&this.leaf.detach())}getCurrentLeaf(){var n;return this.leaf?this.app.workspace.getLeavesOfType("thino_view").length>0&&!!this.app.workspace.getLeafById(this.leaf.id)?!0:((n=this.leaf)==null||n.detach(),this.currentSplitWindow.close(),this.currentSplitWindow=null,this.leaf=null,this.isScreenTop=!1,!1):!1}async registerAllShortcuts(){aT.globalShortcut.register(this.plugin.settings.CaptureKey.OpenThinoGlobally,()=>{this.getCurrentLeaf()?this.showThinoView():this.openThinoView()}),this.isRegisted=!0}showThinoView(){var r,a,o,i;const t=RN.getCursorScreenPoint(),n=(i=(o=(a=(r=this.leaf)==null?void 0:r.parent)==null?void 0:a.parent)==null?void 0:o.win)==null?void 0:i.electronWindow;if(n){if(n.setAlwaysOnTop(!this.isScreenTop,"screen"),this.leaf.setPinned(!this.isScreenTop),this.leaf.view.containerEl.toggleClass("thino-float-window",!0),n.isMinimized()&&n.restore(),n.focus(),this.plugin.settings.CaptureKey.ShowNearMouse){const{width:l,height:c}=n.getBounds();n.setBounds({x:t.x,y:t.y,width:l,height:c})}if(this.app.workspace.trigger("focus-on-textarea"),this.isScreenTop){this.isScreenTop=!1,setTimeout(()=>{n.setAlwaysOnTop(!1,"screen")},200);return}this.isScreenTop=!0}}openThinoView(){var o,i,l,c,f;this.leaf=this.app.workspace.openPopoutLeaf({size:{width:400,height:400}});const t=this.leaf;this.leaf.view.containerEl.toggleClass("thino-float-window",!0),this.leaf.setViewState({type:"thino_view"}),setTimeout(()=>{t.view.containerEl.classList.toggle("mobile-view",!0)},0),this.currentSplitWindow=(i=(o=this.leaf)==null?void 0:o.parent)==null?void 0:i.parent;const n=(f=(c=(l=this.leaf)==null?void 0:l.parent)==null?void 0:c.parent)==null?void 0:f.win.electronWindow;if(!n)return;n.setAlwaysOnTop(!this.isScreenTop,"screen"),this.leaf.setPinned(!this.isScreenTop),this.isScreenTop=!0;const r=this.app,a=h=>{var w,S,D;const g=RN.getCursorScreenPoint(),y=(D=(S=(w=t==null?void 0:t.parent)==null?void 0:w.parent)==null?void 0:S.win)==null?void 0:D.electronWindow;if(y){if(y.isMinimized()&&y.restore(),!this.isScreenTop&&this.plugin.settings.CaptureKey.ShowNearMouse){const{width:I,height:M}=y.getBounds();y.setBounds({x:g.x,y:g.y-200,width:I,height:M})}y.setAlwaysOnTop(!0,"screen"),r.workspace.trigger("focus-on-textarea"),r.workspace.trigger("send-to-thino",h,t)}};this.clipboard.on("text-changed",()=>{const h=this.clipboard.readText();a(h)}).on("image-changed",()=>{const h=this.clipboard.readImage();a(h)})}}class _N extends x.EditorSuggest{constructor(n,r){super(n);Se(this,"root");Se(this,"editor");Se(this,"cursor");Se(this,"plugin");Se(this,"tags");Se(this,"type","customTag");Se(this,"HASHTAG_REGEX",/(^|\s)#[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]*$/g);this.plugin=r}checkSettings(){return this.plugin.settings.UseVaultTags}checkInMemosView(n){var o;const r=n.containerEl;if(!r)return!1;const a=(o=r.parentElement)==null?void 0:o.parentElement;return(a==null?void 0:a.classList.contains("common-editor-inputer"))||!1}fuzzySearchItemsOptimized(n,r){const a=x.prepareFuzzySearch(n);return r.map(i=>{const l=a(i);return l?{item:i,match:l}:null}).filter(Boolean)}onTrigger(n,r){if(!this.checkInMemosView(r)||this.checkSettings())return null;this.tags=we.getState().tags,this.cursor=n,this.editor=r;const a=n.line,o=r.getLine(a),i=o.substr(0,n.ch);if(i.match(this.HASHTAG_REGEX)&&o.substr(n.ch,1)!=="#"){const l=i.lastIndexOf("#"),c=i.substr(l+1);return{start:{line:a,ch:l},end:{line:a,ch:n.ch},query:c}}return null}getSuggestions(n){return this.fuzzySearchItemsOptimized(n.query,this.tags).map(r=>r.item).sort((r,a)=>r.localeCompare(a))||[]}renderSuggestion(n,r){r.setText(n)}selectSuggestion(n){if(this.context){const r=this.context.editor,a=this.context.start,o=this.context.end;r.transaction({changes:[{from:a,to:o,text:"#"+n+" "}]}),setTimeout(function(){return r.focus()})}this.close()}}const oC=crypto,DP=e=>e instanceof CryptoKey,ew=new TextEncoder,iC=new TextDecoder;function B3e(...e){const t=e.reduce((a,{length:o})=>a+o,0),n=new Uint8Array(t);let r=0;for(const a of e)n.set(a,r),r+=a.length;return n}const H3e=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},oT=e=>{let t=e;t instanceof Uint8Array&&(t=iC.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return H3e(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class F1 extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var n;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class U3e extends F1{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class O1 extends F1{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class za extends F1{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class Y3e extends F1{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}function Lu(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function tw(e,t){return e.name===t}function iT(e){return parseInt(e.name.slice(4),10)}function z3e(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function V3e(e,t){if(t.length&&!t.some(n=>e.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();n+=`one of ${t.join(", ")}, or ${r}.`}else t.length===2?n+=`one of ${t[0]} or ${t[1]}.`:n+=`${t[0]}.`;throw new TypeError(n)}}function W3e(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!tw(e.algorithm,"HMAC"))throw Lu("HMAC");const r=parseInt(t.slice(2),10);if(iT(e.algorithm.hash)!==r)throw Lu(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!tw(e.algorithm,"RSASSA-PKCS1-v1_5"))throw Lu("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(iT(e.algorithm.hash)!==r)throw Lu(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!tw(e.algorithm,"RSA-PSS"))throw Lu("RSA-PSS");const r=parseInt(t.slice(2),10);if(iT(e.algorithm.hash)!==r)throw Lu(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw Lu("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!tw(e.algorithm,"ECDSA"))throw Lu("ECDSA");const r=z3e(t);if(e.algorithm.namedCurve!==r)throw Lu(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}V3e(e,n)}function TP(e,t,...n){var r;if(n.length>2){const a=n.pop();e+=`one of type ${n.join(", ")}, or ${a}.`}else n.length===2?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&(r=t.constructor)!=null&&r.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const BN=(e,...t)=>TP("Key must be ",e,...t);function IP(e,t,...n){return TP(`Key for the ${e} algorithm must be `,t,...n)}const EP=e=>DP(e),Wl=["CryptoKey"],$3e=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let n;for(const r of t){const a=Object.keys(r);if(!n||n.size===0){n=new Set(a);continue}for(const o of a){if(n.has(o))return!1;n.add(o)}}return!0};function Z3e(e){return typeof e=="object"&&e!==null}function HN(e){if(!Z3e(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const q3e=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},Zc=(e,t,n=0)=>{n===0&&(t.unshift(t.length),t.unshift(6));const r=e.indexOf(t[0],n);if(r===-1)return!1;const a=e.subarray(r,r+t.length);return a.length!==t.length?!1:a.every((o,i)=>o===t[i])||Zc(e,t,r+1)},UN=e=>{switch(!0){case Zc(e,[42,134,72,206,61,3,1,7]):return"P-256";case Zc(e,[43,129,4,0,34]):return"P-384";case Zc(e,[43,129,4,0,35]):return"P-521";case Zc(e,[43,101,110]):return"X25519";case Zc(e,[43,101,111]):return"X448";case Zc(e,[43,101,112]):return"Ed25519";case Zc(e,[43,101,113]):return"Ed448";default:throw new O1("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},G3e=async(e,t,n,r,a)=>{let o,i;const l=new Uint8Array(atob(n.replace(e,"")).split("").map(f=>f.charCodeAt(0))),c=t==="spki";switch(r){case"PS256":case"PS384":case"PS512":o={name:"RSA-PSS",hash:`SHA-${r.slice(-3)}`},i=c?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":o={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${r.slice(-3)}`},i=c?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":o={name:"RSA-OAEP",hash:`SHA-${parseInt(r.slice(-3),10)||1}`},i=c?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":o={name:"ECDSA",namedCurve:"P-256"},i=c?["verify"]:["sign"];break;case"ES384":o={name:"ECDSA",namedCurve:"P-384"},i=c?["verify"]:["sign"];break;case"ES512":o={name:"ECDSA",namedCurve:"P-521"},i=c?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const f=UN(l);o=f.startsWith("P-")?{name:"ECDH",namedCurve:f}:{name:f},i=c?[]:["deriveBits"];break}case"EdDSA":o={name:UN(l)},i=c?["verify"]:["sign"];break;default:throw new O1('Invalid or unsupported "alg" (Algorithm) value')}return oC.subtle.importKey(t,l,o,(a==null?void 0:a.extractable)??!1,i)},J3e=(e,t,n)=>G3e(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,n);async function K3e(e,t,n){if(typeof e!="string"||e.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return J3e(e,t,n)}const Q3e=(e,t)=>{if(!(t instanceof Uint8Array)){if(!EP(t))throw new TypeError(IP(e,t,...Wl,"Uint8Array"));if(t.type!=="secret")throw new TypeError(`${Wl.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},X3e=(e,t,n)=>{if(!EP(t))throw new TypeError(IP(e,t,...Wl));if(t.type==="secret")throw new TypeError(`${Wl.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&t.type==="public")throw new TypeError(`${Wl.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&t.type==="public")throw new TypeError(`${Wl.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&n==="verify"&&t.type==="private")throw new TypeError(`${Wl.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&n==="encrypt"&&t.type==="private")throw new TypeError(`${Wl.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},eke=(e,t,n)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?Q3e(e,t):X3e(e,t,n)};function tke(e,t,n,r,a){if(a.crit!==void 0&&r.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(i=>typeof i!="string"||i.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let o;n!==void 0?o=new Map([...Object.entries(n),...t.entries()]):o=t;for(const i of r.crit){if(!o.has(i))throw new O1(`Extension Header Parameter "${i}" is not recognized`);if(a[i]===void 0)throw new e(`Extension Header Parameter "${i}" is missing`);if(o.get(i)&&r[i]===void 0)throw new e(`Extension Header Parameter "${i}" MUST be integrity protected`)}return new Set(r.crit)}const nke=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(n=>typeof n!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};function rke(e,t){const n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new O1(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function ake(e,t,n){if(DP(t))return W3e(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(BN(t,...Wl));return oC.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(BN(t,...Wl,"Uint8Array"))}const oke=async(e,t,n,r)=>{const a=await ake(e,t,"verify");q3e(e,a);const o=rke(e,a.algorithm);try{return await oC.subtle.verify(o,a,n,r)}catch{return!1}};async function ike(e,t,n){if(!HN(e))throw new za("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new za('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new za("JWS Protected Header incorrect type");if(e.payload===void 0)throw new za("JWS Payload missing");if(typeof e.signature!="string")throw new za("JWS Signature missing or incorrect type");if(e.header!==void 0&&!HN(e.header))throw new za("JWS Unprotected Header incorrect type");let r={};if(e.protected)try{const D=oT(e.protected);r=JSON.parse(iC.decode(D))}catch{throw new za("JWS Protected Header is invalid")}if(!$3e(r,e.header))throw new za("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const a={...r,...e.header},o=tke(za,new Map([["b64",!0]]),n==null?void 0:n.crit,r,a);let i=!0;if(o.has("b64")&&(i=r.b64,typeof i!="boolean"))throw new za('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:l}=a;if(typeof l!="string"||!l)throw new za('JWS "alg" (Algorithm) Header Parameter missing or invalid');const c=n&&nke("algorithms",n.algorithms);if(c&&!c.has(l))throw new U3e('"alg" (Algorithm) Header Parameter value not allowed');if(i){if(typeof e.payload!="string")throw new za("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new za("JWS Payload must be a string or an Uint8Array instance");let f=!1;typeof t=="function"&&(t=await t(r,e),f=!0),eke(l,t,"verify");const h=B3e(ew.encode(e.protected??""),ew.encode("."),typeof e.payload=="string"?ew.encode(e.payload):e.payload);let g;try{g=oT(e.signature)}catch{throw new za("Failed to base64url decode the signature")}if(!await oke(l,t,g,h))throw new Y3e;let w;if(i)try{w=oT(e.payload)}catch{throw new za("Failed to base64url decode the payload")}else typeof e.payload=="string"?w=ew.encode(e.payload):w=e.payload;const S={payload:w};return e.protected!==void 0&&(S.protectedHeader=r),e.header!==void 0&&(S.unprotectedHeader=e.header),f?{...S,key:t}:S}async function ske(e,t,n){if(e instanceof Uint8Array&&(e=iC.decode(e)),typeof e!="string")throw new za("Compact JWS must be a string or Uint8Array");const{0:r,1:a,2:o,length:i}=e.split(".");if(i!==3)throw new za("Invalid Compact JWS");const l=await ike({payload:a,protected:r,signature:o},t,n),c={payload:l.payload,protectedHeader:l.protectedHeader};return typeof t=="function"?{...c,key:l.key}:c}const lke={webId:"globe-2",pinned:"pin",archived:"archive",visibility:"eye",deleted:"trash"};class uke extends $l.WidgetType{constructor(n,r,a,o,i){super();Se(this,"error",!1);this.view=n,this.plugin=r,this.target=a,this.type=o,this.to=i}eq(n){return this.target===n.target}toDOM(){const n=createSpan();return n.toggleClass("thino-inline-widget",!0),x.setIcon(n,lke[this.type]||"help-circle"),x.setTooltip&&x.setTooltip(n,this.target),n}}function cke(e){class t{constructor(a){Se(this,"view");Se(this,"match",new $l.MatchDecorator({regexp:/\[(webId|pinned|archived|visibility|deleted)::([^\]]+)\]/g,decorate:(a,o,i,l,c)=>{this.shouldRender(c,o,i)&&a(o,i,$l.Decoration.replace({widget:new uke(c,e,l[0],l[1],i)}))}}));Se(this,"decorations",$l.Decoration.none);this.view=a,this.updateDecorations(a)}update(a){this.updateDecorations(a.view,a)}destroy(){this.decorations=$l.Decoration.none}updateDecorations(a,o){!o||this.decorations.size===0?this.decorations=this.match.createDeco(a):this.decorations=this.match.updateDeco(o,this.decorations)}isLivePreview(a){return a.field(x.editorLivePreviewField)}shouldRender(a,o,i){return!a.state.selection.ranges.some(c=>c.from<=o?c.to>=o:c.from<=i)&&this.isLivePreview(a.state)}}const n={decorations:r=>r.decorations.update({filter:(a,o,i)=>{const l=i.spec.widget;return l&&l.error?!1:a===o||!r.view.state.selection.ranges.filter(c=>{const f=c.from,h=c.to;return f<=a?h>=a:f<=o}).length}})};return $l.ViewPlugin.fromClass(t,n)}const dke=e=>e.ctrlKey!==void 0||e.metaKey!==void 0||e.shiftKey!==void 0||e.altKey!==void 0,nw=()=>{new x.Notice(E("Open Memos Successfully"))},rw=[{id:"open-thino-in-left-sidebar",shortName:E("Left sidebar"),name:E("Open thino in left sidebar"),icon:"arrow-left",location:"left",cb:nw,modKeys:"shift"},{id:"open-thino-in-right-sidebar",shortName:E("Right sidebar"),name:E("Open thino in right sidebar"),icon:"arrow-right",location:"right",cb:nw,modKeys:["ctrl","meta"]},{id:"open-thino-in-float",shortName:E("Float window"),name:E("Open thino in float window"),icon:"layout",location:"float",cb:nw,modKeys:"alt"},{id:"open-thino-in-center",shortName:E("Center window"),name:E("Open thino in center window"),icon:"tv-2",location:"center",cb:nw,modKeys:void 0}];function YN(e,t,n){return new Promise((r,a)=>{let o="",i="";const l=c=>new Promise((f,h)=>{const g=t.ShareToThinoWithTextNewline===c||t.ShareToThinoWithTextNewline==="both"?`
`:" ";switch(t[c==="prepend"?"SharePrependType":"ShareAppendType"]){case"none":f();break;case"preset":t.ShareToThinoWithText&&(c==="prepend"?o=t.ShareToThinoWithTextPrepend+g:i=g+t.ShareToThinoWithTextAppend),f();break;case"input":{const y="Thino "+E(c==="prepend"?"Prepend text":"Append text");new CP(e,y,w=>{c==="prepend"?o=w.trim()+(w.trim()?g:""):i=(w.trim()?g:"")+w,f()}).open();break}case"selectTags":new Ez(e,y=>{const w=y.length>0?y.map(S=>"#"+S).join(" "):"";c==="prepend"?o=w.trim()+(w.trim()?g:""):i=(w.trim()?g:"")+w.trim(),f()}).open();break;default:h(new Error("Invalid configuration type."))}});Promise.all([l("append"),l("prepend")]).then(()=>n(o,i)).then(()=>r()).catch(a)})}const fke=e=>{const t=e.embedRegistry;if(!t)return!1;const n=t.embedByExtension.md,r=n({app:e,containerEl:createDiv()},null,null);return r.editable=!0,r.set(""),r.showEditor(),Object.getPrototypeOf(Object.getPrototypeOf(r.editMode)).constructor};async function sC(e){try{const t=e.app.internalPlugins.plugins["daily-notes"];let n;n={settings:{...e.settings,tokenForVerify:"***"},plugins:Object.keys(e.app.plugins.plugins),manifest:e.manifest,platform:x.Platform.resourcePathPrefix},t&&(n={...n,dailyNotePluginInfo:{options:t.instance.options}}),await navigator.clipboard.writeText(`\`\`\`json
${JSON.stringify(n,null,2)}
\`\`\``),new x.Notice(E("Debug info copied to clipboard"))}catch(t){console.error(t)}}class hke extends x.Plugin{constructor(){super(...arguments);Se(this,"settings");Se(this,"settingTab");Se(this,"triggerBySelf",!1);Se(this,"updatedID","");Se(this,"debounceTimer",0);Se(this,"apiHttpServer",null);Se(this,"captureService",null);Se(this,"loaded",!1);Se(this,"MarkdownEditor")}async onload(){this.MarkdownEditor=fke(this.app),ft.setPlugin(this),await this.loadSettings(),gMe(),this.registerRibbon(),await this.verify();try{this.settings.ShowUpdateMessage&&await this.checkVersionAndShowChangeLog()}catch(n){console.error(n)}this.settingTab=new kMe(this.app,this),this.addSettingTab(this.settingTab),this.initApp(),this.initEditor(),this.initURIHandler(),this.registerMobileEvent(),this.registerCommands(),this.registerCanvasNodeMemos(),this.registerHoverEvent(),this.registerLinkOpen(),this.registerCodeBlocks(),x.Platform.isMobile&&this.registerMobileNavbar(),this.updateLayoutSettings(),this.registerEditorContextMenu(),this.registerEditorSuggest(new hMe(this.app,this)),this.registerEditorExtension([E3e]),this.app.workspace.onLayoutReady(this.onLayoutReady.bind(this)),this.registerView(lo,n=>new wf(n,this))}async loadSettings(){this.settings=Object.assign({},Ei,await this.loadData()),ft.setSettings(this.settings)}async saveSettings(){await this.saveData(this.settings),ft.setSettings(this.settings)}onunload(){var r,a;this.app.workspace.detachLeavesOfType(lo),we.clearMemos(),Le.dispatch({type:"CLEAR_MEMOS",payload:null}),Le.dispatch({type:"CLEAR_FILES",payload:null}),Le.dispatch({type:"CLEAR_VIEW",payload:null});const n=document.body.find(".dialog-wrapper");if(n&&((r=n.parentElement)==null||r.detach()),this.apiHttpServer&&(this.apiHttpServer.close(),this.apiHttpServer=null),this.captureService&&this.captureService.onunload(),x.Platform.isMobile){const o=this.app.mobileNavbar;o&&o.showThinoBtnEl&&((a=this.settings)!=null&&a.NavbarButton)&&(o.showThinoBtnEl.detach(),o.showThinoBtnEl=null)}new x.Notice(E("Close Memos Successfully"))}initEditor(){this.register(Hg(x.MetadataCache.prototype,{getFileCache:r=>function(a){return!(a!=null&&a.path)&&!a?null:r.call(this,a)}})),(r=>{const a=r.app.embedRegistry.embedByExtension.md({app:r.app,containerEl:document.createElement("div")},null,"");a.editable=!0,a.showEditor();const o=Object.getPrototypeOf(Object.getPrototypeOf(a.editMode)),i=Hg(o.constructor.prototype,{triggerClickableToken:l=>async function(...c){if(c[0].type==="internal-link"){if(this.editorEl.closest(".memo-editor-wrapper")){const f=we.getMemoById(c[0].text??"");if(f){Df(f);return}return l.apply(this,c)}return l.apply(this,c)}return l.apply(this,c)}});this.register(i),a.unload()})(this)}initApp(){ft.setApp(this.app)}initURIHandler(){this.registerObsidianProtocolHandler("thino",async n=>{var i,l,c,f;if(!n)return;if(n.openSettings&&(this.app.setting.open(),this.app.setting.openTabById(this.manifest.id||"obsidian-memos")),n.userid)try{const h=n.userid;M3e(h,this.app),k3e(x.moment().add(30,"days").valueOf(),this.app),dt.setRefresh(!0)}catch(h){console.error(h),new x.Notice(E("Failed to verify"))}if(n.token)try{const h=n.token;(i=this.app)==null||i.saveLocalStorage("tokenForSync",h),setTimeout(()=>{this.app.setting.open(),this.app.setting.openTabById(this.manifest.id||"obsidian-memos"),this.settingTab.display()},200),new x.Notice(E("Saved sync token successfully"))}catch(h){console.error(h),new x.Notice(E("Failed to save"))}if(n.copyToken){this.app.setting.open(),this.app.setting.openTabById(this.manifest.id??"obsidian-memos");const h=await fP();await navigator.clipboard.writeText(h),new x.Notice(E("Copied app id successfully"))}const r=(l=ft.getState())==null?void 0:l.verifyState,a=!x.Platform.isDesktop&&await((f=(c=window.Capacitor)==null?void 0:c.Plugins.Device)==null?void 0:f.getId()),o=x.Platform.isDesktop?await cr():(a==null?void 0:a.identifier)||(a==null?void 0:a.uuid);if(!(!r||(r==null?void 0:r.appId)!==o)){if(n.content){const h=n.type,g=decodeURI(n.content)!==n.content?decodeURI(n.content):n.content,y=n.task,w=await we.createThino({content:g,type:h,isList:!!y});if(!w)return;we.pushMemo(w),at.clearQuery()}n.openId&&await we.openThinoByID(n.openId)}})}initGlobalManifest(){dt.setPluginManifest(this.manifest)}stopServer(){this.apiHttpServer&&(this.apiHttpServer.close(),this.apiHttpServer=null)}async stopEnableList(){var o,i,l;const n=(o=ft.getState())==null?void 0:o.verifyState,r=!x.Platform.isDesktop&&await((l=(i=window.Capacitor)==null?void 0:i.Plugins.Device)==null?void 0:l.getId()),a=x.Platform.isDesktop?await cr():(r==null?void 0:r.identifier)||(r==null?void 0:r.uuid);if(!n||(n==null?void 0:n.appId)!==a){this.settings.EnabledLocationList=[{value:"DAILY",target:"ProcessEntriesBelow",insert:"InsertAfter"}],this.settingTab.debounceApplySettingsUpdate();return}}async initServer(){var o,i,l;if(x.Platform.isMobile||!this.settings.EnabledHttpApi)return;const n=(o=ft.getState())==null?void 0:o.verifyState,r=!x.Platform.isDesktop&&await((l=(i=window.Capacitor)==null?void 0:i.Plugins.Device)==null?void 0:l.getId()),a=x.Platform.isDesktop?await cr():(r==null?void 0:r.identifier)||(r==null?void 0:r.uuid);!n||(n==null?void 0:n.appId)!==a||(this.apiHttpServer=P3e(this,this.settings),this.initServerPort())}initServerPort(){this.apiHttpServer&&this.settings.EnabledHttpApi&&this.apiHttpServer.listen(this.settings.HttpApiIpType,this.settings.HttpApiPort)}async initCaptureService(){var o,i,l;if(x.Platform.isMobile||!this.settings.CaptureKey.EnableCaptureKey)return;const n=(o=ft.getState())==null?void 0:o.verifyState,r=!x.Platform.isDesktop&&await((l=(i=window.Capacitor)==null?void 0:i.Plugins.Device)==null?void 0:l.getId()),a=x.Platform.isDesktop?await cr():(r==null?void 0:r.identifier)||(r==null?void 0:r.uuid);!n||(n==null?void 0:n.appId)!==a||(this.captureService=new _3e(this.app,this),await this.captureService.onload())}registerMobileEvent(){x.Platform.isMobile&&(this.registerEvent(this.app.workspace.on("receive-text-menu",(n,r)=>{n.addItem(a=>{a.setSection("options").setIcon("popup-open").setTitle(E("Insert as Memo")).onClick(async()=>{let o=r;try{await YN(this.app,this.settings,async(i,l)=>{o=i+o+l;const c=await we.createThino({content:o,type:this.settings.MemoSaveLocation||"DAILY",isList:!0});we.pushMemo(c)})}catch(i){console.error("Configuration failed:",i);return}})})})),this.registerEvent(this.app.workspace.on("receive-files-menu",(n,r)=>{n.addItem(a=>{a.setIcon("popup-open").setTitle(E("Insert file as memo content")).onClick(async()=>{let i=r.map(l=>this.app.fileManager.generateMarkdownLink(l,l.path)).join(`
`);try{await YN(this.app,this.settings,async(l,c)=>{i=l+i+c;const f=await we.createThino({content:i,type:this.settings.MemoSaveLocation||"DAILY",isList:!0});we.pushMemo(f)})}catch(l){console.error("Configuration failed:",l);return}})})})))}registerCommands(){rw.forEach(n=>{this.addCommand({id:n.id,name:n.name,callback:()=>this.openMemos(n.location,n.cb),hotkeys:[]})}),["Modern","Clean","Minimal","Gradient"].forEach(n=>{this.addCommand({id:`share-thino-via-${n.toLowerCase()}`,name:E("Share thino")+` [${E(n)}]`,editorCallback:(r,a)=>{const o=r.getSelection();if(o.length===0)return;const i={id:`temp-${Date.now()}`,content:o,createdAt:x.moment().format("YYYY-MM-DD HH:mm:ss"),updatedAt:x.moment().format("YYYY-MM-DD HH:mm:ss"),deletedAt:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",thinoType:"JOURNAL",hasId:"",linkId:"",resourceList:[],creatorName:"thino",sourceType:"DAILY",path:a.file.path,fileInfo:{tags:[],frontmatter:{}}};uf(i,n.toLowerCase(),a)}})}),this.addCommand({id:"focus-mode",name:"Focus mode",callback:()=>{const n=document.body.hasClass("thino-focus");document.body.toggleClass("thino-focus",!n)}}),this.addCommand({id:"hide-side-bar",name:E("Toggle sidebar visibility"),callback:()=>{const n=dt.getState().isMobileView,r=document.body.hasClass("thino-hide-side-bar");document.body.toggleClass("thino-hide-side-bar",n?!1:!r)}}),this.addCommand({id:"hide-tags",name:E("Toggle tags visibility"),callback:()=>{const n=document.body.hasClass("thino-hide-tags");document.body.toggleClass("thino-hide-tags",!n)}}),this.addCommand({id:"hide-query-list",name:E("Toggle query list visibility"),callback:()=>{const n=document.body.hasClass("thino-hide-query-list");document.body.toggleClass("thino-hide-query-list",!n)}}),this.addCommand({id:"insert-task",name:E("Insert task"),checkCallback:n=>{const r=this.app.plugins.getPlugin("obsidian-tasks-plugin"),a=this.app.workspace.getLeavesOfType("thino_view").first();if(r&&a)return n||this.app.plugins.plugins["obsidian-tasks-plugin"].apiV1.createTaskLineModal().then(i=>{var c;const l=this.app.workspace.activeEditor;l&&((c=l.editor)==null||c.insertText(i))}),!0}}),this.addCommand({id:"show-thino-editor",name:E("Show thino editor"),checkCallback:n=>{if(we.initialized&&ft.initialized){if(!n){if(!ft.getState().view){new x.Notice(E("Please open thino first"));return}new MT(this.app).open()}return!0}}}),this.addCommand({id:"lock-thino",name:E("Lock thino"),checkCallback:n=>{if(this.app.workspace.getActiveViewOfType(wf)&&this.settings.needVerify)return n||dt.setLocked(!0),!0}}),this.addCommand({id:"copy-debug-info",name:E("Copy debug info"),callback:async()=>{await sC(this)}}),this.addCommand({id:"insert-editor",name:E("Insert editor"),checkCallback:n=>{const r=this.app.workspace.getActiveViewOfType(x.MarkdownView);if(r&&r.getViewType()==="markdown")return n||r.editor.replaceSelection("\n```thino\n{\n  editor: false\n}\n```\n"),!0}}),this.addCommand({id:"toggle-minimal-thino",name:E("Toggle minimal mode"),callback:()=>{const n=document.body.hasClass("minimal-thino");document.body.toggleClass("minimal-thino",!n)}}),this.addCommand({id:"focus-on-thino-editor",name:E("Focus on thino editor"),callback:()=>this.focusOnEditor(),hotkeys:[]}),this.addCommand({id:"reinit-thino-sync",name:E("ReSync web thinos to local"),callback:()=>{Txe(this.app)}}),this.addCommand({id:"init-thino-sync",name:E("Sync local thinos to web"),callback:async()=>{var r;if(!((r=this.app)==null?void 0:r.loadLocalStorage("tokenForSync"))){new x.Notice(E("Please input token first"));return}if(!this.settings.startSync){new x.Notice(E("Please enable sync first"));return}try{await we.initSync()}catch(a){console.error(a),new x.Notice(E("Init Failed"))}}}),this.addCommand({id:"show-daily-thino",name:E("Show daily thino"),callback:()=>this.openDailyMemo(),hotkeys:[]}),this.addCommand({id:"focus-on-search-bar",name:E("Focus on search bar"),callback:()=>this.searchIt(),hotkeys:[]}),this.addCommand({id:"show-thino-in-popover",name:E("Show-thino in popover(Hover editor)"),callback:()=>this.showInPopover(),hotkeys:[]})}async onLayoutReady(){await this.stopEnableList(),await this.initServer(),this.initGlobalManifest(),await this.initMemos(),this.autoOpenMemos(),this.registerThinoWidget(),await this.registerToolbarCheck(),await this.initCaptureService();const n=this.app.workspace.editorSuggest.suggests.findIndex(r=>r.type==="customTag");n!==-1?(this.app.workspace.editorSuggest.suggests.splice(n,1),this.app.workspace.editorSuggest.suggests.unshift(new _N(this.app,this))):this.app.workspace.editorSuggest.suggests.unshift(new _N(this.app,this))}async initMemos(){try{await this.initDailyNotes()}catch(n){console.error(n)}ft.getState(),we.getState(),await we.fetchAllMemos()}async initDailyNotes(){this.settings.EnabledLocationList.find(n=>n.value==="DAILY")&&await ft.fechLocalDailyNotes()}registerCanvasNodeMemos(){if(!x.requireApiVersion("1.2.0")||!this.settings.EnabledLocationList.find(o=>o.value==="CANVAS"))return;const n=o=>{clearTimeout(this.debounceTimer),this.debounceTimer=window.setTimeout(()=>{setTimeout(async()=>{const i=o.canvas.getData(),l=i.nodes.find(c=>c.id===o.id);if(l&&(r(l),o.canvas.setData(i),we.getMemoById(o.id))){const f=await we.updateMemo(o.id,l.text,l.thinoType);we.editMemo(f)}o.canvas.requestSave(!0)},0)},800)},r=o=>{o.createdAt||(o.createdAt=x.moment().format("YYYY-MM-DD HH:mm:ss")),o.updatedAt=x.moment().format("YYYY-MM-DD HH:mm:ss"),o.deletedAt=o.deletedAt?o.deletedAt:"",o.pinned=o.pinned?o.pinned:!1,o.visibility=o.visibility?o.visibility:"PUBLIC",o.rowStatus=o.rowStatus?o.rowStatus:"NORMAL",o.thinoType=o.thinoType?o.thinoType:"JOURNAL",o.hasId=o.hasId?o.hasId:"",o.linkId=o.linkId?o.linkId:"",o.resourceList=[]},a=()=>{var y,w;const o=(y=this.app.workspace.getLeavesOfType("canvas").first())==null?void 0:y.view;if(!o||!(o==null?void 0:o.canvas))return!1;const l=((w=this.app.workspace.getLeavesOfType("canvas").first())==null?void 0:w.view).canvas.nodes.values(),f=Array.from(l).filter(S=>S.text!==void 0);if(!f||f.length===0)return!1;const h=f[0].child;if(!h)return!1;const g=Hg(h.constructor.prototype,{save:S=>function(...D){S.call(this,...D),this.node.isEditing&&n(this.node)}});return this.register(g),!0};this.app.workspace.onLayoutReady(()=>{if(!a()){const o=this.app.workspace.on("layout-change",()=>{a()&&this.app.workspace.offref(o)});this.registerEvent(o)}})}registerLinkOpen(){Hg(x.Workspace.prototype,{openLinkText:n=>async function(...r){const a=we.getState().memos;if(a.find(o=>o.id===r[0]||o.id===r[1])){const o=a.find(i=>i.id===r[0]||i.id===r[1]);if(o){Df(o);return}}await n.call(this,...r)}})}registerHoverEvent(){this.registerHoverLinkSource("thino",{defaultMod:!0,display:"Thino"})}registerCodeBlocks(){this.registerMarkdownCodeBlockProcessor("thino",async(n,r)=>{var a;if(n){if(!((a=this.app.workspace.getLeavesOfType("thino_view"))!=null&&a.length)){r.toggleClass(["thino-editor-codeblock","view-error"],!0),PV(r,this);return}if(n){const o=x.parseYaml(n);LV(r,o)}}})}registerMobileNavbar(){var o;if(!((o=this.settings)!=null&&o.NavbarButton))return;const n=this.app.mobileNavbar;if(!n||n.showThinoBtnEl)return;const a=n.containerEl.find(".mobile-navbar-actions").createEl("div",{cls:"mobile-navbar-action mod-tappable"});new x.ExtraButtonComponent(a).setIcon("Memos").onClick(()=>{document.body.find(".thino-editor-modal")||new MT(this.app).open()}),n.showThinoBtnEl=a}updateLayoutSettings(){document.body.toggleClass("thino-show-status",!!this.settings.AlwaysShowStatusText)}registerEditorContextMenu(){this.registerEvent(this.app.workspace.on("editor-menu",(n,r,a)=>{const o=r.getSelection();if(o.length===0)return;const i={id:`temp-${Date.now()}`,content:o,createdAt:x.moment().format("YYYY-MM-DD HH:mm:ss"),updatedAt:x.moment().format("YYYY-MM-DD HH:mm:ss"),deletedAt:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",thinoType:"JOURNAL",hasId:"",linkId:"",resourceList:[],creatorName:"thino",sourceType:"DAILY",path:a.file.path,fileInfo:{tags:[],frontmatter:{}}},l=(c,f)=>{c.addItem(h=>{h.setSection("selection").setTitle(f+E("Modern")).setIcon("palette").onClick(async()=>{uf(i,"modern",a)})}).addItem(h=>{h.setSection("selection").setTitle(f+E("Clean")).setIcon("palette").onClick(async()=>{uf(i,"clean",a)})}).addItem(h=>{h.setSection("selection").setTitle(f+E("Minimal")).setIcon("palette").onClick(async()=>{uf(i,"minimal",a)})}).addItem(h=>{h.setSection("selection").setTitle(E("Gradient")).setIcon("palette").onClick(async()=>{uf(i,"gradient",a)})})};x.Platform.isDesktop&&n.addItem(c=>{const f=c.setIcon("Memos").setSection("selection").setTitle(E("Thino share")).setSubmenu();l(f,"")}),x.Platform.isMobile&&l(n,E("Thino share")+" ")}))}registerRibbon(){this.addRibbonIcon("Memos",E("ribbonIconTitle"),async n=>{if(n.button===2){n.preventDefault();const r=new x.Menu;rw.forEach(a=>{r.addItem(o=>{o.setTitle(a.shortName).setIcon(a.icon).onClick(async()=>{await this.openMemos(a.location,a.cb)})})}),r.showAtMouseEvent(n);return}for(let r=0;r<rw.length;r++){const a=rw[r];if(!a.modKeys){await this.openMemos(a.location,a.cb);break}if(!dke(n))continue;const o=i=>n[`${i}Key`];if(typeof a.modKeys=="string"&&o(a.modKeys)||Array.isArray(a.modKeys)&&a.modKeys.some(o)){await this.openMemos(a.location,a.cb);break}}})}registerThinoWidget(){this.registerEditorExtension([cke(this)])}async registerToolbarCheck(){var o,i,l;if(this.loaded)return;const n=(o=ft.getState())==null?void 0:o.verifyState,r=!x.Platform.isDesktop&&await((l=(i=window.Capacitor)==null?void 0:i.Plugins.Device)==null?void 0:l.getId()),a=x.Platform.isDesktop?await cr():(r==null?void 0:r.identifier)||(r==null?void 0:r.uuid);!n||(n==null?void 0:n.appId)!==a||(this.registerEditorExtension([S3e(this.app)]),this.registerEditorSuggest(new pMe(this.app,this)),this.loaded=!0)}async verify(){var a;let n="";if(x.Platform.isDesktop)n=await cr();else{const o=await((a=window.Capacitor.Plugins.Device)==null?void 0:a.getId());if(!o)return;n=(o==null?void 0:o.identifier)||(o==null?void 0:o.uuid)}async function r(o){if(!o)return ft.setVerifyState(null),!1;const c=await K3e(`-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAr+i4MLzI40gGFHl7gdRH
UL1mH0NcWEs1/IBYDDbc9ALbvUGwDaUcVIKke+b+F4T7qISexyGd5qV0s1vNYeCk
iCTq4w3+CFDurIFYAgQYTcV6K5pL8Bpb79FEclsTnAcKgiuzKBxPZ1djKxbgnmFj
+PE+EcmX+JJK9hG1O8X+YFJoPJWl225eCoysONickiI7Ndwu9YLR8pIUb1VMyJSy
cMR87z466Nc5Hx2QhwyuiiQYL3Ru4WkNF3AVWgqeOlhBDybFFwDaV7OOMTiYtH46
3iKx6azEVS8W/gYfrW+hKp2VziPPw3oxouP/wCes/4qRlXkwyjSwtfLtpE4Rsa4+
swIDAQAB
-----END PUBLIC KEY-----`,"RS256");try{const{payload:f}=await ske(o,c),h=JSON.parse(new TextDecoder().decode(f));return!h||h.iss!=="pkmer"||h.type!=="thino"||h.appId!==n?!1:(ft.setVerifyState(h),!0)}catch(f){console.error(f)}}return await r(this.settings.tokenForVerify[n])}async checkVersionAndShowChangeLog(){const n=this.manifest.version,r=this.settings.LastUpdatedVersion;n!==r&&(this.settings.LastUpdatedVersion=n,await this.saveSettings(),this.showChangeLog())}showChangeLog(){new lC(this.app,this.manifest.version).open()}autoOpenMemos(){this.app.workspace.getLeavesOfType(lo).length>0||this.settings.MobileAndDesktop==="Mobile"&&x.Platform.isDesktop||this.settings.MobileAndDesktop==="Desktop"&&x.Platform.isMobile||this.settings.OpenMemosAutomatically&&this.openMemos()}async openDailyMemo(){if(this.app.workspace.getLeavesOfType(lo).length>0){at.setPathname("/daily");return}await this.openMemos(),at.setPathname("/daily")}async openMemos(n="center",r){const a=this.app.workspace;if(a.getLeavesOfType(lo).length>0){const l=a.getLeavesOfType(lo)[0];a.setActiveLeaf(l),a.revealLeaf(l);return}a.detachLeavesOfType(lo);let o;switch(n){case"left":o=a.getLeftLeaf(!1);break;case"right":o=a.getRightLeaf(!1);break;case"float":o=a.getLeaf("window");break;default:o=a.getLeaf(!0);break}o&&(await o.setViewState({type:lo}),a.revealLeaf(o));const i=o.view.containerEl.querySelector("textarea");i&&i.focus(),r==null||r()}async searchIt(){const n=this.app.workspace,r=n.getLeavesOfType(lo);if(!(r.length>0)){await this.openMemos(),this.app.workspace.trigger("focus-on-searchbar");return}const a=r[0];n.revealLeaf(a),this.app.workspace.trigger("focus-on-searchbar")}async focusOnEditor(){if(!(this.app.workspace.getLeavesOfType(lo).length>0)){await this.openMemos();return}this.app.workspace.trigger("focus-on-textarea")}changeStatus(){const n=this.app.workspace,r=n.getLeavesOfType(lo);if(!(r.length>0)){new x.Notice(E("Please Open Memos First"));return}const a=r[0];n.setActiveLeaf(a),a.view.containerEl.querySelector(".list-or-task").click()}async showInPopover(){var o,i,l;const n=this.app.workspace;if(n.detachLeavesOfType(lo),!this.app.plugins.getPlugin("obsidian-hover-editor")){new x.Notice(E("Please install obsidian-hover-editor plugin first"));return}const a=await((o=this.app.plugins.getPlugin("obsidian-hover-editor"))==null?void 0:o.spawnPopover());a&&(await a.setViewState({type:lo}),n.revealLeaf(a),a.view.containerEl.classList.add("mobile-view"),(i=this.settings)!=null&&i.FocusOnEditor&&a.view.containerEl.querySelector("textarea")!==void 0&&((l=a.view.containerEl.querySelector("textarea"))==null||l.focus()))}}class lC extends x.Modal{constructor(n,r){super(n);Se(this,"component");this.version=r}async onOpen(){const{contentEl:n}=this;this.containerEl.toggleClass("thino-changelog-modal",!0),n.createEl("h2",{text:E("Thino update info"),cls:"thino-changelog-title"}).createDiv({cls:"thino-changelog-version",text:`${this.version}`});try{n.createEl("h3",{text:E("Latest version")});const a=n.createDiv("current-change-log");n.createEl("hr"),n.createEl("h3",{text:E("Previous version")});const o=n.createDiv("prev-change-log"),l=await x.requestUrl("https://raw.githubusercontent.com/Quorafind/Obsidian-Thino/main/CHANGELOG.md");this.component=new x.Component;const[c,f]=this.getLatestVersionContent(l.text);let h=c,g=f;try{const y=localStorage.getItem("language"),w=y&&(y==="zh"||y==="zh-TW");h=w?c.replaceAll("> [!tips]+","> [!tips]-").replaceAll("> [!note]-","> [!note]+"):c,g=w?f.replaceAll("> [!tips]+","> [!tips]-").replaceAll("> [!note]-","> [!note]+"):f}catch(y){console.error(y)}await x.MarkdownRenderer.render(this.app,h,a,"",this.component),await x.MarkdownRenderer.render(this.app,g,o,"",this.component)}catch(a){console.error(a),n.createEl("p",{text:E("Failed to load changelog")}),n.createEl("a",{text:E("View online"),attr:{href:"https://raw.githubusercontent.com/Quorafind/Obsidian-Thino/main/CHANGELOG.md",target:"_blank"}})}}getLatestVersionContent(n){const r=/^# .+/gm,a=[...n.matchAll(r)];if(a.length===0)return[n,""];const o=a[0].index||0;let i=n.length;a.length>1&&(i=a[1].index||n.length);const l=n.substring(o,i).trim(),c=n.substring(i).trim();return[l,c]}onClose(){var r;const{contentEl:n}=this;n.empty(),(r=this.component)==null||r.unload()}}class CP extends x.Modal{constructor(n,r,a){super(n);Se(this,"inputEl");Se(this,"callback");this.title=r,this.callback=a}onOpen(){const{contentEl:n}=this;this.setTitle(this.title),this.containerEl.toggleClass(["thino-input-dialog","thino-bulk-action-dialog","tag-actions"],!0),this.inputEl=n.createEl("input",{attr:{type:"text"}}),this.inputEl.focus(),new x.Setting(n).addButton(r=>{r.setButtonText(E("OK")).onClick(()=>{this.close()})})}onClose(){this.contentEl.empty(),this.callback(this.inputEl.value)}}exports.ChangeLogModal=lC;exports.InputModal=CP;exports.default=hke;exports.getCurrentDebugInfo=sC;

/* nosourcemap */